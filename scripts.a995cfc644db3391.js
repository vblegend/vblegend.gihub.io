!function(Re,Ii){"object"==typeof exports&&typeof module<"u"?Ii(exports):"function"==typeof define&&define.amd?define(["exports"],Ii):Ii((Re=typeof globalThis<"u"?globalThis:Re||self).echarts={})}(this,function(Re){"use strict";var Ii=function(i,t){return(Ii=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])})(i,t)};function ie(i,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=i}Ii(i,t),i.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var At=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},Ee=new function(){this.browser=new At,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(Ee.wxa=!0,Ee.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Ee.worker=!0:typeof navigator>"u"?(Ee.node=!0,Ee.svgSupported=!0):function(i,t){var e=t.browser,n=i.match(/Firefox\/([\d.]+)/),r=i.match(/MSIE\s([\d.]+)/)||i.match(/Trident\/.+?rv:(([\d.]+))/),o=i.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(i);n&&(e.firefox=!0,e.version=n[1]),r&&(e.ie=!0,e.version=r[1]),o&&(e.edge=!0,e.version=o[1],e.newEdge=+o[1].split(".")[0]>18),a&&(e.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!e.ie&&!e.edge,t.pointerEventsSupported="onpointerdown"in window&&(e.edge||e.ie&&+e.version>=11),t.domSupported=typeof document<"u";var s=document.documentElement.style;t.transform3dSupported=(e.ie&&"transition"in s||e.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),t.transformSupported=t.transform3dSupported||e.ie&&+e.version>=9}(navigator.userAgent,Ee);var $e,Pt,ut="12px sans-serif",Zt=function(i){var t={};if(typeof JSON>"u")return t;for(var e=0;e<i.length;e++){var n=String.fromCharCode(e+32),r=(i.charCodeAt(e)-20)/100;t[n]=r}return t}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),Qe={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(i,t){if(!$e){var e=Qe.createCanvas();$e=e&&e.getContext("2d")}if($e)return Pt!==t&&(Pt=$e.font=t||ut),$e.measureText(i);i=i||"";var n=/(\d+)px/.exec(t=t||ut),r=n&&+n[1]||12,o=0;if(t.indexOf("mono")>=0)o=r*i.length;else for(var a=0;a<i.length;a++){var s=Zt[i[a]];o+=null==s?r:s*r}return{width:o}},loadImage:function(i,t,e){var n=new Image;return n.onload=t,n.onerror=e,n.src=i,n}};function it(i){for(var t in Qe)i[t]&&(Qe[t]=i[t])}var si=Zi(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(i,t){return i["[object "+t+"]"]=!0,i},{}),Bi=Zi(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(i,t){return i["[object "+t+"Array]"]=!0,i},{}),Cn=Object.prototype.toString,Xn=Array.prototype,kr=Xn.forEach,Lr=Xn.filter,on=Xn.slice,os=Xn.map,Ot=function(){}.constructor,Io=Ot?Ot.prototype:null,vn="__proto__",Li=2311;function ji(){return Li++}function Pr(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];typeof console<"u"&&console.error.apply(console,i)}function Ue(i){if(null==i||"object"!=typeof i)return i;var t=i,e=Cn.call(i);if("[object Array]"===e){if(!li(i)){t=[];for(var n=0,r=i.length;n<r;n++)t[n]=Ue(i[n])}}else if(Bi[e]){if(!li(i)){var o=i.constructor;if(o.from)t=o.from(i);else for(t=new o(i.length),n=0,r=i.length;n<r;n++)t[n]=i[n]}}else if(!si[e]&&!li(i)&&!at(i))for(var a in t={},i)i.hasOwnProperty(a)&&a!==vn&&(t[a]=Ue(i[a]));return t}function Be(i,t,e){if(!le(t)||!le(i))return e?Ue(t):i;for(var n in t)if(t.hasOwnProperty(n)&&n!==vn){var r=i[n],o=t[n];!le(o)||!le(r)||fe(o)||fe(r)||at(o)||at(r)||Ie(o)||Ie(r)||li(o)||li(r)?!e&&n in i||(i[n]=Ue(t[n])):Be(r,o,e)}return i}function Et(i,t){for(var e=i[0],n=1,r=i.length;n<r;n++)e=Be(e,i[n],t);return e}function de(i,t){if(Object.assign)Object.assign(i,t);else for(var e in t)t.hasOwnProperty(e)&&e!==vn&&(i[e]=t[e]);return i}function Ve(i,t,e){for(var n=dt(t),r=0;r<n.length;r++){var o=n[r];(e?null!=t[o]:null==i[o])&&(i[o]=t[o])}return i}var as=Qe.createCanvas;function We(i,t){if(i){if(i.indexOf)return i.indexOf(t);for(var e=0,n=i.length;e<n;e++)if(i[e]===t)return e}return-1}function nr(i,t){var e=i.prototype;function n(){}for(var r in n.prototype=t.prototype,i.prototype=new n,e)e.hasOwnProperty(r)&&(i.prototype[r]=e[r]);i.prototype.constructor=i,i.superClass=t}function Qt(i,t,e){if(i="prototype"in i?i.prototype:i,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r];"constructor"!==o&&(e?null!=t[o]:null==i[o])&&(i[o]=t[o])}else Ve(i,t,e)}function Ft(i){return!!i&&"string"!=typeof i&&"number"==typeof i.length}function G(i,t,e){if(i&&t)if(i.forEach&&i.forEach===kr)i.forEach(t,e);else if(i.length===+i.length)for(var n=0,r=i.length;n<r;n++)t.call(e,i[n],n,i);else for(var o in i)i.hasOwnProperty(o)&&t.call(e,i[o],o,i)}function ge(i,t,e){if(!i)return[];if(!t)return Xt(i);if(i.map&&i.map===os)return i.map(t,e);for(var n=[],r=0,o=i.length;r<o;r++)n.push(t.call(e,i[r],r,i));return n}function Zi(i,t,e,n){if(i&&t){for(var r=0,o=i.length;r<o;r++)e=t.call(n,e,i[r],r,i);return e}}function xt(i,t,e){if(!i)return[];if(!t)return Xt(i);if(i.filter&&i.filter===Lr)return i.filter(t,e);for(var n=[],r=0,o=i.length;r<o;r++)t.call(e,i[r],r,i)&&n.push(i[r]);return n}function rr(i,t,e){if(i&&t)for(var n=0,r=i.length;n<r;n++)if(t.call(e,i[n],n,i))return i[n]}function dt(i){if(!i)return[];if(Object.keys)return Object.keys(i);var t=[];for(var e in i)i.hasOwnProperty(e)&&t.push(e);return t}var ke=Io&&Ge(Io.bind)?Io.call.bind(Io.bind):function(i,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];return function(){return i.apply(t,e.concat(on.call(arguments)))}};function Xe(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return function(){return i.apply(this,t.concat(on.call(arguments)))}}function fe(i){return Array.isArray?Array.isArray(i):"[object Array]"===Cn.call(i)}function Ge(i){return"function"==typeof i}function De(i){return"string"==typeof i}function se(i){return"[object String]"===Cn.call(i)}function oe(i){return"number"==typeof i}function le(i){var t=typeof i;return"function"===t||!!i&&"object"===t}function Ie(i){return!!si[Cn.call(i)]}function Se(i){return!!Bi[Cn.call(i)]}function at(i){return"object"==typeof i&&"number"==typeof i.nodeType&&"object"==typeof i.ownerDocument}function bt(i){return null!=i.colorStops}function yt(i){return null!=i.image}function wt(i){return"[object RegExp]"===Cn.call(i)}function Ti(i){return i!=i}function kt(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];for(var e=0,n=i.length;e<n;e++)if(null!=i[e])return i[e]}function He(i,t){return i??t}function ft(i,t,e){return i??t??e}function Xt(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return on.apply(i,t)}function ri(i){if("number"==typeof i)return[i,i,i,i];var t=i.length;return 2===t?[i[0],i[1],i[0],i[1]]:3===t?[i[0],i[1],i[2],i[1]]:i}function Vt(i,t){if(!i)throw new Error(t)}function Ut(i){return null==i?null:"function"==typeof i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var Lh="__ec_primitive__";function eo(i){i[Lh]=!0}function li(i){return i[Lh]}var qd=function(){function i(){this.data={}}return i.prototype.delete=function(t){var e=this.has(t);return e&&delete this.data[t],e},i.prototype.has=function(t){return this.data.hasOwnProperty(t)},i.prototype.get=function(t){return this.data[t]},i.prototype.set=function(t,e){return this.data[t]=e,this},i.prototype.keys=function(){return dt(this.data)},i.prototype.forEach=function(t){var e=this.data;for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},i}(),Pl="function"==typeof Map,Ol=function(){function i(t){var e=fe(t);this.data=Pl?new Map:new qd;var n=this;function r(o,a){e?n.set(o,a):n.set(a,o)}t instanceof i?t.each(r):t&&G(t,r)}return i.prototype.hasKey=function(t){return this.data.has(t)},i.prototype.get=function(t){return this.data.get(t)},i.prototype.set=function(t,e){return this.data.set(t,e),e},i.prototype.each=function(t,e){this.data.forEach(function(n,r){t.call(e,n,r)})},i.prototype.keys=function(){var t=this.data.keys();return Pl?Array.from(t):t},i.prototype.removeKey=function(t){this.data.delete(t)},i}();function ze(i){return new Ol(i)}function Or(i,t){for(var e=new i.constructor(i.length+t.length),n=0;n<i.length;n++)e[n]=i[n];var r=i.length;for(n=0;n<t.length;n++)e[n+r]=t[n];return e}function Dn(i,t){var e;if(Object.create)e=Object.create(i);else{var n=function(){};n.prototype=i,e=new n}return t&&de(e,t),e}function To(i){var t=i.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function Le(i,t){return i.hasOwnProperty(t)}function jt(){}var pa=180/Math.PI,An=Object.freeze({__proto__:null,guid:ji,logError:Pr,clone:Ue,merge:Be,mergeAll:Et,extend:de,defaults:Ve,createCanvas:as,indexOf:We,inherits:nr,mixin:Qt,isArrayLike:Ft,each:G,map:ge,reduce:Zi,filter:xt,find:rr,keys:dt,bind:ke,curry:Xe,isArray:fe,isFunction:Ge,isString:De,isStringSafe:se,isNumber:oe,isObject:le,isBuiltInObject:Ie,isTypedArray:Se,isDom:at,isGradientObject:bt,isImagePatternObject:yt,isRegExp:wt,eqNaN:Ti,retrieve:kt,retrieve2:He,retrieve3:ft,slice:Xt,normalizeCssArray:ri,assert:Vt,trim:Ut,setAsPrimitive:eo,isPrimitive:li,HashMap:Ol,createHashMap:ze,concatArray:Or,createObject:Dn,disableUserSelect:To,hasOwn:Le,noop:jt,RADIAN_TO_DEGREE:pa});function or(i,t){return null==i&&(i=0),null==t&&(t=0),[i,t]}function Fi(i,t){return i[0]=t[0],i[1]=t[1],i}function ar(i){return[i[0],i[1]]}function ss(i,t,e){return i[0]=t,i[1]=e,i}function Ph(i,t,e){return i[0]=t[0]+e[0],i[1]=t[1]+e[1],i}function Rl(i,t,e,n){return i[0]=t[0]+e[0]*n,i[1]=t[1]+e[1]*n,i}function Rr(i,t,e){return i[0]=t[0]-e[0],i[1]=t[1]-e[1],i}function ls(i){return Math.sqrt(us(i))}function us(i){return i[0]*i[0]+i[1]*i[1]}function Co(i,t,e){return i[0]=t[0]*e,i[1]=t[1]*e,i}function to(i,t){var e=ls(t);return 0===e?(i[0]=0,i[1]=0):(i[0]=t[0]/e,i[1]=t[1]/e),i}function El(i,t){return Math.sqrt((i[0]-t[0])*(i[0]-t[0])+(i[1]-t[1])*(i[1]-t[1]))}var sr=El;function Rh(i,t){return(i[0]-t[0])*(i[0]-t[0])+(i[1]-t[1])*(i[1]-t[1])}var Un=Rh;function hs(i,t,e,n){return i[0]=t[0]+n*(e[0]-t[0]),i[1]=t[1]+n*(e[1]-t[1]),i}function Ci(i,t,e){var n=t[0],r=t[1];return i[0]=e[0]*n+e[2]*r+e[4],i[1]=e[1]*n+e[3]*r+e[5],i}function jn(i,t,e){return i[0]=Math.min(t[0],e[0]),i[1]=Math.min(t[1],e[1]),i}function an(i,t,e){return i[0]=Math.max(t[0],e[0]),i[1]=Math.max(t[1],e[1]),i}var Nl=Object.freeze({__proto__:null,create:or,copy:Fi,clone:ar,set:ss,add:Ph,scaleAndAdd:Rl,sub:Rr,len:ls,length:ls,lenSquare:us,lengthSquare:us,mul:function(i,t,e){return i[0]=t[0]*e[0],i[1]=t[1]*e[1],i},div:function(i,t,e){return i[0]=t[0]/e[0],i[1]=t[1]/e[1],i},dot:function(i,t){return i[0]*t[0]+i[1]*t[1]},scale:Co,normalize:to,distance:El,dist:sr,distanceSquare:Rh,distSquare:Un,negate:function(i,t){return i[0]=-t[0],i[1]=-t[1],i},lerp:hs,applyTransform:Ci,min:jn,max:an}),Do=function(i,t){this.target=i,this.topTarget=t&&t.topTarget},$d=function(){function i(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return i.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent||e.__hostTarget;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new Do(e,t),"dragstart",t.event))},i.prototype._drag=function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,r=t.offsetY,o=n-this._x,a=r-this._y;this._x=n,this._y=r,e.drift(o,a,t),this.handler.dispatchToElement(new Do(e,t),"drag",t.event);var s=this.handler.findHover(n,r,e).target,l=this._dropTarget;this._dropTarget=s,e!==s&&(l&&s!==l&&this.handler.dispatchToElement(new Do(l,t),"dragleave",t.event),s&&s!==l&&this.handler.dispatchToElement(new Do(s,t),"dragenter",t.event))}},i.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new Do(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new Do(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},i}(),kn=function(){function i(t){t&&(this._$eventProcessor=t)}return i.prototype.on=function(t,e,n,r){this._$handlers||(this._$handlers={});var o=this._$handlers;if("function"==typeof e&&(r=n,n=e,e=null),!n||!t)return this;var a=this._$eventProcessor;null!=e&&a&&a.normalizeQuery&&(e=a.normalizeQuery(e)),o[t]||(o[t]=[]);for(var s=0;s<o[t].length;s++)if(o[t][s].h===n)return this;var l={h:n,query:e,ctx:r||this,callAtLast:n.zrEventfulCallAtLast},u=o[t].length-1,h=o[t][u];return h&&h.callAtLast?o[t].splice(u,0,l):o[t].push(l),this},i.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},i.prototype.off=function(t,e){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var r=[],o=0,a=n[t].length;o<a;o++)n[t][o].h!==e&&r.push(n[t][o]);n[t]=r}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},i.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var r=this._$handlers[t],o=this._$eventProcessor;if(r)for(var a=e.length,s=r.length,l=0;l<s;l++){var u=r[l];if(!o||!o.filter||null==u.query||o.filter(t,u.query))switch(a){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,e[0]);break;case 2:u.h.call(u.ctx,e[0],e[1]);break;default:u.h.apply(u.ctx,e)}}return o&&o.afterTrigger&&o.afterTrigger(t),this},i.prototype.triggerWithContext=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var r=this._$handlers[t],o=this._$eventProcessor;if(r)for(var a=e.length,s=e[a-1],l=r.length,u=0;u<l;u++){var h=r[u];if(!o||!o.filter||null==h.query||o.filter(t,h.query))switch(a){case 0:h.h.call(s);break;case 1:h.h.call(s,e[0]);break;case 2:h.h.call(s,e[0],e[1]);break;default:h.h.apply(s,e.slice(1,a-1))}}return o&&o.afterTrigger&&o.afterTrigger(t),this},i}(),zl=Math.log(2);function Vl(i,t,e,n,r,o){var a=n+"-"+r,s=i.length;if(o.hasOwnProperty(a))return o[a];if(1===t){var l=Math.round(Math.log((1<<s)-1&~r)/zl);return i[e][l]}for(var u=n|1<<e,h=e+1;n&1<<h;)h++;for(var c=0,p=0,f=0;p<s;p++){var m=1<<p;m&r||(c+=(f%2?-1:1)*i[e][p]*Vl(i,t-1,h,u,r|m,o),f++)}return o[a]=c,c}function Bl(i,t){var e=[[i[0],i[1],1,0,0,0,-t[0]*i[0],-t[0]*i[1]],[0,0,0,i[0],i[1],1,-t[1]*i[0],-t[1]*i[1]],[i[2],i[3],1,0,0,0,-t[2]*i[2],-t[2]*i[3]],[0,0,0,i[2],i[3],1,-t[3]*i[2],-t[3]*i[3]],[i[4],i[5],1,0,0,0,-t[4]*i[4],-t[4]*i[5]],[0,0,0,i[4],i[5],1,-t[5]*i[4],-t[5]*i[5]],[i[6],i[7],1,0,0,0,-t[6]*i[6],-t[6]*i[7]],[0,0,0,i[6],i[7],1,-t[7]*i[6],-t[7]*i[7]]],n={},r=Vl(e,8,0,0,0,n);if(0!==r){for(var o=[],a=0;a<8;a++)for(var s=0;s<8;s++)null==o[s]&&(o[s]=0),o[s]+=((a+s)%2?-1:1)*Vl(e,7,0===a?1:0,1<<a,1<<s,n)/r*t[a];return function(l,u,h){var c=u*o[6]+h*o[7]+1;l[0]=(u*o[0]+h*o[1]+o[2])/c,l[1]=(u*o[3]+h*o[4]+o[5])/c}}}var cs=[];function fa(i,t,e,n,r){if(t.getBoundingClientRect&&Ee.domSupported&&!io(t)){var o=t.___zrEVENTSAVED||(t.___zrEVENTSAVED={}),s=function(l,u,h){for(var c=h?"invTrans":"trans",p=u[c],f=u.srcCoords,m=[],y=[],v=!0,b=0;b<4;b++){var S=l[b].getBoundingClientRect(),I=2*b,T=S.left,D=S.top;m.push(T,D),v=v&&f&&T===f[I]&&D===f[I+1],y.push(l[b].offsetLeft,l[b].offsetTop)}return v&&p?p:(u.srcCoords=m,u[c]=h?Bl(y,m):Bl(m,y))}(function(l,u){var h=u.markers;if(h)return h;h=u.markers=[];for(var c=["left","right"],p=["top","bottom"],f=0;f<4;f++){var m=document.createElement("div"),y=f%2,v=(f>>1)%2;m.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",c[y]+":0",p[v]+":0",c[1-y]+":auto",p[1-v]+":auto",""].join("!important;"),l.appendChild(m),h.push(m)}return h}(t,o),o,r);if(s)return s(i,e,n),!0}return!1}function io(i){return"CANVAS"===i.nodeName.toUpperCase()}var Eh=/([&<>"'])/g,ds={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Pi(i){return null==i?"":(i+"").replace(Eh,function(t,e){return ds[e]})}var Nt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ps=[],Fl=Ee.browser.firefox&&+Ee.browser.version.split(".")[0]<39;function ga(i,t,e,n){return e=e||{},n?fs(i,t,e):Fl&&null!=t.layerX&&t.layerX!==t.offsetX?(e.zrX=t.layerX,e.zrY=t.layerY):null!=t.offsetX?(e.zrX=t.offsetX,e.zrY=t.offsetY):fs(i,t,e),e}function fs(i,t,e){if(Ee.domSupported&&i.getBoundingClientRect){var n=t.clientX,r=t.clientY;if(io(i)){var o=i.getBoundingClientRect();return e.zrX=n-o.left,void(e.zrY=r-o.top)}if(fa(ps,i,n,r))return e.zrX=ps[0],void(e.zrY=ps[1])}e.zrX=e.zrY=0}function Gl(i){return i||window.event}function Ln(i,t,e){if(null!=(t=Gl(t)).zrX)return t;var n=t.type;if(n&&n.indexOf("touch")>=0){var r="touchend"!==n?t.targetTouches[0]:t.changedTouches[0];r&&ga(i,r,t,e)}else{ga(i,t,t,e);var o=function(s){var l=s.wheelDelta;if(l)return l;var u=s.deltaX,h=s.deltaY;return null==u||null==h?l:3*Math.abs(0!==h?h:u)*(h>0?-1:h<0?1:u>0?-1:1)}(t);t.zrDelta=o?o/120:-(t.detail||0)/3}var a=t.button;return null==t.which&&void 0!==a&&Nt.test(t.type)&&(t.which=1&a?1:2&a?3:4&a?2:0),t}function Er(i,t,e,n){i.addEventListener(t,e,n)}var Gi=function(i){i.preventDefault(),i.stopPropagation(),i.cancelBubble=!0};function Wl(i){return 2===i.which||3===i.which}var Kd=function(){function i(){this._track=[]}return i.prototype.recognize=function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},i.prototype.clear=function(){return this._track.length=0,this},i.prototype._doTrack=function(t,e,n){var r=t.touches;if(r){for(var o={points:[],touches:[],target:e,event:t},a=0,s=r.length;a<s;a++){var l=r[a],u=ga(n,l,{});o.points.push([u.zrX,u.zrY]),o.touches.push(l)}this._track.push(o)}},i.prototype._recognize=function(t){for(var e in Yl)if(Yl.hasOwnProperty(e)){var n=Yl[e](this._track,t);if(n)return n}},i}();function Hl(i){var t=i[1][0]-i[0][0],e=i[1][1]-i[0][1];return Math.sqrt(t*t+e*e)}var Yl={pinch:function(i,t){var e=i.length;if(e){var n,r=(i[e-1]||{}).points,o=(i[e-2]||{}).points||r;if(o&&o.length>1&&r&&r.length>1){var a=Hl(r)/Hl(o);!isFinite(a)&&(a=1),t.pinchScale=a;var s=[((n=r)[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2];return t.pinchX=s[0],t.pinchY=s[1],{type:"pinch",target:i[0].target,event:t}}}}};function ma(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=1,i[4]=0,i[5]=0,i}function no(i,t){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i}function Zn(i,t,e){var r=t[1]*e[0]+t[3]*e[1],o=t[0]*e[2]+t[2]*e[3],a=t[1]*e[2]+t[3]*e[3],s=t[0]*e[4]+t[2]*e[5]+t[4],l=t[1]*e[4]+t[3]*e[5]+t[5];return i[0]=t[0]*e[0]+t[2]*e[1],i[1]=r,i[2]=o,i[3]=a,i[4]=s,i[5]=l,i}function Di(i,t,e){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4]+e[0],i[5]=t[5]+e[1],i}function lr(i,t,e){var n=t[0],r=t[2],o=t[4],a=t[1],s=t[3],l=t[5],u=Math.sin(e),h=Math.cos(e);return i[0]=n*h+a*u,i[1]=-n*u+a*h,i[2]=r*h+s*u,i[3]=-r*u+h*s,i[4]=h*o+u*l,i[5]=h*l-u*o,i}function Ao(i,t,e){var n=e[0],r=e[1];return i[0]=t[0]*n,i[1]=t[1]*r,i[2]=t[2]*n,i[3]=t[3]*r,i[4]=t[4]*n,i[5]=t[5]*r,i}function Nr(i,t){var e=t[0],n=t[2],r=t[4],o=t[1],a=t[3],s=t[5],l=e*a-o*n;return l?(i[0]=a*(l=1/l),i[1]=-o*l,i[2]=-n*l,i[3]=e*l,i[4]=(n*s-a*r)*l,i[5]=(o*r-e*s)*l,i):null}function ko(i){var t=[1,0,0,1,0,0];return no(t,i),t}var gs=Object.freeze({__proto__:null,create:function Nh(){return[1,0,0,1,0,0]},identity:ma,copy:no,mul:Zn,translate:Di,rotate:lr,scale:Ao,invert:Nr,clone:ko}),nt=function(){function i(t,e){this.x=t||0,this.y=e||0}return i.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},i.prototype.clone=function(){return new i(this.x,this.y)},i.prototype.set=function(t,e){return this.x=t,this.y=e,this},i.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},i.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},i.prototype.scale=function(t){this.x*=t,this.y*=t},i.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},i.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},i.prototype.dot=function(t){return this.x*t.x+this.y*t.y},i.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},i.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},i.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},i.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},i.prototype.distanceSquare=function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},i.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},i.prototype.transform=function(t){if(t){var e=this.x,n=this.y;return this.x=t[0]*e+t[2]*n+t[4],this.y=t[1]*e+t[3]*n+t[5],this}},i.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},i.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},i.set=function(t,e,n){t.x=e,t.y=n},i.copy=function(t,e){t.x=e.x,t.y=e.y},i.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},i.lenSquare=function(t){return t.x*t.x+t.y*t.y},i.dot=function(t,e){return t.x*e.x+t.y*e.y},i.add=function(t,e,n){t.x=e.x+n.x,t.y=e.y+n.y},i.sub=function(t,e,n){t.x=e.x-n.x,t.y=e.y-n.y},i.scale=function(t,e,n){t.x=e.x*n,t.y=e.y*n},i.scaleAndAdd=function(t,e,n,r){t.x=e.x+n.x*r,t.y=e.y+n.y*r},i.lerp=function(t,e,n,r){var o=1-r;t.x=o*e.x+r*n.x,t.y=o*e.y+r*n.y},i}(),ms=Math.min,ys=Math.max,sn=new nt,Lo=new nt,Pn=new nt,ur=new nt,qn=new nt,Po=new nt,st=function(){function i(t,e,n,r){n<0&&(t+=n,n=-n),r<0&&(e+=r,r=-r),this.x=t,this.y=e,this.width=n,this.height=r}return i.prototype.union=function(t){var e=ms(t.x,this.x),n=ms(t.y,this.y);this.width=isFinite(this.x)&&isFinite(this.width)?ys(t.x+t.width,this.x+this.width)-e:t.width,this.height=isFinite(this.y)&&isFinite(this.height)?ys(t.y+t.height,this.y+this.height)-n:t.height,this.x=e,this.y=n},i.prototype.applyTransform=function(t){i.applyTransform(this,this,t)},i.prototype.calculateTransform=function(t){var e=this,n=t.width/e.width,r=t.height/e.height,o=[1,0,0,1,0,0];return Di(o,o,[-e.x,-e.y]),Ao(o,o,[n,r]),Di(o,o,[t.x,t.y]),o},i.prototype.intersect=function(t,e){if(!t)return!1;t instanceof i||(t=i.create(t));var n=this,r=n.x,o=n.x+n.width,a=n.y,s=n.y+n.height,l=t.x,u=t.x+t.width,h=t.y,c=t.y+t.height,p=!(o<l||u<r||s<h||c<a);if(e){var f=1/0,m=0,y=Math.abs(o-l),v=Math.abs(u-r),b=Math.abs(s-h),S=Math.abs(c-a),I=Math.min(y,v),T=Math.min(b,S);o<l||u<r?I>m&&(m=I,nt.set(Po,y<v?-y:v,0)):I<f&&(f=I,nt.set(qn,y<v?y:-v,0)),s<h||c<a?T>m&&(m=T,nt.set(Po,0,b<S?-b:S)):I<f&&(f=I,nt.set(qn,0,b<S?b:-S))}return e&&nt.copy(e,p?qn:Po),p},i.prototype.contain=function(t,e){var n=this;return t>=n.x&&t<=n.x+n.width&&e>=n.y&&e<=n.y+n.height},i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.copy=function(t){i.copy(this,t)},i.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},i.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},i.prototype.isZero=function(){return 0===this.width||0===this.height},i.create=function(t){return new i(t.x,t.y,t.width,t.height)},i.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},i.applyTransform=function(t,e,n){if(n){if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var r=n[0],o=n[3],s=n[5];return t.x=e.x*r+n[4],t.y=e.y*o+s,t.width=e.width*r,t.height=e.height*o,t.width<0&&(t.x+=t.width,t.width=-t.width),void(t.height<0&&(t.y+=t.height,t.height=-t.height))}sn.x=Pn.x=e.x,sn.y=ur.y=e.y,Lo.x=ur.x=e.x+e.width,Lo.y=Pn.y=e.y+e.height,sn.transform(n),ur.transform(n),Lo.transform(n),Pn.transform(n),t.x=ms(sn.x,Lo.x,Pn.x,ur.x),t.y=ms(sn.y,Lo.y,Pn.y,ur.y);var l=ys(sn.x,Lo.x,Pn.x,ur.x),u=ys(sn.y,Lo.y,Pn.y,ur.y);t.width=l-t.x,t.height=u-t.y}else t!==e&&i.copy(t,e)},i}();function Jd(){Gi(this.event)}var Qd=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.handler=null,e}return ie(t,i),t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(kn),vs=function(i,t){this.x=i,this.y=t},om=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],xs=new st(0,0,0,0),zh=function(i){function t(e,n,r,o,a){var s=i.call(this)||this;return s._hovered=new vs(0,0),s.storage=e,s.painter=n,s.painterRoot=o,s._pointerSize=a,r=r||new Qd,s.proxy=null,s.setHandlerProxy(r),s._draggingMgr=new $d(s),s}return ie(t,i),t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(G(om,function(n){e.on&&e.on(n,this[n],this)},this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var n=e.zrX,r=e.zrY,o=Ul(this,n,r),a=this._hovered,s=a.target;s&&!s.__zr&&(s=(a=this.findHover(a.x,a.y)).target);var l=this._hovered=o?new vs(n,r):this.findHover(n,r),u=l.target,h=this.proxy;h.setCursor&&h.setCursor(u?u.cursor:"default"),s&&u!==s&&this.dispatchToElement(a,"mouseout",e),this.dispatchToElement(l,"mousemove",e),u&&u!==s&&this.dispatchToElement(l,"mouseover",e)},t.prototype.mouseout=function(e){var n=e.zrEventControl;"only_globalout"!==n&&this.dispatchToElement(this._hovered,"mouseout",e),"no_globalout"!==n&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new vs(0,0)},t.prototype.dispatch=function(e,n){var r=this[e];r&&r.call(this,n)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var n=this.proxy;n.setCursor&&n.setCursor(e)},t.prototype.dispatchToElement=function(e,n,r){var u,h,o=(e=e||{}).target;if(!o||!o.silent){for(var a="on"+n,s={type:n,event:h=r,target:(u=e).target,topTarget:u.topTarget,cancelBubble:!1,offsetX:h.zrX,offsetY:h.zrY,gestureEvent:h.gestureEvent,pinchX:h.pinchX,pinchY:h.pinchY,pinchScale:h.pinchScale,wheelDelta:h.zrDelta,zrByTouch:h.zrByTouch,which:h.which,stop:Jd};o&&(o[a]&&(s.cancelBubble=!!o[a].call(o,s)),o.trigger(n,s),o=o.__hostTarget?o.__hostTarget:o.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(n,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){"function"==typeof l[a]&&l[a].call(l,s),l.trigger&&l.trigger(n,s)}))}},t.prototype.findHover=function(e,n,r){var o=this.storage.getDisplayList(),a=new vs(e,n);if(Vh(o,a,e,n,r),this._pointerSize&&!a.target){for(var s=[],l=this._pointerSize,u=l/2,h=new st(e-u,n-u,l,l),c=o.length-1;c>=0;c--){var p=o[c];p===r||p.ignore||p.ignoreCoarsePointer||p.parent&&p.parent.ignoreCoarsePointer||(xs.copy(p.getBoundingRect()),p.transform&&xs.applyTransform(p.transform),xs.intersect(h)&&s.push(p))}if(s.length)for(var f=Math.PI/12,m=2*Math.PI,y=0;y<u;y+=4)for(var v=0;v<m;v+=f)if(Vh(s,a,e+y*Math.cos(v),n+y*Math.sin(v),r),a.target)return a}return a},t.prototype.processGesture=function(e,n){this._gestureMgr||(this._gestureMgr=new Kd);var r=this._gestureMgr;"start"===n&&r.clear();var o=r.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if("end"===n&&r.clear(),o){var a=o.type;e.gestureEvent=a;var s=new vs;s.target=o.target,this.dispatchToElement(s,a,o.event)}},t}(kn);function ep(i,t,e){if(i[i.rectHover?"rectContain":"contain"](t,e)){for(var n=i,r=void 0,o=!1;n;){if(n.ignoreClip&&(o=!0),!o){var a=n.getClipPath();if(a&&!a.contain(t,e))return!1;n.silent&&(r=!0)}n=n.__hostTarget||n.parent}return!r||"silent"}return!1}function Vh(i,t,e,n,r){for(var o=i.length-1;o>=0;o--){var a=i[o],s=void 0;if(a!==r&&!a.ignore&&(s=ep(a,e,n))&&(!t.topTarget&&(t.topTarget=a),"silent"!==s)){t.target=a;break}}}function Ul(i,t,e){var n=i.painter;return t<0||t>n.getWidth()||e<0||e>n.getHeight()}function tp(i,t,e,n){var r=t+1;if(r===e)return 1;if(n(i[r++],i[t])<0){for(;r<e&&n(i[r],i[r-1])<0;)r++;!function(o,a,s){for(s--;a<s;){var l=o[a];o[a++]=o[s],o[s--]=l}}(i,t,r)}else for(;r<e&&n(i[r],i[r-1])>=0;)r++;return r-t}function Oo(i,t,e,n,r){for(n===t&&n++;n<e;n++){for(var o,a=i[n],s=t,l=n;s<l;)r(a,i[o=s+l>>>1])<0?l=o:s=o+1;var u=n-s;switch(u){case 3:i[s+3]=i[s+2];case 2:i[s+2]=i[s+1];case 1:i[s+1]=i[s];break;default:for(;u>0;)i[s+u]=i[s+u-1],u--}i[s]=a}}function jl(i,t,e,n,r,o){var a=0,s=0,l=1;if(o(i,t[e+r])>0){for(s=n-r;l<s&&o(i,t[e+r+l])>0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}else{for(s=r+1;l<s&&o(i,t[e+r-l])<=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=a;a=r-l,l=r-u}for(a++;a<l;){var h=a+(l-a>>>1);o(i,t[e+h])>0?a=h+1:l=h}return l}function Zl(i,t,e,n,r,o){var a=0,s=0,l=1;if(o(i,t[e+r])<0){for(s=r+1;l<s&&o(i,t[e+r-l])<0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=a;a=r-l,l=r-u}else{for(s=n-r;l<s&&o(i,t[e+r+l])>=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}for(a++;a<l;){var h=a+(l-a>>>1);o(i,t[e+h])<0?l=h:a=h+1}return l}function Ro(i,t,e,n){e||(e=0),n||(n=i.length);var r=n-e;if(!(r<2)){var o=0;if(r<32)Oo(i,e,n,e+(o=tp(i,e,n,t)),t);else{var a=function ip(i,t){var e,n,r=7,o=0,a=[];function s(l){var u=e[l],h=n[l],c=e[l+1],p=n[l+1];n[l]=h+p,l===o-3&&(e[l+1]=e[l+2],n[l+1]=n[l+2]),o--;var f=Zl(i[c],i,u,h,0,t);u+=f,0!=(h-=f)&&0!==(p=jl(i[u+h-1],i,c,p,p-1,t))&&(h<=p?function(m,y,v,b){var S=0;for(S=0;S<y;S++)a[S]=i[m+S];var I=0,T=v,D=m;if(i[D++]=i[T++],0!=--b)if(1!==y){for(var A,L,P,E=r;;){A=0,L=0,P=!1;do{if(t(i[T],a[I])<0){if(i[D++]=i[T++],L++,A=0,0==--b){P=!0;break}}else if(i[D++]=a[I++],A++,L=0,1==--y){P=!0;break}}while((A|L)<E);if(P)break;do{if(0!==(A=Zl(i[T],a,I,y,0,t))){for(S=0;S<A;S++)i[D+S]=a[I+S];if(D+=A,I+=A,(y-=A)<=1){P=!0;break}}if(i[D++]=i[T++],0==--b){P=!0;break}if(0!==(L=jl(a[I],i,T,b,0,t))){for(S=0;S<L;S++)i[D+S]=i[T+S];if(D+=L,T+=L,0==(b-=L)){P=!0;break}}if(i[D++]=a[I++],1==--y){P=!0;break}E--}while(A>=7||L>=7);if(P)break;E<0&&(E=0),E+=2}if((r=E)<1&&(r=1),1===y){for(S=0;S<b;S++)i[D+S]=i[T+S];i[D+b]=a[I]}else{if(0===y)throw new Error;for(S=0;S<y;S++)i[D+S]=a[I+S]}}else{for(S=0;S<b;S++)i[D+S]=i[T+S];i[D+b]=a[I]}else for(S=0;S<y;S++)i[D+S]=a[I+S]}(u,h,c,p):function(m,y,v,b){var S=0;for(S=0;S<b;S++)a[S]=i[v+S];var I=m+y-1,T=b-1,D=v+b-1,A=0,L=0;if(i[D--]=i[I--],0!=--y)if(1!==b){for(var P=r;;){var E=0,N=0,z=!1;do{if(t(a[T],i[I])<0){if(i[D--]=i[I--],E++,N=0,0==--y){z=!0;break}}else if(i[D--]=a[T--],N++,E=0,1==--b){z=!0;break}}while((E|N)<P);if(z)break;do{if(0!=(E=y-Zl(a[T],i,m,y,y-1,t))){for(y-=E,L=1+(D-=E),A=1+(I-=E),S=E-1;S>=0;S--)i[L+S]=i[A+S];if(0===y){z=!0;break}}if(i[D--]=a[T--],1==--b){z=!0;break}if(0!=(N=b-jl(i[I],a,0,b,b-1,t))){for(b-=N,L=1+(D-=N),A=1+(T-=N),S=0;S<N;S++)i[L+S]=a[A+S];if(b<=1){z=!0;break}}if(i[D--]=i[I--],0==--y){z=!0;break}P--}while(E>=7||N>=7);if(z)break;P<0&&(P=0),P+=2}if((r=P)<1&&(r=1),1===b){for(L=1+(D-=y),A=1+(I-=y),S=y-1;S>=0;S--)i[L+S]=i[A+S];i[D]=a[T]}else{if(0===b)throw new Error;for(A=D-(b-1),S=0;S<b;S++)i[A+S]=a[S]}}else{for(L=1+(D-=y),A=1+(I-=y),S=y-1;S>=0;S--)i[L+S]=i[A+S];i[D]=a[T]}else for(A=D-(b-1),S=0;S<b;S++)i[A+S]=a[S]}(u,h,c,p))}return e=[],n=[],{mergeRuns:function(){for(;o>1;){var l=o-2;if(l>=1&&n[l-1]<=n[l]+n[l+1]||l>=2&&n[l-2]<=n[l]+n[l-1])n[l-1]<n[l+1]&&l--;else if(n[l]>n[l+1])break;s(l)}},forceMergeRuns:function(){for(;o>1;){var l=o-2;l>0&&n[l-1]<n[l+1]&&l--,s(l)}},pushRun:function(l,u){e[o]=l,n[o]=u,o+=1}}}(i,t),s=function(u){for(var h=0;u>=32;)h|=1&u,u>>=1;return u+h}(r);do{if((o=tp(i,e,n,t))<s){var l=r;l>s&&(l=s),Oo(i,e,e+l,e+o,t),o=l}a.pushRun(e,o),a.mergeRuns(),r-=o,e+=o}while(0!==r);a.forceMergeRuns()}}}G(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(i){zh.prototype[i]=function(t){var e,n,r=t.zrX,o=t.zrY,a=Ul(this,r,o);if("mouseup"===i&&a||(n=(e=this.findHover(r,o)).target),"mousedown"===i)this._downEl=n,this._downPoint=[t.zrX,t.zrY],this._upEl=n;else if("mouseup"===i)this._upEl=n;else if("click"===i){if(this._downEl!==this._upEl||!this._downPoint||sr(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(e,i,t)}});var Bh=!1;function ya(){Bh||(Bh=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function Fh(i,t){return i.zlevel===t.zlevel?i.z===t.z?i.z2-t.z2:i.z-t.z:i.zlevel-t.zlevel}var np=function(){function i(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Fh}return i.prototype.traverse=function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},i.prototype.getDisplayList=function(t,e){e=e||!1;var n=this._displayList;return!t&&n.length||this.updateDisplayList(e),n},i.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,r=0,o=e.length;r<o;r++)this._updateAndAddDisplayable(e[r],null,t);n.length=this._displayListLen,Ro(n,Fh)},i.prototype._updateAndAddDisplayable=function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.update(),t.afterUpdate();var r=t.getClipPath();if(t.ignoreClip)e=null;else if(r){e=e?e.slice():[];for(var o=r,a=t;o;)o.parent=a,o.updateTransform(),e.push(o),a=o,o=o.getClipPath()}if(t.childrenRef){for(var s=t.childrenRef(),l=0;l<s.length;l++){var u=s[l];t.__dirty&&(u.__dirty|=1),this._updateAndAddDisplayable(u,e,n)}t.__dirty=0}else{var h=t;e&&e.length?h.__clipPaths=e:h.__clipPaths&&h.__clipPaths.length>0&&(h.__clipPaths=[]),isNaN(h.z)&&(ya(),h.z=0),isNaN(h.z2)&&(ya(),h.z2=0),isNaN(h.zlevel)&&(ya(),h.zlevel=0),this._displayList[this._displayListLen++]=h}var c=t.getDecalElement&&t.getDecalElement();c&&this._updateAndAddDisplayable(c,e,n);var p=t.getTextGuideLine();p&&this._updateAndAddDisplayable(p,e,n);var f=t.getTextContent();f&&this._updateAndAddDisplayable(f,e,n)}},i.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},i.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,n=t.length;e<n;e++)this.delRoot(t[e]);else{var r=We(this._roots,t);r>=0&&this._roots.splice(r,1)}},i.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},i.prototype.getRoots=function(){return this._roots},i.prototype.dispose=function(){this._displayList=null,this._roots=null},i}(),ro=Ee.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(i){return setTimeout(i,16)},On={linear:function(i){return i},quadraticIn:function(i){return i*i},quadraticOut:function(i){return i*(2-i)},quadraticInOut:function(i){return(i*=2)<1?.5*i*i:-.5*(--i*(i-2)-1)},cubicIn:function(i){return i*i*i},cubicOut:function(i){return--i*i*i+1},cubicInOut:function(i){return(i*=2)<1?.5*i*i*i:.5*((i-=2)*i*i+2)},quarticIn:function(i){return i*i*i*i},quarticOut:function(i){return 1- --i*i*i*i},quarticInOut:function(i){return(i*=2)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2)},quinticIn:function(i){return i*i*i*i*i},quinticOut:function(i){return--i*i*i*i*i+1},quinticInOut:function(i){return(i*=2)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2)},sinusoidalIn:function(i){return 1-Math.cos(i*Math.PI/2)},sinusoidalOut:function(i){return Math.sin(i*Math.PI/2)},sinusoidalInOut:function(i){return.5*(1-Math.cos(Math.PI*i))},exponentialIn:function(i){return 0===i?0:Math.pow(1024,i-1)},exponentialOut:function(i){return 1===i?1:1-Math.pow(2,-10*i)},exponentialInOut:function(i){return 0===i?0:1===i?1:(i*=2)<1?.5*Math.pow(1024,i-1):.5*(2-Math.pow(2,-10*(i-1)))},circularIn:function(i){return 1-Math.sqrt(1-i*i)},circularOut:function(i){return Math.sqrt(1- --i*i)},circularInOut:function(i){return(i*=2)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1)},elasticIn:function(i){var t,e=.1;return 0===i?0:1===i?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),-e*Math.pow(2,10*(i-=1))*Math.sin((i-t)*(2*Math.PI)/.4))},elasticOut:function(i){var t,e=.1;return 0===i?0:1===i?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*i)*Math.sin((i-t)*(2*Math.PI)/.4)+1)},elasticInOut:function(i){var t,e=.1;return 0===i?0:1===i?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),(i*=2)<1?e*Math.pow(2,10*(i-=1))*Math.sin((i-t)*(2*Math.PI)/.4)*-.5:e*Math.pow(2,-10*(i-=1))*Math.sin((i-t)*(2*Math.PI)/.4)*.5+1)},backIn:function(i){var t=1.70158;return i*i*((t+1)*i-t)},backOut:function(i){var t=1.70158;return--i*i*((t+1)*i+t)+1},backInOut:function(i){var t=2.5949095;return(i*=2)<1?i*i*((t+1)*i-t)*.5:.5*((i-=2)*i*((t+1)*i+t)+2)},bounceIn:function(i){return 1-On.bounceOut(1-i)},bounceOut:function(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},bounceInOut:function(i){return i<.5?.5*On.bounceIn(2*i):.5*On.bounceOut(2*i-1)+.5}},_s=Math.pow,zr=Math.sqrt,rp=zr(3),ql=1/3,$n=or(),qi=or(),oo=or();function $i(i){return i>-1e-8&&i<1e-8}function Ai(i){return i>1e-8||i<-1e-8}function Tt(i,t,e,n,r){var o=1-r;return o*o*(o*i+3*r*t)+r*r*(r*n+3*o*e)}function No(i,t,e,n,r){var o=1-r;return 3*(((t-i)*o+2*(e-t)*r)*o+(n-e)*r*r)}function bs(i,t,e,n,r,o){var a=n+3*(t-e)-i,s=3*(e-2*t+i),l=3*(t-i),u=i-r,h=s*s-3*a*l,c=s*l-9*a*u,p=l*l-3*s*u,f=0;if($i(h)&&$i(c))$i(s)?o[0]=0:(P=-l/s)>=0&&P<=1&&(o[f++]=P);else{var m=c*c-4*h*p;if($i(m)){var y=c/h,v=-y/2;(P=-s/a+y)>=0&&P<=1&&(o[f++]=P),v>=0&&v<=1&&(o[f++]=v)}else if(m>0){var b=zr(m),S=h*s+1.5*a*(-c+b),I=h*s+1.5*a*(-c-b);(P=(-s-((S=S<0?-_s(-S,ql):_s(S,ql))+(I=I<0?-_s(-I,ql):_s(I,ql))))/(3*a))>=0&&P<=1&&(o[f++]=P)}else{var T=(2*h*s-3*a*c)/(2*zr(h*h*h)),D=Math.acos(T)/3,A=zr(h),L=Math.cos(D),P=(-s-2*A*L)/(3*a),E=(v=(-s+A*(L+rp*Math.sin(D)))/(3*a),(-s+A*(L-rp*Math.sin(D)))/(3*a));P>=0&&P<=1&&(o[f++]=P),v>=0&&v<=1&&(o[f++]=v),E>=0&&E<=1&&(o[f++]=E)}}return f}function hr(i,t,e,n,r){var o=6*e-12*t+6*i,a=9*t+3*n-3*i-9*e,s=3*t-3*i,l=0;if($i(a))Ai(o)&&(h=-s/o)>=0&&h<=1&&(r[l++]=h);else{var u=o*o-4*a*s;if($i(u))r[0]=-o/(2*a);else if(u>0){var h,c=zr(u),p=(-o-c)/(2*a);(h=(-o+c)/(2*a))>=0&&h<=1&&(r[l++]=h),p>=0&&p<=1&&(r[l++]=p)}}return l}function ln(i,t,e,n,r,o){var a=(t-i)*r+i,s=(e-t)*r+t,l=(n-e)*r+e,u=(s-a)*r+a,h=(l-s)*r+s,c=(h-u)*r+u;o[0]=i,o[1]=a,o[2]=u,o[3]=c,o[4]=c,o[5]=h,o[6]=l,o[7]=n}function $l(i,t,e,n,r,o,a,s,l,u,h){var c,p,f,m,y,v=.005,b=1/0;$n[0]=l,$n[1]=u;for(var S=0;S<1;S+=.05)qi[0]=Tt(i,e,r,a,S),qi[1]=Tt(t,n,o,s,S),(m=Un($n,qi))<b&&(c=S,b=m);b=1/0;for(var I=0;I<32&&!(v<1e-4);I++)f=c+v,qi[0]=Tt(i,e,r,a,p=c-v),qi[1]=Tt(t,n,o,s,p),m=Un(qi,$n),p>=0&&m<b?(c=p,b=m):(oo[0]=Tt(i,e,r,a,f),oo[1]=Tt(t,n,o,s,f),y=Un(oo,$n),f<=1&&y<b?(c=f,b=y):v*=.5);return h&&(h[0]=Tt(i,e,r,a,c),h[1]=Tt(t,n,o,s,c)),zr(b)}function Wh(i,t,e,n,r,o,a,s,l){for(var u=i,h=t,c=0,p=1/l,f=1;f<=l;f++){var m=f*p,y=Tt(i,e,r,a,m),v=Tt(t,n,o,s,m),b=y-u,S=v-h;c+=Math.sqrt(b*b+S*S),u=y,h=v}return c}function bi(i,t,e,n){var r=1-n;return r*(r*i+2*n*t)+n*n*e}function Kl(i,t,e,n){return 2*((1-n)*(t-i)+n*(e-t))}function Jl(i,t,e){var n=i+e-2*t;return 0===n?.5:(i-t)/n}function zo(i,t,e,n,r){var o=(t-i)*n+i,a=(e-t)*n+t,s=(a-o)*n+o;r[0]=i,r[1]=o,r[2]=s,r[3]=s,r[4]=a,r[5]=e}function Hh(i,t,e,n,r,o,a,s,l){var u,h=.005,c=1/0;$n[0]=a,$n[1]=s;for(var p=0;p<1;p+=.05)qi[0]=bi(i,e,r,p),qi[1]=bi(t,n,o,p),(v=Un($n,qi))<c&&(u=p,c=v);c=1/0;for(var f=0;f<32&&!(h<1e-4);f++){var m=u-h,y=u+h;qi[0]=bi(i,e,r,m),qi[1]=bi(t,n,o,m);var v=Un(qi,$n);if(m>=0&&v<c)u=m,c=v;else{oo[0]=bi(i,e,r,y),oo[1]=bi(t,n,o,y);var b=Un(oo,$n);y<=1&&b<c?(u=y,c=b):h*=.5}}return l&&(l[0]=bi(i,e,r,u),l[1]=bi(t,n,o,u)),zr(c)}function op(i,t,e,n,r,o,a){for(var s=i,l=t,u=0,h=1/a,c=1;c<=a;c++){var p=c*h,f=bi(i,e,r,p),m=bi(t,n,o,p),y=f-s,v=m-l;u+=Math.sqrt(y*y+v*v),s=f,l=m}return u}var ap=/cubic-bezier\(([0-9,\.e ]+)\)/;function Yh(i){var t=i&&ap.exec(i);if(t){var e=t[1].split(","),n=+Ut(e[0]),r=+Ut(e[1]),o=+Ut(e[2]),a=+Ut(e[3]);if(isNaN(n+r+o+a))return;var s=[];return function(l){return l<=0?0:l>=1?1:bs(0,n,o,1,l,s)&&Tt(0,r,a,1,s[0])}}}var am=function(){function i(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||jt,this.ondestroy=t.ondestroy||jt,this.onrestart=t.onrestart||jt,t.easing&&this.setEasing(t.easing)}return i.prototype.step=function(t,e){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),!this._paused){var n=this._life,r=t-this._startTime-this._pausedTime,o=r/n;o<0&&(o=0),o=Math.min(o,1);var a=this.easingFunc,s=a?a(o):o;if(this.onframe(s),1===o){if(!this.loop)return!0;this._startTime=t-r%n,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=e},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){this._paused=!1},i.prototype.setEasing=function(t){this.easing=t,this.easingFunc=Ge(t)?t:On[t]||Yh(t)},i}(),sp=function(i){this.value=i},ws=function(){function i(){this._len=0}return i.prototype.insert=function(t){var e=new sp(t);return this.insertEntry(e),e},i.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},i.prototype.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},i.prototype.len=function(){return this._len},i.prototype.clear=function(){this.head=this.tail=null,this._len=0},i}(),Vo=function(){function i(t){this._list=new ws,this._maxSize=10,this._map={},this._maxSize=t}return i.prototype.put=function(t,e){var n=this._list,r=this._map,o=null;if(null==r[t]){var a=n.len(),s=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var l=n.head;n.remove(l),delete r[l.key],o=l.value,this._lastRemovedEntry=l}s?s.value=e:s=new sp(e),s.key=t,n.insertEntry(s),r[t]=s}return o},i.prototype.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},i.prototype.clear=function(){this._list.clear(),this._map={}},i.prototype.len=function(){return this._list.len()},i}(),lp={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function xn(i){return(i=Math.round(i))<0?0:i>255?255:i}function va(i){return i<0?0:i>1?1:i}function Ql(i){var t=i;return t.length&&"%"===t.charAt(t.length-1)?xn(parseFloat(t)/100*255):xn(parseInt(t,10))}function ao(i){var t=i;return t.length&&"%"===t.charAt(t.length-1)?va(parseFloat(t)/100):va(parseFloat(t))}function Bo(i,t,e){return e<0?e+=1:e>1&&(e-=1),6*e<1?i+(t-i)*e*6:2*e<1?t:3*e<2?i+(t-i)*(2/3-e)*6:i}function Vr(i,t,e){return i+(t-i)*e}function Wi(i,t,e,n,r){return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function Xh(i,t){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i}var Uh=new Vo(20),Ss=null;function xa(i,t){Ss&&Xh(Ss,t),Ss=Uh.put(i,Ss||t.slice())}function Ki(i,t){if(i){t=t||[];var e=Uh.get(i);if(e)return Xh(t,e);var n=(i+="").replace(/ /g,"").toLowerCase();if(n in lp)return Xh(t,lp[n]),xa(i,t),t;var r,o=n.length;if("#"===n.charAt(0))return 4===o||5===o?(r=parseInt(n.slice(1,4),16))>=0&&r<=4095?(Wi(t,(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,5===o?parseInt(n.slice(4),16)/15:1),xa(i,t),t):void Wi(t,0,0,0,1):7===o||9===o?(r=parseInt(n.slice(1,7),16))>=0&&r<=16777215?(Wi(t,(16711680&r)>>16,(65280&r)>>8,255&r,9===o?parseInt(n.slice(7),16)/255:1),xa(i,t),t):void Wi(t,0,0,0,1):void 0;var a=n.indexOf("("),s=n.indexOf(")");if(-1!==a&&s+1===o){var l=n.substr(0,a),u=n.substr(a+1,s-(a+1)).split(","),h=1;switch(l){case"rgba":if(4!==u.length)return 3===u.length?Wi(t,+u[0],+u[1],+u[2],1):Wi(t,0,0,0,1);h=ao(u.pop());case"rgb":return u.length>=3?(Wi(t,Ql(u[0]),Ql(u[1]),Ql(u[2]),3===u.length?h:ao(u[3])),xa(i,t),t):void Wi(t,0,0,0,1);case"hsla":return 4!==u.length?void Wi(t,0,0,0,1):(u[3]=ao(u[3]),Fo(u,t),xa(i,t),t);case"hsl":return 3!==u.length?void Wi(t,0,0,0,1):(Fo(u,t),xa(i,t),t);default:return}}Wi(t,0,0,0,1)}}function Fo(i,t){var e=(parseFloat(i[0])%360+360)%360/360,n=ao(i[1]),r=ao(i[2]),o=r<=.5?r*(n+1):r+n-r*n,a=2*r-o;return Wi(t=t||[],xn(255*Bo(a,o,e+1/3)),xn(255*Bo(a,o,e)),xn(255*Bo(a,o,e-1/3)),1),4===i.length&&(t[3]=i[3]),t}function Go(i,t){var e=Ki(i);if(e){for(var n=0;n<3;n++)e[n]=t<0?e[n]*(1-t)|0:(255-e[n])*t+e[n]|0,e[n]>255?e[n]=255:e[n]<0&&(e[n]=0);return Rn(e,4===e.length?"rgba":"rgb")}}function _a(i,t,e){if(t&&t.length&&i>=0&&i<=1){e=e||[];var n=i*(t.length-1),r=Math.floor(n),o=Math.ceil(n),a=t[r],s=t[o],l=n-r;return e[0]=xn(Vr(a[0],s[0],l)),e[1]=xn(Vr(a[1],s[1],l)),e[2]=xn(Vr(a[2],s[2],l)),e[3]=va(Vr(a[3],s[3],l)),e}}function Ms(i,t,e){if(t&&t.length&&i>=0&&i<=1){var n=i*(t.length-1),r=Math.floor(n),o=Math.ceil(n),a=Ki(t[r]),s=Ki(t[o]),l=n-r,u=Rn([xn(Vr(a[0],s[0],l)),xn(Vr(a[1],s[1],l)),xn(Vr(a[2],s[2],l)),va(Vr(a[3],s[3],l))],"rgba");return e?{color:u,leftIndex:r,rightIndex:o,value:n}:u}}function ba(i,t,e,n){var o,r=Ki(i);if(i)return r=function(o){if(o){var a,s,l=o[0]/255,u=o[1]/255,h=o[2]/255,c=Math.min(l,u,h),p=Math.max(l,u,h),f=p-c,m=(p+c)/2;if(0===f)a=0,s=0;else{s=m<.5?f/(p+c):f/(2-p-c);var y=((p-l)/6+f/2)/f,v=((p-u)/6+f/2)/f,b=((p-h)/6+f/2)/f;l===p?a=b-v:u===p?a=1/3+y-b:h===p&&(a=2/3+v-y),a<0&&(a+=1),a>1&&(a-=1)}var S=[360*a,s,m];return null!=o[3]&&S.push(o[3]),S}}(r),null!=t&&(r[0]=(o=t,(o=Math.round(o))<0?0:o>360?360:o)),null!=e&&(r[1]=ao(e)),null!=n&&(r[2]=ao(n)),Rn(Fo(r),"rgba")}function wa(i,t){var e=Ki(i);if(e&&null!=t)return e[3]=va(t),Rn(e,"rgba")}function Rn(i,t){if(i&&i.length){var e=i[0]+","+i[1]+","+i[2];return"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(e+=","+i[3]),t+"("+e+")"}}function Is(i,t){var e=Ki(i);return e?(.299*e[0]+.587*e[1]+.114*e[2])*e[3]/255+(1-e[3])*t:0}var eu=Object.freeze({__proto__:null,parse:Ki,lift:Go,toHex:function(i){var t=Ki(i);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)},fastLerp:_a,fastMapToColor:_a,lerp:Ms,mapToColor:Ms,modifyHSL:ba,modifyAlpha:wa,stringify:Rn,lum:Is,random:function(){return Rn([Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random())],"rgb")}}),tu=Math.round;function Ts(i){var t;if(i&&"transparent"!==i){if("string"==typeof i&&i.indexOf("rgba")>-1){var e=Ki(i);e&&(i="rgb("+e[0]+","+e[1]+","+e[2]+")",t=e[3])}}else i="none";return{color:i,opacity:t??1}}function Br(i){return i<1e-4&&i>-1e-4}function Ds(i){return tu(1e3*i)/1e3}function jh(i){return tu(1e4*i)/1e4}var Zh={left:"start",right:"end",center:"middle",middle:"middle"};function hp(i){return i&&!!i.image}function iu(i){return hp(i)||(t=i)&&!!t.svgElement;var t}function qh(i){return"linear"===i.type}function $h(i){return"radial"===i.type}function Kh(i){return i&&("linear"===i.type||"radial"===i.type)}function nu(i){return"url(#"+i+")"}function Jh(i){var t=i.getGlobalScale(),e=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(e)/Math.log(10)),1)}function cp(i){var t=i.x||0,e=i.y||0,n=(i.rotation||0)*pa,r=He(i.scaleX,1),o=He(i.scaleY,1),a=i.skewX||0,s=i.skewY||0,l=[];return(t||e)&&l.push("translate("+t+"px,"+e+"px)"),n&&l.push("rotate("+n+")"),1===r&&1===o||l.push("scale("+r+","+o+")"),(a||s)&&l.push("skew("+tu(a*pa)+"deg, "+tu(s*pa)+"deg)"),l.join(" ")}var Qh=Ee.hasGlobalWindow&&Ge(window.btoa)?function(i){return window.btoa(unescape(encodeURIComponent(i)))}:typeof Buffer<"u"?function(i){return Buffer.from(i).toString("base64")}:function(i){return null},ru=Array.prototype.slice;function cr(i,t,e){return(t-i)*e+i}function ou(i,t,e,n){for(var r=t.length,o=0;o<r;o++)i[o]=cr(t[o],e[o],n);return i}function As(i,t,e,n){for(var r=t.length,o=0;o<r;o++)i[o]=t[o]+e[o]*n;return i}function dp(i,t,e,n){for(var r=t.length,o=r&&t[0].length,a=0;a<r;a++){i[a]||(i[a]=[]);for(var s=0;s<o;s++)i[a][s]=t[a][s]+e[a][s]*n}return i}function pp(i,t){for(var e=i.length,n=t.length,r=e>n?t:i,o=Math.min(e,n),a=r[o-1]||{color:[0,0,0,0],offset:0},s=o;s<Math.max(e,n);s++)r.push({offset:a.offset,color:a.color.slice()})}function fp(i,t,e){var n=i,r=t;if(n.push&&r.push){var o=n.length,a=r.length;if(o!==a)if(o>a)n.length=a;else for(var s=o;s<a;s++)n.push(1===e?r[s]:ru.call(r[s]));var l=n[0]&&n[0].length;for(s=0;s<n.length;s++)if(1===e)isNaN(n[s])&&(n[s]=r[s]);else for(var u=0;u<l;u++)isNaN(n[s][u])&&(n[s][u]=r[s][u])}}function Wo(i){if(Ft(i)){var t=i.length;if(Ft(i[0])){for(var e=[],n=0;n<t;n++)e.push(ru.call(i[n]));return e}return ru.call(i)}return i}function so(i){return i[0]=Math.floor(i[0])||0,i[1]=Math.floor(i[1])||0,i[2]=Math.floor(i[2])||0,i[3]=i[3]??1,"rgba("+i.join(",")+")"}function au(i){return 4===i||5===i}function ks(i){return 1===i||2===i}var Hi=[0,0,0,0],En=function(){function i(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return i.prototype.isFinished=function(){return this._finished},i.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},i.prototype.needsAnimate=function(){return this.keyframes.length>=1},i.prototype.getAdditiveTrack=function(){return this._additiveTrack},i.prototype.addKeyframe=function(t,e,n){this._needsSort=!0;var f,r=this.keyframes,o=r.length,a=!1,s=6,l=e;if(Ft(e)){var u=Ft((f=e)&&f[0])?2:1;s=u,(1===u&&!oe(e[0])||2===u&&!oe(e[0][0]))&&(a=!0)}else if(oe(e)&&!Ti(e))s=0;else if(De(e))if(isNaN(+e)){var h=Ki(e);h&&(l=h,s=3)}else s=0;else if(bt(e)){var c=de({},l);c.colorStops=ge(e.colorStops,function(f){return{offset:f.offset,color:Ki(f.color)}}),qh(e)?s=4:$h(e)&&(s=5),l=c}0===o?this.valType=s:s===this.valType&&6!==s||(a=!0),this.discrete=this.discrete||a;var p={time:t,value:l,rawValue:e,percent:0};return n&&(p.easing=n,p.easingFunc=Ge(n)?n:On[n]||Yh(n)),r.push(p),p},i.prototype.prepare=function(t,e){var n=this.keyframes;this._needsSort&&n.sort(function(y,v){return y.time-v.time});for(var r=this.valType,o=n.length,a=n[o-1],s=this.discrete,l=ks(r),u=au(r),h=0;h<o;h++){var c=n[h],p=c.value,f=a.value;c.percent=c.time/t,s||(l&&h!==o-1?fp(p,f,r):u&&pp(p.colorStops,f.colorStops))}if(!s&&5!==r&&e&&this.needsAnimate()&&e.needsAnimate()&&r===e.valType&&!e._finished){this._additiveTrack=e;var m=n[0].value;for(h=0;h<o;h++)0===r?n[h].additiveValue=n[h].value-m:3===r?n[h].additiveValue=As([],n[h].value,m,-1):ks(r)&&(n[h].additiveValue=1===r?As([],n[h].value,m,-1):dp([],n[h].value,m,-1))}},i.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n,r,o,a=null!=this._additiveTrack,s=a?"additiveValue":"value",l=this.valType,u=this.keyframes,h=u.length,c=this.propName,p=3===l,f=this._lastFr,m=Math.min;if(1===h)r=o=u[0];else{if(e<0)n=0;else if(e<this._lastFrP){for(n=m(f+1,h-1);n>=0&&!(u[n].percent<=e);n--);n=m(n,h-2)}else{for(n=f;n<h&&!(u[n].percent>e);n++);n=m(n-1,h-2)}o=u[n+1],r=u[n]}if(r&&o){this._lastFr=n,this._lastFrP=e;var y=o.percent-r.percent,v=0===y?1:m((e-r.percent)/y,1);o.easingFunc&&(v=o.easingFunc(v));var b=a?this._additiveValue:p?Hi:t[c];if(!ks(l)&&!p||b||(b=this._additiveValue=[]),this.discrete)t[c]=v<1?r.rawValue:o.rawValue;else if(ks(l))1===l?ou(b,r[s],o[s],v):function(A,L,P,E){for(var N=L.length,z=N&&L[0].length,B=0;B<N;B++){A[B]||(A[B]=[]);for(var W=0;W<z;W++)A[B][W]=cr(L[B][W],P[B][W],E)}}(b,r[s],o[s],v);else if(au(l)){var S=r[s],I=o[s],T=4===l;t[c]={type:T?"linear":"radial",x:cr(S.x,I.x,v),y:cr(S.y,I.y,v),colorStops:ge(S.colorStops,function(A,L){var P=I.colorStops[L];return{offset:cr(A.offset,P.offset,v),color:so(ou([],A.color,P.color,v))}}),global:I.global},T?(t[c].x2=cr(S.x2,I.x2,v),t[c].y2=cr(S.y2,I.y2,v)):t[c].r=cr(S.r,I.r,v)}else if(p)ou(b,r[s],o[s],v),a||(t[c]=so(b));else{var D=cr(r[s],o[s],v);a?this._additiveValue=D:t[c]=D}a&&this._addToTarget(t)}}},i.prototype._addToTarget=function(t){var e=this.valType,n=this.propName,r=this._additiveValue;0===e?t[n]=t[n]+r:3===e?(Ki(t[n],Hi),As(Hi,Hi,r,1),t[n]=so(Hi)):1===e?As(t[n],t[n],r,1):2===e&&dp(t[n],t[n],r,1)},i}(),su=function(){function i(t,e,n,r){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&r?Pr("Can' use additive animation on looped animation."):(this._additiveAnimators=r,this._allowDiscrete=n)}return i.prototype.getMaxTime=function(){return this._maxTime},i.prototype.getDelay=function(){return this._delay},i.prototype.getLoop=function(){return this._loop},i.prototype.getTarget=function(){return this._target},i.prototype.changeTarget=function(t){this._target=t},i.prototype.when=function(t,e,n){return this.whenWithKeys(t,e,dt(e),n)},i.prototype.whenWithKeys=function(t,e,n,r){for(var o=this._tracks,a=0;a<n.length;a++){var s=n[a],l=o[s];if(!l){l=o[s]=new En(s);var u=void 0,h=this._getAdditiveTrack(s);if(h){var c=h.keyframes,p=c[c.length-1];u=p&&p.value,3===h.valType&&u&&(u=so(u))}else u=this._target[s];if(null==u)continue;t>0&&l.addKeyframe(0,Wo(u),r),this._trackKeys.push(s)}l.addKeyframe(t,Wo(e[s]),r)}return this._maxTime=Math.max(this._maxTime,t),this},i.prototype.pause=function(){this._clip.pause(),this._paused=!0},i.prototype.resume=function(){this._clip.resume(),this._paused=!1},i.prototype.isPaused=function(){return!!this._paused},i.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},i.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,n=0;n<e;n++)t[n].call(this)},i.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var n=0;n<e.length;n++)e[n].call(this)},i.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,n=0;n<e.length;n++)t[e[n]].setFinished()},i.prototype._getAdditiveTrack=function(t){var e,n=this._additiveAnimators;if(n)for(var r=0;r<n.length;r++){var o=n[r].getTrack(t);o&&(e=o)}return e},i.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var e=this,n=[],r=this._maxTime||0,o=0;o<this._trackKeys.length;o++){var a=this._trackKeys[o],s=this._tracks[a],l=this._getAdditiveTrack(a),u=s.keyframes,h=u.length;if(s.prepare(r,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var c=u[h-1];c&&(e._target[s.propName]=c.rawValue),s.setFinished()}else n.push(s)}if(n.length||this._force){var p=new am({life:r,loop:this._loop,delay:this._delay||0,onframe:function(f){e._started=2;var m=e._additiveAnimators;if(m){for(var y=!1,v=0;v<m.length;v++)if(m[v]._clip){y=!0;break}y||(e._additiveAnimators=null)}for(v=0;v<n.length;v++)n[v].step(e._target,f);var b=e._onframeCbs;if(b)for(v=0;v<b.length;v++)b[v](e._target,f)},ondestroy:function(){e._doneCallback()}});this._clip=p,this.animation&&this.animation.addClip(p),t&&p.setEasing(t)}else this._doneCallback();return this}},i.prototype.stop=function(t){this._clip&&(t&&this._clip.onframe(1),this._abortedCallback())},i.prototype.delay=function(t){return this._delay=t,this},i.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},i.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},i.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},i.prototype.getClip=function(){return this._clip},i.prototype.getTrack=function(t){return this._tracks[t]},i.prototype.getTracks=function(){var t=this;return ge(this._trackKeys,function(e){return t._tracks[e]})},i.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var n=this._tracks,r=this._trackKeys,o=0;o<t.length;o++){var a=n[t[o]];a&&!a.isFinished()&&(e?a.step(this._target,1):1===this._started&&a.step(this._target,0),a.setFinished())}var s=!0;for(o=0;o<r.length;o++)if(!n[r[o]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},i.prototype.saveTo=function(t,e,n){if(t){e=e||this._trackKeys;for(var r=0;r<e.length;r++){var o=e[r],a=this._tracks[o];if(a&&!a.isFinished()){var s=a.keyframes,l=s[n?0:s.length-1];l&&(t[o]=Wo(l.rawValue))}}}},i.prototype.__changeFinalValue=function(t,e){e=e||dt(t);for(var n=0;n<e.length;n++){var r=e[n],o=this._tracks[r];if(o){var a=o.keyframes;if(a.length>1){var s=a.pop();o.addKeyframe(s.time,t[r]),o.prepare(this._maxTime,o.getAdditiveTrack())}}}},i}();function dr(){return(new Date).getTime()}var gp,Ls,mp=function(i){function t(e){var n=i.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,n.stage=(e=e||{}).stage||{},n}return ie(t,i),t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._head?(this._tail.next=e,e.prev=this._tail,e.next=null,this._tail=e):this._head=this._tail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var n=e.getClip();n&&this.addClip(n)},t.prototype.removeClip=function(e){if(e.animation){var n=e.prev,r=e.next;n?n.next=r:this._head=r,r?r.prev=n:this._tail=n,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var n=e.getClip();n&&this.removeClip(n),e.animation=null},t.prototype.update=function(e){for(var n=dr()-this._pausedTime,r=n-this._time,o=this._head;o;){var a=o.next;o.step(n,r)&&(o.ondestroy(),this.removeClip(o)),o=a}this._time=n,e||(this.trigger("frame",r),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;this._running=!0,ro(function n(){e._running&&(ro(n),!e._paused&&e.update())})},t.prototype.start=function(){this._running||(this._time=dr(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=dr(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=dr()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var e=this._head;e;){var n=e.next;e.prev=e.next=e.animation=null,e=n}this._head=this._tail=null},t.prototype.isFinished=function(){return null==this._head},t.prototype.animate=function(e,n){n=n||{},this.start();var r=new su(e,n.loop);return this.addAnimator(r),r},t}(kn),lu=Ee.domSupported,ec=(Ls={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:gp=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:ge(gp,function(i){var t=i.replace("mouse","pointer");return Ls.hasOwnProperty(t)?t:i})}),Ps=["mousemove","mouseup"],yp=["pointermove","pointerup"],vp=!1;function pr(i){var t=i.pointerType;return"pen"===t||"touch"===t}function Sa(i){i&&(i.zrByTouch=!0)}function Nn(i,t){for(var e=t,n=!1;e&&9!==e.nodeType&&!(n=e.domBelongToZr||e!==t&&e===i.painterRoot);)e=e.parentNode;return n}var sm=function(i,t){this.stopPropagation=jt,this.stopImmediatePropagation=jt,this.preventDefault=jt,this.type=t.type,this.target=this.currentTarget=i.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY},Kn={mousedown:function(i){i=Ln(this.dom,i),this.__mayPointerCapture=[i.zrX,i.zrY],this.trigger("mousedown",i)},mousemove:function(i){i=Ln(this.dom,i);var t=this.__mayPointerCapture;!t||i.zrX===t[0]&&i.zrY===t[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",i)},mouseup:function(i){i=Ln(this.dom,i),this.__togglePointerCapture(!1),this.trigger("mouseup",i)},mouseout:function(i){Nn(this,(i=Ln(this.dom,i)).toElement||i.relatedTarget)||(this.__pointerCapturing&&(i.zrEventControl="no_globalout"),this.trigger("mouseout",i))},wheel:function(i){vp=!0,i=Ln(this.dom,i),this.trigger("mousewheel",i)},mousewheel:function(i){vp||(i=Ln(this.dom,i),this.trigger("mousewheel",i))},touchstart:function(i){Sa(i=Ln(this.dom,i)),this.__lastTouchMoment=new Date,this.handler.processGesture(i,"start"),Kn.mousemove.call(this,i),Kn.mousedown.call(this,i)},touchmove:function(i){Sa(i=Ln(this.dom,i)),this.handler.processGesture(i,"change"),Kn.mousemove.call(this,i)},touchend:function(i){Sa(i=Ln(this.dom,i)),this.handler.processGesture(i,"end"),Kn.mouseup.call(this,i),+new Date-+this.__lastTouchMoment<300&&Kn.click.call(this,i)},pointerdown:function(i){Kn.mousedown.call(this,i)},pointermove:function(i){pr(i)||Kn.mousemove.call(this,i)},pointerup:function(i){Kn.mouseup.call(this,i)},pointerout:function(i){pr(i)||Kn.mouseout.call(this,i)}};G(["click","dblclick","contextmenu"],function(i){Kn[i]=function(t){t=Ln(this.dom,t),this.trigger(i,t)}});var tc={pointermove:function(i){pr(i)||tc.mousemove.call(this,i)},pointerup:function(i){tc.mouseup.call(this,i)},mousemove:function(i){this.trigger("mousemove",i)},mouseup:function(i){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",i),t&&(i.zrEventControl="only_globalout",this.trigger("mouseout",i))}};function Os(i,t,e,n){i.mounted[t]=e,i.listenerOpts[t]=n,Er(i.domTarget,t,e,n)}function uu(i){var o=i.mounted;for(var a in o)o.hasOwnProperty(a)&&i.domTarget.removeEventListener(a,o[a],i.listenerOpts[a]);i.mounted={}}var rc=function(i,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=i,this.domHandlers=t},xp=function(i){function t(e,n){var r=i.call(this)||this;return r.__pointerCapturing=!1,r.dom=e,r.painterRoot=n,r._localHandlerScope=new rc(e,Kn),lu&&(r._globalHandlerScope=new rc(document,tc)),function ic(i,t){var e=t.domHandlers;Ee.pointerEventsSupported?G(ec.pointer,function(n){Os(t,n,function(r){e[n].call(i,r)})}):(Ee.touchEventsSupported&&G(ec.touch,function(n){Os(t,n,function(r){var o;e[n].call(i,r),(o=t).touching=!0,null!=o.touchTimer&&(clearTimeout(o.touchTimer),o.touchTimer=null),o.touchTimer=setTimeout(function(){o.touching=!1,o.touchTimer=null},700)})}),G(ec.mouse,function(n){Os(t,n,function(r){r=Gl(r),t.touching||e[n].call(i,r)})}))}(r,r._localHandlerScope),r}return ie(t,i),t.prototype.dispose=function(){uu(this._localHandlerScope),lu&&uu(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,lu&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var n=this._globalHandlerScope;e?function nc(i,t){function e(n){Os(t,n,function(r){var o;r=Gl(r),Nn(i,r.target)||(r=Ln((o=i).dom,new sm(o,r),!0),t.domHandlers[n].call(i,r))},{capture:!0})}Ee.pointerEventsSupported?G(yp,e):Ee.touchEventsSupported||G(Ps,e)}(this,n):uu(n)}},t}(kn),Rs=1;Ee.hasGlobalWindow&&(Rs=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var lo=Rs,oc="#333",hu="#ccc",_p=ma;function uo(i){return i>5e-5||i<-5e-5}var ho=[],Ho=[],ac=[1,0,0,1,0,0],cu=Math.abs,zn=function(){function i(){}return i.prototype.getLocalTransform=function(t){return i.getLocalTransform(this,t)},i.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},i.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},i.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},i.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},i.prototype.needLocalTransform=function(){return uo(this.rotation)||uo(this.x)||uo(this.y)||uo(this.scaleX-1)||uo(this.scaleY-1)||uo(this.skewX)||uo(this.skewY)},i.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),n=this.transform;e||t?(n=n||[1,0,0,1,0,0],e?this.getLocalTransform(n):_p(n),t&&(e?Zn(n,t,n):no(n,t)),this.transform=n,this._resolveGlobalScaleRatio(n)):n&&_p(n)},i.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(null!=e&&1!==e){this.getGlobalScale(ho);var n=ho[0]<0?-1:1,r=ho[1]<0?-1:1,o=((ho[0]-n)*e+n)/ho[0]||0,a=((ho[1]-r)*e+r)/ho[1]||0;t[0]*=o,t[1]*=o,t[2]*=a,t[3]*=a}this.invTransform=this.invTransform||[1,0,0,1,0,0],Nr(this.invTransform,t)},i.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},i.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],r=Math.atan2(t[1],t[0]),o=Math.PI/2+r-Math.atan2(t[3],t[2]);n=Math.sqrt(n)*Math.cos(o),e=Math.sqrt(e),this.skewX=o,this.skewY=0,this.rotation=-r,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=n,this.originX=0,this.originY=0}},i.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(Zn(Ho,t.invTransform,e),e=Ho);var n=this.originX,r=this.originY;(n||r)&&(ac[4]=n,ac[5]=r,Zn(Ho,e,ac),Ho[4]-=n,Ho[5]-=r,e=Ho),this.setLocalTransform(e)}},i.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},i.prototype.transformCoordToLocal=function(t,e){var n=[t,e],r=this.invTransform;return r&&Ci(n,n,r),n},i.prototype.transformCoordToGlobal=function(t,e){var n=[t,e],r=this.transform;return r&&Ci(n,n,r),n},i.prototype.getLineScale=function(){var t=this.transform;return t&&cu(t[0]-1)>1e-10&&cu(t[3]-1)>1e-10?Math.sqrt(cu(t[0]*t[3]-t[2]*t[1])):1},i.prototype.copyTransform=function(t){bp(this,t)},i.getLocalTransform=function(t,e){e=e||[];var n=t.originX||0,r=t.originY||0,o=t.scaleX,a=t.scaleY,s=t.anchorX,l=t.anchorY,u=t.rotation||0,h=t.x,c=t.y,p=t.skewX?Math.tan(t.skewX):0,f=t.skewY?Math.tan(-t.skewY):0;if(n||r||s||l){var m=n+s,y=r+l;e[4]=-m*o-p*y*a,e[5]=-y*a-f*m*o}else e[4]=e[5]=0;return e[0]=o,e[3]=a,e[1]=f*o,e[2]=p*a,u&&lr(e,e,u),e[4]+=n+h,e[5]+=r+c,e},i.initDefaultProps=((t=i.prototype).scaleX=t.scaleY=t.globalScaleRatio=1,void(t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0)),i;var t}(),Jn=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function bp(i,t){for(var e=0;e<Jn.length;e++){var n=Jn[e];i[n]=t[n]}}var ai={};function un(i,t){var e=ai[t=t||ut];e||(e=ai[t]=new Vo(500));var n=e.get(i);return null==n&&(n=Qe.measureText(i,t).width,e.put(i,n)),n}function Fr(i,t,e,n){var r=un(i,t),o=du(t),a=Yo(0,r,e),s=Xo(0,o,n);return new st(a,s,r,o)}function Qn(i,t,e,n){var r=((i||"")+"").split("\n");if(1===r.length)return Fr(r[0],t,e,n);for(var o=new st(0,0,0,0),a=0;a<r.length;a++){var s=Fr(r[a],t,e,n);0===a?o.copy(s):o.union(s)}return o}function Yo(i,t,e){return"right"===e?i-=t:"center"===e&&(i-=t/2),i}function Xo(i,t,e){return"middle"===e?i-=t/2:"bottom"===e&&(i-=t),i}function du(i){return un("\u56fd",i)}function Vn(i,t){return"string"==typeof i?i.lastIndexOf("%")>=0?parseFloat(i)/100*t:parseFloat(i):i}function Es(i,t,e){var n=t.position||"inside",r=null!=t.distance?t.distance:5,o=e.height,a=e.width,s=o/2,l=e.x,u=e.y,h="left",c="top";if(n instanceof Array)l+=Vn(n[0],e.width),u+=Vn(n[1],e.height),h=null,c=null;else switch(n){case"left":l-=r,u+=s,h="right",c="middle";break;case"right":l+=r+a,u+=s,c="middle";break;case"top":l+=a/2,u-=r,h="center",c="bottom";break;case"bottom":l+=a/2,u+=o+r,h="center";break;case"inside":l+=a/2,u+=s,h="center",c="middle";break;case"insideLeft":l+=r,u+=s,c="middle";break;case"insideRight":l+=a-r,u+=s,h="right",c="middle";break;case"insideTop":l+=a/2,u+=r,h="center";break;case"insideBottom":l+=a/2,u+=o-r,h="center",c="bottom";break;case"insideTopLeft":l+=r,u+=r;break;case"insideTopRight":l+=a-r,u+=r,h="right";break;case"insideBottomLeft":l+=r,u+=o-r,c="bottom";break;case"insideBottomRight":l+=a-r,u+=o-r,h="right",c="bottom"}return(i=i||{}).x=l,i.y=u,i.align=h,i.verticalAlign=c,i}var Ns="__zr_normal__",sc=Jn.concat(["ignore"]),wp=Zi(Jn,function(i,t){return i[t]=!0,i},{ignore:!1}),Uo={},um=new st(0,0,0,0),jo=function(){function i(t){this.id=ji(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return i.prototype._init=function(t){this.attr(t)},i.prototype.drift=function(t,e,n){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=t,r[5]+=e,this.decomposeTransform(),this.markRedraw()},i.prototype.beforeUpdate=function(){},i.prototype.afterUpdate=function(){},i.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},i.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,r=n.local,o=e.innerTransformable,a=void 0,s=void 0,l=!1;o.parent=r?this:null;var u=!1;if(o.copyTransform(e),null!=n.position){var h=um;h.copy(n.layoutRect?n.layoutRect:this.getBoundingRect()),r||h.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Uo,n,h):Es(Uo,n,h),o.x=Uo.x,o.y=Uo.y,a=Uo.align,s=Uo.verticalAlign;var c=n.origin;if(c&&null!=n.rotation){var p=void 0,f=void 0;"center"===c?(p=.5*h.width,f=.5*h.height):(p=Vn(c[0],h.width),f=Vn(c[1],h.height)),u=!0,o.originX=-o.x+p+(r?0:h.x),o.originY=-o.y+f+(r?0:h.y)}}null!=n.rotation&&(o.rotation=n.rotation);var m=n.offset;m&&(o.x+=m[0],o.y+=m[1],u||(o.originX=-m[0],o.originY=-m[1]));var y=n.inside??("string"==typeof n.position&&n.position.indexOf("inside")>=0),v=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),b=void 0,S=void 0,I=void 0;y&&this.canBeInsideText()?(S=n.insideStroke,null!=(b=n.insideFill)&&"auto"!==b||(b=this.getInsideTextFill()),null!=S&&"auto"!==S||(S=this.getInsideTextStroke(b),I=!0)):(S=n.outsideStroke,null!=(b=n.outsideFill)&&"auto"!==b||(b=this.getOutsideFill()),null!=S&&"auto"!==S||(S=this.getOutsideStroke(b),I=!0)),(b=b||"#000")===v.fill&&S===v.stroke&&I===v.autoStroke&&a===v.align&&s===v.verticalAlign||(l=!0,v.fill=b,v.stroke=S,v.autoStroke=I,v.align=a,v.verticalAlign=s,e.setDefaultTextStyle(v)),e.__dirty|=1,l&&e.dirtyStyle(!0)}},i.prototype.canBeInsideText=function(){return!0},i.prototype.getInsideTextFill=function(){return"#fff"},i.prototype.getInsideTextStroke=function(t){return"#000"},i.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?hu:oc},i.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),n="string"==typeof e&&Ki(e);n||(n=[255,255,255,1]);for(var r=n[3],o=this.__zr.isDarkMode(),a=0;a<3;a++)n[a]=n[a]*r+(o?0:255)*(1-r);return n[3]=1,Rn(n,"rgba")},i.prototype.traverse=function(t,e){},i.prototype.attrKV=function(t,e){"textConfig"===t?this.setTextConfig(e):"textContent"===t?this.setTextContent(e):"clipPath"===t?this.setClipPath(e):"extra"===t?(this.extra=this.extra||{},de(this.extra,e)):this[t]=e},i.prototype.hide=function(){this.ignore=!0,this.markRedraw()},i.prototype.show=function(){this.ignore=!1,this.markRedraw()},i.prototype.attr=function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(le(t))for(var n=dt(t),r=0;r<n.length;r++){var o=n[r];this.attrKV(o,t[o])}return this.markRedraw(),this},i.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,n=0;n<this.animators.length;n++){var r=this.animators[n],o=r.__fromStateTransition;if(!(r.getLoop()||o&&o!==Ns)){var a=r.targetName;r.saveTo(a?e[a]:e)}}},i.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,sc)},i.prototype._savePrimaryToNormal=function(t,e,n){for(var r=0;r<n.length;r++){var o=n[r];null==t[o]||o in e||(e[o]=this[o])}},i.prototype.hasState=function(){return this.currentStates.length>0},i.prototype.getState=function(t){return this.states[t]},i.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},i.prototype.clearStates=function(t){this.useState(Ns,!1,t)},i.prototype.useState=function(t,e,n,r){var o=t===Ns;if(this.hasState()||!o){var a=this.currentStates,s=this.stateTransition;if(!(We(a,t)>=0)||!e&&1!==a.length){var l;if(this.stateProxy&&!o&&(l=this.stateProxy(t)),l||(l=this.states&&this.states[t]),l||o){o||this.saveCurrentToNormalState(l);var u=!!(l&&l.hoverLayer||r);u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,l,this._normalState,e,!n&&!this.__inHover&&s&&s.duration>0,s);var h=this._textContent,c=this._textGuide;return h&&h.useState(t,e,n,u),c&&c.useState(t,e,n,u),o?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),l}Pr("State "+t+" not exists.")}}},i.prototype.useStates=function(t,e,n){if(t.length){var r=[],o=this.currentStates,a=t.length,s=a===o.length;if(s)for(var l=0;l<a;l++)if(t[l]!==o[l]){s=!1;break}if(s)return;for(l=0;l<a;l++){var u=t[l],h=void 0;this.stateProxy&&(h=this.stateProxy(u,t)),h||(h=this.states[u]),h&&r.push(h)}var c=r[a-1],p=!!(c&&c.hoverLayer||n);p&&this._toggleHoverLayerFlag(!0);var f=this._mergeStates(r),m=this.stateTransition;this.saveCurrentToNormalState(f),this._applyStateObj(t.join(","),f,this._normalState,!1,!e&&!this.__inHover&&m&&m.duration>0,m);var y=this._textContent,v=this._textGuide;y&&y.useStates(t,e,p),v&&v.useStates(t,e,p),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!p&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}else this.clearStates()},i.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},i.prototype.removeState=function(t){var e=We(this.currentStates,t);if(e>=0){var n=this.currentStates.slice();n.splice(e,1),this.useStates(n)}},i.prototype.replaceState=function(t,e,n){var r=this.currentStates.slice(),o=We(r,t),a=We(r,e)>=0;o>=0?a?r.splice(o,1):r[o]=e:n&&!a&&r.push(e),this.useStates(r)},i.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},i.prototype._mergeStates=function(t){for(var e,n={},r=0;r<t.length;r++){var o=t[r];de(n,o),o.textConfig&&de(e=e||{},o.textConfig)}return e&&(n.textConfig=e),n},i.prototype._applyStateObj=function(t,e,n,r,o,a){var s=!(e&&r);e&&e.textConfig?(this.textConfig=de({},r?this.textConfig:n.textConfig),de(this.textConfig,e.textConfig)):s&&n.textConfig&&(this.textConfig=n.textConfig);for(var l={},u=!1,h=0;h<sc.length;h++){var c=sc[h],p=o&&wp[c];e&&null!=e[c]?p?(u=!0,l[c]=e[c]):this[c]=e[c]:s&&null!=n[c]&&(p?(u=!0,l[c]=n[c]):this[c]=n[c])}if(!o)for(h=0;h<this.animators.length;h++){var f=this.animators[h],m=f.targetName;f.getLoop()||f.__changeFinalValue(m?(e||n)[m]:e||n)}u&&this._transitionState(t,l,a)},i.prototype._attachComponent=function(t){if((!t.__zr||t.__hostTarget)&&t!==this){var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this}},i.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},i.prototype.getClipPath=function(){return this._clipPath},i.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},i.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},i.prototype.getTextContent=function(){return this._textContent},i.prototype.setTextContent=function(t){var e=this._textContent;e!==t&&(e&&e!==t&&this.removeTextContent(),t.innerTransformable=new zn,this._attachComponent(t),this._textContent=t,this.markRedraw())},i.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),de(this.textConfig,t),this.markRedraw()},i.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},i.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},i.prototype.getTextGuideLine=function(){return this._textGuide},i.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},i.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},i.prototype.markRedraw=function(){this.__dirty|=1;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},i.prototype.dirty=function(){this.markRedraw()},i.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,n=this._textGuide;e&&(e.__inHover=t),n&&(n.__inHover=t)},i.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},i.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},i.prototype.animate=function(t,e,n){var o=new su(t?this[t]:this,e,n);return t&&(o.targetName=t),this.addAnimator(o,t),o},i.prototype.addAnimator=function(t,e){var n=this.__zr,r=this;t.during(function(){r.updateDuringAnimation(e)}).done(function(){var o=r.animators,a=We(o,t);a>=0&&o.splice(a,1)}),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},i.prototype.updateDuringAnimation=function(t){this.markRedraw()},i.prototype.stopAnimation=function(t,e){for(var n=this.animators,r=n.length,o=[],a=0;a<r;a++){var s=n[a];t&&t!==s.scope?o.push(s):s.stop(e)}return this.animators=o,this},i.prototype.animateTo=function(t,e,n){Ma(this,t,e,n)},i.prototype.animateFrom=function(t,e,n){Ma(this,t,e,n,!0)},i.prototype._transitionState=function(t,e,n,r){for(var o=Ma(this,e,n,r),a=0;a<o.length;a++)o[a].__fromStateTransition=t},i.prototype.getBoundingRect=function(){return null},i.prototype.getPaintRect=function(){return null},i.initDefaultProps=function(){var t=i.prototype;function e(n,r,o,a){function s(l,u){Object.defineProperty(u,0,{get:function(){return l[o]},set:function(h){l[o]=h}}),Object.defineProperty(u,1,{get:function(){return l[a]},set:function(h){l[a]=h}})}Object.defineProperty(t,n,{get:function(){return this[r]||s(this,this[r]=[]),this[r]},set:function(l){this[o]=l[0],this[a]=l[1],this[r]=l,s(this,l)}})}t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=1,Object.defineProperty&&(e("position","_legacyPos","x","y"),e("scale","_legacyScale","scaleX","scaleY"),e("origin","_legacyOrigin","originX","originY"))}(),i}();function Ma(i,t,e,n,r){var o=[];zs(i,"",i,t,e=e||{},n,o,r);var a=o.length,s=!1,l=e.done,u=e.aborted,h=function(){s=!0,--a<=0&&(s?l&&l():u&&u())},c=function(){--a<=0&&(s?l&&l():u&&u())};a||l&&l(),o.length>0&&e.during&&o[0].during(function(m,y){e.during(y)});for(var p=0;p<o.length;p++){var f=o[p];h&&f.done(h),c&&f.aborted(c),e.force&&f.duration(e.duration),f.start(e.easing)}return o}function co(i,t,e){for(var n=0;n<e;n++)i[n]=t[n]}function pu(i,t,e){if(Ft(t[e]))if(Ft(i[e])||(i[e]=[]),Se(t[e])){var n=t[e].length;i[e].length!==n&&(i[e]=new t[e].constructor(n),co(i[e],t[e],n))}else{var r=t[e],o=i[e],a=r.length;if(Ft(r[0]))for(var s=r[0].length,l=0;l<a;l++)o[l]?co(o[l],r[l],s):o[l]=Array.prototype.slice.call(r[l]);else co(o,r,a);o.length=r.length}else i[e]=t[e]}function zs(i,t,e,n,r,o,a,s){for(var l=dt(n),u=r.duration,h=r.delay,c=r.additive,p=r.setToFinal,f=!le(o),m=i.animators,y=[],v=0;v<l.length;v++){var b=l[v],S=n[b];if(null!=S&&null!=e[b]&&(f||o[b]))if(!le(S)||Ft(S)||bt(S))y.push(b);else{if(t){s||(e[b]=S,i.updateDuringAnimation(t));continue}zs(i,b,e[b],S,r,o&&o[b],a,s)}else s||(e[b]=S,i.updateDuringAnimation(t),y.push(b))}var I=y.length;if(!c&&I)for(var T=0;T<m.length;T++)if((A=m[T]).targetName===t&&A.stopTracks(y)){var D=We(m,A);m.splice(D,1)}if(r.force||(I=(y=xt(y,function(N){return!((z=n[N])===(B=e[N])||Ft(z)&&Ft(B)&&function(W,Y){var j=W.length;if(j!==Y.length)return!1;for(var Z=0;Z<j;Z++)if(W[Z]!==Y[Z])return!1;return!0}(z,B));var z,B})).length),I>0||r.force&&!a.length){var A,L=void 0,P=void 0,E=void 0;if(s)for(P={},p&&(L={}),T=0;T<I;T++)P[b=y[T]]=e[b],p?L[b]=n[b]:e[b]=n[b];else if(p)for(E={},T=0;T<I;T++)E[b=y[T]]=Wo(e[b]),pu(e,n,b);(A=new su(e,!1,!1,c?xt(m,function(N){return N.targetName===t}):null)).targetName=t,r.scope&&(A.scope=r.scope),p&&L&&A.whenWithKeys(0,L,y),E&&A.whenWithKeys(0,E,y),A.whenWithKeys(u??500,s?P:n,y).delay(h||0),i.addAnimator(A,t),a.push(A)}}Qt(jo,kn),Qt(jo,zn);var Ze=function(i){function t(e){var n=i.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(e),n}return ie(t,i),t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var n=this._children,r=0;r<n.length;r++)if(n[r].name===e)return n[r]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},t.prototype.addBefore=function(e,n){if(e&&e!==this&&e.parent!==this&&n&&n.parent===this){var r=this._children,o=r.indexOf(n);o>=0&&(r.splice(o,0,e),this._doAdd(e))}return this},t.prototype.replace=function(e,n){var r=We(this._children,e);return r>=0&&this.replaceAt(n,r),this},t.prototype.replaceAt=function(e,n){var r=this._children,o=r[n];if(e&&e!==this&&e.parent!==this&&e!==o){r[n]=e,o.parent=null;var a=this.__zr;a&&o.removeSelfFromZr(a),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var n=this.__zr;n&&n!==e.__zr&&e.addSelfToZr(n),n&&n.refresh()},t.prototype.remove=function(e){var n=this.__zr,r=this._children,o=We(r,e);return o<0||(r.splice(o,1),e.parent=null,n&&e.removeSelfFromZr(n),n&&n.refresh()),this},t.prototype.removeAll=function(){for(var e=this._children,n=this.__zr,r=0;r<e.length;r++){var o=e[r];n&&o.removeSelfFromZr(n),o.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,n){for(var r=this._children,o=0;o<r.length;o++)e.call(n,r[o],o);return this},t.prototype.traverse=function(e,n){for(var r=0;r<this._children.length;r++){var o=this._children[r],a=e.call(n,o);o.isGroup&&!a&&o.traverse(e,n)}return this},t.prototype.addSelfToZr=function(e){i.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].addSelfToZr(e)},t.prototype.removeSelfFromZr=function(e){i.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].removeSelfFromZr(e)},t.prototype.getBoundingRect=function(e){for(var n=new st(0,0,0,0),r=e||this._children,o=[],a=null,s=0;s<r.length;s++){var l=r[s];if(!l.ignore&&!l.invisible){var u=l.getBoundingRect(),h=l.getLocalTransform(o);h?(st.applyTransform(n,u,h),(a=a||n.clone()).union(n)):(a=a||u.clone()).union(u)}}return a||n},t}(jo);Ze.prototype.type="group";var Zo={},fr={},Sp=function(){function i(t,e,n){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=e,this.id=t;var o=new np,a=n.renderer||"canvas";Zo[a]||(a=dt(Zo)[0]),n.useDirtyRect=null!=n.useDirtyRect&&n.useDirtyRect;var s=new Zo[a](e,o,n,t),l=n.ssr||s.ssrOnly;this.storage=o,this.painter=s;var u,h=Ee.node||Ee.worker||l?null:new xp(s.getViewportRoot(),s.root),c=n.useCoarsePointer;(null==c||"auto"===c?Ee.touchEventsSupported:!!c)&&(u=He(n.pointerSize,44)),this.handler=new zh(o,s,h,s.root,u),this.animation=new mp({stage:{update:l?null:function(){return r._flush(!0)}}}),l||this.animation.start()}return i.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},i.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},i.prototype.configLayer=function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh()},i.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=function(e){if(!e)return!1;if("string"==typeof e)return Is(e,1)<.4;if(e.colorStops){for(var n=e.colorStops,r=0,o=n.length,a=0;a<o;a++)r+=Is(n[a].color,1);return(r/=o)<.4}return!1}(t)},i.prototype.getBackgroundColor=function(){return this._backgroundColor},i.prototype.setDarkMode=function(t){this._darkMode=t},i.prototype.isDarkMode=function(){return this._darkMode},i.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},i.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},i.prototype.flush=function(){this._flush(!1)},i.prototype._flush=function(t){var e,n=dr();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var r=dr();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},i.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},i.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},i.prototype.refreshHover=function(){this._needsRefreshHover=!0},i.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},i.prototype.resize=function(t){this.painter.resize((t=t||{}).width,t.height),this.handler.resize()},i.prototype.clearAnimation=function(){this.animation.clear()},i.prototype.getWidth=function(){return this.painter.getWidth()},i.prototype.getHeight=function(){return this.painter.getHeight()},i.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},i.prototype.findHover=function(t,e){return this.handler.findHover(t,e)},i.prototype.on=function(t,e,n){return this.handler.on(t,e,n),this},i.prototype.off=function(t,e){this.handler.off(t,e)},i.prototype.trigger=function(t,e){this.handler.trigger(t,e)},i.prototype.clear=function(){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof Ze&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},i.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delete fr[this.id]},i}();function fu(i,t){var e=new Sp(ji(),i,t);return fr[e.id]=e,e}function Mp(i,t){Zo[i]=t}var Ia=Object.freeze({__proto__:null,init:fu,dispose:function(i){i.dispose()},disposeAll:function(){for(var i in fr)fr.hasOwnProperty(i)&&fr[i].dispose();fr={}},getInstance:function(i){return fr[i]},registerPainter:Mp,version:"5.4.1"});function zt(i,t,e,n){var r=t[0],o=t[1],a=e[0],s=e[1],l=o-r,u=s-a;if(0===l)return 0===u?a:(a+s)/2;if(n)if(l>0){if(i<=r)return a;if(i>=o)return s}else{if(i>=r)return a;if(i<=o)return s}else{if(i===r)return a;if(i===o)return s}return(i-r)/l*u+a}function Te(i,t){switch(i){case"center":case"middle":i="50%";break;case"left":case"top":i="0%";break;case"right":case"bottom":i="100%"}return De(i)?(e=i,e.replace(/^\s+|\s+$/g,"")).match(/%$/)?parseFloat(i)/100*t:parseFloat(i):null==i?NaN:+i;var e}function ii(i,t,e){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),i=(+i).toFixed(t),e?i:+i}function _n(i){return i.sort(function(t,e){return t-e}),i}function Bn(i){if(i=+i,isNaN(i))return 0;if(i>1e-14)for(var t=1,e=0;e<15;e++,t*=10)if(Math.round(i*t)/t===i)return e;return Ip(i)}function Ip(i){var t=i.toString().toLowerCase(),e=t.indexOf("e"),n=e>0?+t.slice(e+1):0,r=e>0?e:t.length,o=t.indexOf(".");return Math.max(0,(o<0?0:r-1-o)-n)}function uc(i,t){var e=Math.log,n=Math.LN10,r=Math.floor(e(i[1]-i[0])/n),o=Math.round(e(Math.abs(t[1]-t[0]))/n),a=Math.min(Math.max(-r+o,0),20);return isFinite(a)?a:20}function gu(i,t){var e=Zi(i,function(f,m){return f+(isNaN(m)?0:m)},0);if(0===e)return[];for(var n=Math.pow(10,t),r=ge(i,function(f){return(isNaN(f)?0:f)/e*n*100}),o=100*n,a=ge(r,function(f){return Math.floor(f)}),s=Zi(a,function(f,m){return f+m},0),l=ge(r,function(f,m){return f-a[m]});s<o;){for(var u=Number.NEGATIVE_INFINITY,h=null,c=0,p=l.length;c<p;++c)l[c]>u&&(u=l[c],h=c);++a[h],l[h]=0,++s}return ge(a,function(f){return f/n})}function hm(i,t){var e=Math.max(Bn(i),Bn(t)),n=i+t;return e>20?n:ii(n,e)}var hc=9007199254740991;function gr(i){var t=2*Math.PI;return(i%t+t)%t}function Ta(i){return i>-1e-4&&i<1e-4}var mu=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function hn(i){if(i instanceof Date)return i;if(De(i)){var t=mu.exec(i);if(!t)return new Date(NaN);if(t[8]){var e=+t[4]||0;return"Z"!==t[8].toUpperCase()&&(e-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,e,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}return null==i?new Date(NaN):new Date(Math.round(i))}function Gr(i){return Math.pow(10,yu(i))}function yu(i){if(0===i)return 0;var t=Math.floor(Math.log(i)/Math.LN10);return i/Math.pow(10,t)>=10&&t++,t}function Vs(i,t){var e=yu(i),n=Math.pow(10,e),r=i/n;return i=(t?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10)*n,e>=-20?+i.toFixed(e<0?-e:0):i}function vu(i,t){var e=(i.length-1)*t+1,n=Math.floor(e),r=+i[n-1],o=e-n;return o?r+o*(i[n]-r):r}function Bs(i){i.sort(function(l,u){return s(l,u,0)?-1:1});for(var t=-1/0,e=1,n=0;n<i.length;){for(var r=i[n].interval,o=i[n].close,a=0;a<2;a++)r[a]<=t&&(r[a]=t,o[a]=a?1:1-e),t=r[a],e=o[a];r[0]===r[1]&&o[0]*o[1]!=1?i.splice(n,1):n++}return i;function s(l,u,h){return l.interval[h]<u.interval[h]||l.interval[h]===u.interval[h]&&(l.close[h]-u.close[h]==(h?-1:1)||!h&&s(l,u,1))}}function bn(i){var t=parseFloat(i);return t==i&&(0!==t||!De(i)||i.indexOf("x")<=0)?t:NaN}function Fs(i){return!isNaN(bn(i))}function cc(){return Math.round(9*Math.random())}function dc(i,t){return 0===t?i:dc(t,i%t)}function Tp(i,t){return null==i?t:null==t?i:i*t/dc(i,t)}function Ct(i){throw new Error(i)}function pc(i,t,e){return(t-i)*e+i}var fc="series\0";function Gt(i){return i instanceof Array?i:null==i?[]:[i]}function qo(i,t,e){if(i){i[t]=i[t]||{},i.emphasis=i.emphasis||{},i.emphasis[t]=i.emphasis[t]||{};for(var n=0,r=e.length;n<r;n++){var o=e[n];!i.emphasis[t].hasOwnProperty(o)&&i[t].hasOwnProperty(o)&&(i.emphasis[t][o]=i[t][o])}}}var Dp=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Ca(i){return!le(i)||fe(i)||i instanceof Date?i:i.value}function Ap(i){return le(i)&&!(i instanceof Array)}function kp(i,t,e){var n="normalMerge"===e,r="replaceMerge"===e,o="replaceAll"===e;i=i||[],t=(t||[]).slice();var a=ze();G(t,function(h,c){le(h)||(t[c]=null)});var s,l,h,c,p,f,u=function(h,c,p){var f=[];if("replaceAll"===p)return f;for(var m=0;m<h.length;m++){var y=h[m];y&&null!=y.id&&c.set(y.id,m),f.push({existing:"replaceMerge"===p||Aa(y)?null:y,newOption:null,keyInfo:null,brandNew:null})}return f}(i,a,e);return(n||r)&&(h=u,c=i,p=a,G(f=t,function(m,y){if(m&&null!=m.id){var v=Da(m.id),b=p.get(v);if(null!=b){var S=h[b];Vt(!S.newOption,'Duplicated option on id "'+v+'".'),S.newOption=m,S.existing=c[b],f[y]=null}}})),n&&function(h,c){G(c,function(p,f){if(p&&null!=p.name)for(var m=0;m<h.length;m++){var y=h[m].existing;if(!h[m].newOption&&y&&(null==y.id||null==p.id)&&!Aa(p)&&!Aa(y)&&xu("name",y,p))return h[m].newOption=p,void(c[f]=null)}})}(u,t),n||r?function(h,c,p){G(c,function(f){if(f){for(var m,y=0;(m=h[y])&&(m.newOption||Aa(m.existing)||m.existing&&null!=f.id&&!xu("id",f,m.existing));)y++;m?(m.newOption=f,m.brandNew=p):h.push({newOption:f,brandNew:p,existing:null,keyInfo:null}),y++}})}(u,t,r):o&&function(h,c){G(c,function(p){h.push({newOption:p,brandNew:!0,existing:null,keyInfo:null})})}(u,t),s=u,l=ze(),G(s,function(h){var c=h.existing;c&&l.set(c.id,h)}),G(s,function(h){var c=h.newOption;Vt(!c||null==c.id||!l.get(c.id)||l.get(c.id)===h,"id duplicates: "+(c&&c.id)),c&&null!=c.id&&l.set(c.id,h),!h.keyInfo&&(h.keyInfo={})}),G(s,function(h,c){var p=h.existing,f=h.newOption,m=h.keyInfo;if(le(f)){if(m.name=null!=f.name?Da(f.name):p?p.name:fc+c,p)m.id=Da(p.id);else if(null!=f.id)m.id=Da(f.id);else{var y=0;do{m.id="\0"+m.name+"\0"+y++}while(l.get(m.id))}l.set(m.id,h)}}),u}function xu(i,t,e){var n=ci(t[i],null),r=ci(e[i],null);return null!=n&&null!=r&&n===r}function Da(i){return ci(i,"")}function ci(i,t){return null==i?t:De(i)?i:oe(i)||se(i)?i+"":t}function mc(i){var t=i.name;return!(!t||!t.indexOf(fc))}function Aa(i){return i&&null!=i.id&&0===Da(i.id).indexOf("\0_ec_\0")}function $o(i,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?fe(t.dataIndex)?ge(t.dataIndex,function(e){return i.indexOfRawIndex(e)}):i.indexOfRawIndex(t.dataIndex):null!=t.name?fe(t.name)?ge(t.name,function(e){return i.indexOfName(e)}):i.indexOfName(t.name):void 0}function _t(){var i="__ec_inner_"+Lp++;return function(t){return t[i]||(t[i]={})}}var Lp=cc();function Gs(i,t,e){var n=Ws(t,e),o=n.queryOptionMap,a=n.others,s=e?e.defaultMainType:null;return!n.mainTypeSpecified&&s&&o.set(s,{}),o.each(function(l,u){var h=Hs(i,u,l,{useDefault:s===u,enableAll:!e||null==e.enableAll||e.enableAll,enableNone:!e||null==e.enableNone||e.enableNone});a[u+"Models"]=h.models,a[u+"Model"]=h.models[0]}),a}function Ws(i,t){var e;if(De(i)){var n={};n[i+"Index"]=0,e=n}else e=i;var r=ze(),o={},a=!1;return G(e,function(s,l){if("dataIndex"!==l&&"dataIndexInside"!==l){var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],h=u[1],c=(u[2]||"").toLowerCase();h&&c&&!(t&&t.includeMainTypes&&We(t.includeMainTypes,h)<0)&&(a=a||!!h,(r.get(h)||r.set(h,{}))[c]=s)}else o[l]=s}),{mainTypeSpecified:a,queryOptionMap:r,others:o}}var di={useDefault:!0,enableAll:!1,enableNone:!1},_u={useDefault:!1,enableAll:!0,enableNone:!0};function Hs(i,t,e,n){n=n||di;var r=e.index,o=e.id,a=e.name,s={models:null,specified:null!=r||null!=o||null!=a};if(!s.specified){var l=void 0;return s.models=n.useDefault&&(l=i.getComponent(t))?[l]:[],s}return"none"===r||!1===r?(Vt(n.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):("all"===r&&(Vt(n.enableAll,'`"all"` is not a valid value on index option.'),r=o=a=null),s.models=i.queryComponents({mainType:t,index:r,id:o,name:a}),s)}function ka(i,t,e){i.setAttribute?i.setAttribute(t,e):i[t]=e}function Fn(i,t){var e=ze(),n=[];return G(i,function(r){var o=t(r);(e.get(o)||(n.push(o),e.set(o,[]))).push(r)}),{keys:n,buckets:e}}function mr(i,t,e,n,r){var o=null==t||"auto"===t;if(null==n)return n;if(oe(n))return ii(m=pc(e||0,n,r),o?Math.max(Bn(e||0),Bn(n)):t);if(De(n))return r<1?e:n;for(var a=[],s=e,l=n,u=Math.max(s?s.length:0,l.length),h=0;h<u;++h){var c=i.getDimensionInfo(h);if(c&&"ordinal"===c.type)a[h]=(r<1&&s?s:l)[h];else{var p=s&&s[h]?s[h]:0,f=l[h],m=pc(p,f,r);a[h]=ii(m,o?Math.max(Bn(p),Bn(f)):t)}}return a}var Ko="___EC__COMPONENT__CONTAINER___",yc="___EC__EXTENDED_CLASS___";function yr(i){var t={main:"",sub:""};if(i){var e=i.split(".");t.main=e[0]||"",t.sub=e[1]||""}return t}function bu(i,t){i.$constructor=i,i.extend=function(e){var n,r,o=this;return Ge(r=o)&&/^class\s/.test(Function.prototype.toString.call(r))?n=function(a){function s(){return a.apply(this,arguments)||this}return ie(s,a),s}(o):(n=function(){(e.$constructor||o).apply(this,arguments)},nr(n,this)),de(n.prototype,e),n[yc]=!0,n.extend=this.extend,n.superCall=Pp,n.superApply=Op,n.superClass=o,n}}function vc(i,t){i.extend=t.extend}var wu=Math.round(10*Math.random());function Pp(i,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];return this.superClass.prototype[t].apply(i,e)}function Op(i,t,e){return this.superClass.prototype[t].apply(i,e)}function La(i){var t={};i.registerClass=function(e){var n,s,l,r=e.type||e.prototype.type;if(r){Vt(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n=r),'componentType "'+n+'" illegal'),e.prototype.type=r;var o=yr(r);o.sub?o.sub!==Ko&&(((l=t[(s=o).main])&&l[Ko]||((l=t[s.main]={})[Ko]=!0),l)[o.sub]=e):t[o.main]=e}return e},i.getClass=function(e,n,r){var o=t[e];if(o&&o[Ko]&&(o=n?o[n]:null),r&&!o)throw new Error(n?"Component "+e+"."+(n||"")+" is used but not imported.":e+".type should be specified.");return o},i.getClassesByMainType=function(e){var n=yr(e),r=[],o=t[n.main];return o&&o[Ko]?G(o,function(a,s){s!==Ko&&r.push(a)}):r.push(o),r},i.hasClass=function(e){var n=yr(e);return!!t[n.main]},i.getAllClassMainTypes=function(){var e=[];return G(t,function(n,r){e.push(r)}),e},i.hasSubTypes=function(e){var n=yr(e),r=t[n.main];return r&&r[Ko]}}function Jo(i,t){for(var e=0;e<i.length;e++)i[e][1]||(i[e][1]=i[e][0]);return t=t||!1,function(n,r,o){for(var a={},s=0;s<i.length;s++){var l=i[s][1];if(!(r&&We(r,l)>=0||o&&We(o,l)<0)){var u=n.getShallow(l,t);null!=u&&(a[i[s][0]]=u)}}return a}}var Rp=Jo([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),cm=function(){function i(){}return i.prototype.getAreaStyle=function(t,e){return Rp(this,t,e)},i}(),Pa=new Vo(50);function Ep(i){if("string"==typeof i){var t=Pa.get(i);return t&&t.image}return i}function Oa(i,t,e,n,r){if(i){if("string"==typeof i){if(t&&t.__zrImageSrc===i||!e)return t;var o=Pa.get(i),a={hostEl:e,cb:n,cbPayload:r};return o?!Ys(t=o.image)&&o.pending.push(a):((t=Qe.loadImage(i,Su,Su)).__zrImageSrc=i,Pa.put(i,t.__cachedImgObj={image:t,pending:[a]})),t}return i}return t}function Su(){var i=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<i.pending.length;t++){var e=i.pending[t],n=e.cb;n&&n(this,e.cbPayload),e.hostEl.dirty()}i.pending.length=0}function Ys(i){return i&&i.width&&i.height}var Xs=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Mu(i,t,e,n,r){if(!t)return"";var o=(i+"").split("\n");r=xc(t,e,n,r);for(var a=0,s=o.length;a<s;a++)o[a]=Np(o[a],r);return o.join("\n")}function xc(i,t,e,n){var r=de({},n=n||{});r.font=t,e=He(e,"..."),r.maxIterations=He(n.maxIterations,2);var o=r.minChar=He(n.minChar,0);r.cnCharWidth=un("\u56fd",t);var a=r.ascCharWidth=un("a",t);r.placeholder=He(n.placeholder,"");for(var s=i=Math.max(0,i-1),l=0;l<o&&s>=a;l++)s-=a;var u=un(e,t);return u>s&&(e="",u=0),s=i-u,r.ellipsis=e,r.ellipsisWidth=u,r.contentWidth=s,r.containerWidth=i,r}function Np(i,t){var e=t.containerWidth,n=t.font,r=t.contentWidth;if(!e)return"";var o=un(i,n);if(o<=e)return i;for(var a=0;;a++){if(o<=r||a>=t.maxIterations){i+=t.ellipsis;break}var s=0===a?dm(i,r,t.ascCharWidth,t.cnCharWidth):o>0?Math.floor(i.length*r/o):0;o=un(i=i.substr(0,s),n)}return""===i&&(i=t.placeholder),i}function dm(i,t,e,n){for(var r=0,o=0,a=i.length;o<a&&r<t;o++){var s=i.charCodeAt(o);r+=0<=s&&s<=127?e:n}return o}var pm=function(){},zp=function(i){this.tokens=[],i&&(this.tokens=i)},fm=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function Iu(i,t,e,n,r){var o,a,s=""===t,l=r&&e.rich[r]||{},u=i.lines,h=l.font||e.font,c=!1;if(n){var p=l.padding,f=p?p[1]+p[3]:0;if(null!=l.width&&"auto"!==l.width){var m=Vn(l.width,n.width)+f;u.length>0&&m+n.accumWidth>n.width&&(o=t.split("\n"),c=!0),n.accumWidth=m}else{var y=Ji(t,h,n.width,n.breakAll,n.accumWidth);n.accumWidth=y.accumWidth+f,a=y.linesWidths,o=y.lines}}else o=t.split("\n");for(var v=0;v<o.length;v++){var b=o[v],S=new pm;if(S.styleName=r,S.text=b,S.isLineHolder=!b&&!s,S.width="number"==typeof l.width?l.width:a?a[v]:un(b,h),v||c)u.push(new zp([S]));else{var I=(u[u.length-1]||(u[0]=new zp)).tokens,T=I.length;1===T&&I[0].isLineHolder?I[0]=S:(b||!T||s)&&I.push(S)}}}var Us=Zi(",&?/;] ".split(""),function(i,t){return i[t]=!0,i},{});function Tu(i){return!((e=i.charCodeAt(0))>=33&&e<=383&&!Us[i]);var e}function Ji(i,t,e,n,r){for(var o=[],a=[],s="",l="",u=0,h=0,c=0;c<i.length;c++){var p=i.charAt(c);if("\n"!==p){var f=un(p,t),m=!n&&!Tu(p);(o.length?h+f>e:r+h+f>e)?h?(s||l)&&(m?(s||(s=l,l="",h=u=0),o.push(s),a.push(h-u),l+=p,s="",h=u+=f):(l&&(s+=l,l="",u=0),o.push(s),a.push(h),s=p,h=f)):m?(o.push(l),a.push(u),l=p,u=f):(o.push(p),a.push(f)):(h+=f,m?(l+=p,u+=f):(l&&(s+=l,l="",u=0),s+=p))}else l&&(s+=l,h+=u),o.push(s),a.push(h),s="",l="",u=0,h=0}return o.length||s||(s=i,l="",u=0),l&&(s+=l),s&&(o.push(s),a.push(h)),1===o.length&&(h+=r),{accumWidth:h,lines:o,linesWidths:a}}var _c="__zr_style_"+Math.round(10*Math.random()),po={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},js={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};po[_c]=!0;var bc=["z","z2","invisible"],Vp=["invisible"],Yi=function(i){function t(n){return i.call(this,n)||this}var e;return ie(t,i),t.prototype._init=function(n){for(var r=dt(n),o=0;o<r.length;o++){var a=r[o];"style"===a?this.useStyle(n[a]):i.prototype.attrKV.call(this,a,n[a])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(n,r,o,a){var h,c,p,s=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&(c=n,p=r,Ra.copy((h=this).getBoundingRect()),h.transform&&Ra.applyTransform(h.transform),Zs.width=c,Zs.height=p,!Ra.intersect(Zs))||s&&!s[0]&&!s[3])return!1;if(o&&this.__clipPaths)for(var l=0;l<this.__clipPaths.length;++l)if(this.__clipPaths[l].isZeroArea())return!1;if(a&&this.parent)for(var u=this.parent;u;){if(u.ignore)return!1;u=u.parent}return!0},t.prototype.contain=function(n,r){return this.rectContain(n,r)},t.prototype.traverse=function(n,r){n.call(r,this)},t.prototype.rectContain=function(n,r){var o=this.transformCoordToLocal(n,r);return this.getBoundingRect().contain(o[0],o[1])},t.prototype.getPaintRect=function(){var n=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,o=this.getBoundingRect(),a=this.style,s=a.shadowBlur||0,l=a.shadowOffsetX||0,u=a.shadowOffsetY||0;n=this._paintRect||(this._paintRect=new st(0,0,0,0)),r?st.applyTransform(n,o,r):n.copy(o),(s||l||u)&&(n.width+=2*s+Math.abs(l),n.height+=2*s+Math.abs(u),n.x=Math.min(n.x,n.x+l-s),n.y=Math.min(n.y,n.y+u-s));var h=this.dirtyRectTolerance;n.isZero()||(n.x=Math.floor(n.x-h),n.y=Math.floor(n.y-h),n.width=Math.ceil(n.width+1+2*h),n.height=Math.ceil(n.height+1+2*h))}return n},t.prototype.setPrevPaintRect=function(n){n?(this._prevPaintRect=this._prevPaintRect||new st(0,0,0,0),this._prevPaintRect.copy(n)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(n){return this.animate("style",n)},t.prototype.updateDuringAnimation=function(n){"style"===n?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(n,r){"style"!==n?i.prototype.attrKV.call(this,n,r):this.style?this.setStyle(r):this.useStyle(r)},t.prototype.setStyle=function(n,r){return"string"==typeof n?this.style[n]=r:de(this.style,n),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(n){n||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(2&this.__dirty)},t.prototype.styleUpdated=function(){this.__dirty&=-3},t.prototype.createStyle=function(n){return Dn(po,n)},t.prototype.useStyle=function(n){n[_c]||(n=this.createStyle(n)),this.__inHover?this.__hoverStyle=n:this.style=n,this.dirtyStyle()},t.prototype.isStyleObject=function(n){return n[_c]},t.prototype._innerSaveToNormal=function(n){i.prototype._innerSaveToNormal.call(this,n);var r=this._normalState;n.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(n,r,bc)},t.prototype._applyStateObj=function(n,r,o,a,s,l){i.prototype._applyStateObj.call(this,n,r,o,a,s,l);var u,h=!(r&&a);if(r&&r.style?s?a?u=r.style:(u=this._mergeStyle(this.createStyle(),o.style),this._mergeStyle(u,r.style)):(u=this._mergeStyle(this.createStyle(),a?this.style:o.style),this._mergeStyle(u,r.style)):h&&(u=o.style),u)if(s){var c=this.style;if(this.style=this.createStyle(h?{}:c),h)for(var p=dt(c),f=0;f<p.length;f++)(y=p[f])in u&&(u[y]=u[y],this.style[y]=c[y]);var m=dt(u);for(f=0;f<m.length;f++){var y=m[f];this.style[y]=this.style[y]}this._transitionState(n,{style:u},l,this.getAnimationStyleProps())}else this.useStyle(u);var v=this.__inHover?Vp:bc;for(f=0;f<v.length;f++)y=v[f],r&&null!=r[y]?this[y]=r[y]:h&&null!=o[y]&&(this[y]=o[y])},t.prototype._mergeStates=function(n){for(var r,o=i.prototype._mergeStates.call(this,n),a=0;a<n.length;a++){var s=n[a];s.style&&this._mergeStyle(r=r||{},s.style)}return r&&(o.style=r),o},t.prototype._mergeStyle=function(n,r){return de(n,r),n},t.prototype.getAnimationStyleProps=function(){return js},t.initDefaultProps=((e=t.prototype).type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,void(e.__dirty=3)),t}(jo),Ra=new st(0,0,0,0),Zs=new st(0,0,0,0),Qi=Math.min,x=Math.max,d=Math.sin,g=Math.cos,_=2*Math.PI,w=or(),M=or(),C=or();function k(i,t,e){if(0!==i.length){for(var n=i[0],r=n[0],o=n[0],a=n[1],s=n[1],l=1;l<i.length;l++)r=Qi(r,(n=i[l])[0]),o=x(o,n[0]),a=Qi(a,n[1]),s=x(s,n[1]);t[0]=r,t[1]=a,e[0]=o,e[1]=s}}function O(i,t,e,n,r,o){r[0]=Qi(i,e),r[1]=Qi(t,n),o[0]=x(i,e),o[1]=x(t,n)}var R=[],V=[];function F(i,t,e,n,r,o,a,s,l,u){var h=hr,c=Tt,p=h(i,e,r,a,R);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var f=0;f<p;f++){var m=c(i,e,r,a,R[f]);l[0]=Qi(m,l[0]),u[0]=x(m,u[0])}for(p=h(t,n,o,s,V),f=0;f<p;f++){var y=c(t,n,o,s,V[f]);l[1]=Qi(y,l[1]),u[1]=x(y,u[1])}l[0]=Qi(i,l[0]),u[0]=x(i,u[0]),l[0]=Qi(a,l[0]),u[0]=x(a,u[0]),l[1]=Qi(t,l[1]),u[1]=x(t,u[1]),l[1]=Qi(s,l[1]),u[1]=x(s,u[1])}function H(i,t,e,n,r,o,a,s){var l=Jl,u=bi,h=x(Qi(l(i,e,r),1),0),c=x(Qi(l(t,n,o),1),0),p=u(i,e,r,h),f=u(t,n,o,c);a[0]=Qi(i,r,p),a[1]=Qi(t,o,f),s[0]=x(i,r,p),s[1]=x(t,o,f)}function U(i,t,e,n,r,o,a,s,l){var u=jn,h=an,c=Math.abs(r-o);if(c%_<1e-4&&c>1e-4)return s[0]=i-e,s[1]=t-n,l[0]=i+e,void(l[1]=t+n);if(w[0]=g(r)*e+i,w[1]=d(r)*n+t,M[0]=g(o)*e+i,M[1]=d(o)*n+t,u(s,w,M),h(l,w,M),(r%=_)<0&&(r+=_),(o%=_)<0&&(o+=_),r>o&&!a?o+=_:r<o&&a&&(r+=_),a){var p=o;o=r,r=p}for(var f=0;f<o;f+=Math.PI/2)f>r&&(C[0]=g(f)*e+i,C[1]=d(f)*n+t,u(s,C,s),h(l,C,l))}var X={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},$=[],J=[],ee=[],ae=[],ue=[],he=[],me=Math.min,Me=Math.max,Ae=Math.cos,Ye=Math.sin,Fe=Math.abs,Oe=Math.PI,je=2*Oe,qe=typeof Float32Array<"u",Ke=[];function Pe(i){return Math.round(i/Oe*1e8)/1e8%2*Oe}function Je(i,t){var e=Pe(i[0]);e<0&&(e+=je);var r=i[1];r+=e-i[0],!t&&r-e>=je?r=e+je:t&&e-r>=je?r=e-je:!t&&e>r?r=e+(je-Pe(e-r)):t&&e<r&&(r=e-(je-Pe(r-e))),i[0]=e,i[1]=r}var ht=function(){function i(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return i.prototype.increaseVersion=function(){this._version++},i.prototype.getVersion=function(){return this._version},i.prototype.setScale=function(t,e,n){(n=n||0)>0&&(this._ux=Fe(n/lo/t)||0,this._uy=Fe(n/lo/e)||0)},i.prototype.setDPR=function(t){this.dpr=t},i.prototype.setContext=function(t){this._ctx=t},i.prototype.getContext=function(){return this._ctx},i.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},i.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},i.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(X.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},i.prototype.lineTo=function(t,e){var n=Fe(t-this._xi),r=Fe(e-this._yi),o=n>this._ux||r>this._uy;if(this.addData(X.L,t,e),this._ctx&&o&&this._ctx.lineTo(t,e),o)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var a=n*n+r*r;a>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=a)}return this},i.prototype.bezierCurveTo=function(t,e,n,r,o,a){return this._drawPendingPt(),this.addData(X.C,t,e,n,r,o,a),this._ctx&&this._ctx.bezierCurveTo(t,e,n,r,o,a),this._xi=o,this._yi=a,this},i.prototype.quadraticCurveTo=function(t,e,n,r){return this._drawPendingPt(),this.addData(X.Q,t,e,n,r),this._ctx&&this._ctx.quadraticCurveTo(t,e,n,r),this._xi=n,this._yi=r,this},i.prototype.arc=function(t,e,n,r,o,a){this._drawPendingPt(),Ke[0]=r,Ke[1]=o,Je(Ke,a);var s=(o=Ke[1])-(r=Ke[0]);return this.addData(X.A,t,e,n,n,r,s,0,a?0:1),this._ctx&&this._ctx.arc(t,e,n,r,o,a),this._xi=Ae(o)*n+t,this._yi=Ye(o)*n+e,this},i.prototype.arcTo=function(t,e,n,r,o){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,n,r,o),this},i.prototype.rect=function(t,e,n,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,n,r),this.addData(X.R,t,e,n,r),this},i.prototype.closePath=function(){this._drawPendingPt(),this.addData(X.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&t.closePath(),this._xi=e,this._yi=n,this},i.prototype.fill=function(t){t&&t.fill(),this.toStatic()},i.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},i.prototype.len=function(){return this._len},i.prototype.setData=function(t){var e=t.length;this.data&&this.data.length===e||!qe||(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},i.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,r=this._len,o=0;o<e;o++)n+=t[o].len();for(qe&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+n)),o=0;o<e;o++)for(var a=t[o].data,s=0;s<a.length;s++)this.data[r++]=a[s];this._len=r},i.prototype.addData=function(t,e,n,r,o,a,s,l,u){if(this._saveData){var h=this.data;this._len+arguments.length>h.length&&(this._expandData(),h=this.data);for(var c=0;c<arguments.length;c++)h[this._len++]=arguments[c]}},i.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},i.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},i.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,qe&&this._len>11&&(this.data=new Float32Array(t)))}},i.prototype.getBoundingRect=function(){ee[0]=ee[1]=ue[0]=ue[1]=Number.MAX_VALUE,ae[0]=ae[1]=he[0]=he[1]=-Number.MAX_VALUE;var t,e=this.data,n=0,r=0,o=0,a=0;for(t=0;t<this._len;){var s=e[t++],l=1===t;switch(l&&(o=n=e[t],a=r=e[t+1]),s){case X.M:n=o=e[t++],r=a=e[t++],ue[0]=o,ue[1]=a,he[0]=o,he[1]=a;break;case X.L:O(n,r,e[t],e[t+1],ue,he),n=e[t++],r=e[t++];break;case X.C:F(n,r,e[t++],e[t++],e[t++],e[t++],e[t],e[t+1],ue,he),n=e[t++],r=e[t++];break;case X.Q:H(n,r,e[t++],e[t++],e[t],e[t+1],ue,he),n=e[t++],r=e[t++];break;case X.A:var u=e[t++],h=e[t++],c=e[t++],p=e[t++],f=e[t++],m=e[t++]+f;t+=1;var y=!e[t++];l&&(o=Ae(f)*c+u,a=Ye(f)*p+h),U(u,h,c,p,f,m,y,ue,he),n=Ae(m)*c+u,r=Ye(m)*p+h;break;case X.R:O(o=n=e[t++],a=r=e[t++],o+e[t++],a+e[t++],ue,he);break;case X.Z:n=o,r=a}jn(ee,ee,ue),an(ae,ae,he)}return 0===t&&(ee[0]=ee[1]=ae[0]=ae[1]=0),new st(ee[0],ee[1],ae[0]-ee[0],ae[1]-ee[1])},i.prototype._calculateLength=function(){var t=this.data,e=this._len,n=this._ux,r=this._uy,o=0,a=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,h=0,c=0,p=0;p<e;){var f=t[p++],m=1===p;m&&(s=o=t[p],l=a=t[p+1]);var y=-1;switch(f){case X.M:o=s=t[p++],a=l=t[p++];break;case X.L:var v=t[p++],b=(T=t[p++])-a;(Fe(Y=v-o)>n||Fe(b)>r||p===e-1)&&(y=Math.sqrt(Y*Y+b*b),o=v,a=T);break;case X.C:var S=t[p++],I=t[p++],T=(v=t[p++],t[p++]),D=t[p++],A=t[p++];y=Wh(o,a,S,I,v,T,D,A,10),o=D,a=A;break;case X.Q:y=op(o,a,S=t[p++],I=t[p++],v=t[p++],T=t[p++],10),o=v,a=T;break;case X.A:var L=t[p++],P=t[p++],E=t[p++],N=t[p++],z=t[p++],B=t[p++],W=B+z;p+=1,p++,m&&(s=Ae(z)*E+L,l=Ye(z)*N+P),y=Me(E,N)*me(je,Math.abs(B)),o=Ae(W)*E+L,a=Ye(W)*N+P;break;case X.R:s=o=t[p++],l=a=t[p++],y=2*t[p++]+2*t[p++];break;case X.Z:var Y=s-o;b=l-a,y=Math.sqrt(Y*Y+b*b),o=s,a=l}y>=0&&(u[c++]=y,h+=y)}return this._pathLen=h,h},i.prototype.rebuildPath=function(t,e){var n,r,o,a,s,l,u,h,c,p,f=this.data,m=this._ux,y=this._uy,v=this._len,b=e<1,S=0,I=0,T=0;if(!b||(this._pathSegLen||this._calculateLength(),u=this._pathSegLen,h=e*this._pathLen))e:for(var D=0;D<v;){var A=f[D++],L=1===D;switch(L&&(n=o=f[D],r=a=f[D+1]),A!==X.L&&T>0&&(t.lineTo(c,p),T=0),A){case X.M:n=o=f[D++],r=a=f[D++],t.moveTo(o,a);break;case X.L:s=f[D++],l=f[D++];var P=Fe(s-o),E=Fe(l-a);if(P>m||E>y){if(b){if(S+(et=u[I++])>h){var N=(h-S)/et;t.lineTo(o*(1-N)+s*N,a*(1-N)+l*N);break e}S+=et}t.lineTo(s,l),o=s,a=l,T=0}else{var z=P*P+E*E;z>T&&(c=s,p=l,T=z)}break;case X.C:var B=f[D++],W=f[D++],Y=f[D++],j=f[D++],Z=f[D++],q=f[D++];if(b){if(S+(et=u[I++])>h){ln(o,B,Y,Z,N=(h-S)/et,$),ln(a,W,j,q,N,J),t.bezierCurveTo($[1],J[1],$[2],J[2],$[3],J[3]);break e}S+=et}t.bezierCurveTo(B,W,Y,j,Z,q),o=Z,a=q;break;case X.Q:if(B=f[D++],W=f[D++],Y=f[D++],j=f[D++],b){if(S+(et=u[I++])>h){zo(o,B,Y,N=(h-S)/et,$),zo(a,W,j,N,J),t.quadraticCurveTo($[1],J[1],$[2],J[2]);break e}S+=et}t.quadraticCurveTo(B,W,Y,j),o=Y,a=j;break;case X.A:var K=f[D++],Q=f[D++],te=f[D++],ne=f[D++],ce=f[D++],ye=f[D++],re=f[D++],pe=!f[D++],ve=te>ne?te:ne,be=Fe(te-ne)>.001,xe=ce+ye,we=!1;if(b&&(S+(et=u[I++])>h&&(xe=ce+ye*(h-S)/et,we=!0),S+=et),be&&t.ellipse?t.ellipse(K,Q,te,ne,re,ce,xe,pe):t.arc(K,Q,ve,ce,xe,pe),we)break e;L&&(n=Ae(ce)*te+K,r=Ye(ce)*ne+Q),o=Ae(xe)*te+K,a=Ye(xe)*ne+Q;break;case X.R:n=o=f[D],r=a=f[D+1],s=f[D++],l=f[D++];var _e=f[D++],Ce=f[D++];if(b){if(S+(et=u[I++])>h){var Ne=h-S;t.moveTo(s,l),t.lineTo(s+me(Ne,_e),l),(Ne-=_e)>0&&t.lineTo(s+_e,l+me(Ne,Ce)),(Ne-=Ce)>0&&t.lineTo(s+Me(_e-Ne,0),l+Ce),(Ne-=_e)>0&&t.lineTo(s,l+Me(Ce-Ne,0));break e}S+=et}t.rect(s,l,_e,Ce);break;case X.Z:if(b){var et;if(S+(et=u[I++])>h){t.lineTo(o*(1-(N=(h-S)/et))+n*N,a*(1-N)+r*N);break e}S+=et}t.closePath(),o=n,a=r}}},i.prototype.clone=function(){var t=new i,e=this.data;return t.data=e.slice?e.slice():Array.prototype.slice.call(e),t._len=this._len,t},i.CMD=X,i.initDefaultProps=((t=i.prototype)._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,void(t._version=0)),i;var t}();function Wt(i,t,e,n,r,o,a){if(0===r)return!1;var l,s=r;if(a>t+s&&a>n+s||a<t-s&&a<n-s||o>i+s&&o>e+s||o<i-s&&o<e-s)return!1;if(i===e)return Math.abs(o-i)<=s/2;var u=(l=(t-n)/(i-e))*o-a+(i*n-e*t)/(i-e);return u*u/(l*l+1)<=s/2*s/2}function ui(i,t,e,n,r,o,a,s,l,u,h){if(0===l)return!1;var c=l;return!(h>t+c&&h>n+c&&h>o+c&&h>s+c||h<t-c&&h<n-c&&h<o-c&&h<s-c||u>i+c&&u>e+c&&u>r+c&&u>a+c||u<i-c&&u<e-c&&u<r-c&&u<a-c)&&$l(i,t,e,n,r,o,a,s,u,h,null)<=c/2}function pi(i,t,e,n,r,o,a,s,l){if(0===a)return!1;var u=a;return!(l>t+u&&l>n+u&&l>o+u||l<t-u&&l<n-u&&l<o-u||s>i+u&&s>e+u&&s>r+u||s<i-u&&s<e-u&&s<r-u)&&Hh(i,t,e,n,r,o,s,l,null)<=u/2}var cn=2*Math.PI;function fi(i){return(i%=cn)<0&&(i+=cn),i}var Xi=2*Math.PI;function Wr(i,t,e,n,r,o,a,s,l){if(0===a)return!1;var u=a;s-=i,l-=t;var h=Math.sqrt(s*s+l*l);if(h-u>e||h+u<e)return!1;if(Math.abs(n-r)%Xi<1e-4)return!0;if(o){var c=n;n=fi(r),r=fi(c)}else n=fi(n),r=fi(r);n>r&&(r+=Xi);var p=Math.atan2(l,s);return p<0&&(p+=Xi),p>=n&&p<=r||p+Xi>=n&&p+Xi<=r}function en(i,t,e,n,r,o){if(o>t&&o>n||o<t&&o<n||n===t)return 0;var a=(o-t)/(n-t),s=n<t?1:-1;1!==a&&0!==a||(s=n<t?.5:-.5);var l=a*(e-i)+i;return l===r?1/0:l>r?s:0}var Ui=ht.CMD,tn=2*Math.PI,wn=[-1,-1,-1],vr=[-1,-1];function KA(i,t,e,n,r,o,a,s,l,u){if(u>t&&u>n&&u>o&&u>s||u<t&&u<n&&u<o&&u<s)return 0;var h,c=bs(t,n,o,s,u,wn);if(0===c)return 0;for(var p=0,f=-1,m=void 0,y=void 0,v=0;v<c;v++){var b=wn[v],S=0===b||1===b?.5:1;Tt(i,e,r,a,b)<l||(f<0&&(f=hr(t,n,o,s,vr),vr[1]<vr[0]&&f>1&&(h=vr[0],vr[0]=vr[1],vr[1]=h),m=Tt(t,n,o,s,vr[0]),f>1&&(y=Tt(t,n,o,s,vr[1]))),p+=2===f?b<vr[0]?m<t?S:-S:b<vr[1]?y<m?S:-S:s<y?S:-S:b<vr[0]?m<t?S:-S:s<m?S:-S)}return p}function JA(i,t,e,n,r,o,a,s){if(s>t&&s>n&&s>o||s<t&&s<n&&s<o)return 0;var l=function(m,y,v,b,S){var I=m-2*y+v,T=2*(y-m),D=m-b,A=0;if($i(I))Ai(T)&&(P=-D/T)>=0&&P<=1&&(S[A++]=P);else{var L=T*T-4*I*D;if($i(L))(P=-T/(2*I))>=0&&P<=1&&(S[A++]=P);else if(L>0){var P,E=zr(L),N=(-T-E)/(2*I);(P=(-T+E)/(2*I))>=0&&P<=1&&(S[A++]=P),N>=0&&N<=1&&(S[A++]=N)}}return A}(t,n,o,s,wn);if(0===l)return 0;var u=Jl(t,n,o);if(u>=0&&u<=1){for(var h=0,c=bi(t,n,o,u),p=0;p<l;p++){var f=0===wn[p]||1===wn[p]?.5:1;bi(i,e,r,wn[p])<a||(h+=wn[p]<u?c<t?f:-f:o<c?f:-f)}return h}return f=0===wn[0]||1===wn[0]?.5:1,bi(i,e,r,wn[0])<a?0:o<t?f:-f}function QA(i,t,e,n,r,o,a,s){if((s-=t)>e||s<-e)return 0;var l=Math.sqrt(e*e-s*s);wn[0]=-l,wn[1]=l;var u=Math.abs(n-r);if(u<1e-4)return 0;if(u>=tn-1e-4){n=0,r=tn;var h=o?1:-1;return a>=wn[0]+i&&a<=wn[1]+i?h:0}if(n>r){var c=n;n=r,r=c}n<0&&(n+=tn,r+=tn);for(var p=0,f=0;f<2;f++){var m=wn[f];if(m+i>a){var y=Math.atan2(s,m);h=o?1:-1,y<0&&(y=tn+y),(y>=n&&y<=r||y+tn>=n&&y+tn<=r)&&(y>Math.PI/2&&y<1.5*Math.PI&&(h=-h),p+=h)}}return p}function y1(i,t,e,n,r){for(var o,a,u=i.data,h=i.len(),c=0,p=0,f=0,m=0,y=0,v=0;v<h;){var b=u[v++],S=1===v;switch(b===Ui.M&&v>1&&(e||(c+=en(p,f,m,y,n,r))),S&&(m=p=u[v],y=f=u[v+1]),b){case Ui.M:p=m=u[v++],f=y=u[v++];break;case Ui.L:if(e){if(Wt(p,f,u[v],u[v+1],t,n,r))return!0}else c+=en(p,f,u[v],u[v+1],n,r)||0;p=u[v++],f=u[v++];break;case Ui.C:if(e){if(ui(p,f,u[v++],u[v++],u[v++],u[v++],u[v],u[v+1],t,n,r))return!0}else c+=KA(p,f,u[v++],u[v++],u[v++],u[v++],u[v],u[v+1],n,r)||0;p=u[v++],f=u[v++];break;case Ui.Q:if(e){if(pi(p,f,u[v++],u[v++],u[v],u[v+1],t,n,r))return!0}else c+=JA(p,f,u[v++],u[v++],u[v],u[v+1],n,r)||0;p=u[v++],f=u[v++];break;case Ui.A:var I=u[v++],T=u[v++],D=u[v++],A=u[v++],L=u[v++],P=u[v++];v+=1;var E=!!(1-u[v++]);o=Math.cos(L)*D+I,a=Math.sin(L)*A+T,S?(m=o,y=a):c+=en(p,f,o,a,n,r);var N=(n-I)*A/D+I;if(e){if(Wr(I,T,A,L,L+P,E,t,N,r))return!0}else c+=QA(I,T,A,L,L+P,E,N,r);p=Math.cos(L+P)*D+I,f=Math.sin(L+P)*A+T;break;case Ui.R:if(m=p=u[v++],y=f=u[v++],o=m+u[v++],a=y+u[v++],e){if(Wt(m,y,o,y,t,n,r)||Wt(o,y,o,a,t,n,r)||Wt(o,a,m,a,t,n,r)||Wt(m,a,m,y,t,n,r))return!0}else c+=en(o,y,o,a,n,r),c+=en(m,a,m,y,n,r);break;case Ui.Z:if(e){if(Wt(p,f,m,y,t,n,r))return!0}else c+=en(p,f,m,y,n,r);p=m,f=y}}return e||Math.abs(f-y)<1e-4||(c+=en(p,f,m,y,n,r)||0),0!==c}var Bp=Ve({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},po),ek={style:Ve({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},js.style)},gm=Jn.concat(["invisible","culling","z","z2","zlevel","parent"]),gt=function(i){function t(n){return i.call(this,n)||this}var e;return ie(t,i),t.prototype.update=function(){var n=this;i.prototype.update.call(this);var r=this.style;if(r.decal){var o=this._decalEl=this._decalEl||new t;o.buildPath===t.prototype.buildPath&&(o.buildPath=function(u){n.buildPath(u,n.shape)}),o.silent=!0;var a=o.style;for(var s in r)a[s]!==r[s]&&(a[s]=r[s]);a.fill=r.fill?r.decal:null,a.decal=null,a.shadowColor=null,r.strokeFirst&&(a.stroke=null);for(var l=0;l<gm.length;++l)o[gm[l]]=this[gm[l]];o.__dirty|=1}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(n){var r=dt(n);this.shape=this.getDefaultShape();var o=this.getDefaultStyle();o&&this.useStyle(o);for(var a=0;a<r.length;a++){var s=r[a],l=n[s];"style"===s?this.style?de(this.style,l):this.useStyle(l):"shape"===s?de(this.shape,l):i.prototype.attrKV.call(this,s,l)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var n=this.style.fill;if("none"!==n){if(De(n)){var r=Is(n,0);return r>.5?oc:r>.2?"#eee":hu}if(n)return hu}return oc},t.prototype.getInsideTextStroke=function(n){var r=this.style.fill;if(De(r)){var o=this.__zr;if(!(!o||!o.isDarkMode())==Is(n,0)<.4)return r}},t.prototype.buildPath=function(n,r,o){},t.prototype.pathUpdated=function(){this.__dirty&=-5},t.prototype.getUpdatedPathProxy=function(n){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,n),this.path},t.prototype.createPathProxy=function(){this.path=new ht(!1)},t.prototype.hasStroke=function(){var n=this.style,r=n.stroke;return!(null==r||"none"===r||!(n.lineWidth>0))},t.prototype.hasFill=function(){var n=this.style.fill;return null!=n&&"none"!==n},t.prototype.getBoundingRect=function(){var n=this._rect,r=this.style,o=!n;if(o){var a=!1;this.path||(a=!0,this.createPathProxy());var s=this.path;(a||4&this.__dirty)&&(s.beginPath(),this.buildPath(s,this.shape,!1),this.pathUpdated()),n=s.getBoundingRect()}if(this._rect=n,this.hasStroke()&&this.path&&this.path.len()>0){var l=this._rectStroke||(this._rectStroke=n.clone());if(this.__dirty||o){l.copy(n);var u=r.strokeNoScale?this.getLineScale():1,h=r.lineWidth;this.hasFill()||(h=Math.max(h,this.strokeContainThreshold??4)),u>1e-10&&(l.width+=h/u,l.height+=h/u,l.x-=h/u/2,l.y-=h/u/2)}return l}return n},t.prototype.contain=function(n,r){var o=this.transformCoordToLocal(n,r),a=this.getBoundingRect(),s=this.style;if(a.contain(n=o[0],r=o[1])){var l=this.path;if(this.hasStroke()){var u=s.lineWidth,h=s.strokeNoScale?this.getLineScale():1;if(h>1e-10&&(this.hasFill()||(u=Math.max(u,this.strokeContainThreshold)),y1(l,u/h,!0,n,r)))return!0}if(this.hasFill())return y1(l,0,!1,n,r)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(n){return this.animate("shape",n)},t.prototype.updateDuringAnimation=function(n){"style"===n?this.dirtyStyle():"shape"===n?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(n,r){"shape"===n?this.setShape(r):i.prototype.attrKV.call(this,n,r)},t.prototype.setShape=function(n,r){var o=this.shape;return o||(o=this.shape={}),"string"==typeof n?o[n]=r:de(o,n),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(4&this.__dirty)},t.prototype.createStyle=function(n){return Dn(Bp,n)},t.prototype._innerSaveToNormal=function(n){i.prototype._innerSaveToNormal.call(this,n);var r=this._normalState;n.shape&&!r.shape&&(r.shape=de({},this.shape))},t.prototype._applyStateObj=function(n,r,o,a,s,l){i.prototype._applyStateObj.call(this,n,r,o,a,s,l);var u,h=!(r&&a);if(r&&r.shape?s?a?u=r.shape:(u=de({},o.shape),de(u,r.shape)):(u=de({},a?this.shape:o.shape),de(u,r.shape)):h&&(u=o.shape),u)if(s){this.shape=de({},this.shape);for(var c={},p=dt(u),f=0;f<p.length;f++){var m=p[f];"object"==typeof u[m]?this.shape[m]=u[m]:c[m]=u[m]}this._transitionState(n,{shape:c},l)}else this.shape=u,this.dirtyShape()},t.prototype._mergeStates=function(n){for(var r,o=i.prototype._mergeStates.call(this,n),a=0;a<n.length;a++){var s=n[a];s.shape&&this._mergeStyle(r=r||{},s.shape)}return r&&(o.shape=r),o},t.prototype.getAnimationStyleProps=function(){return ek},t.prototype.isZeroArea=function(){return!1},t.extend=function(n){var r=function(a){function s(l){var u=a.call(this,l)||this;return n.init&&n.init.call(u,l),u}return ie(s,a),s.prototype.getDefaultStyle=function(){return Ue(n.style)},s.prototype.getDefaultShape=function(){return Ue(n.shape)},s}(t);for(var o in n)"function"==typeof n[o]&&(r.prototype[o]=n[o]);return r},t.initDefaultProps=((e=t.prototype).type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,void(e.__dirty=7)),t}(Yi),tk=Ve({strokeFirst:!0,font:ut,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Bp),Cu=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return ie(t,i),t.prototype.hasStroke=function(){var e=this.style,n=e.stroke;return null!=n&&"none"!==n&&e.lineWidth>0},t.prototype.hasFill=function(){var e=this.style.fill;return null!=e&&"none"!==e},t.prototype.createStyle=function(e){return Dn(tk,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){var e=this.style;if(!this._rect){var n=e.text;null!=n?n+="":n="";var r=Qn(n,e.font,e.textAlign,e.textBaseline);if(r.x+=e.x||0,r.y+=e.y||0,this.hasStroke()){var o=e.lineWidth;r.x-=o/2,r.y-=o/2,r.width+=o,r.height+=o}this._rect=r}return this._rect},t.initDefaultProps=void(t.prototype.dirtyRectTolerance=10),t}(Yi);Cu.prototype.type="tspan";var ik=Ve({x:0,y:0},po),nk={style:Ve({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},js.style)},Ri=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return ie(t,i),t.prototype.createStyle=function(e){return Dn(ik,e)},t.prototype._getSize=function(e){var n=this.style,r=n[e];if(null!=r)return r;var o,a=(o=n.image)&&"string"!=typeof o&&o.width&&o.height?n.image:this.__image;if(!a)return 0;var s="width"===e?"height":"width",l=n[s];return null==l?a[e]:a[e]/a[s]*l},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return nk},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new st(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t}(Yi);Ri.prototype.type="image";var Du=Math.round;function v1(i,t,e){if(t){var n=t.x1,r=t.x2,o=t.y1,a=t.y2;i.x1=n,i.x2=r,i.y1=o,i.y2=a;var s=e&&e.lineWidth;return s&&(Du(2*n)===Du(2*r)&&(i.x1=i.x2=qs(n,s,!0)),Du(2*o)===Du(2*a)&&(i.y1=i.y2=qs(o,s,!0))),i}}function x1(i,t,e){if(t){var n=t.x,r=t.y,o=t.width,a=t.height;i.x=n,i.y=r,i.width=o,i.height=a;var s=e&&e.lineWidth;return s&&(i.x=qs(n,s,!0),i.y=qs(r,s,!0),i.width=Math.max(qs(n+o,s,!1)-i.x,0===o?0:1),i.height=Math.max(qs(r+a,s,!1)-i.y,0===a?0:1)),i}}function qs(i,t,e){if(!t)return i;var n=Du(2*i);return(n+Du(t))%2==0?n/2:(n+(e?1:-1))/2}var rk=function(){this.x=0,this.y=0,this.width=0,this.height=0},ok={},St=function(i){function t(e){return i.call(this,e)||this}return ie(t,i),t.prototype.getDefaultShape=function(){return new rk},t.prototype.buildPath=function(e,n){var r,o,a,s,u,h,c,p,f,m,y,v,b,S,I,T;if(this.subPixelOptimize){var l=x1(ok,n,this.style);r=l.x,o=l.y,a=l.width,s=l.height,l.r=n.r,n=l}else r=n.x,o=n.y,a=n.width,s=n.height;n.r?(u=e,v=(h=n).x,b=h.y,(S=h.width)<0&&(v+=S,S=-S),(I=h.height)<0&&(b+=I,I=-I),"number"==typeof(T=h.r)?c=p=f=m=T:T instanceof Array?1===T.length?c=p=f=m=T[0]:2===T.length?(c=f=T[0],p=m=T[1]):3===T.length?(c=T[0],p=m=T[1],f=T[2]):(c=T[0],p=T[1],f=T[2],m=T[3]):c=p=f=m=0,c+p>S&&(c*=S/(y=c+p),p*=S/y),f+m>S&&(f*=S/(y=f+m),m*=S/y),p+f>I&&(p*=I/(y=p+f),f*=I/y),c+m>I&&(c*=I/(y=c+m),m*=I/y),u.moveTo(v+c,b),u.lineTo(v+S-p,b),0!==p&&u.arc(v+S-p,b+p,p,-Math.PI/2,0),u.lineTo(v+S,b+I-f),0!==f&&u.arc(v+S-f,b+I-f,f,0,Math.PI/2),u.lineTo(v+m,b+I),0!==m&&u.arc(v+m,b+I-m,m,Math.PI/2,Math.PI),u.lineTo(v,b+c),0!==c&&u.arc(v+c,b+c,c,Math.PI,1.5*Math.PI)):e.rect(r,o,a,s)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(gt);St.prototype.type="rect";var _1={fill:"#000"},ak={style:Ve({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},js.style)},Mt=function(i){function t(e){var n=i.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=_1,n.attr(e),n}return ie(t,i),t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){i.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var n=this._children[e];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},t.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):i.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(e){var n=this.innerTransformable;return n?n.getLocalTransform(e):i.prototype.getLocalTransform.call(this,e)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),i.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){var e;this._childCursor=0,I1(e=this.style),G(e.rich,I1),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(e){i.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=e},t.prototype.removeSelfFromZr=function(e){i.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new st(0,0,0,0),n=this._children,r=[],o=null,a=0;a<n.length;a++){var s=n[a],l=s.getBoundingRect(),u=s.getLocalTransform(r);u?(e.copy(l),e.applyTransform(u),(o=o||e.clone()).union(e)):(o=o||l.clone()).union(l)}this._rect=o||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||_1},t.prototype.setTextContent=function(e){},t.prototype._mergeStyle=function(e,n){if(!n)return e;var r=n.rich,o=e.rich||r&&{};return de(e,n),r&&o?(this._mergeRich(o,r),e.rich=o):o&&(e.rich=o),e},t.prototype._mergeRich=function(e,n){for(var r=dt(n),o=0;o<r.length;o++){var a=r[o];e[a]=e[a]||{},de(e[a],n[a])}},t.prototype.getAnimationStyleProps=function(){return ak},t.prototype._getOrCreateChild=function(e){var n=this._children[this._childCursor];return n&&n instanceof e||(n=new e),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},t.prototype._updatePlainTexts=function(){var e=this.style,n=e.font||ut,r=e.padding,o=function(Z,q){null!=Z&&(Z+="");var K,Q=q.overflow,te=q.padding,ne=q.font,ce="truncate"===Q,ye=du(ne),re=He(q.lineHeight,ye),pe=!!q.backgroundColor,ve="truncate"===q.lineOverflow,be=q.width,xe=(K=null==be||"break"!==Q&&"breakAll"!==Q?Z?Z.split("\n"):[]:Z?Ji(Z,q.font,be,"breakAll"===Q,0).lines:[]).length*re,we=He(q.height,xe);if(xe>we&&ve){var _e=Math.floor(we/re);K=K.slice(0,_e)}if(Z&&ce&&null!=be)for(var Ce=xc(be,ne,q.ellipsis,{minChar:q.truncateMinChar,placeholder:q.placeholder}),Ne=0;Ne<K.length;Ne++)K[Ne]=Np(K[Ne],Ce);var et=we,ot=0;for(Ne=0;Ne<K.length;Ne++)ot=Math.max(un(K[Ne],ne),ot);null==be&&(be=ot);var Bt=ot;return te&&(et+=te[0]+te[2],Bt+=te[1]+te[3],be+=te[1]+te[3]),pe&&(Bt=be),{lines:K,height:we,outerWidth:Bt,outerHeight:et,lineHeight:re,calculatedLineHeight:ye,contentWidth:ot,contentHeight:xe,width:be}}(A1(e),e),a=mm(e),s=!!e.backgroundColor,l=o.outerHeight,u=o.outerWidth,h=o.contentWidth,c=o.lines,p=o.lineHeight,f=this._defaultStyle,m=e.x||0,y=e.y||0,v=e.align||f.align||"left",b=e.verticalAlign||f.verticalAlign||"top",S=m,I=Xo(y,o.contentHeight,b);if(a||r){var T=Yo(m,u,v),D=Xo(y,l,b);a&&this._renderBackground(e,e,T,D,u,l)}I+=p/2,r&&(S=D1(m,v,r),"top"===b?I+=r[0]:"bottom"===b&&(I-=r[2]));for(var A=0,L=!1,P=(C1("fill"in e?e.fill:(L=!0,f.fill))),E=(T1("stroke"in e?e.stroke:s||f.autoStroke&&!L?null:(A=2,f.stroke))),N=e.textShadowBlur>0,z=null!=e.width&&("truncate"===e.overflow||"break"===e.overflow||"breakAll"===e.overflow),B=o.calculatedLineHeight,W=0;W<c.length;W++){var Y=this._getOrCreateChild(Cu),j=Y.createStyle();Y.useStyle(j),j.text=c[W],j.x=S,j.y=I,v&&(j.textAlign=v),j.textBaseline="middle",j.opacity=e.opacity,j.strokeFirst=!0,N&&(j.shadowBlur=e.textShadowBlur||0,j.shadowColor=e.textShadowColor||"transparent",j.shadowOffsetX=e.textShadowOffsetX||0,j.shadowOffsetY=e.textShadowOffsetY||0),j.stroke=E,j.fill=P,E&&(j.lineWidth=e.lineWidth||A,j.lineDash=e.lineDash,j.lineDashOffset=e.lineDashOffset||0),j.font=n,S1(j,e),I+=p,z&&Y.setBoundingRect(new st(Yo(j.x,e.width,j.textAlign),Xo(j.y,B,j.textBaseline),h,B))}},t.prototype._updateRichTexts=function(){var e=this.style,n=function(Y,j){var Z=new fm;if(null!=Y&&(Y+=""),!Y)return Z;for(var q,K=j.width,Q=j.height,te=j.overflow,ne="break"!==te&&"breakAll"!==te||null==K?null:{width:K,accumWidth:0,breakAll:"breakAll"===te},ce=Xs.lastIndex=0;null!=(q=Xs.exec(Y));){var ye=q.index;ye>ce&&Iu(Z,Y.substring(ce,ye),j,ne),Iu(Z,q[2],j,ne,q[1]),ce=Xs.lastIndex}ce<Y.length&&Iu(Z,Y.substring(ce,Y.length),j,ne);var re=[],pe=0,ve=0,be=j.padding,xe="truncate"===te,we="truncate"===j.lineOverflow;function _e(oi,vi,xi){oi.width=vi,oi.lineHeight=xi,pe+=xi,ve=Math.max(ve,vi)}e:for(var Ce=0;Ce<Z.lines.length;Ce++){for(var Ne=Z.lines[Ce],et=0,ot=0,Bt=0;Bt<Ne.tokens.length;Bt++){var ct=(tt=Ne.tokens[Bt]).styleName&&j.rich[tt.styleName]||{},vt=tt.textPadding=ct.padding,Yt=vt?vt[1]+vt[3]:0,$t=tt.font=ct.font||j.font;tt.contentHeight=du($t);var yi=He(ct.height,tt.contentHeight);if(tt.innerHeight=yi,vt&&(yi+=vt[0]+vt[2]),tt.height=yi,tt.lineHeight=ft(ct.lineHeight,j.lineHeight,yi),tt.align=ct&&ct.align||j.align,tt.verticalAlign=ct&&ct.verticalAlign||"middle",we&&null!=Q&&pe+tt.lineHeight>Q){Bt>0?(Ne.tokens=Ne.tokens.slice(0,Bt),_e(Ne,ot,et),Z.lines=Z.lines.slice(0,Ce+1)):Z.lines=Z.lines.slice(0,Ce);break e}var Mi=ct.width,Yn=null==Mi||"auto"===Mi;if("string"==typeof Mi&&"%"===Mi.charAt(Mi.length-1))tt.percentWidth=Mi,re.push(tt),tt.contentWidth=un(tt.text,$t);else{if(Yn){var Mo=ct.backgroundColor,Dt=Mo&&Mo.image;Dt&&Ys(Dt=Ep(Dt))&&(tt.width=Math.max(tt.width,Dt.width*yi/Dt.height))}var lt=xe&&null!=K?K-ot:null;null!=lt&&lt<tt.width?!Yn||lt<Yt?(tt.text="",tt.width=tt.contentWidth=0):(tt.text=Mu(tt.text,lt-Yt,$t,j.ellipsis,{minChar:j.truncateMinChar}),tt.width=tt.contentWidth=un(tt.text,$t)):tt.contentWidth=un(tt.text,$t)}tt.width+=Yt,ot+=tt.width,ct&&(et=Math.max(et,tt.lineHeight))}_e(Ne,ot,et)}for(Z.outerWidth=Z.width=He(K,ve),Z.outerHeight=Z.height=He(Q,pe),Z.contentHeight=pe,Z.contentWidth=ve,be&&(Z.outerWidth+=be[1]+be[3],Z.outerHeight+=be[0]+be[2]),Ce=0;Ce<re.length;Ce++){var tt,Jt=(tt=re[Ce]).percentWidth;tt.width=parseInt(Jt,10)/100*Z.width}return Z}(A1(e),e),r=n.width,o=n.outerWidth,a=n.outerHeight,s=e.padding,u=e.y||0,h=this._defaultStyle,p=e.verticalAlign||h.verticalAlign,f=Yo(e.x||0,o,e.align||h.align),m=Xo(u,a,p),y=f,v=m;s&&(y+=s[3],v+=s[0]);var b=y+r;mm(e)&&this._renderBackground(e,e,f,m,o,a);for(var S=!!e.backgroundColor,I=0;I<n.lines.length;I++){for(var T=n.lines[I],D=T.tokens,A=D.length,L=T.lineHeight,P=T.width,E=0,N=y,z=b,B=A-1,W=void 0;E<A&&(!(W=D[E]).align||"left"===W.align);)this._placeToken(W,e,L,v,N,"left",S),P-=W.width,N+=W.width,E++;for(;B>=0&&"right"===(W=D[B]).align;)this._placeToken(W,e,L,v,z,"right",S),P-=W.width,z-=W.width,B--;for(N+=(r-(N-y)-(b-z)-P)/2;E<=B;)this._placeToken(W=D[E],e,L,v,N+W.width/2,"center",S),N+=W.width,E++;v+=L}},t.prototype._placeToken=function(e,n,r,o,a,s,l){var u=n.rich[e.styleName]||{};u.text=e.text;var h=e.verticalAlign,c=o+r/2;"top"===h?c=o+e.height/2:"bottom"===h&&(c=o+r-e.height/2),!e.isLineHolder&&mm(u)&&this._renderBackground(u,n,"right"===s?a-e.width:"center"===s?a-e.width/2:a,c-e.height/2,e.width,e.height);var p=!!u.backgroundColor,f=e.textPadding;f&&(a=D1(a,s,f),c-=e.height/2-f[0]-e.innerHeight/2);var m=this._getOrCreateChild(Cu),y=m.createStyle();m.useStyle(y);var v=this._defaultStyle,b=!1,S=0,I=C1("fill"in u?u.fill:"fill"in n?n.fill:(b=!0,v.fill)),T=T1("stroke"in u?u.stroke:"stroke"in n?n.stroke:p||l||v.autoStroke&&!b?null:(S=2,v.stroke)),D=u.textShadowBlur>0||n.textShadowBlur>0;y.text=e.text,y.x=a,y.y=c,D&&(y.shadowBlur=u.textShadowBlur||n.textShadowBlur||0,y.shadowColor=u.textShadowColor||n.textShadowColor||"transparent",y.shadowOffsetX=u.textShadowOffsetX||n.textShadowOffsetX||0,y.shadowOffsetY=u.textShadowOffsetY||n.textShadowOffsetY||0),y.textAlign=s,y.textBaseline="middle",y.font=e.font||ut,y.opacity=ft(u.opacity,n.opacity,1),S1(y,u),T&&(y.lineWidth=ft(u.lineWidth,n.lineWidth,S),y.lineDash=He(u.lineDash,n.lineDash),y.lineDashOffset=n.lineDashOffset||0,y.stroke=T),I&&(y.fill=I);var A=e.contentWidth,L=e.contentHeight;m.setBoundingRect(new st(Yo(y.x,A,y.textAlign),Xo(y.y,L,y.textBaseline),A,L))},t.prototype._renderBackground=function(e,n,r,o,a,s){var l,u,h,c=e.backgroundColor,p=e.borderWidth,f=e.borderColor,m=c&&c.image,y=c&&!m,v=e.borderRadius,b=this;if(y||e.lineHeight||p&&f){(l=this._getOrCreateChild(St)).useStyle(l.createStyle()),l.style.fill=null;var S=l.shape;S.x=r,S.y=o,S.width=a,S.height=s,S.r=v,l.dirtyShape()}if(y)(h=l.style).fill=c||null,h.fillOpacity=He(e.fillOpacity,1);else if(m){(u=this._getOrCreateChild(Ri)).onload=function(){b.dirtyStyle()};var I=u.style;I.image=c.image,I.x=r,I.y=o,I.width=a,I.height=s}p&&f&&((h=l.style).lineWidth=p,h.stroke=f,h.strokeOpacity=He(e.strokeOpacity,1),h.lineDash=e.borderDash,h.lineDashOffset=e.borderDashOffset||0,l.strokeContainThreshold=0,l.hasFill()&&l.hasStroke()&&(h.strokeFirst=!0,h.lineWidth*=2));var T=(l||u).style;T.shadowBlur=e.shadowBlur||0,T.shadowColor=e.shadowColor||"transparent",T.shadowOffsetX=e.shadowOffsetX||0,T.shadowOffsetY=e.shadowOffsetY||0,T.opacity=ft(e.opacity,n.opacity,1)},t.makeFont=function(e){var n="";return M1(e)&&(n=[e.fontStyle,e.fontWeight,w1(e.fontSize),e.fontFamily||"sans-serif"].join(" ")),n&&Ut(n)||e.textFont||e.font},t}(Yi),sk={left:!0,right:1,center:1},lk={top:1,bottom:1,middle:1},b1=["fontStyle","fontWeight","fontSize","fontFamily"];function w1(i){return"string"!=typeof i||-1===i.indexOf("px")&&-1===i.indexOf("rem")&&-1===i.indexOf("em")?isNaN(+i)?"12px":i+"px":i}function S1(i,t){for(var e=0;e<b1.length;e++){var n=b1[e],r=t[n];null!=r&&(i[n]=r)}}function M1(i){return null!=i.fontSize||i.fontFamily||i.fontWeight}function I1(i){if(i){i.font=Mt.makeFont(i);var t=i.align;"middle"===t&&(t="center"),i.align=null==t||sk[t]?t:"left";var e=i.verticalAlign;"center"===e&&(e="middle"),i.verticalAlign=null==e||lk[e]?e:"top",i.padding&&(i.padding=ri(i.padding))}}function T1(i,t){return null==i||t<=0||"transparent"===i||"none"===i?null:i.image||i.colorStops?"#000":i}function C1(i){return null==i||"none"===i?null:i.image||i.colorStops?"#000":i}function D1(i,t,e){return"right"===t?i-e[1]:"center"===t?i+e[3]/2-e[1]/2:i+e[3]}function A1(i){var t=i.text;return null!=t&&(t+=""),t}function mm(i){return!!(i.backgroundColor||i.lineHeight||i.borderWidth&&i.borderColor)}var rt=_t(),ym=function(i,t,e,n){if(n){var r=rt(n);r.dataIndex=e,r.dataType=t,r.seriesIndex=i,"group"===n.type&&n.traverse(function(o){var a=rt(o);a.seriesIndex=i,a.dataIndex=e,a.dataType=t})}},k1=1,L1={},P1=_t(),vm=_t(),Sn=["emphasis","blur","select"],wc=["normal","emphasis","blur","select"],$s="highlight",Fp="downplay",Sc="select",Gp="unselect",Mc="toggleSelect";function Au(i){return null!=i&&"none"!==i}var O1=new Vo(100);function R1(i){if(De(i)){var t=O1.get(i);return t||(t=Go(i,-.1),O1.put(i,t)),t}if(bt(i)){var e=de({},i);return e.colorStops=ge(i.colorStops,function(n){return{offset:n.offset,color:Go(n.color,-.1)}}),e}return i}function Wp(i,t,e){i.onHoverStateChange&&(i.hoverState||0)!==e&&i.onHoverStateChange(t),i.hoverState=e}function E1(i){Wp(i,"emphasis",2)}function N1(i){2===i.hoverState&&Wp(i,"normal",0)}function xm(i){Wp(i,"blur",1)}function z1(i){1===i.hoverState&&Wp(i,"normal",0)}function hk(i){i.selected=!0}function ck(i){i.selected=!1}function V1(i,t,e){t(i,e)}function Qo(i,t,e){V1(i,t,e),i.isGroup&&i.traverse(function(n){V1(n,t,e)})}function Hp(i,t){switch(t){case"emphasis":i.hoverState=2;break;case"normal":i.hoverState=0;break;case"blur":i.hoverState=1;break;case"select":i.selected=!0}}function _m(i,t){var r,o,a,s,l,u,e=this.states[i];if(this.style){if("emphasis"===i)return function(n,r,o,a){var s=o&&We(o,"select")>=0,l=!1;if(n instanceof gt){var u=P1(n),h=s&&u.selectFill||u.normalFill,c=s&&u.selectStroke||u.normalStroke;if(Au(h)||Au(c)){var p=(a=a||{}).style||{};"inherit"===p.fill?(l=!0,a=de({},a),(p=de({},p)).fill=h):!Au(p.fill)&&Au(h)?(l=!0,a=de({},a),(p=de({},p)).fill=R1(h)):!Au(p.stroke)&&Au(c)&&(l||(a=de({},a),p=de({},p)),p.stroke=R1(c)),a.style=p}}return a&&null==a.z2&&(l||(a=de({},a)),a.z2=n.z2+(n.z2EmphasisLift??10)),a}(this,0,t,e);if("blur"===i)return o=e,a=We(this.currentStates,r=i)>=0,s=this.style.opacity,l=a?null:function(h,c,p,f){for(var m=h.style,y={},v=0;v<c.length;v++){var b=c[v];y[b]=m[b]??(f&&f[b])}for(v=0;v<h.animators.length;v++){var I=h.animators[v];I.__fromStateTransition&&I.__fromStateTransition.indexOf(p)<0&&"style"===I.targetName&&I.saveTo(y,c)}return y}(this,["opacity"],r,{opacity:1}),null==(u=(o=o||{}).style||{}).opacity&&(o=de({},o),u=de({opacity:a?s:.1*l.opacity},u),o.style=u),o;if("select"===i)return function(n,r,o){return o&&null==o.z2&&((o=de({},o)).z2=n.z2+(n.z2SelectLift??9)),o}(this,0,e)}return e}function Ks(i){i.stateProxy=_m;var t=i.getTextContent(),e=i.getTextGuideLine();t&&(t.stateProxy=_m),e&&(e.stateProxy=_m)}function B1(i,t){!Y1(i,t)&&!i.__highByOuter&&Qo(i,E1)}function F1(i,t){!Y1(i,t)&&!i.__highByOuter&&Qo(i,N1)}function ea(i,t){i.__highByOuter|=1<<(t||0),Qo(i,E1)}function ta(i,t){!(i.__highByOuter&=~(1<<(t||0)))&&Qo(i,N1)}function G1(i){Qo(i,xm)}function bm(i){Qo(i,z1)}function W1(i){Qo(i,hk)}function H1(i){Qo(i,ck)}function Y1(i,t){return i.__highDownSilentOnTouch&&t.zrByTouch}function X1(i){var t=i.getModel(),e=[],n=[];t.eachComponent(function(r,o){var a=vm(o),s="series"===r,l=s?i.getViewOfSeriesModel(o):i.getViewOfComponentModel(o);!s&&n.push(l),a.isBlured&&(l.group.traverse(function(u){z1(u)}),s&&e.push(o)),a.isBlured=!1}),G(n,function(r){r&&r.toggleBlurSeries&&r.toggleBlurSeries(e,!1,t)})}function wm(i,t,e,n){var r=n.getModel();function o(u,h){for(var c=0;c<h.length;c++){var p=u.getItemGraphicEl(h[c]);p&&bm(p)}}if(e=e||"coordinateSystem",null!=i&&t&&"none"!==t){var a=r.getSeriesByIndex(i),s=a.coordinateSystem;s&&s.master&&(s=s.master);var l=[];r.eachSeries(function(u){var h=a===u,c=u.coordinateSystem;if(c&&c.master&&(c=c.master),!("series"===e&&!h||"coordinateSystem"===e&&!(c&&s?c===s:h)||"series"===t&&h)){if(n.getViewOfSeriesModel(u).group.traverse(function(m){xm(m)}),Ft(t))o(u.getData(),t);else if(le(t))for(var p=dt(t),f=0;f<p.length;f++)o(u.getData(p[f]),t[p[f]]);l.push(u),vm(u).isBlured=!0}}),r.eachComponent(function(u,h){if("series"!==u){var c=n.getViewOfComponentModel(h);c&&c.toggleBlurSeries&&c.toggleBlurSeries(l,!0,r)}})}}function Sm(i,t,e){if(null!=i&&null!=t){var n=e.getModel().getComponent(i,t);if(n){vm(n).isBlured=!0;var r=e.getViewOfComponentModel(n);r&&r.focusBlurEnabled&&r.group.traverse(function(o){xm(o)})}}}function Mm(i,t,e,n){var r={focusSelf:!1,dispatchers:null};if(null==i||"series"===i||null==t||null==e)return r;var o=n.getModel().getComponent(i,t);if(!o)return r;var a=n.getViewOfComponentModel(o);if(!a||!a.findHighDownDispatchers)return r;for(var s,l=a.findHighDownDispatchers(e),u=0;u<l.length;u++)if("self"===rt(l[u]).focus){s=!0;break}return{focusSelf:s,dispatchers:l}}function U1(i){G(i.getAllData(),function(t){var n=t.type;t.data.eachItemGraphicEl(function(r,o){i.isSelected(o,n)?W1(r):H1(r)})})}function dk(i){var t=[];return i.eachSeries(function(e){G(e.getAllData(),function(n){var r=n.type,o=e.getSelectedDataIndices();if(o.length>0){var a={dataIndex:o,seriesIndex:e.seriesIndex};null!=r&&(a.dataType=r),t.push(a)}})}),t}function Ea(i,t,e){Js(i,!0),Qo(i,Ks),Im(i,t,e)}function hi(i,t,e,n){n?Js(i,!1):Ea(i,t,e)}function Im(i,t,e){var n=rt(i);null!=t?(n.focus=t,n.blurScope=e):n.focus&&(n.focus=null)}var j1=["emphasis","blur","select"],pk={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function nn(i,t,e,n){e=e||"itemStyle";for(var r=0;r<j1.length;r++){var o=j1[r],a=t.getModel([o,e]);i.ensureState(o).style=n?n(a):a[pk[e]]()}}function Js(i,t){var e=!1===t,n=i;i.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=i.highDownSilentOnTouch),e&&!n.__highDownDispatcher||(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!e)}function Ic(i){return!(!i||!i.__highDownDispatcher)}function Tm(i){var t=i.type;return t===Sc||t===Gp||t===Mc}function Z1(i){var t=i.type;return t===$s||t===Fp}var ku=ht.CMD,fk=[[],[],[]],q1=Math.sqrt,gk=Math.atan2;function $1(i,t){if(t){var e,n,r,o,a,s,l=i.data,u=i.len(),h=ku.M,c=ku.C,p=ku.L,f=ku.R,m=ku.A,y=ku.Q;for(r=0,o=0;r<u;){switch(e=l[r++],o=r,n=0,e){case h:case p:n=1;break;case c:n=3;break;case y:n=2;break;case m:var v=t[4],b=t[5],S=q1(t[0]*t[0]+t[1]*t[1]),I=q1(t[2]*t[2]+t[3]*t[3]),T=gk(-t[1]/I,t[0]/S);l[r]*=S,l[r++]+=v,l[r]*=I,l[r++]+=b,l[r++]*=S,l[r++]*=I,l[r++]+=T,l[r++]+=T,o=r+=2;break;case f:s[0]=l[r++],s[1]=l[r++],Ci(s,s,t),l[o++]=s[0],l[o++]=s[1],s[0]+=l[r++],s[1]+=l[r++],Ci(s,s,t),l[o++]=s[0],l[o++]=s[1]}for(a=0;a<n;a++){var D=fk[a];D[0]=l[r++],D[1]=l[r++],Ci(D,D,t),l[o++]=D[0],l[o++]=D[1]}}i.increaseVersion()}}var Cm=Math.sqrt,Yp=Math.sin,Xp=Math.cos,Tc=Math.PI;function K1(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function Dm(i,t){return(i[0]*t[0]+i[1]*t[1])/(K1(i)*K1(t))}function J1(i,t){return(i[0]*t[1]<i[1]*t[0]?-1:1)*Math.acos(Dm(i,t))}function Q1(i,t,e,n,r,o,a,s,l,u,h){var c=l*(Tc/180),p=Xp(c)*(i-e)/2+Yp(c)*(t-n)/2,f=-1*Yp(c)*(i-e)/2+Xp(c)*(t-n)/2,m=p*p/(a*a)+f*f/(s*s);m>1&&(a*=Cm(m),s*=Cm(m));var y=(r===o?-1:1)*Cm((a*a*(s*s)-a*a*(f*f)-s*s*(p*p))/(a*a*(f*f)+s*s*(p*p)))||0,v=y*a*f/s,b=y*-s*p/a,S=(i+e)/2+Xp(c)*v-Yp(c)*b,I=(t+n)/2+Yp(c)*v+Xp(c)*b,T=J1([1,0],[(p-v)/a,(f-b)/s]),D=[(p-v)/a,(f-b)/s],A=[(-1*p-v)/a,(-1*f-b)/s],L=J1(D,A);if(Dm(D,A)<=-1&&(L=Tc),Dm(D,A)>=1&&(L=0),L<0){var P=Math.round(L/Tc*1e6)/1e6;L=2*Tc+P%2*Tc}h.addData(u,S,I,a,s,T,L,c,o)}var mk=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,yk=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,e_=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return ie(t,i),t.prototype.applyTransform=function(e){},t}(gt);function t_(i){return null!=i.setData}function i_(i,t){var e=function(r){var o=new ht;if(!r)return o;var a,s=0,l=0,u=s,h=l,c=ht.CMD,p=r.match(mk);if(!p)return o;for(var f=0;f<p.length;f++){for(var m=p[f],y=m.charAt(0),v=void 0,b=m.match(yk)||[],S=b.length,I=0;I<S;I++)b[I]=parseFloat(b[I]);for(var T=0;T<S;){var D=void 0,A=void 0,L=void 0,P=void 0,E=void 0,N=void 0,z=void 0,B=s,W=l,Y=void 0,j=void 0;switch(y){case"l":s+=b[T++],l+=b[T++],o.addData(v=c.L,s,l);break;case"L":s=b[T++],l=b[T++],o.addData(v=c.L,s,l);break;case"m":s+=b[T++],l+=b[T++],o.addData(v=c.M,s,l),u=s,h=l,y="l";break;case"M":s=b[T++],l=b[T++],o.addData(v=c.M,s,l),u=s,h=l,y="L";break;case"h":s+=b[T++],o.addData(v=c.L,s,l);break;case"H":s=b[T++],o.addData(v=c.L,s,l);break;case"v":l+=b[T++],o.addData(v=c.L,s,l);break;case"V":l=b[T++],o.addData(v=c.L,s,l);break;case"C":o.addData(v=c.C,b[T++],b[T++],b[T++],b[T++],b[T++],b[T++]),s=b[T-2],l=b[T-1];break;case"c":o.addData(v=c.C,b[T++]+s,b[T++]+l,b[T++]+s,b[T++]+l,b[T++]+s,b[T++]+l),s+=b[T-2],l+=b[T-1];break;case"S":D=s,A=l,Y=o.len(),j=o.data,a===c.C&&(D+=s-j[Y-4],A+=l-j[Y-3]),B=b[T++],W=b[T++],s=b[T++],l=b[T++],o.addData(v=c.C,D,A,B,W,s,l);break;case"s":D=s,A=l,Y=o.len(),j=o.data,a===c.C&&(D+=s-j[Y-4],A+=l-j[Y-3]),B=s+b[T++],W=l+b[T++],s+=b[T++],l+=b[T++],o.addData(v=c.C,D,A,B,W,s,l);break;case"Q":B=b[T++],W=b[T++],s=b[T++],l=b[T++],o.addData(v=c.Q,B,W,s,l);break;case"q":B=b[T++]+s,W=b[T++]+l,s+=b[T++],l+=b[T++],o.addData(v=c.Q,B,W,s,l);break;case"T":D=s,A=l,Y=o.len(),j=o.data,a===c.Q&&(D+=s-j[Y-4],A+=l-j[Y-3]),s=b[T++],l=b[T++],o.addData(v=c.Q,D,A,s,l);break;case"t":D=s,A=l,Y=o.len(),j=o.data,a===c.Q&&(D+=s-j[Y-4],A+=l-j[Y-3]),s+=b[T++],l+=b[T++],o.addData(v=c.Q,D,A,s,l);break;case"A":L=b[T++],P=b[T++],E=b[T++],N=b[T++],z=b[T++],Q1(B=s,W=l,s=b[T++],l=b[T++],N,z,L,P,E,v=c.A,o);break;case"a":L=b[T++],P=b[T++],E=b[T++],N=b[T++],z=b[T++],Q1(B=s,W=l,s+=b[T++],l+=b[T++],N,z,L,P,E,v=c.A,o)}}"z"!==y&&"Z"!==y||(o.addData(v=c.Z),s=u,l=h),a=v}return o.toStatic(),o}(i),n=de({},t);return n.buildPath=function(r){if(t_(r))r.setData(e.data),(o=r.getContext())&&r.rebuildPath(o,1);else{var o=r;e.rebuildPath(o,1)}},n.applyTransform=function(r){$1(e,r),this.dirtyShape()},n}function n_(i,t){return new e_(i_(i,t))}function Am(i,t){t=t||{};var e=new gt;return i.shape&&e.setShape(i.shape),e.setStyle(i.style),t.bakeTransform?$1(e.path,i.getComputedTransform()):t.toLocal?e.setLocalTransform(i.getComputedTransform()):e.copyTransform(i),e.buildPath=i.buildPath,e.applyTransform=e.applyTransform,e.z=i.z,e.z2=i.z2,e.zlevel=i.zlevel,e}var vk=function(){this.cx=0,this.cy=0,this.r=0},xr=function(i){function t(e){return i.call(this,e)||this}return ie(t,i),t.prototype.getDefaultShape=function(){return new vk},t.prototype.buildPath=function(e,n){e.moveTo(n.cx+n.r,n.cy),e.arc(n.cx,n.cy,n.r,0,2*Math.PI)},t}(gt);xr.prototype.type="circle";var xk=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},Cc=function(i){function t(e){return i.call(this,e)||this}return ie(t,i),t.prototype.getDefaultShape=function(){return new xk},t.prototype.buildPath=function(e,n){var r=.5522848,o=n.cx,a=n.cy,s=n.rx,l=n.ry,u=s*r,h=l*r;e.moveTo(o-s,a),e.bezierCurveTo(o-s,a-h,o-u,a-l,o,a-l),e.bezierCurveTo(o+u,a-l,o+s,a-h,o+s,a),e.bezierCurveTo(o+s,a+h,o+u,a+l,o,a+l),e.bezierCurveTo(o-u,a+l,o-s,a+h,o-s,a),e.closePath()},t}(gt);Cc.prototype.type="ellipse";var r_=Math.PI,km=2*r_,Qs=Math.sin,Lu=Math.cos,_k=Math.acos,dn=Math.atan2,o_=Math.abs,Dc=Math.sqrt,Ac=Math.max,fo=Math.min,Hr=1e-4;function Up(i,t,e,n,r,o,a){var s=i-e,l=t-n,u=(a?o:-o)/Dc(s*s+l*l),h=u*l,c=-u*s,p=i+h,f=t+c,m=e+h,y=n+c,v=(p+m)/2,b=(f+y)/2,S=m-p,I=y-f,T=S*S+I*I,D=r-o,A=p*y-m*f,L=(I<0?-1:1)*Dc(Ac(0,D*D*T-A*A)),P=(A*I-S*L)/T,E=(-A*S-I*L)/T,N=(A*I+S*L)/T,z=(-A*S+I*L)/T,B=P-v,W=E-b,Y=N-v,j=z-b;return B*B+W*W>Y*Y+j*j&&(P=N,E=z),{cx:P,cy:E,x0:-h,y0:-c,x1:P*(r/D-1),y1:E*(r/D-1)}}var wk=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},pn=function(i){function t(e){return i.call(this,e)||this}return ie(t,i),t.prototype.getDefaultShape=function(){return new wk},t.prototype.buildPath=function(e,n){!function bk(i,t){var e,n=Ac(t.r,0),r=Ac(t.r0||0,0),o=n>0;if(o||r>0){if(o||(n=r,r=0),r>n){var a=n;n=r,r=a}var s=t.startAngle,l=t.endAngle;if(!isNaN(s)&&!isNaN(l)){var u=t.cx,h=t.cy,c=!!t.clockwise,p=o_(l-s),f=p>km&&p%km;if(f>Hr&&(p=f),n>Hr)if(p>km-Hr)i.moveTo(u+n*Lu(s),h+n*Qs(s)),i.arc(u,h,n,s,l,!c),r>Hr&&(i.moveTo(u+r*Lu(l),h+r*Qs(l)),i.arc(u,h,r,l,s,c));else{var m=void 0,y=void 0,v=void 0,b=void 0,S=void 0,I=void 0,T=void 0,D=void 0,A=void 0,L=void 0,P=void 0,E=void 0,N=void 0,z=void 0,B=void 0,W=void 0,Y=n*Lu(s),j=n*Qs(s),Z=r*Lu(l),q=r*Qs(l),K=p>Hr;if(K){var Q=t.cornerRadius;Q&&(m=(e=function(Ne){var et;if(fe(Ne)){var ot=Ne.length;if(!ot)return Ne;et=1===ot?[Ne[0],Ne[0],0,0]:2===ot?[Ne[0],Ne[0],Ne[1],Ne[1]]:3===ot?Ne.concat(Ne[2]):Ne}else et=[Ne,Ne,Ne,Ne];return et}(Q))[0],y=e[1],v=e[2],b=e[3]);var te=o_(n-r)/2;if(S=fo(te,v),I=fo(te,b),T=fo(te,m),D=fo(te,y),P=A=Ac(S,I),E=L=Ac(T,D),(A>Hr||L>Hr)&&(N=n*Lu(l),z=n*Qs(l),B=r*Lu(s),W=r*Qs(s),p<r_)){var ne=function(Ne,et,ot,Bt,ct,vt,Yt,$t){var yi=ot-Ne,Mi=Bt-et,Yn=Yt-ct,Mo=$t-vt,Dt=Mo*yi-Yn*Mi;if(!(Dt*Dt<Hr))return[Ne+(Dt=(Yn*(et-vt)-Mo*(Ne-ct))/Dt)*yi,et+Dt*Mi]}(Y,j,B,W,N,z,Z,q);if(ne){var ce=Y-ne[0],ye=j-ne[1],re=N-ne[0],pe=z-ne[1],ve=1/Qs(_k((ce*re+ye*pe)/(Dc(ce*ce+ye*ye)*Dc(re*re+pe*pe)))/2),be=Dc(ne[0]*ne[0]+ne[1]*ne[1]);P=fo(A,(n-be)/(ve+1)),E=fo(L,(r-be)/(ve-1))}}}if(K)if(P>Hr){var xe=fo(v,P),we=fo(b,P),_e=Up(B,W,Y,j,n,xe,c),Ce=Up(N,z,Z,q,n,we,c);i.moveTo(u+_e.cx+_e.x0,h+_e.cy+_e.y0),P<A&&xe===we?i.arc(u+_e.cx,h+_e.cy,P,dn(_e.y0,_e.x0),dn(Ce.y0,Ce.x0),!c):(xe>0&&i.arc(u+_e.cx,h+_e.cy,xe,dn(_e.y0,_e.x0),dn(_e.y1,_e.x1),!c),i.arc(u,h,n,dn(_e.cy+_e.y1,_e.cx+_e.x1),dn(Ce.cy+Ce.y1,Ce.cx+Ce.x1),!c),we>0&&i.arc(u+Ce.cx,h+Ce.cy,we,dn(Ce.y1,Ce.x1),dn(Ce.y0,Ce.x0),!c))}else i.moveTo(u+Y,h+j),i.arc(u,h,n,s,l,!c);else i.moveTo(u+Y,h+j);r>Hr&&K?E>Hr?(xe=fo(m,E),_e=Up(Z,q,N,z,r,-(we=fo(y,E)),c),Ce=Up(Y,j,B,W,r,-xe,c),i.lineTo(u+_e.cx+_e.x0,h+_e.cy+_e.y0),E<L&&xe===we?i.arc(u+_e.cx,h+_e.cy,E,dn(_e.y0,_e.x0),dn(Ce.y0,Ce.x0),!c):(we>0&&i.arc(u+_e.cx,h+_e.cy,we,dn(_e.y0,_e.x0),dn(_e.y1,_e.x1),!c),i.arc(u,h,r,dn(_e.cy+_e.y1,_e.cx+_e.x1),dn(Ce.cy+Ce.y1,Ce.cx+Ce.x1),c),xe>0&&i.arc(u+Ce.cx,h+Ce.cy,xe,dn(Ce.y1,Ce.x1),dn(Ce.y0,Ce.x0),!c))):(i.lineTo(u+Z,h+q),i.arc(u,h,r,l,s,c)):i.lineTo(u+Z,h+q)}else i.moveTo(u,h);i.closePath()}}}(e,n)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(gt);pn.prototype.type="sector";var Sk=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},Pu=function(i){function t(e){return i.call(this,e)||this}return ie(t,i),t.prototype.getDefaultShape=function(){return new Sk},t.prototype.buildPath=function(e,n){var r=n.cx,o=n.cy,a=2*Math.PI;e.moveTo(r+n.r,o),e.arc(r,o,n.r,0,a,!1),e.moveTo(r+n.r0,o),e.arc(r,o,n.r0,0,a,!0)},t}(gt);function a_(i,t,e){var n=t.smooth,r=t.points;if(r&&r.length>=2){if(n){var o=function(p,f,m,y){var v,b,S,I,T=[],D=[],A=[],L=[];if(y){S=[1/0,1/0],I=[-1/0,-1/0];for(var P=0,E=p.length;P<E;P++)jn(S,S,p[P]),an(I,I,p[P]);jn(S,S,y[0]),an(I,I,y[1])}for(P=0,E=p.length;P<E;P++){var N=p[P];if(m)v=p[P?P-1:E-1],b=p[(P+1)%E];else{if(0===P||P===E-1){T.push(ar(p[P]));continue}v=p[P-1],b=p[P+1]}Rr(D,b,v),Co(D,D,f);var z=El(N,v),B=El(N,b),W=z+B;0!==W&&(z/=W,B/=W),Co(A,D,-z),Co(L,D,B);var Y=Ph([],N,A),j=Ph([],N,L);y&&(an(Y,Y,S),jn(Y,Y,I),an(j,j,S),jn(j,j,I)),T.push(Y),T.push(j)}return m&&T.push(T.shift()),T}(r,n,e,t.smoothConstraint);i.moveTo(r[0][0],r[0][1]);for(var a=r.length,s=0;s<(e?a:a-1);s++){var l=o[2*s],u=o[2*s+1],h=r[(s+1)%a];i.bezierCurveTo(l[0],l[1],u[0],u[1],h[0],h[1])}}else{i.moveTo(r[0][0],r[0][1]),s=1;for(var c=r.length;s<c;s++)i.lineTo(r[s][0],r[s][1])}e&&i.closePath()}}Pu.prototype.type="ring";var Mk=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},fn=function(i){function t(e){return i.call(this,e)||this}return ie(t,i),t.prototype.getDefaultShape=function(){return new Mk},t.prototype.buildPath=function(e,n){a_(e,n,!0)},t}(gt);fn.prototype.type="polygon";var Ik=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},gn=function(i){function t(e){return i.call(this,e)||this}return ie(t,i),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Ik},t.prototype.buildPath=function(e,n){a_(e,n,!1)},t}(gt);gn.prototype.type="polyline";var Tk={},Ck=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},ki=function(i){function t(e){return i.call(this,e)||this}return ie(t,i),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Ck},t.prototype.buildPath=function(e,n){var r,o,a,s;if(this.subPixelOptimize){var l=v1(Tk,n,this.style);r=l.x1,o=l.y1,a=l.x2,s=l.y2}else r=n.x1,o=n.y1,a=n.x2,s=n.y2;var u=n.percent;0!==u&&(e.moveTo(r,o),u<1&&(a=r*(1-u)+a*u,s=o*(1-u)+s*u),e.lineTo(a,s))},t.prototype.pointAt=function(e){var n=this.shape;return[n.x1*(1-e)+n.x2*e,n.y1*(1-e)+n.y2*e]},t}(gt);ki.prototype.type="line";var Gn=[],Dk=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function s_(i,t,e){return null!=i.cpx2||null!=i.cpy2?[(e?No:Tt)(i.x1,i.cpx1,i.cpx2,i.x2,t),(e?No:Tt)(i.y1,i.cpy1,i.cpy2,i.y2,t)]:[(e?Kl:bi)(i.x1,i.cpx1,i.x2,t),(e?Kl:bi)(i.y1,i.cpy1,i.y2,t)]}var Ou=function(i){function t(e){return i.call(this,e)||this}return ie(t,i),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Dk},t.prototype.buildPath=function(e,n){var r=n.x1,o=n.y1,a=n.x2,s=n.y2,l=n.cpx1,u=n.cpy1,h=n.cpx2,c=n.cpy2,p=n.percent;0!==p&&(e.moveTo(r,o),null==h||null==c?(p<1&&(zo(r,l,a,p,Gn),l=Gn[1],a=Gn[2],zo(o,u,s,p,Gn),u=Gn[1],s=Gn[2]),e.quadraticCurveTo(l,u,a,s)):(p<1&&(ln(r,l,h,a,p,Gn),l=Gn[1],h=Gn[2],a=Gn[3],ln(o,u,c,s,p,Gn),u=Gn[1],c=Gn[2],s=Gn[3]),e.bezierCurveTo(l,u,h,c,a,s)))},t.prototype.pointAt=function(e){return s_(this.shape,e,!1)},t.prototype.tangentAt=function(e){var n=s_(this.shape,e,!0);return to(n,n)},t}(gt);Ou.prototype.type="bezier-curve";var Ak=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},kc=function(i){function t(e){return i.call(this,e)||this}return ie(t,i),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Ak},t.prototype.buildPath=function(e,n){var r=n.cx,o=n.cy,a=Math.max(n.r,0),s=n.startAngle,l=n.endAngle,u=n.clockwise,h=Math.cos(s),c=Math.sin(s);e.moveTo(h*a+r,c*a+o),e.arc(r,o,a,s,l,!u)},t}(gt);kc.prototype.type="arc";var jp=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type="compound",e}return ie(t,i),t.prototype._updatePathDirty=function(){for(var e=this.shape.paths,n=this.shapeChanged(),r=0;r<e.length;r++)n=n||e[r].shapeChanged();n&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],n=this.getGlobalScale(),r=0;r<e.length;r++)e[r].path||e[r].createPathProxy(),e[r].path.setScale(n[0],n[1],e[r].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,n){for(var r=n.paths||[],o=0;o<r.length;o++)r[o].buildPath(e,r[o].shape,!0)},t.prototype.afterBrush=function(){for(var e=this.shape.paths||[],n=0;n<e.length;n++)e[n].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),gt.prototype.getBoundingRect.call(this)},t}(gt),l_=function(){function i(t){this.colorStops=t||[]}return i.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},i}(),Ru=function(i){function t(e,n,r,o,a,s){var l=i.call(this,a)||this;return l.x=e??0,l.y=n??0,l.x2=r??1,l.y2=o??0,l.type="linear",l.global=s||!1,l}return ie(t,i),t}(l_),Lm=function(i){function t(e,n,r,o,a){var s=i.call(this,o)||this;return s.x=e??.5,s.y=n??.5,s.r=r??.5,s.type="radial",s.global=a||!1,s}return ie(t,i),t}(l_),el=[0,0],tl=[0,0],Zp=new nt,qp=new nt,$p=function(){function i(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new nt;for(n=0;n<2;n++)this._axes[n]=new nt;t&&this.fromBoundingRect(t,e)}return i.prototype.fromBoundingRect=function(t,e){var n=this._corners,r=this._axes,o=t.x,a=t.y,s=o+t.width,l=a+t.height;if(n[0].set(o,a),n[1].set(s,a),n[2].set(s,l),n[3].set(o,l),e)for(var u=0;u<4;u++)n[u].transform(e);for(nt.sub(r[0],n[1],n[0]),nt.sub(r[1],n[3],n[0]),r[0].normalize(),r[1].normalize(),u=0;u<2;u++)this._origin[u]=r[u].dot(n[0])},i.prototype.intersect=function(t,e){var n=!0,r=!e;return Zp.set(1/0,1/0),qp.set(0,0),!this._intersectCheckOneSide(this,t,Zp,qp,r,1)&&(n=!1,r)||!this._intersectCheckOneSide(t,this,Zp,qp,r,-1)&&(n=!1,r)||r||nt.copy(e,n?Zp:qp),n},i.prototype._intersectCheckOneSide=function(t,e,n,r,o,a){for(var s=!0,l=0;l<2;l++){var u=this._axes[l];if(this._getProjMinMaxOnAxis(l,t._corners,el),this._getProjMinMaxOnAxis(l,e._corners,tl),el[1]<tl[0]||el[0]>tl[1]){if(s=!1,o)return s;var h=Math.abs(tl[0]-el[1]),c=Math.abs(el[0]-tl[1]);Math.min(h,c)>r.len()&&nt.scale(r,u,h<c?-h*a:c*a)}else n&&(h=Math.abs(tl[0]-el[1]),c=Math.abs(el[0]-tl[1]),Math.min(h,c)<n.len()&&nt.scale(n,u,h<c?h*a:-c*a))}return s},i.prototype._getProjMinMaxOnAxis=function(t,e,n){for(var r=this._axes[t],o=this._origin,a=e[0].dot(r)+o[t],s=a,l=a,u=1;u<e.length;u++){var h=e[u].dot(r)+o[t];s=Math.min(h,s),l=Math.max(h,l)}n[0]=s,n[1]=l},i}(),kk=[],u_=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return ie(t,i),t.prototype.traverse=function(e,n){e.call(n,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,n){n?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,n){n=n||!1;for(var r=0;r<e.length;r++)this.addDisplayable(e[r],n)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var n=this._cursor;n<this._displayables.length;n++)e&&e(this._displayables[n]);for(n=0;n<this._temporaryDisplayables.length;n++)e&&e(this._temporaryDisplayables[n])},t.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++)(n=this._displayables[e]).parent=this,n.update(),n.parent=null;for(e=0;e<this._temporaryDisplayables.length;e++){var n;(n=this._temporaryDisplayables[e]).parent=this,n.update(),n.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new st(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var r=this._displayables[n],o=r.getBoundingRect().clone();r.needLocalTransform()&&o.applyTransform(r.getLocalTransform(kk)),e.union(o)}this._rect=e}return this._rect},t.prototype.contain=function(e,n){var r=this.transformCoordToLocal(e,n);if(this.getBoundingRect().contain(r[0],r[1]))for(var o=0;o<this._displayables.length;o++)if(this._displayables[o].contain(e,n))return!0;return!1},t}(Yi),h_=_t();function Eu(i,t,e,n,r){var o;if(t&&t.ecModel){var a=t.ecModel.getUpdatePayload();o=a&&a.animation}var s="update"===i;if(t&&t.isAnimationEnabled()){var l=void 0,u=void 0,h=void 0;return n?(l=He(n.duration,200),u=He(n.easing,"cubicOut"),h=0):(l=t.getShallow(s?"animationDurationUpdate":"animationDuration"),u=t.getShallow(s?"animationEasingUpdate":"animationEasing"),h=t.getShallow(s?"animationDelayUpdate":"animationDelay")),o&&(null!=o.duration&&(l=o.duration),null!=o.easing&&(u=o.easing),null!=o.delay&&(h=o.delay)),Ge(h)&&(h=h(e,r)),Ge(l)&&(l=l(e)),{duration:l||0,delay:h,easing:u}}return null}function Pm(i,t,e,n,r,o,a){var s,l=!1;Ge(r)?(a=o,o=r,r=null):le(r)&&(o=r.cb,a=r.during,l=r.isFrom,s=r.removeOpt,r=r.dataIndex);var u="leave"===i;u||t.stopAnimation("leave");var h=Eu(i,n,r,u?s||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(t,r):null);if(h&&h.duration>0){var c={duration:h.duration,delay:h.delay||0,easing:h.easing,done:o,force:!!o||!!a,setToFinal:!u,scope:i,during:a};l?t.animateFrom(e,c):t.animateTo(e,c)}else t.stopAnimation(),!l&&t.attr(e),a&&a(1),o&&o()}function It(i,t,e,n,r,o){Pm("update",i,t,e,n,r,o)}function ni(i,t,e,n,r,o){Pm("enter",i,t,e,n,r,o)}function Nu(i){if(!i.__zr)return!0;for(var t=0;t<i.animators.length;t++)if("leave"===i.animators[t].scope)return!0;return!1}function Na(i,t,e,n,r,o){Nu(i)||Pm("leave",i,t,e,n,r,o)}function c_(i,t,e,n){i.removeTextContent(),i.removeTextGuideLine(),Na(i,{style:{opacity:0}},t,e,n)}function Lc(i,t,e){function n(){i.parent&&i.parent.remove(i)}i.isGroup?i.traverse(function(r){r.isGroup||c_(r,t,e,n)}):c_(i,t,e,n)}function Yr(i){h_(i).oldStyle=i.style}var Kp=Math.max,Jp=Math.min,Om={};function d_(i){return gt.extend(i)}function p_(i,t){return function(i,t){var e=i_(i,t);return function(n){function r(o){var a=n.call(this,o)||this;return a.applyTransform=e.applyTransform,a.buildPath=e.buildPath,a}return ie(r,n),r}(e_)}(i,t)}function _r(i,t){Om[i]=t}function Qp(i){if(Om.hasOwnProperty(i))return Om[i]}function Pc(i,t,e,n){var r=n_(i,t);return e&&("center"===n&&(e=f_(e,r.getBoundingRect())),Em(r,e)),r}function Rm(i,t,e){var n=new Ri({style:{image:i,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(r){"center"===e&&n.setStyle(f_(t,{width:r.width,height:r.height}))}});return n}function f_(i,t){var e,n=t.width/t.height,r=i.height*n;return e=r<=i.width?i.height:(r=i.width)/n,{x:i.x+i.width/2-r/2,y:i.y+i.height/2-e/2,width:r,height:e}}var er=function(i,t){for(var e=[],n=i.length,r=0;r<n;r++)e.push(i[r].getUpdatedPathProxy(!0));var a=new gt(t);return a.createPathProxy(),a.buildPath=function(s){if(t_(s)){s.appendPath(e);var l=s.getContext();l&&s.rebuildPath(l,1)}},a};function Em(i,t){if(i.applyTransform){var e=i.getBoundingRect().calculateTransform(t);i.applyTransform(e)}}function zu(i,t){return v1(i,i,{lineWidth:t}),i}var ef=qs;function za(i,t){for(var e=ma([]);i&&i!==t;)Zn(e,i.getLocalTransform(),e),i=i.parent;return e}function Xr(i,t,e){return t&&!Ft(t)&&(t=zn.getLocalTransform(t)),e&&(t=Nr([],t)),Ci([],i,t)}function tf(i,t,e){var n=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),r=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),o=["left"===i?-n:"right"===i?n:0,"top"===i?-r:"bottom"===i?r:0];return o=Xr(o,t,e),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function g_(i){return!i.isGroup}function Oc(i,t,e){if(i&&t){var n,r=(n={},i.traverse(function(a){g_(a)&&a.anid&&(n[a.anid]=a)}),n);t.traverse(function(a){if(g_(a)&&a.anid){var s=r[a.anid];if(s){var l=o(a);a.attr(o(s)),It(a,l,e,rt(a).dataIndex)}}})}function o(a){var s={x:a.x,y:a.y,rotation:a.rotation};return null!=a.shape&&(s.shape=de({},a.shape)),s}}function Nm(i,t){return ge(i,function(e){var n=e[0];n=Kp(n,t.x),n=Jp(n,t.x+t.width);var r=e[1];return r=Kp(r,t.y),[n,r=Jp(r,t.y+t.height)]})}function m_(i,t){var e=Kp(i.x,t.x),n=Jp(i.x+i.width,t.x+t.width),r=Kp(i.y,t.y),o=Jp(i.y+i.height,t.y+t.height);if(n>=e&&o>=r)return{x:e,y:r,width:n-e,height:o-r}}function Vu(i,t,e){var n=de({rectHover:!0},t),r=n.style={strokeNoScale:!0};if(e=e||{x:-1,y:-1,width:2,height:2},i)return 0===i.indexOf("image://")?(r.image=i.slice(8),Ve(r,e),new Ri(n)):Pc(i.replace("path://",""),n,e,"center")}function Rc(i,t,e,n,r){for(var o=0,a=r[r.length-1];o<r.length;o++){var s=r[o];if(y_(i,t,e,n,s[0],s[1],a[0],a[1]))return!0;a=s}}function y_(i,t,e,n,r,o,a,s){var l,u=e-i,h=n-t,c=a-r,p=s-o,f=zm(c,p,u,h);if((l=f)<=1e-6&&l>=-1e-6)return!1;var m=i-r,y=t-o,v=zm(m,y,u,h)/f;if(v<0||v>1)return!1;var b=zm(m,y,c,p)/f;return!(b<0||b>1)}function zm(i,t,e,n){return i*n-e*t}function Bu(i){var t=i.itemTooltipOption,e=i.componentModel,n=i.itemName,r=De(t)?{formatter:t}:t,o=e.mainType,a=e.componentIndex,s={componentType:o,name:n,$vars:["name"]};s[o+"Index"]=a;var l=i.formatterParamsExtra;l&&G(dt(l),function(h){Le(s,h)||(s[h]=l[h],s.$vars.push(h))});var u=rt(i.el);u.componentMainType=o,u.componentIndex=a,u.tooltipConfig={name:n,option:Ve({content:n,formatterParams:s},r)}}function v_(i,t){var e;i.isGroup&&(e=t(i)),e||i.traverse(t)}function Va(i,t){if(i)if(fe(i))for(var e=0;e<i.length;e++)v_(i[e],t);else v_(i,t)}_r("circle",xr),_r("ellipse",Cc),_r("sector",pn),_r("ring",Pu),_r("polygon",fn),_r("polyline",gn),_r("rect",St),_r("line",ki),_r("bezierCurve",Ou),_r("arc",kc);var Ec=Object.freeze({__proto__:null,updateProps:It,initProps:ni,removeElement:Na,removeElementWithFadeOut:Lc,isElementRemoved:Nu,extendShape:d_,extendPath:p_,registerShape:_r,getShapeClass:Qp,makePath:Pc,makeImage:Rm,mergePath:er,resizePath:Em,subPixelOptimizeLine:zu,subPixelOptimizeRect:function(i){return x1(i.shape,i.shape,i.style),i},subPixelOptimize:ef,getTransform:za,applyTransform:Xr,transformDirection:tf,groupTransition:Oc,clipPointsByRect:Nm,clipRectByRect:m_,createIcon:Vu,linePolygonIntersect:Rc,lineLineIntersect:y_,setTooltipConfig:Bu,traverseElements:Va,Group:Ze,Image:Ri,Text:Mt,Circle:xr,Ellipse:Cc,Sector:pn,Ring:Pu,Polygon:fn,Polyline:gn,Rect:St,Line:ki,BezierCurve:Ou,Arc:kc,IncrementalDisplayable:u_,CompoundPath:jp,LinearGradient:Ru,RadialGradient:Lm,BoundingRect:st,OrientedBoundingRect:$p,Point:nt,Path:gt}),nf={};function x_(i,t){for(var e=0;e<Sn.length;e++){var n=Sn[e],r=t[n],o=i.ensureState(n);o.style=o.style||{},o.style.text=r}var a=i.currentStates.slice();i.clearStates(!0),i.setStyle({text:t.normal}),i.useStates(a,!0)}function Vm(i,t,e){var n,r=i.labelFetcher,o=i.labelDataIndex,a=i.labelDimIndex,s=t.normal;r&&(n=r.getFormattedLabel(o,"normal",null,a,s&&s.get("formatter"),null!=e?{interpolatedValue:e}:null)),null==n&&(n=Ge(i.defaultText)?i.defaultText(o,i,e):i.defaultText);for(var l={normal:n},u=0;u<Sn.length;u++){var h=Sn[u],c=t[h];l[h]=He(r?r.getFormattedLabel(o,h,null,a,c&&c.get("formatter")):null,n)}return l}function rn(i,t,e,n){e=e||nf;for(var r=i instanceof Mt,o=!1,a=0;a<wc.length;a++)if((p=t[wc[a]])&&p.getShallow("show")){o=!0;break}var s=r?i:i.getTextContent();if(o){r||(s||(s=new Mt,i.setTextContent(s)),i.stateProxy&&(s.stateProxy=i.stateProxy));var l=Vm(e,t),u=t.normal,h=!!u.getShallow("show"),c=Kt(u,n&&n.normal,e,!1,!r);for(c.text=l.normal,r||i.setTextConfig(rf(u,e,!1)),a=0;a<Sn.length;a++){var p,f=Sn[a];if(p=t[f]){var m=s.ensureState(f),y=!!He(p.getShallow("show"),h);y!==h&&(m.ignore=!y),m.style=Kt(p,n&&n[f],e,!0,!r),m.style.text=l[f],!r&&(i.ensureState(f).textConfig=rf(p,e,!0))}}s.silent=!!u.getShallow("silent"),null!=s.style.x&&(c.x=s.style.x),null!=s.style.y&&(c.y=s.style.y),s.ignore=!h,s.useStyle(c),s.dirty(),e.enableTextSetter&&(Fu(s).setLabelText=function(v){var b=Vm(e,t,v);x_(s,b)})}else s&&(s.ignore=!0);i.dirty()}function Ei(i,t){for(var e={normal:i.getModel(t=t||"label")},n=0;n<Sn.length;n++){var r=Sn[n];e[r]=i.getModel([r,t])}return e}function Kt(i,t,e,n,r){var o={};return function(a,s,l,u,h){l=l||nf;var c,p=s.ecModel,f=p&&p.option.textStyle,m=function(I){for(var T;I&&I!==I.ecModel;){var D=(I.option||nf).rich;if(D){T=T||{};for(var A=dt(D),L=0;L<A.length;L++)T[A[L]]=1}I=I.parentModel}return T}(s);if(m)for(var y in c={},m)if(m.hasOwnProperty(y)){var v=s.getModel(["rich",y]);S_(c[y]={},v,f,l,u,h,!1,!0)}c&&(a.rich=c);var b=s.get("overflow");b&&(a.overflow=b);var S=s.get("minMargin");null!=S&&(a.margin=S),S_(a,s,f,l,u,h,!0,!1)}(o,i,e,n,r),t&&de(o,t),o}function rf(i,t,e){t=t||{};var n,r={},o=i.getShallow("rotate"),a=He(i.getShallow("distance"),e?null:5),s=i.getShallow("offset");return"outside"===(n=i.getShallow("position")||(e?null:"inside"))&&(n=t.defaultOutsidePosition||"top"),null!=n&&(r.position=n),null!=s&&(r.offset=s),null!=o&&(o*=Math.PI/180,r.rotation=o),null!=a&&(r.distance=a),r.outsideFill="inherit"===i.get("color")?t.inheritColor||null:"auto",r}var __=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],b_=["align","lineHeight","width","height","tag","verticalAlign"],w_=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function S_(i,t,e,n,r,o,a,s){e=!r&&e||nf;var l=n&&n.inheritColor,u=t.getShallow("color"),h=t.getShallow("textBorderColor"),c=He(t.getShallow("opacity"),e.opacity);"inherit"!==u&&"auto"!==u||(u=l||null),"inherit"!==h&&"auto"!==h||(h=l||null),o||(u=u||e.color,h=h||e.textBorderColor),null!=u&&(i.fill=u),null!=h&&(i.stroke=h);var p=He(t.getShallow("textBorderWidth"),e.textBorderWidth);null!=p&&(i.lineWidth=p);var f=He(t.getShallow("textBorderType"),e.textBorderType);null!=f&&(i.lineDash=f);var m=He(t.getShallow("textBorderDashOffset"),e.textBorderDashOffset);null!=m&&(i.lineDashOffset=m),r||null!=c||s||(c=n&&n.defaultOpacity),null!=c&&(i.opacity=c),r||o||null==i.fill&&n.inheritColor&&(i.fill=n.inheritColor);for(var y=0;y<__.length;y++){var v=__[y];null!=(S=He(t.getShallow(v),e[v]))&&(i[v]=S)}for(y=0;y<b_.length;y++)null!=(S=t.getShallow(v=b_[y]))&&(i[v]=S);if(null==i.verticalAlign){var b=t.getShallow("baseline");null!=b&&(i.verticalAlign=b)}if(!a||!n.disableBox){for(y=0;y<w_.length;y++){var S;null!=(S=t.getShallow(v=w_[y]))&&(i[v]=S)}var I=t.getShallow("borderType");null!=I&&(i.borderDash=I),"auto"!==i.backgroundColor&&"inherit"!==i.backgroundColor||!l||(i.backgroundColor=l),"auto"!==i.borderColor&&"inherit"!==i.borderColor||!l||(i.borderColor=l)}}function M_(i,t){var e=t&&t.getModel("textStyle");return Ut([i.fontStyle||e&&e.getShallow("fontStyle")||"",i.fontWeight||e&&e.getShallow("fontWeight")||"",(i.fontSize||e&&e.getShallow("fontSize")||12)+"px",i.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" "))}var Fu=_t();function I_(i,t,e,n){if(i){var r=Fu(i);r.prevValue=r.value,r.value=e;var o=t.normal;r.valueAnimation=o.get("valueAnimation"),r.valueAnimation&&(r.precision=o.get("precision"),r.defaultInterpolatedText=n,r.statesModels=t)}}function T_(i,t,e,n,r){var o=Fu(i);if(o.valueAnimation&&o.prevValue!==o.value){var a=o.defaultInterpolatedText,s=He(o.interpolatedValue,o.prevValue),l=o.value;i.percent=0,(null==o.prevValue?ni:It)(i,{percent:1},n,t,null,function(u){var h=mr(e,o.precision,s,l,u);o.interpolatedValue=1===u?null:h;var c=Vm({labelDataIndex:t,labelFetcher:r,defaultText:a?a(h):h+""},o.statesModels,h);x_(i,c)})}}var Bm,Fm,Pk=["textStyle","color"],Gm=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],Wm=new Mt,Ok=function(){function i(){}return i.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(Pk):null)},i.prototype.getFont=function(){return M_({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},i.prototype.getTextRect=function(t){for(var e={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<Gm.length;n++)e[Gm[n]]=this.getShallow(Gm[n]);return Wm.useStyle(e),Wm.update(),Wm.getBoundingRect()},i}(),C_=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],Rk=Jo(C_),Ek=function(){function i(){}return i.prototype.getLineStyle=function(t){return Rk(this,t)},i}(),D_=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],Nk=Jo(D_),zk=function(){function i(){}return i.prototype.getItemStyle=function(t,e){return Nk(this,t,e)},i}(),Rt=function(){function i(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}return i.prototype.init=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o]},i.prototype.mergeOption=function(t,e){Be(this.option,t,!0)},i.prototype.get=function(t,e){return null==t?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},i.prototype.getShallow=function(t,e){var n=this.option,r=null==n?n:n[t];if(null==r&&!e){var o=this.parentModel;o&&(r=o.getShallow(t))}return r},i.prototype.getModel=function(t,e){var n=null!=t,r=n?this.parsePath(t):null;return new i(n?this._doGet(r):this.option,e=e||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),this.ecModel)},i.prototype.isEmpty=function(){return null==this.option},i.prototype.restoreData=function(){},i.prototype.clone=function(){return new this.constructor(Ue(this.option))},i.prototype.parsePath=function(t){return"string"==typeof t?t.split("."):t},i.prototype.resolveParentPath=function(t){return t},i.prototype.isAnimationEnabled=function(){if(!Ee.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},i.prototype._doGet=function(t,e){var n=this.option;if(!t)return n;for(var r=0;r<t.length&&(!t[r]||null!=(n=n&&"object"==typeof n?n[t[r]]:null));r++);return null==n&&e&&(n=e._doGet(this.resolveParentPath(t),e.parentModel)),n},i}();bu(Rt),Bm=Rt,Fm=["__\0is_clz",wu++].join("_"),Bm.prototype[Fm]=!0,Bm.isInstance=function(i){return!(!i||!i[Fm])},Qt(Rt,Ek),Qt(Rt,zk),Qt(Rt,cm),Qt(Rt,Ok);var Vk=Math.round(10*Math.random());function Gu(i){return[i||"",Vk++].join("_")}function Ba(i,t){return Be(Be({},i,!0),t,!0)}var af={},Ym={},A_=Ee.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf("ZH")>-1?"ZH":"EN";function Xm(i,t){i=i.toUpperCase(),Ym[i]=new Rt(t),af[i]=t}function Um(i){return Ym[i]}Xm("EN",{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),Xm("ZH",{time:{month:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayOfWeekAbbr:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}});var Nc=864e5,O_=31536e6,zc={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},R_={year:"{yyyy}",month:"{yyyy}-{MM}",day:"{yyyy}-{MM}-{dd}",hour:"{yyyy}-{MM}-{dd} "+zc.hour,minute:"{yyyy}-{MM}-{dd} "+zc.minute,second:"{yyyy}-{MM}-{dd} "+zc.second,millisecond:zc.none},jm=["year","month","day","hour","minute","second","millisecond"],E_=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Wn(i,t){return"0000".substr(0,t-(i+="").length)+i}function Wu(i){switch(i){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return i}}function Gk(i){return i===Wu(i)}function Vc(i,t,e,n){var r=hn(i),o=r[Zm(e)](),a=r[Hu(e)]()+1,s=Math.floor((a-1)/3)+1,l=r[sf(e)](),u=r["get"+(e?"UTC":"")+"Day"](),h=r[Bc(e)](),c=(h-1)%12+1,p=r[lf(e)](),f=r[uf(e)](),m=r[hf(e)](),y=(n instanceof Rt?n:Um(n||A_)||Ym.EN).getModel("time"),v=y.get("month"),b=y.get("monthAbbr"),S=y.get("dayOfWeek"),I=y.get("dayOfWeekAbbr");return(t||"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,o%100+"").replace(/{Q}/g,s+"").replace(/{MMMM}/g,v[a-1]).replace(/{MMM}/g,b[a-1]).replace(/{MM}/g,Wn(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,Wn(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,S[u]).replace(/{ee}/g,I[u]).replace(/{e}/g,u+"").replace(/{HH}/g,Wn(h,2)).replace(/{H}/g,h+"").replace(/{hh}/g,Wn(c+"",2)).replace(/{h}/g,c+"").replace(/{mm}/g,Wn(p,2)).replace(/{m}/g,p+"").replace(/{ss}/g,Wn(f,2)).replace(/{s}/g,f+"").replace(/{SSS}/g,Wn(m,3)).replace(/{S}/g,m+"")}function N_(i,t){var e=hn(i),n=e[Hu(t)]()+1,r=e[sf(t)](),o=e[Bc(t)](),a=e[lf(t)](),s=e[uf(t)](),l=0===e[hf(t)](),u=l&&0===s,h=u&&0===a,c=h&&0===o,p=c&&1===r;return p&&1===n?"year":p?"month":c?"day":h?"hour":u?"minute":l?"second":"millisecond"}function z_(i,t,e){var n=oe(i)?hn(i):i;switch(t=t||N_(i,e)){case"year":return n[Zm(e)]();case"half-year":return n[Hu(e)]()>=6?1:0;case"quarter":return Math.floor((n[Hu(e)]()+1)/4);case"month":return n[Hu(e)]();case"day":return n[sf(e)]();case"half-day":return n[Bc(e)]()/24;case"hour":return n[Bc(e)]();case"minute":return n[lf(e)]();case"second":return n[uf(e)]();case"millisecond":return n[hf(e)]()}}function Zm(i){return i?"getUTCFullYear":"getFullYear"}function Hu(i){return i?"getUTCMonth":"getMonth"}function sf(i){return i?"getUTCDate":"getDate"}function Bc(i){return i?"getUTCHours":"getHours"}function lf(i){return i?"getUTCMinutes":"getMinutes"}function uf(i){return i?"getUTCSeconds":"getSeconds"}function hf(i){return i?"getUTCMilliseconds":"getMilliseconds"}function Wk(i){return i?"setUTCFullYear":"setFullYear"}function V_(i){return i?"setUTCMonth":"setMonth"}function B_(i){return i?"setUTCDate":"setDate"}function F_(i){return i?"setUTCHours":"setHours"}function G_(i){return i?"setUTCMinutes":"setMinutes"}function W_(i){return i?"setUTCSeconds":"setSeconds"}function H_(i){return i?"setUTCMilliseconds":"setMilliseconds"}function qm(i){if(!Fs(i))return De(i)?i:"-";var t=(i+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function $m(i,t){return i=(i||"").toLowerCase().replace(/-(.)/g,function(e,n){return n.toUpperCase()}),t&&i&&(i=i.charAt(0).toUpperCase()+i.slice(1)),i}var il=ri;function Km(i,t,e){function n(u){return u&&Ut(u)?u:"-"}function r(u){return!(null==u||isNaN(u)||!isFinite(u))}var o="time"===t,a=i instanceof Date;if(o||a){var s=o?hn(i):i;if(!isNaN(+s))return Vc(s,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",e);if(a)return"-"}if("ordinal"===t)return se(i)?n(i):oe(i)&&r(i)?i+"":"-";var l=bn(i);return r(l)?qm(l):se(i)?n(i):"boolean"==typeof i?i+"":"-"}var Y_=["a","b","c","d","e","f","g"],Jm=function(i,t){return"{"+i+(t??"")+"}"};function Qm(i,t,e){fe(t)||(t=[t]);var n=t.length;if(!n)return"";for(var r=t[0].$vars||[],o=0;o<r.length;o++){var a=Y_[o];i=i.replace(Jm(a),Jm(a,0))}for(var s=0;s<n;s++)for(var l=0;l<r.length;l++){var u=t[s][r[l]];i=i.replace(Jm(Y_[l],s),e?Pi(u):u)}return i}function X_(i,t){var e=De(i)?{color:i,extraCssText:t}:i||{},n=e.color,r=e.type;t=e.extraCssText;var o=e.renderMode||"html";return n?"html"===o?"subItem"===r?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Pi(n)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Pi(n)+";"+(t||"")+'"></span>':{renderMode:o,content:"{"+(e.markerId||"markerX")+"|}  ",style:"subItem"===r?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}:""}function nl(i,t){return t=t||"transparent",De(i)?i:le(i)&&i.colorStops&&(i.colorStops[0]||{}).color||t}function cf(i,t){if("_blank"===t||"blank"===t){var e=window.open();e.opener=null,e.location.href=i}else window.open(i,t)}var df=G,U_=["left","right","top","bottom","width","height"],rl=[["width","left","right"],["height","top","bottom"]];function ey(i,t,e,n,r){var o=0,a=0;null==n&&(n=1/0),null==r&&(r=1/0);var s=0;t.eachChild(function(l,u){var h,c,p=l.getBoundingRect(),f=t.childAt(u+1),m=f&&f.getBoundingRect();if("horizontal"===i){var y=p.width+(m?-m.x+p.x:0);(h=o+y)>n||l.newline?(o=0,h=y,a+=s+e,s=p.height):s=Math.max(s,p.height)}else{var v=p.height+(m?-m.y+p.y:0);(c=a+v)>r||l.newline?(o+=s+e,a=0,c=v,s=p.width):s=Math.max(s,p.width)}l.newline||(l.x=o,l.y=a,l.markRedraw(),"horizontal"===i?o=h+e:a=c+e)})}var ol=ey;function wi(i,t,e){e=il(e||0);var n=t.width,r=t.height,o=Te(i.left,n),a=Te(i.top,r),s=Te(i.right,n),l=Te(i.bottom,r),u=Te(i.width,n),h=Te(i.height,r),c=e[2]+e[0],p=e[1]+e[3],f=i.aspect;switch(isNaN(u)&&(u=n-s-p-o),isNaN(h)&&(h=r-l-c-a),null!=f&&(isNaN(u)&&isNaN(h)&&(f>n/r?u=.8*n:h=.8*r),isNaN(u)&&(u=f*h),isNaN(h)&&(h=u/f)),isNaN(o)&&(o=n-s-u-p),isNaN(a)&&(a=r-l-h-c),i.left||i.right){case"center":o=n/2-u/2-e[3];break;case"right":o=n-u-p}switch(i.top||i.bottom){case"middle":case"center":a=r/2-h/2-e[0];break;case"bottom":a=r-h-c}o=o||0,a=a||0,isNaN(u)&&(u=n-p-o-(s||0)),isNaN(h)&&(h=r-c-a-(l||0));var m=new st(o+e[3],a+e[0],u,h);return m.margin=e,m}function pf(i,t,e,n,r,o){var a,s=!r||!r.hv||r.hv[0],l=!r||!r.hv||r.hv[1],u=r&&r.boundingMode||"all";if((o=o||i).x=i.x,o.y=i.y,!s&&!l)return!1;if("raw"===u)a="group"===i.type?new st(0,0,+t.width||0,+t.height||0):i.getBoundingRect();else if(a=i.getBoundingRect(),i.needLocalTransform()){var h=i.getLocalTransform();(a=a.clone()).applyTransform(h)}var c=wi(Ve({width:a.width,height:a.height},t),e,n),p=s?c.x-a.x:0,f=l?c.y-a.y:0;return"raw"===u?(o.x=p,o.y=f):(o.x+=p,o.y+=f),o===i&&i.markRedraw(),!0}function Fc(i){var t=i.layoutMode||i.constructor.layoutMode;return le(t)?t:t?{type:t}:null}function Fa(i,t,e){var n=e&&e.ignoreSize;!fe(n)&&(n=[n,n]);var r=a(rl[0],0),o=a(rl[1],1);function a(h,c){var p={},f=0,m={},y=0;if(df(h,function(S){m[S]=i[S]}),df(h,function(S){s(t,S)&&(p[S]=m[S]=t[S]),l(p,S)&&f++,l(m,S)&&y++}),n[c])return l(t,h[1])?m[h[2]]=null:l(t,h[2])&&(m[h[1]]=null),m;if(2!==y&&f){if(f>=2)return p;for(var v=0;v<h.length;v++){var b=h[v];if(!s(p,b)&&s(i,b)){p[b]=i[b];break}}return p}return m}function s(h,c){return h.hasOwnProperty(c)}function l(h,c){return null!=h[c]&&"auto"!==h[c]}function u(h,c,p){df(h,function(f){c[f]=p[f]})}u(rl[0],i,r),u(rl[1],i,o)}function Yu(i){return j_({},i)}function j_(i,t){return t&&i&&df(U_,function(e){t.hasOwnProperty(e)&&(i[e]=t[e])}),i}Xe(ey,"vertical"),Xe(ey,"horizontal");var i,t,Hk=_t(),mt=function(i){function t(e,n,r){var o=i.call(this,e,n,r)||this;return o.uid=Gu("ec_cpt_model"),o}return ie(t,i),t.prototype.init=function(e,n,r){this.mergeDefaultAndTheme(e,r)},t.prototype.mergeDefaultAndTheme=function(e,n){var r=Fc(this),o=r?Yu(e):{};Be(e,n.getTheme().get(this.mainType)),Be(e,this.getDefaultOption()),r&&Fa(e,o,r)},t.prototype.mergeOption=function(e,n){Be(this.option,e,!0);var r=Fc(this);r&&Fa(this.option,e,r)},t.prototype.optionUpdated=function(e,n){},t.prototype.getDefaultOption=function(){var u,e=this.constructor;if(!(u=e)||!u[yc])return e.defaultOption;var n=Hk(this);if(!n.defaultOption){for(var r=[],o=e;o;){var a=o.prototype.defaultOption;a&&r.push(a),o=o.superClass}for(var s={},l=r.length-1;l>=0;l--)s=Be(s,r[l],!0);n.defaultOption=s}return n.defaultOption},t.prototype.getReferringComponents=function(e,n){var o=e+"Id";return Hs(this.ecModel,e,{index:this.get(e+"Index",!0),id:this.get(o,!0)},n)},t.prototype.getBoxLayoutParams=function(){var e=this;return{left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(e){this.option.zlevel=e},t.protoInitialize=((e=t.prototype).type="component",e.id="",e.name="",e.mainType="",e.subType="",void(e.componentIndex=0)),t;var e}(Rt);vc(mt,Rt),La(mt),t={},(i=mt).registerSubTypeDefaulter=function(e,n){var r=yr(e);t[r.main]=n},i.determineSubType=function(e,n){var r=n.type;if(!r){var o=yr(e).main;i.hasSubTypes(e)&&t[o]&&(r=t[o](n))}return r},function(i,t){function e(n,r){return n[r]||(n[r]={predecessor:[],successor:[]}),n[r]}i.topologicalTravel=function(n,r,o,a){if(n.length){var s=(b={},S=[],G(v=r,function(I){var A,L,P,T=e(b,I),D=(A=T.originalDeps=function(i){var t=[];return G(mt.getClassesByMainType(i),function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])}),t=ge(t,function(e){return yr(e).main}),"dataset"!==i&&We(t,"dataset")<=0&&t.unshift("dataset"),t}(I),L=v,P=[],G(A,function(E){We(L,E)>=0&&P.push(E)}),P);T.entryCount=D.length,0===T.entryCount&&S.push(I),G(D,function(A){We(T.predecessor,A)<0&&T.predecessor.push(A);var L=e(b,A);We(L.successor,A)<0&&L.successor.push(I)})}),{graph:b,noEntryList:S}),l=s.graph,u=s.noEntryList,h={};for(G(n,function(v){h[v]=!0});u.length;){var c=u.pop(),p=l[c],f=!!h[c];f&&(o.call(a,c,p.originalDeps.slice()),delete h[c]),G(p.successor,f?y:m)}G(h,function(){throw new Error("")})}var v,b,S;function m(v){l[v].entryCount--,0===l[v].entryCount&&u.push(v)}function y(v){h[v]=!0,m(v)}}}(mt);var Z_="";typeof navigator<"u"&&(Z_=navigator.platform||"");var Xu="rgba(0, 0, 0, 0.2)",Yk={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Xu,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Xu,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Xu,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Xu,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Xu,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Xu,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Z_.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},q_=ze(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),Ga="original",ia="arrayRows",Wa="objectRows",Uu="keyedColumns",ju="typedArray",$_="unknown",al="column",J_=_t();function Q_(i,t,e){var n={},r=ny(t);if(!r||!i)return n;var o,a,s=[],l=[],h=J_(t.ecModel).datasetMap,c=r.uid+"_"+e.seriesLayoutBy;G(i=i.slice(),function(y,v){var b=le(y)?y:i[v]={name:y};"ordinal"===b.type&&null==o&&(o=v,a=m(b)),n[b.name]=[]});var p=h.get(c)||h.set(c,{categoryWayDim:a,valueWayDim:0});function f(y,v,b){for(var S=0;S<b;S++)y.push(v+S)}function m(y){var v=y.dimsDef;return v?v.length:1}return G(i,function(y,v){var b=y.name,S=m(y);if(null==o){var I=p.valueWayDim;f(n[b],I,S),f(l,I,S),p.valueWayDim+=S}else o===v?(f(n[b],0,S),f(s,0,S)):(f(n[b],I=p.categoryWayDim,S),f(l,I,S),p.categoryWayDim+=S)}),s.length&&(n.itemName=s),l.length&&(n.seriesName=l),n}function iy(i,t,e){var n={};if(!ny(i))return n;var r,o=t.sourceFormat,a=t.dimensionsDefine;o!==Wa&&o!==Uu||G(a,function(u,h){"name"===(le(u)?u.name:u)&&(r=h)});var s=function(){for(var u={},h={},c=[],p=0,f=Math.min(5,e);p<f;p++){var m=tb(t.data,o,t.seriesLayoutBy,a,t.startIndex,p);c.push(m);var y=3===m;if(y&&null==u.v&&p!==r&&(u.v=p),(null==u.n||u.n===u.v||!y&&3===c[u.n])&&(u.n=p),v(u)&&3!==c[u.n])return u;y||(2===m&&null==h.v&&p!==r&&(h.v=p),null!=h.n&&h.n!==h.v||(h.n=p))}function v(b){return null!=b.v&&null!=b.n}return v(u)?u:v(h)?h:null}();if(s){n.value=[s.v];var l=r??s.n;n.itemName=[l],n.seriesName=[l]}return n}function ny(i){if(!i.get("data",!0))return Hs(i.ecModel,"dataset",{index:i.get("datasetIndex",!0),id:i.get("datasetId",!0)},di).models[0]}function eb(i,t){return tb(i.data,i.sourceFormat,i.seriesLayoutBy,i.dimensionsDefine,i.startIndex,t)}function tb(i,t,e,n,r,o){var a,s,l;if(Se(i))return 3;if(n){var u=n[o];le(u)?(s=u.name,l=u.type):De(u)&&(s=u)}if(null!=l)return"ordinal"===l?1:3;if(t===ia){var h=i;if("row"===e){for(var c=h[o],p=0;p<(c||[]).length&&p<5;p++)if(null!=(a=S(c[r+p])))return a}else for(p=0;p<h.length&&p<5;p++){var f=h[r+p];if(f&&null!=(a=S(f[o])))return a}}else if(t===Wa){var m=i;if(!s)return 3;for(p=0;p<m.length&&p<5;p++)if((v=m[p])&&null!=(a=S(v[s])))return a}else if(t===Uu){if(!s||!(c=i[s])||Se(c))return 3;for(p=0;p<c.length&&p<5;p++)if(null!=(a=S(c[p])))return a}else if(t===Ga){var y=i;for(p=0;p<y.length&&p<5;p++){var v,b=Ca(v=y[p]);if(!fe(b))return 3;if(null!=(a=S(b[o])))return a}}function S(I){var T=De(I);return null!=I&&isFinite(I)&&""!==I?T?2:3:T&&"-"!==I?1:void 0}return 3}var gf,Gc,ib,ry=ze(),nb=_t(),Xk=_t(),oy=function(){function i(){}return i.prototype.getColorFromPalette=function(t,e,n){var r=Gt(this.get("color",!0)),o=this.get("colorLayer",!0);return rb(this,nb,r,o,t,e,n)},i.prototype.clearColorPalette=function(){!function(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}(this,nb)},i}();function ay(i,t,e,n){var r=Gt(i.get(["aria","decal","decals"]));return rb(i,Xk,r,null,t,e,n)}function rb(i,t,e,n,r,o,a){var s=t(o=o||i),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(r))return u[r];var h=null!=a&&n?function(p,f){for(var m=p.length,y=0;y<m;y++)if(p[y].length>f)return p[y];return p[m-1]}(n,a):e;if((h=h||e)&&h.length){var c=h[l];return r&&(u[r]=c),s.paletteIdx=(l+1)%h.length,c}}var sy=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return ie(t,i),t.prototype.init=function(e,n,r,o,a,s){o=o||{},this.option=null,this._theme=new Rt(o),this._locale=new Rt(a),this._optionManager=s},t.prototype.setOption=function(e,n,r){var o=sb(n);this._optionManager.setOption(e,r,o),this._resetOption(null,o)},t.prototype.resetOption=function(e,n){return this._resetOption(e,sb(n))},t.prototype._resetOption=function(e,n){var r=!1,o=this._optionManager;if(!e||"recreate"===e){var a=o.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this._mergeOption(a,n)):ib(this,a),r=!0}if("timeline"!==e&&"media"!==e||this.restoreData(),!e||"recreate"===e||"timeline"===e){var s=o.getTimelineOption(this);s&&(r=!0,this._mergeOption(s,n))}if(!e||"recreate"===e||"media"===e){var l=o.getMediaOption(this);l.length&&G(l,function(u){r=!0,this._mergeOption(u,n)},this)}return r},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,n){var r=this.option,o=this._componentsMap,a=this._componentsCount,s=[],l=ze(),u=n&&n.replaceMergeMainTypeMap;J_(this).datasetMap=ze(),G(e,function(h,c){null!=h&&(mt.hasClass(c)?c&&(s.push(c),l.set(c,!0)):r[c]=null==r[c]?Ue(h):Be(r[c],h,!0))}),u&&u.each(function(h,c){mt.hasClass(c)&&!l.get(c)&&(s.push(c),l.set(c,!0))}),mt.topologicalTravel(s,mt.getAllClassMainTypes(),function(h){var T,D,c=function(I,T,D){var A=ry.get(T);if(!A)return D;var L=A(I);return L?D.concat(L):D}(this,h,Gt(e[h])),p=o.get(h),m=kp(p,c,p?u&&u.get(h)?"replaceMerge":"normalMerge":"replaceAll");T=h,D=mt,G(m,function(A){var E,N,L=A.newOption;le(L)&&(A.keyInfo.mainType=T,A.keyInfo.subType=(N=A.existing,(E=L).type?E.type:N?N.subType:D.determineSubType(T,E)))}),r[h]=null,o.set(h,null),a.set(h,0);var y,v=[],b=[],S=0;G(m,function(I,T){var D=I.existing,A=I.newOption;if(A){var P=mt.getClass(h,I.keyInfo.subType,!("series"===h));if(!P)return;if("tooltip"===h){if(y)return;y=!0}if(D&&D.constructor===P)D.name=I.keyInfo.name,D.mergeOption(A,this),D.optionUpdated(A,!1);else{var E=de({componentIndex:T},I.keyInfo);de(D=new P(A,this,this,E),E),I.brandNew&&(D.__requireNewView=!0),D.init(A,this,this),D.optionUpdated(null,!0)}}else D&&(D.mergeOption({},this),D.optionUpdated({},!1));D?(v.push(D.option),b.push(D),S++):(v.push(void 0),b.push(void 0))},this),r[h]=v,o.set(h,b),a.set(h,S),"series"===h&&gf(this)},this),this._seriesIndices||gf(this)},t.prototype.getOption=function(){var e=Ue(this.option);return G(e,function(n,r){if(mt.hasClass(r)){for(var o=Gt(n),a=o.length,s=!1,l=a-1;l>=0;l--)o[l]&&!Aa(o[l])?s=!0:(o[l]=null,!s&&a--);o.length=a,e[r]=o}}),delete e["\0_ec_inner"],e},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,n){var r=this._componentsMap.get(e);if(r){var o=r[n||0];if(o)return o;if(null==n)for(var a=0;a<r.length;a++)if(r[a])return r[a]}},t.prototype.queryComponents=function(e){var n=e.mainType;if(!n)return[];var r,o=e.index,a=e.id,s=e.name,l=this._componentsMap.get(n);return l&&l.length?(null!=o?(r=[],G(Gt(o),function(u){l[u]&&r.push(l[u])})):r=null!=a?ob("id",a,l):null!=s?ob("name",s,l):xt(l,function(u){return!!u}),ab(r,e)):[]},t.prototype.findComponents=function(e){var n,r,o,a,s,u=e.mainType,h=(r=u+"Index",o=u+"Id",a=u+"Name",!(n=e.query)||null==n[r]&&null==n[o]&&null==n[a]?null:{mainType:u,index:n[r],id:n[o],name:n[a]});return s=ab(h?this.queryComponents(h):xt(this._componentsMap.get(u),function(p){return!!p}),e),e.filter?xt(s,e.filter):s},t.prototype.eachComponent=function(e,n,r){var o=this._componentsMap;if(Ge(e)){var a=n,s=e;o.each(function(c,p){for(var f=0;c&&f<c.length;f++){var m=c[f];m&&s.call(a,p,m,m.componentIndex)}})}else for(var l=De(e)?o.get(e):le(e)?this.findComponents(e):null,u=0;l&&u<l.length;u++){var h=l[u];h&&n.call(r,h,h.componentIndex)}},t.prototype.getSeriesByName=function(e){var n=ci(e,null);return xt(this._componentsMap.get("series"),function(r){return!!r&&null!=n&&r.name===n})},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},t.prototype.getSeriesByType=function(e){return xt(this._componentsMap.get("series"),function(n){return!!n&&n.subType===e})},t.prototype.getSeries=function(){return xt(this._componentsMap.get("series"),function(e){return!!e})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(e,n){Gc(this),G(this._seriesIndices,function(r){var o=this._componentsMap.get("series")[r];e.call(n,o,r)},this)},t.prototype.eachRawSeries=function(e,n){G(this._componentsMap.get("series"),function(r){r&&e.call(n,r,r.componentIndex)})},t.prototype.eachSeriesByType=function(e,n,r){Gc(this),G(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];a.subType===e&&n.call(r,a,o)},this)},t.prototype.eachRawSeriesByType=function(e,n,r){return G(this.getSeriesByType(e),n,r)},t.prototype.isSeriesFiltered=function(e){return Gc(this),null==this._seriesIndicesMap.get(e.componentIndex)},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,n){Gc(this);var r=[];G(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];e.call(n,a,o)&&r.push(o)},this),this._seriesIndices=r,this._seriesIndicesMap=ze(r)},t.prototype.restoreData=function(e){gf(this);var n=this._componentsMap,r=[];n.each(function(o,a){mt.hasClass(a)&&r.push(a)}),mt.topologicalTravel(r,mt.getAllClassMainTypes(),function(o){G(n.get(o),function(a){!a||"series"===o&&function(s,l){if(l){var u=l.seriesIndex,h=l.seriesId,c=l.seriesName;return null!=u&&s.componentIndex!==u||null!=h&&s.id!==h||null!=c&&s.name!==c}}(a,e)||a.restoreData()})})},t.internalField=(gf=function(e){var n=e._seriesIndices=[];G(e._componentsMap.get("series"),function(r){r&&n.push(r.componentIndex)}),e._seriesIndicesMap=ze(n)},Gc=function(e){},void(ib=function(e,n){e.option={},e.option["\0_ec_inner"]=1,e._componentsMap=ze({series:[]}),e._componentsCount=ze();var o,s,r=n.aria;le(r)&&null==r.enabled&&(r.enabled=!0),s=(o=n).color&&!o.colorLayer,G(e._theme.option,function(l,u){"colorLayer"===u&&s||mt.hasClass(u)||("object"==typeof l?o[u]=o[u]?Be(o[u],l,!1):Ue(l):null==o[u]&&(o[u]=l))}),Be(n,Yk,!1),e._mergeOption(n,null)})),t}(Rt);function ob(i,t,e){if(fe(t)){var n=ze();return G(t,function(o){null!=o&&null!=ci(o,null)&&n.set(o,!0)}),xt(e,function(o){return o&&n.get(o[i])})}var r=ci(t,null);return xt(e,function(o){return o&&null!=r&&o[i]===r})}function ab(i,t){return t.hasOwnProperty("subType")?xt(i,function(e){return e&&e.subType===t.subType}):i}function sb(i){var t=ze();return i&&G(Gt(i.replaceMerge),function(e){t.set(e,!0)}),{replaceMergeMainTypeMap:t}}Qt(sy,oy);var Uk=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],lb=function(i){G(Uk,function(t){this[t]=ke(i[t],i)},this)},ly={},Zu=function(){function i(){this._coordinateSystems=[]}return i.prototype.create=function(t,e){var n=[];G(ly,function(r,o){var a=r.create(t,e);n=n.concat(a||[])}),this._coordinateSystems=n},i.prototype.update=function(t,e){G(this._coordinateSystems,function(n){n.update&&n.update(t,e)})},i.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},i.register=function(t,e){ly[t]=e},i.get=function(t){return ly[t]},i}(),jk=/^(min|max)?(.+)$/,Zk=function(){function i(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return i.prototype.setOption=function(t,e,n){t&&(G(Gt(t.series),function(a){a&&a.data&&Se(a.data)&&eo(a.data)}),G(Gt(t.dataset),function(a){a&&a.source&&Se(a.source)&&eo(a.source)})),t=Ue(t);var r=this._optionBackup,o=function(a,s,l){var u,h,c=[],p=a.baseOption,f=a.timeline,m=a.options,y=a.media,v=!!a.media,b=!!(m||f||p&&p.timeline);function S(I){G(s,function(T){T(I,l)})}return p?(h=p).timeline||(h.timeline=f):((b||v)&&(a.options=a.media=null),h=a),v&&fe(y)&&G(y,function(I){I&&I.option&&(I.query?c.push(I):u||(u=I))}),S(h),G(m,function(I){return S(I)}),G(c,function(I){return S(I.option)}),{baseOption:h,timelineOptions:m||[],mediaDefault:u,mediaList:c}}(t,e,!r);this._newBaseOption=o.baseOption,r?(o.timelineOptions.length&&(r.timelineOptions=o.timelineOptions),o.mediaList.length&&(r.mediaList=o.mediaList),o.mediaDefault&&(r.mediaDefault=o.mediaDefault)):this._optionBackup=o},i.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],Ue(t?e.baseOption:this._newBaseOption)},i.prototype.getTimelineOption=function(t){var e,n=this._timelineOptions;if(n.length){var r=t.getComponent("timeline");r&&(e=Ue(n[r.getCurrentIndex()]))}return e},i.prototype.getMediaOption=function(t){var n,r=this._api.getWidth(),o=this._api.getHeight(),a=this._mediaList,s=this._mediaDefault,l=[],u=[];if(!a.length&&!s)return u;for(var h=0,c=a.length;h<c;h++)qk(a[h].query,r,o)&&l.push(h);return!l.length&&s&&(l=[-1]),l.length&&(n=this._currentMediaIndices,l.join(",")!==n.join(","))&&(u=ge(l,function(p){return Ue(-1===p?s.option:a[p].option)})),this._currentMediaIndices=l,u},i}();function qk(i,t,e){var n={width:t,height:e,aspectratio:t/e},r=!0;return G(i,function(o,a){var h,c,p,s=a.match(jk);if(s&&s[1]&&s[2]){var l=s[1],u=s[2].toLowerCase();h=n[u],c=o,("min"===(p=l)?h>=c:"max"===p?h<=c:h===c)||(r=!1)}}),r}var jr=G,Wc=le,ub=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function uy(i){var t=i&&i.itemStyle;if(t)for(var e=0,n=ub.length;e<n;e++){var r=ub[e],o=t.normal,a=t.emphasis;o&&o[r]&&(i[r]=i[r]||{},i[r].normal?Be(i[r].normal,o[r]):i[r].normal=o[r],o[r]=null),a&&a[r]&&(i[r]=i[r]||{},i[r].emphasis?Be(i[r].emphasis,a[r]):i[r].emphasis=a[r],a[r]=null)}}function mn(i,t,e){if(i&&i[t]&&(i[t].normal||i[t].emphasis)){var n=i[t].normal,r=i[t].emphasis;n&&(e?(i[t].normal=i[t].emphasis=null,Ve(i[t],n)):i[t]=n),r&&(i.emphasis=i.emphasis||{},i.emphasis[t]=r,r.focus&&(i.emphasis.focus=r.focus),r.blurScope&&(i.emphasis.blurScope=r.blurScope))}}function Hc(i){mn(i,"itemStyle"),mn(i,"lineStyle"),mn(i,"areaStyle"),mn(i,"label"),mn(i,"labelLine"),mn(i,"upperLabel"),mn(i,"edgeLabel")}function Si(i,t){var e=Wc(i)&&i[t],n=Wc(e)&&e.textStyle;if(n)for(var r=0,o=Dp.length;r<o;r++){var a=Dp[r];n.hasOwnProperty(a)&&(e[a]=n[a])}}function br(i){i&&(Hc(i),Si(i,"label"),i.emphasis&&Si(i.emphasis,"label"))}function na(i){return fe(i)?i:i?[i]:[]}function hb(i){return(fe(i)?i[0]:i)||{}}function cb(i){i&&G(Kk,function(t){t[0]in i&&!(t[1]in i)&&(i[t[1]]=i[t[0]])})}var Kk=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Jk=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],hy=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Yc(i){var t=i&&i.itemStyle;if(t)for(var e=0;e<hy.length;e++){var n=hy[e][1];null!=t[n]&&(t[hy[e][0]]=t[n])}}function db(i){i&&"edge"===i.alignTo&&null!=i.margin&&null==i.edgeDistance&&(i.edgeDistance=i.margin)}function pb(i){i&&i.downplay&&!i.blur&&(i.blur=i.downplay)}function fb(i,t){if(i)for(var e=0;e<i.length;e++)t(i[e]),i[e]&&fb(i[e].children,t)}function gb(i,t){(function $k(i,t){jr(na(i.series),function(n){Wc(n)&&function(r){if(Wc(r)){uy(r),Hc(r),Si(r,"label"),Si(r,"upperLabel"),Si(r,"edgeLabel"),r.emphasis&&(Si(r.emphasis,"label"),Si(r.emphasis,"upperLabel"),Si(r.emphasis,"edgeLabel"));var o=r.markPoint;o&&(uy(o),br(o));var a=r.markLine;a&&(uy(a),br(a));var s=r.markArea;s&&br(s);var l=r.data;if("graph"===r.type){l=l||r.nodes;var u=r.links||r.edges;if(u&&!Se(u))for(var h=0;h<u.length;h++)br(u[h]);G(r.categories,function(f){Hc(f)})}if(l&&!Se(l))for(h=0;h<l.length;h++)br(l[h]);if((o=r.markPoint)&&o.data){var c=o.data;for(h=0;h<c.length;h++)br(c[h])}if((a=r.markLine)&&a.data){var p=a.data;for(h=0;h<p.length;h++)fe(p[h])?(br(p[h][0]),br(p[h][1])):br(p[h])}"gauge"===r.type?(Si(r,"axisLabel"),Si(r,"title"),Si(r,"detail")):"treemap"===r.type?(mn(r.breadcrumb,"itemStyle"),G(r.levels,function(f){Hc(f)})):"tree"===r.type&&Hc(r.leaves)}}(n)});var e=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&e.push("valueAxis","categoryAxis","logAxis","timeAxis"),jr(e,function(n){jr(na(i[n]),function(r){r&&(Si(r,"axisLabel"),Si(r.axisPointer,"label"))})}),jr(na(i.parallel),function(n){var r=n&&n.parallelAxisDefault;Si(r,"axisLabel"),Si(r&&r.axisPointer,"label")}),jr(na(i.calendar),function(n){mn(n,"itemStyle"),Si(n,"dayLabel"),Si(n,"monthLabel"),Si(n,"yearLabel")}),jr(na(i.radar),function(n){Si(n,"name"),n.name&&null==n.axisName&&(n.axisName=n.name,delete n.name),null!=n.nameGap&&null==n.axisNameGap&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),jr(na(i.geo),function(n){Wc(n)&&(br(n),jr(na(n.regions),function(r){br(r)}))}),jr(na(i.timeline),function(n){br(n),mn(n,"label"),mn(n,"itemStyle"),mn(n,"controlStyle",!0);var r=n.data;fe(r)&&G(r,function(o){le(o)&&(mn(o,"label"),mn(o,"itemStyle"))})}),jr(na(i.toolbox),function(n){mn(n,"iconStyle"),jr(n.feature,function(r){mn(r,"iconStyle")})}),Si(hb(i.axisPointer),"label"),Si(hb(i.tooltip).axisPointer,"label")})(i,t),i.series=Gt(i.series),G(i.series,function(e){if(le(e)){var n=e.type;if("line"===n)null!=e.clipOverflow&&(e.clip=e.clipOverflow);else if("pie"===n||"gauge"===n){if(null!=e.clockWise&&(e.clockwise=e.clockWise),db(e.label),(a=e.data)&&!Se(a))for(var r=0;r<a.length;r++)db(a[r]);null!=e.hoverOffset&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if("gauge"===n){var o=function(l,u){for(var h="pointer.color".split(","),c=l,p=0;p<h.length&&null!=(c=c&&c[h[p]]);p++);return c}(e);null!=o&&function(l,u,h,c){for(var p,f="itemStyle.color".split(","),m=l,y=0;y<f.length-1;y++)null==m[p=f[y]]&&(m[p]={}),m=m[p];null==m[f[y]]&&(m[f[y]]=h)}(e,0,o)}else if("bar"===n){var a;if(Yc(e),Yc(e.backgroundStyle),Yc(e.emphasis),(a=e.data)&&!Se(a))for(r=0;r<a.length;r++)"object"==typeof a[r]&&(Yc(a[r]),Yc(a[r]&&a[r].emphasis))}else if("sunburst"===n){var s=e.highlightPolicy;s&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=s)),pb(e),fb(e.data,pb)}else"graph"===n||"sankey"===n?(l=e)&&null!=l.focusNodeAdjacency&&(l.emphasis=l.emphasis||{},null==l.emphasis.focus&&(l.emphasis.focus="adjacency")):"map"===n&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&Ve(e,e.mapLocation));null!=e.hoverAnimation&&(e.emphasis=e.emphasis||{},e.emphasis&&null==e.emphasis.scale&&(e.emphasis.scale=e.hoverAnimation)),cb(e)}var l}),i.dataRange&&(i.visualMap=i.dataRange),G(Jk,function(e){var n=i[e];n&&(fe(n)||(n=[n]),G(n,function(r){cb(r)}))})}function Qk(i){G(i,function(t,e){var n=[],r=[NaN,NaN],o=[t.stackResultDimension,t.stackedOverDimension],a=t.data,s=t.isStackedByIndex,l=t.seriesModel.get("stackStrategy")||"samesign";a.modify(o,function(u,h,c){var p,f,m=a.get(t.stackedDimension,c);if(isNaN(m))return r;s?f=a.getRawIndex(c):p=a.get(t.stackedByDimension,c);for(var y=NaN,v=e-1;v>=0;v--){var b=i[v];if(s||(f=b.data.rawIndexOf(b.stackedByDimension,p)),f>=0){var S=b.data.getByRawIndex(b.stackResultDimension,f);if("all"===l||"positive"===l&&S>0||"negative"===l&&S<0||"samesign"===l&&m>=0&&S>0||"samesign"===l&&m<=0&&S<0){m=hm(m,S),y=S;break}}}return n[0]=m,n[1]=y,n})})}var qu,$u,Ku,mb,yb,mf=function(i){this.data=i.data||(i.sourceFormat===Uu?{}:[]),this.sourceFormat=i.sourceFormat||$_,this.seriesLayoutBy=i.seriesLayoutBy||al,this.startIndex=i.startIndex||0,this.dimensionsDetectedCount=i.dimensionsDetectedCount,this.metaRawOption=i.metaRawOption;var t=this.dimensionsDefine=i.dimensionsDefine;if(t)for(var e=0;e<t.length;e++){var n=t[e];null==n.type&&1===eb(this,e)&&(n.type="ordinal")}};function cy(i){return i instanceof mf}function dy(i,t,e){e=e||vb(i);var n=t.seriesLayoutBy,r=function(o,a,s,l,u){var h,c;if(!o)return{dimensionsDefine:xb(u),startIndex:c,dimensionsDetectedCount:h};if(a===ia){var p=o;"auto"===l||null==l?_b(function(m){null!=m&&"-"!==m&&(De(m)?null==c&&(c=1):c=0)},s,p,10):c=oe(l)?l:l?1:0,u||1!==c||(u=[],_b(function(m,y){u[y]=null!=m?m+"":""},s,p,1/0)),h=u?u.length:"row"===s?p.length:p[0]?p[0].length:null}else if(a===Wa)u||(u=function(m){for(var y,v=0;v<m.length&&!(y=m[v++]););if(y){var b=[];return G(y,function(S,I){b.push(I)}),b}}(o));else if(a===Uu)u||(u=[],G(o,function(m,y){u.push(y)}));else if(a===Ga){var f=Ca(o[0]);h=fe(f)&&f.length||1}return{startIndex:c,dimensionsDefine:xb(u),dimensionsDetectedCount:h}}(i,e,n,t.sourceHeader,t.dimensions);return new mf({data:i,sourceFormat:e,seriesLayoutBy:n,dimensionsDefine:r.dimensionsDefine,startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount,metaRawOption:Ue(t)})}function py(i){return new mf({data:i,sourceFormat:Se(i)?ju:Ga})}function vb(i){var t=$_;if(Se(i))t=ju;else if(fe(i)){0===i.length&&(t=ia);for(var e=0,n=i.length;e<n;e++){var r=i[e];if(null!=r){if(fe(r)){t=ia;break}if(le(r)){t=Wa;break}}}}else if(le(i))for(var o in i)if(Le(i,o)&&Ft(i[o])){t=Uu;break}return t}function xb(i){if(i){var t=ze();return ge(i,function(e,n){var r={name:(e=le(e)?e:{name:e}).name,displayName:e.displayName,type:e.type};if(null==r.name)return r;r.name+="",null==r.displayName&&(r.displayName=r.name);var o=t.get(r.name);return o?r.name+="-"+o.count++:t.set(r.name,{count:1}),r})}}function _b(i,t,e,n){if("row"===t)for(var r=0;r<e.length&&r<n;r++)i(e[r]?e[r][0]:null,r);else{var o=e[0]||[];for(r=0;r<o.length&&r<n;r++)i(o[r],r)}}function bb(i){var t=i.sourceFormat;return t===Wa||t===Uu}var wb=function(){function i(t,e){var n=cy(t)?t:py(t);this._source=n;var r=this._data=n.data;n.sourceFormat===ju&&(this._offset=0,this._dimSize=e,this._data=r),yb(this,r,n)}return i.prototype.getSource=function(){return this._source},i.prototype.count=function(){return 0},i.prototype.getItem=function(t,e){},i.prototype.appendData=function(t){},i.prototype.clean=function(){},i.protoInitialize=function(){var t=i.prototype;t.pure=!1,t.persistent=!0}(),i.internalField=function(){var t;yb=function(a,s,l){var u=l.sourceFormat,h=l.seriesLayoutBy,c=l.startIndex,p=l.dimensionsDefine;if(de(a,mb[gy(u,h)]),u===ju)a.getItem=e,a.count=r,a.fillStorage=n;else{var m=Mb(u,h);a.getItem=ke(m,null,s,c,p);var y=Tb(u,h);a.count=ke(y,null,s,c,p)}};var e=function(a,s){s=s||[];for(var l=this._data,u=this._dimSize,h=u*(a-=this._offset),c=0;c<u;c++)s[c]=l[h+c];return s},n=function(a,s,l,u){for(var h=this._data,c=this._dimSize,p=0;p<c;p++){for(var f=u[p],m=f[0]??1/0,y=f[1]??-1/0,v=s-a,b=l[p],S=0;S<v;S++){var I=h[S*c+p];b[a+S]=I,I<m&&(m=I),I>y&&(y=I)}f[0]=m,f[1]=y}},r=function(){return this._data?this._data.length/this._dimSize:0};function o(a){for(var s=0;s<a.length;s++)this._data.push(a[s])}(t={}).arrayRows_column={pure:!0,appendData:o},t.arrayRows_row={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t.objectRows={pure:!0,appendData:o},t.keyedColumns={pure:!0,appendData:function(a){var s=this._data;G(a,function(l,u){for(var h=s[u]||(s[u]=[]),c=0;c<(l||[]).length;c++)h.push(l[c])})}},t.original={appendData:o},t.typedArray={persistent:!1,pure:!0,appendData:function(a){this._data=a},clean:function(){this._offset+=this.count(),this._data=null}},mb=t}(),i}(),Sb=function(i,t,e,n){return i[n]},eL=((qu={}).arrayRows_column=function(i,t,e,n){return i[n+t]},qu.arrayRows_row=function(i,t,e,n,r){n+=t;for(var o=r||[],a=i,s=0;s<a.length;s++){var l=a[s];o[s]=l?l[n]:null}return o},qu.objectRows=Sb,qu.keyedColumns=function(i,t,e,n,r){for(var o=r||[],a=0;a<e.length;a++){var l=i[e[a].name];o[a]=l?l[n]:null}return o},qu.original=Sb,qu);function Mb(i,t){return eL[gy(i,t)]}var Ib=function(i,t,e){return i.length},tL=(($u={}).arrayRows_column=function(i,t,e){return Math.max(0,i.length-t)},$u.arrayRows_row=function(i,t,e){var n=i[0];return n?Math.max(0,n.length-t):0},$u.objectRows=Ib,$u.keyedColumns=function(i,t,e){var r=i[e[0].name];return r?r.length:0},$u.original=Ib,$u);function Tb(i,t){return tL[gy(i,t)]}var fy=function(i,t,e){return i[t]},iL=((Ku={}).arrayRows=fy,Ku.objectRows=function(i,t,e){return i[e]},Ku.keyedColumns=fy,Ku.original=function(i,t,e){var n=Ca(i);return n instanceof Array?n[t]:n},Ku.typedArray=fy,Ku);function Cb(i){return iL[i]}function gy(i,t){return i===ia?i+"_"+t:i}function Ju(i,t,e){if(i){var n=i.getRawDataItem(t);if(null!=n){var r=i.getStore(),o=r.getSource().sourceFormat;if(null!=e){var a=i.getDimensionIndex(e),s=r.getDimensionProperty(a);return Cb(o)(n,a,s)}var l=n;return o===Ga&&(l=Ca(n)),l}}}var nL=/\{@(.+?)\}/g,my=function(){function i(){}return i.prototype.getDataParams=function(t,e){var n=this.getData(e),r=this.getRawValue(t,e),o=n.getRawIndex(t),a=n.getName(t),s=n.getRawDataItem(t),l=n.getItemVisual(t,"style"),u=l&&l[n.getItemVisual(t,"drawType")||"fill"],h=l&&l.stroke,c=this.mainType,p="series"===c,f=n.userOutput&&n.userOutput.get();return{componentType:c,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:p?this.subType:null,seriesIndex:this.seriesIndex,seriesId:p?this.id:null,seriesName:p?this.name:null,name:a,dataIndex:o,data:s,dataType:e,value:r,color:u,borderColor:h,dimensionNames:f?f.fullDimensions:null,encode:f?f.encode:null,$vars:["seriesName","name","value"]}},i.prototype.getFormattedLabel=function(t,e,n,r,o,a){e=e||"normal";var s=this.getData(n),l=this.getDataParams(t,n);return a&&(l.value=a.interpolatedValue),null!=r&&fe(l.value)&&(l.value=l.value[r]),o||(o=s.getItemModel(t).get("normal"===e?["label","formatter"]:[e,"label","formatter"])),Ge(o)?(l.status=e,l.dimensionIndex=r,o(l)):De(o)?Qm(o,l).replace(nL,function(u,h){var c=h.length,p=h;"["===p.charAt(0)&&"]"===p.charAt(c-1)&&(p=+p.slice(1,c-1));var f=Ju(s,t,p);if(a&&fe(a.interpolatedValue)){var m=s.getDimensionIndex(p);m>=0&&(f=a.interpolatedValue[m])}return null!=f?f+"":""}):void 0},i.prototype.getRawValue=function(t,e){return Ju(this.getData(e),t)},i.prototype.formatTooltip=function(t,e,n){},i}();function Db(i){var t,e;return le(i)?i.type&&(e=i):t=i,{text:t,frag:e}}function Xc(i){return new rL(i)}var rL=function(){function i(t){this._reset=(t=t||{}).reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return i.prototype.perform=function(t){var e,n=this._upstream,r=t&&t.skip;if(this._dirty&&n){var o=this.context;o.data=o.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!r&&(e=this._plan(this.context));var a,s=c(this._modBy),l=this._modDataCount||0,u=c(t&&t.modBy),h=t&&t.modDataCount||0;function c(S){return!(S>=1)&&(S=1),S}s===u&&l===h||(e="reset"),(this._dirty||"reset"===e)&&(this._dirty=!1,a=this._doReset(r)),this._modBy=u,this._modDataCount=h;var p=t&&t.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var f=this._dueIndex,m=Math.min(null!=p?this._dueIndex+p:1/0,this._dueEnd);if(!r&&(a||f<m)){var y=this._progress;if(fe(y))for(var v=0;v<y.length;v++)this._doProgress(y[v],f,m,u,h);else this._doProgress(y,f,m,u,h)}this._dueIndex=m,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:m}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},i.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},i.prototype._doProgress=function(t,e,n,r,o){Ab.reset(e,n,r,o),this._callingProgress=t,this._callingProgress({start:e,end:n,count:n-e,next:Ab.next},this.context)},i.prototype._doReset=function(t){var e,n;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!t&&this._reset&&((e=this._reset(this.context))&&e.progress&&(n=e.forceFirstProgress,e=e.progress),fe(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),n},i.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},i.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},i.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},i.prototype.getUpstream=function(){return this._upstream},i.prototype.getDownstream=function(){return this._downstream},i.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},i}(),Ab=function(){var i,t,e,n,r,o={reset:function(l,u,h,c){t=l,i=u,e=h,n=c,r=Math.ceil(n/e),o.next=e>1&&n>0?s:a}};return o;function a(){return t<i?t++:null}function s(){var l=t%r*e+Math.ceil(t/r),u=t>=i?null:l<n?l:t;return t++,u}}();function Ha(i,t){var e=t&&t.type;return"ordinal"===e?i:("time"!==e||oe(i)||null==i||"-"===i||(i=+hn(i)),null==i||""===i?NaN:+i)}var oL=ze({number:function(i){return parseFloat(i)},time:function(i){return+hn(i)},trim:function(i){return De(i)?Ut(i):i}});function kb(i){return oL.get(i)}var Lb={lt:function(i,t){return i<t},lte:function(i,t){return i<=t},gt:function(i,t){return i>t},gte:function(i,t){return i>=t}},aL=function(){function i(t,e){oe(e)||Ct(""),this._opFn=Lb[t],this._rvalFloat=bn(e)}return i.prototype.evaluate=function(t){return oe(t)?this._opFn(t,this._rvalFloat):this._opFn(bn(t),this._rvalFloat)},i}(),Pb=function(){function i(t,e){var n="desc"===t;this._resultLT=n?1:-1,null==e&&(e=n?"min":"max"),this._incomparable="min"===e?-1/0:1/0}return i.prototype.evaluate=function(t,e){var n=oe(t)?t:bn(t),r=oe(e)?e:bn(e),o=isNaN(n),a=isNaN(r);if(o&&(n=this._incomparable),a&&(r=this._incomparable),o&&a){var s=De(t),l=De(e);s&&(n=l?t:0),l&&(r=s?e:0)}return n<r?this._resultLT:n>r?-this._resultLT:0},i}(),sL=function(){function i(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=bn(e)}return i.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var n=typeof t;n===this._rvalTypeof||"number"!==n&&"number"!==this._rvalTypeof||(e=bn(t)===this._rvalFloat)}return this._isEQ?e:!e},i}();function lL(i,t){return"eq"===i||"ne"===i?new sL("eq"===i,t):Le(Lb,i)?new aL(i,t):null}var uL=function(){function i(){}return i.prototype.getRawData=function(){throw new Error("not supported")},i.prototype.getRawDataItem=function(t){throw new Error("not supported")},i.prototype.cloneRawData=function(){},i.prototype.getDimensionInfo=function(t){},i.prototype.cloneAllDimensionInfo=function(){},i.prototype.count=function(){},i.prototype.retrieveValue=function(t,e){},i.prototype.retrieveValueFromItem=function(t,e){},i.prototype.convertValue=function(t,e){return Ha(t,e)},i}();function hL(i){return yy(i.sourceFormat)||Ct(""),i.data}function cL(i){var t=i.sourceFormat,e=i.data;if(yy(t)||Ct(""),t===ia){for(var r=[],o=0,a=e.length;o<a;o++)r.push(e[o].slice());return r}if(t===Wa){for(r=[],o=0,a=e.length;o<a;o++)r.push(de({},e[o]));return r}}function dL(i,t,e){if(null!=e)return oe(e)||!isNaN(e)&&!Le(t,e)?i[e]:Le(t,e)?t[e]:void 0}function pL(i){return Ue(i)}var Ob=ze();function fL(i,t,e,n){t.length||Ct(""),le(i)||Ct("");var a=Ob.get(i.type);a||Ct("");var s=ge(t,function(u){return function(h,c){var p=new uL,f=h.data,m=p.sourceFormat=h.sourceFormat,y=h.startIndex;h.seriesLayoutBy!==al&&Ct("");var b=[],S={},I=h.dimensionsDefine;if(I)G(I,function(E,N){var z=E.name,B={index:N,name:z,displayName:E.displayName};b.push(B),null!=z&&(Le(S,z)&&Ct(""),S[z]=B)});else for(var T=0;T<h.dimensionsDetectedCount;T++)b.push({index:T});var D=Mb(m,al);c.__isBuiltIn&&(p.getRawDataItem=function(E){return D(f,y,b,E)},p.getRawData=ke(hL,null,h)),p.cloneRawData=ke(cL,null,h);var A=Tb(m,al);p.count=ke(A,null,f,y,b);var L=Cb(m);p.retrieveValue=function(E,N){var z=D(f,y,b,E);return P(z,N)};var P=p.retrieveValueFromItem=function(E,N){if(null!=E){var z=b[N];return z?L(E,N,z.name):void 0}};return p.getDimensionInfo=ke(dL,null,b,S),p.cloneAllDimensionInfo=ke(pL,null,b),p}(u,a)});return ge(Gt(a.transform({upstream:s[0],upstreamList:s,config:Ue(i.config)})),function(u,h){var c;le(u)||Ct(""),u.data||Ct(""),yy(vb(u.data))||Ct("");var f=t[0];if(f&&0===h&&!u.dimensions){var m=f.startIndex;m&&(u.data=f.data.slice(0,m).concat(u.data)),c={seriesLayoutBy:al,sourceHeader:m,dimensions:f.metaRawOption.dimensions}}else c={seriesLayoutBy:al,sourceHeader:0,dimensions:u.dimensions};return dy(u.data,c,null)})}function yy(i){return i===ia||i===Wa}var vy,yf="undefined",gL=typeof Uint32Array===yf?Array:Uint32Array,mL=typeof Uint16Array===yf?Array:Uint16Array,Rb=typeof Int32Array===yf?Array:Int32Array,Eb=typeof Float64Array===yf?Array:Float64Array,Nb={float:Eb,int:Rb,ordinal:Array,number:Array,time:Eb};function Uc(i){return i>65535?gL:mL}function zb(i,t,e,n,r){var o=Nb[e||"float"];if(r){var a=i[t],s=a&&a.length;if(s!==n){for(var l=new o(n),u=0;u<s;u++)l[u]=a[u];i[t]=l}}else i[t]=new o(n)}var xy=function(){function i(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=ze()}return i.prototype.initData=function(t,e,n){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var r=t.getSource(),o=this.defaultDimValueGetter=vy[r.sourceFormat];this._dimValueGetter=n||o,this._rawExtent=[],bb(r),this._dimensions=ge(e,function(a){return{type:a.type,property:a.property}}),this._initDataFromProvider(0,t.count())},i.prototype.getProvider=function(){return this._provider},i.prototype.getSource=function(){return this._provider.getSource()},i.prototype.ensureCalculationDimension=function(t,e){var n=this._calcDimNameToIdx,r=this._dimensions,o=n.get(t);if(null!=o){if(r[o].type===e)return o}else o=r.length;return r[o]={type:e},n.set(t,o),this._chunks[o]=new Nb[e||"float"](this._rawCount),this._rawExtent[o]=[1/0,-1/0],o},i.prototype.collectOrdinalMeta=function(t,e){var n=this._chunks[t],r=this._dimensions[t],o=this._rawExtent,a=r.ordinalOffset||0,s=n.length;0===a&&(o[t]=[1/0,-1/0]);for(var l=o[t],u=a;u<s;u++){var h=n[u]=e.parseAndCollect(n[u]);isNaN(h)||(l[0]=Math.min(h,l[0]),l[1]=Math.max(h,l[1]))}r.ordinalMeta=e,r.ordinalOffset=s,r.type="ordinal"},i.prototype.getOrdinalMeta=function(t){return this._dimensions[t].ordinalMeta},i.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},i.prototype.appendData=function(t){var e=this._provider,n=this.count();e.appendData(t);var r=e.count();return e.persistent||(r+=n),n<r&&this._initDataFromProvider(n,r,!0),[n,r]},i.prototype.appendValues=function(t,e){for(var n=this._chunks,r=this._dimensions,o=r.length,a=this._rawExtent,s=this.count(),l=s+Math.max(t.length,e||0),u=0;u<o;u++)zb(n,u,(m=r[u]).type,l,!0);for(var h=[],c=s;c<l;c++)for(var p=c-s,f=0;f<o;f++){var m=r[f],y=vy.arrayRows.call(this,t[p]||h,m.property,p,f);n[f][c]=y;var v=a[f];y<v[0]&&(v[0]=y),y>v[1]&&(v[1]=y)}return this._rawCount=this._count=l,{start:s,end:l}},i.prototype._initDataFromProvider=function(t,e,n){for(var r=this._provider,o=this._chunks,a=this._dimensions,s=a.length,l=this._rawExtent,u=ge(a,function(S){return S.property}),h=0;h<s;h++){var c=a[h];l[h]||(l[h]=[1/0,-1/0]),zb(o,h,c.type,e,n)}if(r.fillStorage)r.fillStorage(t,e,o,l);else for(var p=[],f=t;f<e;f++){p=r.getItem(f,p);for(var m=0;m<s;m++){var y=o[m],v=this._dimValueGetter(p,u[m],f,m);y[f]=v;var b=l[m];v<b[0]&&(b[0]=v),v>b[1]&&(b[1]=v)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=e,this._extent=[]},i.prototype.count=function(){return this._count},i.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._chunks[t];return n?n[this.getRawIndex(e)]:NaN},i.prototype.getValues=function(t,e){var n=[],r=[];if(null==e){e=t,t=[];for(var o=0;o<this._dimensions.length;o++)r.push(o)}else r=t;o=0;for(var a=r.length;o<a;o++)n.push(this.get(r[o],e));return n},i.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._chunks[t];return n?n[e]:NaN},i.prototype.getSum=function(t){var e=0;if(this._chunks[t])for(var n=0,r=this.count();n<r;n++){var o=this.get(t,n);isNaN(o)||(e+=o)}return e},i.prototype.getMedian=function(t){var e=[];this.each([t],function(o){isNaN(o)||e.push(o)});var n=e.sort(function(o,a){return o-a}),r=this.count();return 0===r?0:r%2==1?n[(r-1)/2]:(n[r/2]+n[r/2-1])/2},i.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,n=e[t];if(null!=n&&n<this._count&&n===t)return t;for(var r=0,o=this._count-1;r<=o;){var a=(r+o)/2|0;if(e[a]<t)r=a+1;else{if(!(e[a]>t))return a;o=a-1}}return-1},i.prototype.indicesOfNearest=function(t,e,n){var r=this._chunks[t],o=[];if(!r)return o;null==n&&(n=1/0);for(var a=1/0,s=-1,l=0,u=0,h=this.count();u<h;u++){var c=e-r[this.getRawIndex(u)],p=Math.abs(c);p<=n&&((p<a||p===a&&c>=0&&s<0)&&(a=p,s=c,l=0),c===s&&(o[l++]=u))}return o.length=l,o},i.prototype.getIndices=function(){var t,e=this._indices;if(e){var n=e.constructor,r=this._count;if(n===Array){t=new n(r);for(var o=0;o<r;o++)t[o]=e[o]}else t=new n(e.buffer,0,r)}else for(t=new(n=Uc(this._rawCount))(this.count()),o=0;o<t.length;o++)t[o]=o;return t},i.prototype.filter=function(t,e){if(!this._count)return this;for(var n=this.clone(),r=n.count(),o=new(Uc(n._rawCount))(r),a=[],s=t.length,l=0,u=t[0],h=n._chunks,c=0;c<r;c++){var p=void 0,f=n.getRawIndex(c);if(0===s)p=e(c);else if(1===s)p=e(h[u][f],c);else{for(var m=0;m<s;m++)a[m]=h[t[m]][f];a[m]=c,p=e.apply(null,a)}p&&(o[l++]=f)}return l<r&&(n._indices=o),n._count=l,n._extent=[],n._updateGetRawIdx(),n},i.prototype.selectRange=function(t){var e=this.clone(),n=e._count;if(!n)return this;var r=dt(t),o=r.length;if(!o)return this;var a=e.count(),s=new(Uc(e._rawCount))(a),l=0,u=r[0],h=t[u][0],c=t[u][1],p=e._chunks,f=!1;if(!e._indices){var m=0;if(1===o){for(var y=p[r[0]],v=0;v<n;v++)((T=y[v])>=h&&T<=c||isNaN(T))&&(s[l++]=m),m++;f=!0}else if(2===o){y=p[r[0]];var b=p[r[1]],S=t[r[1]][0],I=t[r[1]][1];for(v=0;v<n;v++){var T=y[v],D=b[v];(T>=h&&T<=c||isNaN(T))&&(D>=S&&D<=I||isNaN(D))&&(s[l++]=m),m++}f=!0}}if(!f)if(1===o)for(v=0;v<a;v++){var A=e.getRawIndex(v);((T=p[r[0]][A])>=h&&T<=c||isNaN(T))&&(s[l++]=A)}else for(v=0;v<a;v++){for(var L=!0,P=(A=e.getRawIndex(v),0);P<o;P++){var E=r[P];((T=p[E][A])<t[E][0]||T>t[E][1])&&(L=!1)}L&&(s[l++]=e.getRawIndex(v))}return l<a&&(e._indices=s),e._count=l,e._extent=[],e._updateGetRawIdx(),e},i.prototype.map=function(t,e){var n=this.clone(t);return this._updateDims(n,t,e),n},i.prototype.modify=function(t,e){this._updateDims(this,t,e)},i.prototype._updateDims=function(t,e,n){for(var r=t._chunks,o=[],a=e.length,s=t.count(),l=[],u=t._rawExtent,h=0;h<e.length;h++)u[e[h]]=[1/0,-1/0];for(var c=0;c<s;c++){for(var p=t.getRawIndex(c),f=0;f<a;f++)l[f]=r[e[f]][p];l[a]=c;var m=n&&n.apply(null,l);if(null!=m)for("object"!=typeof m&&(o[0]=m,m=o),h=0;h<m.length;h++){var y=e[h],v=m[h],b=u[y],S=r[y];S&&(S[p]=v),v<b[0]&&(b[0]=v),v>b[1]&&(b[1]=v)}}},i.prototype.lttbDownSample=function(t,e){var n,r,o,a=this.clone([t],!0),s=a._chunks[t],l=this.count(),u=0,h=Math.floor(1/e),c=this.getRawIndex(0),p=new(Uc(this._rawCount))(Math.min(2*(Math.ceil(l/h)+2),l));p[u++]=c;for(var f=1;f<l-1;f+=h){for(var m=Math.min(f+h,l-1),y=Math.min(f+2*h,l),v=(y+m)/2,b=0,S=m;S<y;S++){var I=s[N=this.getRawIndex(S)];isNaN(I)||(b+=I)}b/=y-m;var T=f,D=Math.min(f+h,l),A=f-1,L=s[c];n=-1,o=T;var P=-1,E=0;for(S=T;S<D;S++){var N;I=s[N=this.getRawIndex(S)],isNaN(I)?(E++,P<0&&(P=N)):(r=Math.abs((A-v)*(I-L)-(A-S)*(b-L)))>n&&(n=r,o=N)}E>0&&E<D-T&&(p[u++]=Math.min(P,o),o=Math.max(P,o)),p[u++]=o,c=o}return p[u++]=this.getRawIndex(l-1),a._count=u,a._indices=p,a.getRawIndex=this._getRawIdx,a},i.prototype.downSample=function(t,e,n,r){for(var o=this.clone([t],!0),a=o._chunks,s=[],l=Math.floor(1/e),u=a[t],h=this.count(),c=o._rawExtent[t]=[1/0,-1/0],p=new(Uc(this._rawCount))(Math.ceil(h/l)),f=0,m=0;m<h;m+=l){l>h-m&&(s.length=l=h-m);for(var y=0;y<l;y++){var v=this.getRawIndex(m+y);s[y]=u[v]}var b=n(s),S=this.getRawIndex(Math.min(m+r(s,b)||0,h-1));u[S]=b,b<c[0]&&(c[0]=b),b>c[1]&&(c[1]=b),p[f++]=S}return o._count=f,o._indices=p,o._updateGetRawIdx(),o},i.prototype.each=function(t,e){if(this._count)for(var n=t.length,r=this._chunks,o=0,a=this.count();o<a;o++){var s=this.getRawIndex(o);switch(n){case 0:e(o);break;case 1:e(r[t[0]][s],o);break;case 2:e(r[t[0]][s],r[t[1]][s],o);break;default:for(var l=0,u=[];l<n;l++)u[l]=r[t[l]][s];u[l]=o,e.apply(null,u)}}},i.prototype.getDataExtent=function(t){var e=this._chunks[t],n=[1/0,-1/0];if(!e)return n;var r,o=this.count();if(!this._indices)return this._rawExtent[t].slice();if(r=this._extent[t])return r.slice();for(var a=(r=n)[0],s=r[1],l=0;l<o;l++){var u=e[this.getRawIndex(l)];u<a&&(a=u),u>s&&(s=u)}return this._extent[t]=r=[a,s],r},i.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var n=[],r=this._chunks,o=0;o<r.length;o++)n.push(r[o][e]);return n},i.prototype.clone=function(t,e){var n,r,o=new i,a=this._chunks,s=t&&Zi(t,function(u,h){return u[h]=!0,u},{});if(s)for(var l=0;l<a.length;l++)o._chunks[l]=s[l]?(r=void 0,(r=(n=a[l]).constructor)===Array?n.slice():new r(n)):a[l];else o._chunks=a;return this._copyCommonProps(o),e||(o._indices=this._cloneIndices()),o._updateGetRawIdx(),o},i.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=Ue(this._extent),t._rawExtent=Ue(this._rawExtent)},i.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var n=this._indices.length;e=new t(n);for(var r=0;r<n;r++)e[r]=this._indices[r]}else e=new t(this._indices);return e}return null},i.prototype._getRawIdxIdentity=function(t){return t},i.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},i.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},i.internalField=function(){function t(e,n,r,o){return Ha(e[o],this._dimensions[o])}vy={arrayRows:t,objectRows:function(e,n,r,o){return Ha(e[n],this._dimensions[o])},keyedColumns:t,original:function(e,n,r,o){var a=e&&(e.value??e);return Ha(a instanceof Array?a[o]:a,this._dimensions[o])},typedArray:function(e,n,r,o){return e[o]}}}(),i}(),Vb=function(){function i(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return i.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},i.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},i.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},i.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},i.prototype._createSource=function(){this._setLocalSource([],[]);var t,e,n=this._sourceHost,r=this._getUpstreamSourceManagers(),o=!!r.length;if(vf(n)){var a=n,s=void 0,l=void 0,u=void 0;if(o){var h=r[0];h.prepareSource(),s=(u=h.getSource()).data,l=u.sourceFormat,e=[h._getVersionSign()]}else l=Se(s=a.get("data",!0))?ju:Ga,e=[];var c=this._getSourceMetaRawOption()||{},p=u&&u.metaRawOption||{},f=He(c.seriesLayoutBy,p.seriesLayoutBy)||null,m=He(c.sourceHeader,p.sourceHeader),y=He(c.dimensions,p.dimensions);t=f!==p.seriesLayoutBy||!!m!=!!p.sourceHeader||y?[dy(s,{seriesLayoutBy:f,sourceHeader:m,dimensions:y},l)]:[]}else{var v=n;if(o){var b=this._applyTransform(r);t=b.sourceList,e=b.upstreamSignList}else t=[dy(v.get("source",!0),this._getSourceMetaRawOption(),null)],e=[]}this._setLocalSource(t,e)},i.prototype._applyTransform=function(t){var e,n=this._sourceHost,r=n.get("transform",!0),o=n.get("fromTransformResult",!0);null!=o&&1!==t.length&&Fb("");var s,l=[],u=[];return G(t,function(h){h.prepareSource();var c=h.getSource(o||0);null==o||c||Fb(""),l.push(c),u.push(h._getVersionSign())}),r?e=function(h,c,p){var f=Gt(h),m=f.length;m||Ct("");for(var v=0,b=m;v<b;v++)c=fL(f[v],c),v!==b-1&&(c.length=Math.max(c.length,1));return c}(r,l):null!=o&&(e=[(s=l[0],new mf({data:s.data,sourceFormat:s.sourceFormat,seriesLayoutBy:s.seriesLayoutBy,dimensionsDefine:Ue(s.dimensionsDefine),startIndex:s.startIndex,dimensionsDetectedCount:s.dimensionsDetectedCount}))]),{sourceList:e,upstreamSignList:u}},i.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var n=t[e];if(n._isDirty()||this._upstreamSignList[e]!==n._getVersionSign())return!0}},i.prototype.getSource=function(t){var e=this._sourceList[t=t||0];if(!e){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(t)}return e},i.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},i.prototype._innerGetDataStore=function(t,e,n){var r=this._storeList,o=r[0];o||(o=r[0]={});var a=o[n];if(!a){var s=this._getUpstreamSourceManagers()[0];vf(this._sourceHost)&&s?a=s._innerGetDataStore(t,e,n):(a=new xy).initData(new wb(e,t.length),t),o[n]=a}return a},i.prototype._getUpstreamSourceManagers=function(){var n,t=this._sourceHost;if(vf(t)){var e=ny(t);return e?[e.getSourceManager()]:[]}return ge((n=t).get("transform",!0)||n.get("fromTransformResult",!0)?Hs(n.ecModel,"dataset",{index:n.get("fromDatasetIndex",!0),id:n.get("fromDatasetId",!0)},di).models:[],function(n){return n.getSourceManager()})},i.prototype._getSourceMetaRawOption=function(){var t,e,n,r=this._sourceHost;if(vf(r))t=r.get("seriesLayoutBy",!0),e=r.get("sourceHeader",!0),n=r.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=r;t=o.get("seriesLayoutBy",!0),e=o.get("sourceHeader",!0),n=o.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:e,dimensions:n}},i}();function Bb(i){i.option.transform&&eo(i.option.transform)}function vf(i){return"series"===i.mainType}function Fb(i){throw new Error(i)}function Gb(i,t){var e=i.color||"#6e7079",n=i.fontSize||12,r=i.fontWeight||"400",o=i.color||"#464646",a=i.fontSize||14,s=i.fontWeight||"900";return"html"===t?{nameStyle:"font-size:"+Pi(n+"")+"px;color:"+Pi(e)+";font-weight:"+Pi(r+""),valueStyle:"font-size:"+Pi(a+"")+"px;color:"+Pi(o)+";font-weight:"+Pi(s+"")}:{nameStyle:{fontSize:n,fill:e,fontWeight:r},valueStyle:{fontSize:a,fill:o,fontWeight:s}}}var yL=[0,10,20,30],vL=["","\n","\n\n","\n\n\n"];function Ni(i,t){return t.type=i,t}function _y(i){return"section"===i.type}function Wb(i){return _y(i)?xL:_L}function Hb(i){if(_y(i)){var t=0,e=i.blocks.length,n=e>1||e>0&&!i.noHeader;return G(i.blocks,function(r){var o=Hb(r);o>=t&&(t=o+ +(n&&(!o||_y(r)&&!r.noHeader)))}),t}return 0}function xL(i,t,e,n){var r,o=t.noHeader,a=(r=Hb(t),{html:yL[r],richText:vL[r]}),s=[],l=t.blocks||[];Vt(!l||fe(l)),l=l||[];var u=i.orderMode;if(t.sortBlocks&&u){l=l.slice();var h={valueAsc:"asc",valueDesc:"desc"};if(Le(h,u)){var c=new Pb(h[u],null);l.sort(function(y,v){return c.evaluate(y.sortParam,v.sortParam)})}else"seriesDesc"===u&&l.reverse()}G(l,function(y,v){var b=t.valueFormatter,S=Wb(y)(b?de(de({},i),{valueFormatter:b}):i,y,v>0?a.html:0,n);null!=S&&s.push(S)});var p="richText"===i.renderMode?s.join(a.richText):by(s.join(""),o?e:a.html);if(o)return p;var f=Km(t.header,"ordinal",i.useUTC),m=Gb(n,i.renderMode).nameStyle;return"richText"===i.renderMode?Xb(i,f,m)+a.richText+p:by('<div style="'+m+';line-height:1;">'+Pi(f)+"</div>"+p,e)}function _L(i,t,e,n){var T,D,E,r=i.renderMode,o=t.noName,a=t.noValue,s=!t.markerType,l=t.name,u=i.useUTC,h=t.valueFormatter||i.valueFormatter||function(T){return ge(T=fe(T)?T:[T],function(D,A){return Km(D,fe(f)?f[A]:f,u)})};if(!o||!a){var c=s?"":i.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",r),p=o?"":Km(l,"ordinal",u),f=t.valueType,m=a?[]:h(t.value),y=!s||!o,v=!s&&o,b=Gb(n,r),S=b.nameStyle,I=b.valueStyle;return"richText"===r?(s?"":c)+(o?"":Xb(i,p,S))+(a?"":(T=i,D=m,E=[I],y&&E.push({padding:[0,0,0,v?10:20],align:"right"}),T.markupStyleCreator.wrapRichTextStyle(fe(D)?D.join("  "):D,E))):by((s?"":c)+(o?"":function(T,D,A){return'<span style="'+A+";"+(D?"margin-left:2px":"")+'">'+Pi(T)+"</span>"}(p,!s,S))+(a?"":function(T,D,A,L){return'<span style="'+(D?"float:right;margin-left:"+(A?"10px":"20px"):"")+";"+L+'">'+ge(T=fe(T)?T:[T],function(N){return Pi(N)}).join("&nbsp;&nbsp;")+"</span>"}(m,y,v,I)),e)}}function Yb(i,t,e,n,r,o){if(i)return Wb(i)({useUTC:r,renderMode:e,orderMode:n,markupStyleCreator:t,valueFormatter:i.valueFormatter},i,0,o)}function by(i,t){return'<div style="margin: '+t+'px 0 0;line-height:1;">'+i+'<div style="clear:both"></div></div>'}function Xb(i,t,e){return i.markupStyleCreator.wrapRichTextStyle(t,e)}function Ub(i,t){return nl(i.getData().getItemVisual(t,"style")[i.visualDrawType])}function jb(i,t){return i.get("padding")??("richText"===t?[8,10]:10)}var wy=function(){function i(){this.richTextStyles={},this._nextStyleNameId=cc()}return i.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},i.prototype.makeTooltipMarker=function(t,e,n){var r="richText"===n?this._generateStyleName():null,o=X_({color:e,type:t,renderMode:n,markerId:r});return De(o)?o:(this.richTextStyles[r]=o.style,o.content)},i.prototype.wrapRichTextStyle=function(t,e){var n={};fe(e)?G(e,function(o){return de(n,o)}):de(n,e);var r=this._generateStyleName();return this.richTextStyles[r]=n,"{"+r+"|"+t+"}"},i}();function Zb(i){var t,e,n,r,o=i.series,a=i.dataIndex,s=i.multipleSeries,l=o.getData(),u=l.mapDimensionsAll("defaultedTooltip"),h=u.length,c=o.getRawValue(a),p=fe(c),f=Ub(o,a);if(h>1||p&&!h){var m=function(T,D,A,L,P){var E=D.getData(),N=Zi(T,function(j,Z,q){var K=E.getDimensionInfo(q);return j||K&&!1!==K.tooltip&&null!=K.displayName},!1),z=[],B=[],W=[];function Y(j,Z){var q=E.getDimensionInfo(Z);q&&!1!==q.otherDims.tooltip&&(N?W.push(Ni("nameValue",{markerType:"subItem",markerColor:P,name:q.displayName,value:j,valueType:q.type})):(z.push(j),B.push(q.type)))}return L.length?G(L,function(j){Y(Ju(E,A,j),j)}):G(T,Y),{inlineValues:z,inlineValueTypes:B,blocks:W}}(c,o,a,u,f);t=m.inlineValues,e=m.inlineValueTypes,n=m.blocks,r=m.inlineValues[0]}else if(h){var y=l.getDimensionInfo(u[0]);r=t=Ju(l,a,u[0]),e=y.type}else r=t=p?c[0]:c;var v=mc(o),b=v&&o.name||"",S=l.getName(a),I=s?b:S;return Ni("section",{header:b,noHeader:s||!v,sortParam:r,blocks:[Ni("nameValue",{markerType:"item",markerColor:f,name:I,noName:!Ut(I),value:t,valueType:e})].concat(n||[])})}var Ya=_t();function xf(i,t){return i.getName(t)||i.getId(t)}var qt=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return ie(t,i),t.prototype.init=function(e,n,r){this.seriesIndex=this.componentIndex,this.dataTask=Xc({count:bL,reset:wL}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,r),(Ya(this).sourceManager=new Vb(this)).prepareSource();var o=this.getInitialData(e,r);$b(o,this),this.dataTask.context.data=o,Ya(this).dataBeforeProcessed=o,qb(this),this._initSelectedMapFromData(o)},t.prototype.mergeDefaultAndTheme=function(e,n){var r=Fc(this),o=r?Yu(e):{},a=this.subType;mt.hasClass(a)&&(a+="Series"),Be(e,n.getTheme().get(this.subType)),Be(e,this.getDefaultOption()),qo(e,"label",["show"]),this.fillDataTextStyle(e.data),r&&Fa(e,o,r)},t.prototype.mergeOption=function(e,n){e=Be(this.option,e,!0),this.fillDataTextStyle(e.data);var r=Fc(this);r&&Fa(this.option,e,r);var o=Ya(this).sourceManager;o.dirty(),o.prepareSource();var a=this.getInitialData(e,n);$b(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,Ya(this).dataBeforeProcessed=a,qb(this),this._initSelectedMapFromData(a)},t.prototype.fillDataTextStyle=function(e){if(e&&!Se(e))for(var n=["show"],r=0;r<e.length;r++)e[r]&&e[r].label&&qo(e[r],"label",n)},t.prototype.getInitialData=function(e,n){},t.prototype.appendData=function(e){this.getRawData().appendData(e.data)},t.prototype.getData=function(e){var n=Sy(this);if(n){var r=n.context.data;return null==e?r:r.getLinkedData(e)}return Ya(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var n=Sy(this);if(n){var r=n.context;r.outputData=e,n!==this.dataTask&&(r.data=e)}Ya(this).data=e},t.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return ze(e)},t.prototype.getSourceManager=function(){return Ya(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return Ya(this).dataBeforeProcessed},t.prototype.getColorBy=function(){return this.get("colorBy")||"series"},t.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.formatTooltip=function(e,n,r){return Zb({series:this,dataIndex:e,multipleSeries:n})},t.prototype.isAnimationEnabled=function(){var e=this.ecModel;if(Ee.node&&(!e||!e.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,n,r){var o=this.ecModel,a=oy.prototype.getColorFromPalette.call(this,e,n,r);return a||(a=o.getColorFromPalette(e,n,r)),a},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(e,n){this._innerSelect(this.getData(n),e)},t.prototype.unselect=function(e,n){var r=this.option.selectedMap;if(r){var o=this.option.selectedMode,a=this.getData(n);if("series"===o||"all"===r)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var s=0;s<e.length;s++){var l=xf(a,e[s]);r[l]=!1,this._selectedDataIndicesMap[l]=-1}}},t.prototype.toggleSelect=function(e,n){for(var r=[],o=0;o<e.length;o++)r[0]=e[o],this.isSelected(e[o],n)?this.unselect(r,n):this.select(r,n)},t.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var e=this._selectedDataIndicesMap,n=dt(e),r=[],o=0;o<n.length;o++){var a=e[n[o]];a>=0&&r.push(a)}return r},t.prototype.isSelected=function(e,n){var r=this.option.selectedMap;if(!r)return!1;var o=this.getData(n);return("all"===r||r[xf(o,e)])&&!o.getItemModel(e).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this.__universalTransitionEnabled)return!0;var e=this.option.universalTransition;return!!e&&(!0===e||e&&e.enabled)},t.prototype._innerSelect=function(e,n){var r,o,a=this.option,s=a.selectedMode,l=n.length;if(s&&l)if("series"===s)a.selectedMap="all";else if("multiple"===s){le(a.selectedMap)||(a.selectedMap={});for(var u=a.selectedMap,h=0;h<l;h++){var c=n[h];u[f=xf(e,c)]=!0,this._selectedDataIndicesMap[f]=e.getRawIndex(c)}}else if("single"===s||!0===s){var p=n[l-1],f=xf(e,p);a.selectedMap=((r={})[f]=!0,r),this._selectedDataIndicesMap=((o={})[f]=e.getRawIndex(p),o)}},t.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var n=[];e.hasItemOption&&e.each(function(r){var o=e.getRawDataItem(r);o&&o.selected&&n.push(r)}),n.length>0&&this._innerSelect(e,n)}},t.registerClass=function(e){return mt.registerClass(e)},t.protoInitialize=((e=t.prototype).type="series.__base__",e.seriesIndex=0,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",void(e.visualDrawType="fill")),t;var e}(mt);function qb(i){var n,r,o,t=i.name;mc(i)||(i.name=(r=(n=i.getRawData()).mapDimensionsAll("seriesName"),o=[],G(r,function(a){var s=n.getDimensionInfo(a);s.displayName&&o.push(s.displayName)}),o.join(" ")||t))}function bL(i){return i.model.getRawData().count()}function wL(i){var t=i.model;return t.setData(t.getRawData().cloneShallow()),SL}function SL(i,t){t.outputData&&i.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function $b(i,t){G(Or(i.CHANGABLE_METHODS,i.DOWNSAMPLE_METHODS),function(e){i.wrapMethod(e,Xe(ML,t))})}function ML(i,t){var e=Sy(i);return e&&e.setOutputEnd((t||this).count()),t}function Sy(i){var t=(i.ecModel||{}).scheduler,e=t&&t.getPipeline(i.uid);if(e){var n=e.currentTask;if(n){var r=n.agentStubMap;r&&(n=r.get(i.uid))}return n}}Qt(qt,my),Qt(qt,oy),vc(qt,mt);var ei=function(){function i(){this.group=new Ze,this.uid=Gu("viewComponent")}return i.prototype.init=function(t,e){},i.prototype.render=function(t,e,n,r){},i.prototype.dispose=function(t,e){},i.prototype.updateView=function(t,e,n,r){},i.prototype.updateLayout=function(t,e,n,r){},i.prototype.updateVisual=function(t,e,n,r){},i.prototype.toggleBlurSeries=function(t,e,n){},i.prototype.eachRendered=function(t){var e=this.group;e&&e.traverse(t)},i}();function Qu(){var i=_t();return function(t){var e=i(t),n=t.pipelineContext,r=!!e.large,o=!!e.progressiveRender,a=e.large=!(!n||!n.large),s=e.progressiveRender=!(!n||!n.progressiveRender);return!(r===a&&o===s)&&"reset"}}bu(ei),La(ei);var Kb=_t(),IL=Qu(),Ht=function(){function i(){this.group=new Ze,this.uid=Gu("viewChart"),this.renderTask=Xc({plan:TL,reset:CL}),this.renderTask.context={view:this}}return i.prototype.init=function(t,e){},i.prototype.render=function(t,e,n,r){},i.prototype.highlight=function(t,e,n,r){var o=t.getData(r&&r.dataType);o&&Qb(o,r,"emphasis")},i.prototype.downplay=function(t,e,n,r){var o=t.getData(r&&r.dataType);o&&Qb(o,r,"normal")},i.prototype.remove=function(t,e){this.group.removeAll()},i.prototype.dispose=function(t,e){},i.prototype.updateView=function(t,e,n,r){this.render(t,e,n,r)},i.prototype.updateLayout=function(t,e,n,r){this.render(t,e,n,r)},i.prototype.updateVisual=function(t,e,n,r){this.render(t,e,n,r)},i.prototype.eachRendered=function(t){Va(this.group,t)},i.markUpdateMethod=function(t,e){Kb(t).updateMethod=e},i.protoInitialize=void(i.prototype.type="chart"),i}();function Jb(i,t,e){i&&Ic(i)&&("emphasis"===t?ea:ta)(i,e)}function Qb(i,t,e){var o,a,n=$o(i,t),r=t&&null!=t.highlightKey?(null==(a=L1[o=t.highlightKey])&&k1<=32&&(a=L1[o]=k1++),a):null;null!=n?G(Gt(n),function(o){Jb(i.getItemGraphicEl(o),e,r)}):i.eachItemGraphicEl(function(o){Jb(o,e,r)})}function TL(i){return IL(i.model)}function CL(i){var t=i.model,e=i.ecModel,n=i.api,r=i.payload,o=t.pipelineContext.progressiveRender,a=i.view,s=r&&Kb(r).updateMethod,l=o?"incrementalPrepareRender":s&&a[s]?s:"render";return"render"!==l&&a[l](t,e,n,r),DL[l]}bu(Ht),La(Ht);var DL={incrementalPrepareRender:{progress:function(i,t){t.view.incrementalRender(i,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(i,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},_f="\0__throttleOriginMethod",ew="\0__throttleRate",tw="\0__throttleType";function bf(i,t,e){var n,r,o,a,s,l=0,u=0,h=null;function c(){u=(new Date).getTime(),h=null,i.apply(o,a||[])}t=t||0;var p=function(){for(var f=[],m=0;m<arguments.length;m++)f[m]=arguments[m];n=(new Date).getTime(),o=this,a=f;var y=s||t,v=s||e;s=null,r=n-(v?l:u)-y,clearTimeout(h),v?h=setTimeout(c,y):r>=0?c():h=setTimeout(c,-r),l=n};return p.clear=function(){h&&(clearTimeout(h),h=null)},p.debounceNextCall=function(f){s=f},p}function eh(i,t,e,n){var r=i[t];if(r){var o=r[_f]||r;if(r[ew]!==e||r[tw]!==n){if(null==e||!n)return i[t]=o;(r=i[t]=bf(o,e,"debounce"===n))[_f]=o,r[tw]=n,r[ew]=e}return r}}function jc(i,t){var e=i[t];e&&e[_f]&&(e.clear&&e.clear(),i[t]=e[_f])}var iw=_t(),nw={itemStyle:Jo(D_,!0),lineStyle:Jo(C_,!0)},AL={lineStyle:"stroke",itemStyle:"fill"};function rw(i,t){return i.visualStyleMapper||nw[t]||(console.warn("Unknown style type '"+t+"'."),nw.itemStyle)}function ow(i,t){return i.visualDrawType||AL[t]||(console.warn("Unknown style type '"+t+"'."),"fill")}var kL={createOnAllSeries:!0,performRawSeries:!0,reset:function(i,t){var e=i.getData(),n=i.visualStyleAccessPath||"itemStyle",r=i.getModel(n),o=rw(i,n)(r),a=r.getShallow("decal");a&&(e.setVisual("decal",a),a.dirty=!0);var s=ow(i,n),l=o[s],u=Ge(l)?l:null;if(!o[s]||u||"auto"===o.fill||"auto"===o.stroke){var c=i.getColorFromPalette(i.name,null,t.getSeriesCount());o[s]||(o[s]=c,e.setVisual("colorFromPalette",!0)),o.fill="auto"===o.fill||Ge(o.fill)?c:o.fill,o.stroke="auto"===o.stroke||Ge(o.stroke)?c:o.stroke}if(e.setVisual("style",o),e.setVisual("drawType",s),!t.isSeriesFiltered(i)&&u)return e.setVisual("colorFromPalette",!1),{dataEach:function(p,f){var m=i.getDataParams(f),y=de({},o);y[s]=u(m),p.setItemVisual(f,"style",y)}}}},Zc=new Rt,LL={createOnAllSeries:!0,performRawSeries:!0,reset:function(i,t){if(!i.ignoreStyleOnData&&!t.isSeriesFiltered(i)){var e=i.getData(),n=i.visualStyleAccessPath||"itemStyle",r=rw(i,n),o=e.getVisual("drawType");return{dataEach:e.hasItemOption?function(a,s){var l=a.getRawDataItem(s);if(l&&l[n]){Zc.option=l[n];var u=r(Zc);de(a.ensureUniqueItemVisual(s,"style"),u),Zc.option.decal&&(a.setItemVisual(s,"decal",Zc.option.decal),Zc.option.decal.dirty=!0),o in u&&a.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},PL={performRawSeries:!0,overallReset:function(i){var t=ze();i.eachSeries(function(e){var n=e.getColorBy();if(!e.isColorBySeries()){var r=e.type+"-"+n,o=t.get(r);o||t.set(r,o={}),iw(e).scope=o}}),i.eachSeries(function(e){if(!e.isColorBySeries()&&!i.isSeriesFiltered(e)){var n=e.getRawData(),r={},o=e.getData(),a=iw(e).scope,l=ow(e,e.visualStyleAccessPath||"itemStyle");o.each(function(u){var h=o.getRawIndex(u);r[h]=u}),n.each(function(u){var h=r[u];if(o.getItemVisual(h,"colorFromPalette")){var c=o.ensureUniqueItemVisual(h,"style"),p=n.getName(u)||u+"",f=n.count();c[l]=e.getColorFromPalette(p,a,f)}})}})}},wf=Math.PI,aw=function(){function i(t,e,n,r){this._stageTaskMap=ze(),this.ecInstance=t,this.api=e,n=this._dataProcessorHandlers=n.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=n.concat(r)}return i.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(n){var r=n.overallTask;r&&r.dirty()})},i.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),r=n.context,o=!e&&n.progressiveEnabled&&(!r||r.progressiveRender)&&t.__idxInPipeline>n.blockIndex?n.step:null,a=r&&r.modDataCount;return{step:o,modBy:null!=a?Math.ceil(a/o):null,modDataCount:a}}},i.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},i.prototype.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),r=t.getData().count(),o=n.progressiveEnabled&&e.incrementalPrepareRender&&r>=n.threshold,a=t.get("large")&&r>=t.get("largeThreshold"),s="mod"===t.get("progressiveChunkMode")?r:null;t.pipelineContext=n.context={progressiveRender:o,modDataCount:s,large:a}},i.prototype.restorePipelines=function(t){var e=this,n=e._pipelineMap=ze();t.eachSeries(function(r){var o=r.getProgressive(),a=r.uid;n.set(a,{id:a,head:null,tail:null,threshold:r.getProgressiveThreshold(),progressiveEnabled:o&&!(r.preventIncremental&&r.preventIncremental()),blockIndex:-1,step:Math.round(o||700),count:0}),e._pipe(r,r.dataTask)})},i.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),n=this.api;G(this._allHandlers,function(r){var o=t.get(r.uid)||t.set(r.uid,{});Vt(!(r.reset&&r.overallReset),""),r.reset&&this._createSeriesStageTask(r,o,e,n),r.overallReset&&this._createOverallStageTask(r,o,e,n)},this)},i.prototype.prepareView=function(t,e,n,r){var o=t.renderTask,a=o.context;a.model=e,a.ecModel=n,a.api=r,o.__block=!t.incrementalPrepareRender,this._pipe(e,o)},i.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},i.prototype.performVisualTasks=function(t,e,n){this._performStageTasks(this._visualHandlers,t,e,n)},i.prototype._performStageTasks=function(t,e,n,r){r=r||{};var o=!1,a=this;function s(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}G(t,function(l,u){if(!r.visualType||r.visualType===l.visualType){var h=a._stageTaskMap.get(l.uid),c=h.seriesTaskMap,p=h.overallTask;if(p){var f,m=p.agentStubMap;m.each(function(v){s(r,v)&&(v.dirty(),f=!0)}),f&&p.dirty(),a.updatePayload(p,n);var y=a.getPerformArgs(p,r.block);m.each(function(v){v.perform(y)}),p.perform(y)&&(o=!0)}else c&&c.each(function(v,b){s(r,v)&&v.dirty();var S=a.getPerformArgs(v,r.block);S.skip=!l.performRawSeries&&e.isSeriesFiltered(v.context.model),a.updatePayload(v,n),v.perform(S)&&(o=!0)})}}),this.unfinished=o||this.unfinished},i.prototype.performSeriesTasks=function(t){var e;t.eachSeries(function(n){e=n.dataTask.perform()||e}),this.unfinished=e||this.unfinished},i.prototype.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})},i.prototype.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},i.prototype._createSeriesStageTask=function(t,e,n,r){var o=this,a=e.seriesTaskMap,s=e.seriesTaskMap=ze(),l=t.seriesType,u=t.getTargetSeries;function h(c){var p=c.uid,f=s.set(p,a&&a.get(p)||Xc({plan:zL,reset:VL,count:FL}));f.context={model:c,ecModel:n,api:r,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:o},o._pipe(c,f)}t.createOnAllSeries?n.eachRawSeries(h):l?n.eachRawSeriesByType(l,h):u&&u(n,r).each(h)},i.prototype._createOverallStageTask=function(t,e,n,r){var o=this,a=e.overallTask=e.overallTask||Xc({reset:OL});a.context={ecModel:n,api:r,overallReset:t.overallReset,scheduler:o};var s=a.agentStubMap,l=a.agentStubMap=ze(),u=t.seriesType,h=t.getTargetSeries,c=!0,p=!1;function m(y){var v=y.uid,b=l.set(v,s&&s.get(v)||(p=!0,Xc({reset:RL,onDirty:NL})));b.context={model:y,overallProgress:c},b.agent=a,b.__block=c,o._pipe(y,b)}Vt(!t.createOnAllSeries,""),u?n.eachRawSeriesByType(u,m):h?h(n,r).each(m):(c=!1,G(n.getSeries(),m)),p&&a.dirty()},i.prototype._pipe=function(t,e){var r=this._pipelineMap.get(t.uid);!r.head&&(r.head=e),r.tail&&r.tail.pipe(e),r.tail=e,e.__idxInPipeline=r.count++,e.__pipeline=r},i.wrapStageHandler=function(t,e){return Ge(t)&&(t={overallReset:t,seriesType:GL(t)}),t.uid=Gu("stageHandler"),e&&(t.visualType=e),t},i}();function OL(i){i.overallReset(i.ecModel,i.api,i.payload)}function RL(i){return i.overallProgress&&EL}function EL(){this.agent.dirty(),this.getDownstream().dirty()}function NL(){this.agent&&this.agent.dirty()}function zL(i){return i.plan?i.plan(i.model,i.ecModel,i.api,i.payload):null}function VL(i){i.useClearVisual&&i.data.clearAllVisual();var t=i.resetDefines=Gt(i.reset(i.model,i.ecModel,i.api,i.payload));return t.length>1?ge(t,function(e,n){return sw(n)}):BL}var BL=sw(0);function sw(i){return function(t,e){var n=e.data,r=e.resetDefines[i];if(r&&r.dataEach)for(var o=t.start;o<t.end;o++)r.dataEach(n,o);else r&&r.progress&&r.progress(t,n)}}function FL(i){return i.data.count()}function GL(i){Sf=null;try{i(qc,lw)}catch{}return Sf}var Sf,qc={},lw={};function uw(i,t){for(var e in t.prototype)i[e]=jt}uw(qc,sy),uw(lw,lb),qc.eachSeriesByType=qc.eachRawSeriesByType=function(i){Sf=i},qc.eachComponent=function(i){"series"===i.mainType&&i.subType&&(Sf=i.subType)};var hw=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],WL={color:hw,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],hw]},Mn="#B9B8CE",cw="#100C2A",Mf=function(){return{axisLine:{lineStyle:{color:Mn}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},dw=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],pw={darkMode:!0,color:dw,backgroundColor:cw,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Mn}},textStyle:{color:Mn},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Mn}},dataZoom:{borderColor:"#71708A",textStyle:{color:Mn},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Mn}},timeline:{lineStyle:{color:Mn},label:{color:Mn},controlStyle:{color:Mn,borderColor:Mn}},calendar:{itemStyle:{color:cw},dayLabel:{color:Mn},monthLabel:{color:Mn},yearLabel:{color:Mn}},timeAxis:Mf(),logAxis:Mf(),valueAxis:Mf(),categoryAxis:Mf(),line:{symbol:"circle"},graph:{color:dw},gauge:{title:{color:Mn},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Mn},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};pw.categoryAxis.splitLine.show=!1;var HL=function(){function i(){}return i.prototype.normalizeQuery=function(t){var e={},n={},r={};if(De(t)){var o=yr(t);e.mainType=o.main||null,e.subType=o.sub||null}else{var a=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};G(t,function(l,u){for(var h=!1,c=0;c<a.length;c++){var p=a[c],f=u.lastIndexOf(p);if(f>0&&f===u.length-p.length){var m=u.slice(0,f);"data"!==m&&(e.mainType=m,e[p.toLowerCase()]=l,h=!0)}}s.hasOwnProperty(u)&&(n[u]=l,h=!0),h||(r[u]=l)})}return{cptQuery:e,dataQuery:n,otherQuery:r}},i.prototype.filter=function(t,e){var n=this.eventInfo;if(!n)return!0;var r=n.targetEl,o=n.packedEvent,a=n.model,s=n.view;if(!a||!s)return!0;var l=e.cptQuery,u=e.dataQuery;return h(l,a,"mainType")&&h(l,a,"subType")&&h(l,a,"index","componentIndex")&&h(l,a,"name")&&h(l,a,"id")&&h(u,o,"name")&&h(u,o,"dataIndex")&&h(u,o,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(t,e.otherQuery,r,o));function h(c,p,f,m){return null==c[f]||p[m||f]===c[f]}},i.prototype.afterTrigger=function(){this.eventInfo=null},i}(),My=["symbol","symbolSize","symbolRotate","symbolOffset"],fw=My.concat(["symbolKeepAspect"]),YL={createOnAllSeries:!0,performRawSeries:!0,reset:function(i,t){var e=i.getData();if(i.legendIcon&&e.setVisual("legendIcon",i.legendIcon),i.hasSymbolVisual){for(var n={},r={},o=!1,a=0;a<My.length;a++){var s=My[a],l=i.get(s);Ge(l)?(o=!0,r[s]=l):n[s]=l}if(n.symbol=n.symbol||i.defaultSymbol,e.setVisual(de({legendIcon:i.legendIcon||n.symbol,symbolKeepAspect:i.get("symbolKeepAspect")},n)),!t.isSeriesFiltered(i)){var u=dt(r);return{dataEach:o?function(h,c){for(var p=i.getRawValue(c),f=i.getDataParams(c),m=0;m<u.length;m++){var y=u[m];h.setItemVisual(c,y,r[y](p,f))}}:null}}}}},XL={createOnAllSeries:!0,performRawSeries:!0,reset:function(i,t){if(i.hasSymbolVisual&&!t.isSeriesFiltered(i))return{dataEach:i.getData().hasItemOption?function(e,n){for(var r=e.getItemModel(n),o=0;o<fw.length;o++){var a=fw[o],s=r.getShallow(a,!0);null!=s&&e.setItemVisual(n,a,s)}}:null}}};function Iy(i,t,e){switch(e){case"color":return i.getItemVisual(t,"style")[i.getVisual("drawType")];case"opacity":return i.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return i.getItemVisual(t,e)}}function $c(i,t){switch(t){case"color":return i.getVisual("style")[i.getVisual("drawType")];case"opacity":return i.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return i.getVisual(t)}}function gw(i,t,e,n){switch(e){case"color":i.ensureUniqueItemVisual(t,"style")[i.getVisual("drawType")]=n,i.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":i.ensureUniqueItemVisual(t,"style").opacity=n;break;case"symbol":case"symbolSize":case"liftZ":i.setItemVisual(t,e,n)}}function mw(i,t){function e(n,r){var o=[];return n.eachComponent({mainType:"series",subType:i,query:r},function(a){o.push(a.seriesIndex)}),o}G([[i+"ToggleSelect","toggleSelect"],[i+"Select","select"],[i+"UnSelect","unselect"]],function(n){t(n[0],function(r,o,a){r=de({},r),a.dispatchAction(de(r,{type:n[1],seriesIndex:e(o,r)}))})})}function th(i,t,e,n,r){var o=i+t;e.isSilent(o)||n.eachComponent({mainType:"series",subType:"pie"},function(a){for(var s=a.seriesIndex,l=a.option.selectedMap,u=r.selected,h=0;h<u.length;h++)if(u[h].seriesIndex===s){var c=a.getData(),p=$o(c,r.fromActionPayload);e.trigger(o,{type:o,seriesId:a.id,name:fe(p)?c.getName(p[0]):c.getName(p),selected:De(l)?l:de({},l)})}})}function sl(i,t,e){for(var n;i&&(!t(i)||(n=i,!e));)i=i.__hostTarget||i.parent;return n}var UL=Math.round(9*Math.random()),jL="function"==typeof Object.defineProperty,ZL=function(){function i(){this._id="__ec_inner_"+UL++}return i.prototype.get=function(t){return this._guard(t)[this._id]},i.prototype.set=function(t,e){var n=this._guard(t);return jL?Object.defineProperty(n,this._id,{value:e,enumerable:!1,configurable:!0}):n[this._id]=e,this},i.prototype.delete=function(t){return!!this.has(t)&&(delete this._guard(t)[this._id],!0)},i.prototype.has=function(t){return!!this._guard(t)[this._id]},i.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},i}(),qL=gt.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(i,t){var e=t.cx,n=t.cy,r=t.width/2,o=t.height/2;i.moveTo(e,n-o),i.lineTo(e+r,n+o),i.lineTo(e-r,n+o),i.closePath()}}),$L=gt.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(i,t){var e=t.cx,n=t.cy,r=t.width/2,o=t.height/2;i.moveTo(e,n-o),i.lineTo(e+r,n),i.lineTo(e,n+o),i.lineTo(e-r,n),i.closePath()}}),KL=gt.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(i,t){var e=t.x,n=t.y,r=t.width/5*3,o=Math.max(r,t.height),a=r/2,s=a*a/(o-a),l=n-o+a+s,u=Math.asin(s/a),h=Math.cos(u)*a,c=Math.sin(u),p=Math.cos(u),f=.6*a,m=.7*a;i.moveTo(e-h,l+s),i.arc(e,l,a,Math.PI-u,2*Math.PI+u),i.bezierCurveTo(e+h-c*f,l+s+p*f,e,n-m,e,n),i.bezierCurveTo(e,n-m,e-h+c*f,l+s+p*f,e-h,l+s),i.closePath()}}),JL=gt.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(i,t){var e=t.height,r=t.x,o=t.y,a=t.width/3*2;i.moveTo(r,o),i.lineTo(r+a,o+e),i.lineTo(r,o+e/4*3),i.lineTo(r-a,o+e),i.lineTo(r,o),i.closePath()}}),QL={line:function(i,t,e,n,r){r.x1=i,r.y1=t+n/2,r.x2=i+e,r.y2=t+n/2},rect:function(i,t,e,n,r){r.x=i,r.y=t,r.width=e,r.height=n},roundRect:function(i,t,e,n,r){r.x=i,r.y=t,r.width=e,r.height=n,r.r=Math.min(e,n)/4},square:function(i,t,e,n,r){var o=Math.min(e,n);r.x=i,r.y=t,r.width=o,r.height=o},circle:function(i,t,e,n,r){r.cx=i+e/2,r.cy=t+n/2,r.r=Math.min(e,n)/2},diamond:function(i,t,e,n,r){r.cx=i+e/2,r.cy=t+n/2,r.width=e,r.height=n},pin:function(i,t,e,n,r){r.x=i+e/2,r.y=t+n/2,r.width=e,r.height=n},arrow:function(i,t,e,n,r){r.x=i+e/2,r.y=t+n/2,r.width=e,r.height=n},triangle:function(i,t,e,n,r){r.cx=i+e/2,r.cy=t+n/2,r.width=e,r.height=n}},If={};G({line:ki,rect:St,roundRect:St,square:St,circle:xr,diamond:$L,pin:KL,arrow:JL,triangle:qL},function(i,t){If[t]=new i});var eP=gt.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(i,t,e){var n=Es(i,t,e),r=this.shape;return r&&"pin"===r.symbolType&&"inside"===t.position&&(n.y=e.y+.4*e.height),n},buildPath:function(i,t,e){var n=t.symbolType;if("none"!==n){var r=If[n];r||(r=If[n="rect"]),QL[n](t.x,t.y,t.width,t.height,r.shape),r.buildPath(i,r.shape,e)}}});function tP(i,t){if("image"!==this.type){var e=this.style;this.__isEmptyBrush?(e.stroke=i,e.fill=t||"#fff",e.lineWidth=2):"line"===this.shape.symbolType?e.stroke=i:e.fill=i,this.markRedraw()}}function gi(i,t,e,n,r,o,a){var s,l=0===i.indexOf("empty");return l&&(i=i.substr(5,1).toLowerCase()+i.substr(6)),(s=0===i.indexOf("image://")?Rm(i.slice(8),new st(t,e,n,r),a?"center":"cover"):0===i.indexOf("path://")?Pc(i.slice(7),{},new st(t,e,n,r),a?"center":"cover"):new eP({shape:{symbolType:i,x:t,y:e,width:n,height:r}})).__isEmptyBrush=l,s.setColor=tP,o&&s.setColor(o),s}function Kc(i){return fe(i)||(i=[+i,+i]),[i[0]||0,i[1]||0]}function ih(i,t){if(null!=i)return fe(i)||(i=[i,i]),[Te(i[0],t[0])||0,Te(He(i[1],i[0]),t[1])||0]}function ll(i){return isFinite(i)}function Ty(i,t,e){for(var n="radial"===t.type?(a=i,s=t,void 0,void 0,void 0,p=void 0,f=void 0,m=void 0,u=(l=e).width,h=l.height,c=Math.min(u,h),p=s.x??.5,f=s.y??.5,m=s.r??.5,s.global||(p=p*u+l.x,f=f*h+l.y,m*=c),p=ll(p)?p:.5,f=ll(f)?f:.5,m=m>=0&&ll(m)?m:.5,a.createRadialGradient(p,f,0,p,f,m)):function(a,s,l){var u=s.x??0,h=s.x2??1,c=s.y??0,p=s.y2??0;return s.global||(u=u*l.width+l.x,h=h*l.width+l.x,c=c*l.height+l.y,p=p*l.height+l.y),u=ll(u)?u:0,h=ll(h)?h:1,c=ll(c)?c:0,p=ll(p)?p:0,a.createLinearGradient(u,c,h,p)}(i,t,e),r=t.colorStops,o=0;o<r.length;o++)n.addColorStop(r[o].offset,r[o].color);var a,s,l,u,h,c,p,f,m;return n}function Tf(i){return parseInt(i,10)}function nh(i,t,e){var n=["width","height"][t],r=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],a=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var s=document.defaultView.getComputedStyle(i);return(i[r]||Tf(s[n])||Tf(i.style[n]))-(Tf(s[o])||0)-(Tf(s[a])||0)|0}function Cy(i){var t,e,n=i.style,r=n.lineDash&&n.lineWidth>0&&(e=n.lineWidth,(t=n.lineDash)&&"solid"!==t&&e>0?"dashed"===t?[4*e,2*e]:"dotted"===t?[e]:oe(t)?[t]:fe(t)?t:null:null),o=n.lineDashOffset;if(r){var a=n.strokeNoScale&&i.getLineScale?i.getLineScale():1;a&&1!==a&&(r=ge(r,function(s){return s/a}),o/=a)}return[r,o]}var iP=new ht(!0);function Cf(i){var t=i.stroke;return!(null==t||"none"===t||!(i.lineWidth>0))}function yw(i){return"string"==typeof i&&"none"!==i}function Df(i){var t=i.fill;return null!=t&&"none"!==t}function vw(i,t){if(null!=t.fillOpacity&&1!==t.fillOpacity){var e=i.globalAlpha;i.globalAlpha=t.fillOpacity*t.opacity,i.fill(),i.globalAlpha=e}else i.fill()}function xw(i,t){if(null!=t.strokeOpacity&&1!==t.strokeOpacity){var e=i.globalAlpha;i.globalAlpha=t.strokeOpacity*t.opacity,i.stroke(),i.globalAlpha=e}else i.stroke()}function Dy(i,t,e){var n=Oa(t.image,t.__image,e);if(Ys(n)){var r=i.createPattern(n,t.repeat||"repeat");if("function"==typeof DOMMatrix&&r&&r.setTransform){var o=new DOMMatrix;o.translateSelf(t.x||0,t.y||0),o.rotateSelf(0,0,(t.rotation||0)*pa),o.scaleSelf(t.scaleX||1,t.scaleY||1),r.setTransform(o)}return r}}var _w=["shadowBlur","shadowOffsetX","shadowOffsetY"],bw=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function ww(i,t,e,n,r){var o=!1;if(!n&&t===(e=e||{}))return!1;if(n||t.opacity!==e.opacity){Hn(i,r),o=!0;var a=Math.max(Math.min(t.opacity,1),0);i.globalAlpha=isNaN(a)?po.opacity:a}(n||t.blend!==e.blend)&&(o||(Hn(i,r),o=!0),i.globalCompositeOperation=t.blend||po.blend);for(var s=0;s<_w.length;s++){var l=_w[s];(n||t[l]!==e[l])&&(o||(Hn(i,r),o=!0),i[l]=i.dpr*(t[l]||0))}return(n||t.shadowColor!==e.shadowColor)&&(o||(Hn(i,r),o=!0),i.shadowColor=t.shadowColor||po.shadowColor),o}function Sw(i,t,e,n,r){var o=Jc(t,r.inHover),a=n?null:e&&Jc(e,r.inHover)||{};if(o===a)return!1;var s=ww(i,o,a,n,r);if((n||o.fill!==a.fill)&&(s||(Hn(i,r),s=!0),yw(o.fill)&&(i.fillStyle=o.fill)),(n||o.stroke!==a.stroke)&&(s||(Hn(i,r),s=!0),yw(o.stroke)&&(i.strokeStyle=o.stroke)),(n||o.opacity!==a.opacity)&&(s||(Hn(i,r),s=!0),i.globalAlpha=o.opacity??1),t.hasStroke()){var l=o.lineWidth/(o.strokeNoScale&&t.getLineScale?t.getLineScale():1);i.lineWidth!==l&&(s||(Hn(i,r),s=!0),i.lineWidth=l)}for(var u=0;u<bw.length;u++){var h=bw[u],c=h[0];(n||o[c]!==a[c])&&(s||(Hn(i,r),s=!0),i[c]=o[c]||h[1])}return s}function Mw(i,t){var e=t.transform,n=i.dpr||1;e?i.setTransform(n*e[0],n*e[1],n*e[2],n*e[3],n*e[4],n*e[5]):i.setTransform(n,0,0,n,0,0)}function Hn(i,t){t.batchFill&&i.fill(),t.batchStroke&&i.stroke(),t.batchFill="",t.batchStroke=""}function Jc(i,t){return t&&i.__hoverStyle||i.style}function Ay(i,t){ul(i,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function ul(i,t,e,n){var r=t.transform;if(!t.shouldBePainted(e.viewWidth,e.viewHeight,!1,!1))return t.__dirty&=-2,void(t.__isRendered=!1);var m,y,v,o=t.__clipPaths,a=e.prevElClipPaths,s=!1,l=!1;if(a&&!function(m,y){if(m===y||!m&&!y)return!1;if(!m||!y||m.length!==y.length)return!0;for(var v=0;v<m.length;v++)if(m[v]!==y[v])return!0;return!1}(o,a)||(a&&a.length&&(Hn(i,e),i.restore(),l=s=!0,e.prevElClipPaths=null,e.allClipped=!1,e.prevEl=null),o&&o.length&&(Hn(i,e),i.save(),function(m,y,v){for(var b=!1,S=0;S<m.length;S++){var I=m[S];b=b||I.isZeroArea(),Mw(y,I),y.beginPath(),I.buildPath(y,I.shape),y.clip()}v.allClipped=b}(o,i,e),s=!0),e.prevElClipPaths=o),e.allClipped)t.__isRendered=!1;else{t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var u=e.prevEl;u||(l=s=!0);var h,c,p=t instanceof gt&&t.autoBatch&&(y=Df(m=t.style),v=Cf(m),!(m.lineDash||!(+y^+v)||y&&"string"!=typeof m.fill||v&&"string"!=typeof m.stroke||m.strokePercent<1||m.strokeOpacity<1||m.fillOpacity<1));s||(c=u.transform,(h=r)&&c?h[0]!==c[0]||h[1]!==c[1]||h[2]!==c[2]||h[3]!==c[3]||h[4]!==c[4]||h[5]!==c[5]:h||c)?(Hn(i,e),Mw(i,t)):p||Hn(i,e);var f=Jc(t,e.inHover);t instanceof gt?(1!==e.lastDrawType&&(l=!0,e.lastDrawType=1),Sw(i,t,u,l,e),p&&(e.batchFill||e.batchStroke)||i.beginPath(),function(m,y,v,b){var S,I=Cf(v),T=Df(v),D=v.strokePercent,A=D<1,L=!y.path;y.silent&&!A||!L||y.createPathProxy();var P=y.path||iP,E=y.__dirty;if(!b){var N=v.fill,z=v.stroke,B=T&&!!N.colorStops,W=I&&!!z.colorStops,Y=T&&!!N.image,j=I&&!!z.image,Z=void 0,q=void 0,K=void 0,Q=void 0,te=void 0;(B||W)&&(te=y.getBoundingRect()),B&&(Z=E?Ty(m,N,te):y.__canvasFillGradient,y.__canvasFillGradient=Z),W&&(q=E?Ty(m,z,te):y.__canvasStrokeGradient,y.__canvasStrokeGradient=q),Y&&(K=E||!y.__canvasFillPattern?Dy(m,N,y):y.__canvasFillPattern,y.__canvasFillPattern=K),j&&(Q=E||!y.__canvasStrokePattern?Dy(m,z,y):y.__canvasStrokePattern,y.__canvasStrokePattern=K),B?m.fillStyle=Z:Y&&(K?m.fillStyle=K:T=!1),W?m.strokeStyle=q:j&&(Q?m.strokeStyle=Q:I=!1)}var ne,ce,ye=y.getGlobalScale();P.setScale(ye[0],ye[1],y.segmentIgnoreThreshold),m.setLineDash&&v.lineDash&&(ne=(S=Cy(y))[0],ce=S[1]);var re=!0;(L||4&E)&&(P.setDPR(m.dpr),A?P.setContext(null):(P.setContext(m),re=!1),P.reset(),y.buildPath(P,y.shape,b),P.toStatic(),y.pathUpdated()),re&&P.rebuildPath(m,A?D:1),ne&&(m.setLineDash(ne),m.lineDashOffset=ce),b||(v.strokeFirst?(I&&xw(m,v),T&&vw(m,v)):(T&&vw(m,v),I&&xw(m,v))),ne&&m.setLineDash([])}(i,t,f,p),p&&(e.batchFill=f.fill||"",e.batchStroke=f.stroke||"")):t instanceof Cu?(3!==e.lastDrawType&&(l=!0,e.lastDrawType=3),Sw(i,t,u,l,e),function(m,y,v){var b,S=v.text;if(null!=S&&(S+=""),S){m.font=v.font||ut,m.textAlign=v.textAlign,m.textBaseline=v.textBaseline;var I=void 0,T=void 0;m.setLineDash&&v.lineDash&&(I=(b=Cy(y))[0],T=b[1]),I&&(m.setLineDash(I),m.lineDashOffset=T),v.strokeFirst?(Cf(v)&&m.strokeText(S,v.x,v.y),Df(v)&&m.fillText(S,v.x,v.y)):(Df(v)&&m.fillText(S,v.x,v.y),Cf(v)&&m.strokeText(S,v.x,v.y)),I&&m.setLineDash([])}}(i,t,f)):t instanceof Ri?(2!==e.lastDrawType&&(l=!0,e.lastDrawType=2),function(m,y,v,b,S){ww(m,Jc(y,S.inHover),v&&Jc(v,S.inHover),b,S)}(i,t,u,l,e),function(m,y,v){var b=y.__image=Oa(v.image,y.__image,y,y.onload);if(b&&Ys(b)){var S=v.x||0,I=v.y||0,T=y.getWidth(),D=y.getHeight(),A=b.width/b.height;if(null==T&&null!=D?T=D*A:null==D&&null!=T?D=T/A:null==T&&null==D&&(T=b.width,D=b.height),v.sWidth&&v.sHeight){var L=v.sx||0,P=v.sy||0;m.drawImage(b,L,P,v.sWidth,v.sHeight,S,I,T,D)}else if(v.sx&&v.sy){var E=T-(L=v.sx),N=D-(P=v.sy);m.drawImage(b,L,P,E,N,S,I,T,D)}else m.drawImage(b,S,I,T,D)}}(i,t,f)):t.getTemporalDisplayables&&(4!==e.lastDrawType&&(l=!0,e.lastDrawType=4),function(m,y,v){var b=y.getDisplayables(),S=y.getTemporalDisplayables();m.save();var I,T,D={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:v.viewWidth,viewHeight:v.viewHeight,inHover:v.inHover};for(I=y.getCursor(),T=b.length;I<T;I++)(P=b[I]).beforeBrush&&P.beforeBrush(),P.innerBeforeBrush(),ul(m,P,D,I===T-1),P.innerAfterBrush(),P.afterBrush&&P.afterBrush(),D.prevEl=P;for(var A=0,L=S.length;A<L;A++){var P;(P=S[A]).beforeBrush&&P.beforeBrush(),P.innerBeforeBrush(),ul(m,P,D,A===L-1),P.innerAfterBrush(),P.afterBrush&&P.afterBrush(),D.prevEl=P}y.clearTemporalDisplayables(),y.notClear=!0,m.restore()}(i,t,e)),p&&n&&Hn(i,e),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),e.prevEl=t,t.__dirty=0,t.__isRendered=!0}}var ky=new ZL,Iw=new Vo(100),Tw=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function rh(i,t){if("none"===i)return null;var e=t.getDevicePixelRatio(),n=t.getZr(),r="svg"===n.painter.type;i.dirty&&ky.delete(i);var o=ky.get(i);if(o)return o;var a=Ve(i,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===a.backgroundColor&&(a.backgroundColor=null);var s={repeat:"repeat"};return function(l){for(var u,h=[e],c=!0,p=0;p<Tw.length;++p){var f=a[Tw[p]];if(null!=f&&!fe(f)&&!De(f)&&!oe(f)&&"boolean"!=typeof f){c=!1;break}h.push(f)}if(c){u=h.join(",")+(r?"-svg":"");var m=Iw.get(u);m&&(r?l.svgElement=m:l.image=m)}var y,v=Dw(a.dashArrayX),b=function(E){if(!E||"object"==typeof E&&0===E.length)return[0,0];if(oe(E)){var N=Math.ceil(E);return[N,N]}var z=ge(E,function(B){return Math.ceil(B)});return E.length%2?z.concat(z):z}(a.dashArrayY),S=Cw(a.symbol),I=ge(v,function(E){return Aw(E)}),T=Aw(b),D=!r&&Qe.createCanvas(),A=r&&{tag:"g",attrs:{},key:"dcl",children:[]},L=function(){for(var E=1,N=0,z=I.length;N<z;++N)E=Tp(E,I[N]);var B=1;for(N=0,z=S.length;N<z;++N)B=Tp(B,S[N].length);E*=B;var W=T*I.length*S.length;return{width:Math.max(1,Math.min(E,a.maxTileWidth)),height:Math.max(1,Math.min(W,a.maxTileHeight))}}();D&&(D.width=L.width*e,D.height=L.height*e,y=D.getContext("2d")),function(){y&&(y.clearRect(0,0,D.width,D.height),a.backgroundColor&&(y.fillStyle=a.backgroundColor,y.fillRect(0,0,D.width,D.height)));for(var E=0,N=0;N<b.length;++N)E+=b[N];if(!(E<=0))for(var z=-T,B=0,W=0,Y=0;z<L.height;){if(B%2==0){for(var j=W/2%S.length,Z=0,q=0,K=0;Z<2*L.width;){var Q=0;for(N=0;N<v[Y].length;++N)Q+=v[Y][N];if(Q<=0)break;if(q%2==0){var te=.5*(1-a.symbolSize);ve(Z+v[Y][q]*te,z+b[B]*te,v[Y][q]*a.symbolSize,b[B]*a.symbolSize,S[j][K/2%S[j].length])}Z+=v[Y][q],++K,++q===v[Y].length&&(q=0)}++Y===v.length&&(Y=0)}z+=b[B],++W,++B===b.length&&(B=0)}function ve(be,xe,we,_e,Ce){var Ne=r?1:e,et=gi(Ce,be*Ne,xe*Ne,we*Ne,_e*Ne,a.color,a.symbolKeepAspect);if(r){var ot=n.painter.renderOneToVNode(et);ot&&A.children.push(ot)}else Ay(y,et)}}(),c&&Iw.put(u,D||A),l.image=D,l.svgElement=A,l.svgWidth=L.width,l.svgHeight=L.height}(s),s.rotation=a.rotation,s.scaleX=s.scaleY=r?1:1/e,ky.set(i,s),i.dirty=!1,s}function Cw(i){if(!i||0===i.length)return[["rect"]];if(De(i))return[[i]];for(var t=!0,e=0;e<i.length;++e)if(!De(i[e])){t=!1;break}if(t)return Cw([i]);var n=[];for(e=0;e<i.length;++e)De(i[e])?n.push([i[e]]):n.push(i[e]);return n}function Dw(i){if(!i||0===i.length)return[[0,0]];if(oe(i))return[[r=Math.ceil(i),r]];for(var t=!0,e=0;e<i.length;++e)if(!oe(i[e])){t=!1;break}if(t)return Dw([i]);var n=[];for(e=0;e<i.length;++e)if(oe(i[e])){var r=Math.ceil(i[e]);n.push([r,r])}else(r=ge(i[e],function(o){return Math.ceil(o)})).length%2==1?n.push(r.concat(r)):n.push(r);return n}function Aw(i){for(var t=0,e=0;e<i.length;++e)t+=i[e];return i.length%2==1?2*t:t}var Zr=new kn,kw={};function Lw(i){return kw[i]}var Pw={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},Ow=/^[a-zA-Z0-9_]+$/,Py="__connectUpdateStatus";function Rw(i){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!this.isDisposed())return Nw(this,i,t)}}function Ew(i){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Nw(this,i,t)}}function Nw(i,t,e){return e[0]=e[0]&&e[0].toLowerCase(),kn.prototype[t].apply(i,e)}var oh,Oy,kf,Xa,Ry,Ey,Ny,Qc,ed,zw,Vw,zy,Bw,Lf,Fw,Gw,wr,Ww,Hw=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return ie(t,i),t}(kn),Yw=Hw.prototype;Yw.on=Ew("on"),Yw.off=Ew("off");var Pf=function(i){function t(e,n,r){var o=i.call(this,new HL)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],r=r||{},De(n)&&(n=Xw[n]),o._dom=e;var u=o._zr=fu(e,{renderer:r.renderer||"canvas",devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,ssr:r.ssr,useDirtyRect:He(r.useDirtyRect,!1),useCoarsePointer:He(r.useCoarsePointer,"auto"),pointerSize:r.pointerSize});o._ssr=r.ssr,o._throttledZrFlush=bf(ke(u.flush,u),17),(n=Ue(n))&&gb(n,!0),o._theme=n,o._locale=function(p){if(De(p)){var f=af[p.toUpperCase()]||{};return"ZH"===p||"EN"===p?Ue(f):Be(Ue(f),Ue(af.EN),!1)}return Be(Ue(p),Ue(af.EN),!1)}(r.locale||A_),o._coordSysMgr=new Zu;var h=o._api=Fw(o);function c(p,f){return p.__prio-f.__prio}return Ro(Rf,c),Ro(By,c),o._scheduler=new aw(o,h,By,Rf),o._messageCenter=new Hw,o._initEvents(),o.resize=ke(o.resize,o),u.animation.on("frame",o._onframe,o),zw(u,o),Vw(u,o),eo(o),o}return ie(t,i),t.prototype._onframe=function(){if(!this._disposed){Ww(this);var e=this._scheduler;if(this.__pendingUpdate){var n=this.__pendingUpdate.silent;this.__flagInMainProcess=!0;try{oh(this),Xa.update.call(this,null,this.__pendingUpdate.updateParams)}catch(l){throw this.__flagInMainProcess=!1,this.__pendingUpdate=null,l}this._zr.flush(),this.__flagInMainProcess=!1,this.__pendingUpdate=null,Qc.call(this,n),ed.call(this,n)}else if(e.unfinished){var r=1,o=this._model,a=this._api;e.unfinished=!1;do{var s=+new Date;e.performSeriesTasks(o),e.performDataProcessorTasks(o),Ey(this,o),e.performVisualTasks(o),Lf(this,this._model,a,"remain",{}),r-=+new Date-s}while(r>0&&e.unfinished);e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(e,n,r){if(!this.__flagInMainProcess)if(this._disposed);else{var o,a,s;if(le(n)&&(r=n.lazyUpdate,o=n.silent,a=n.replaceMerge,s=n.transition,n=n.notMerge),this.__flagInMainProcess=!0,!this._model||n){var l=new Zk(this._api),u=this._theme,h=this._model=new sy;h.scheduler=this._scheduler,h.ssr=this._ssr,h.init(null,null,null,u,this._locale,l)}this._model.setOption(e,{replaceMerge:a},Fy);var c={seriesTransition:s,optionChanged:!0};if(r)this.__pendingUpdate={silent:o,updateParams:c},this.__flagInMainProcess=!1,this.getZr().wakeUp();else{try{oh(this),Xa.update.call(this,null,c)}catch(p){throw this.__pendingUpdate=null,this.__flagInMainProcess=!1,p}this._ssr||this._zr.flush(),this.__pendingUpdate=null,this.__flagInMainProcess=!1,Qc.call(this,o),ed.call(this,o)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Ee.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){return this.renderToCanvas(e)},t.prototype.renderToCanvas=function(e){return this._zr.painter.getRenderedCanvas({backgroundColor:(e=e||{}).backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(e){return this._zr.painter.renderToString({useViewBox:(e=e||{}).useViewBox})},t.prototype.getSvgDataURL=function(){if(Ee.svgSupported){var e=this._zr;return G(e.storage.getDisplayList(),function(n){n.stopAnimation(null,!0)}),e.painter.toDataURL()}},t.prototype.getDataURL=function(e){if(!this._disposed){var n=(e=e||{}).excludeComponents,r=this._model,o=[],a=this;G(n,function(l){r.eachComponent({mainType:l},function(u){var h=a._componentsMap[u.__viewId];h.group.ignore||(o.push(h),h.group.ignore=!0)})});var s="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return G(o,function(l){l.group.ignore=!1}),s}},t.prototype.getConnectedDataURL=function(e){if(!this._disposed){var n="svg"===e.type,r=this.group,o=Math.min,a=Math.max,s=1/0;if(Ef[r]){var l=s,u=s,h=-1/0,c=-1/0,p=[],f=e&&e.pixelRatio||this.getDevicePixelRatio();G(hl,function(I,T){if(I.group===r){var D=n?I.getZr().painter.getSvgDom().innerHTML:I.renderToCanvas(Ue(e)),A=I.getDom().getBoundingClientRect();l=o(A.left,l),u=o(A.top,u),h=a(A.right,h),c=a(A.bottom,c),p.push({dom:D,left:A.left,top:A.top})}});var m=(h*=f)-(l*=f),y=(c*=f)-(u*=f),v=Qe.createCanvas(),b=fu(v,{renderer:n?"svg":"canvas"});if(b.resize({width:m,height:y}),n){var S="";return G(p,function(I){S+='<g transform="translate('+(I.left-l)+","+(I.top-u)+')">'+I.dom+"</g>"}),b.painter.getSvgRoot().innerHTML=S,e.connectedBackgroundColor&&b.painter.setBackgroundColor(e.connectedBackgroundColor),b.refreshImmediately(),b.painter.toDataURL()}return e.connectedBackgroundColor&&b.add(new St({shape:{x:0,y:0,width:m,height:y},style:{fill:e.connectedBackgroundColor}})),G(p,function(I){var T=new Ri({style:{x:I.left*f-l,y:I.top*f-u,image:I.dom}});b.add(T)}),b.refreshImmediately(),v.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},t.prototype.convertToPixel=function(e,n){return Ry(this,"convertToPixel",e,n)},t.prototype.convertFromPixel=function(e,n){return Ry(this,"convertFromPixel",e,n)},t.prototype.containPixel=function(e,n){var r;if(!this._disposed)return G(Gs(this._model,e),function(o,a){a.indexOf("Models")>=0&&G(o,function(s){var l=s.coordinateSystem;if(l&&l.containPoint)r=r||!!l.containPoint(n);else if("seriesModels"===a){var u=this._chartsMap[s.__viewId];u&&u.containPoint&&(r=r||u.containPoint(n,s))}},this)},this),!!r},t.prototype.getVisual=function(e,n){var r=Gs(this._model,e,{defaultMainType:"series"}),a=r.seriesModel.getData(),s=r.hasOwnProperty("dataIndexInside")?r.dataIndexInside:r.hasOwnProperty("dataIndex")?a.indexOfRawIndex(r.dataIndex):null;return null!=s?Iy(a,s,n):$c(a,n)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var n,r,o=this;G(nP,function(a){var s=function(l){var u,h=o.getModel(),c=l.target;if("globalout"===a?u={}:c&&sl(c,function(b){var S=rt(b);if(S&&null!=S.dataIndex){var I=S.dataModel||h.getSeriesByIndex(S.seriesIndex);return u=I&&I.getDataParams(S.dataIndex,S.dataType)||{},!0}if(S.eventData)return u=de({},S.eventData),!0},!0),u){var f=u.componentType,m=u.componentIndex;"markLine"!==f&&"markPoint"!==f&&"markArea"!==f||(f="series",m=u.seriesIndex);var y=f&&null!=m&&h.getComponent(f,m),v=y&&o["series"===y.mainType?"_chartsMap":"_componentsMap"][y.__viewId];u.event=l,u.type=a,o._$eventProcessor.eventInfo={targetEl:c,packedEvent:u,model:y,view:v},o.trigger(a,u)}};s.zrEventfulCallAtLast=!0,o._zr.on(a,s,o)}),G(td,function(a,s){o._messageCenter.on(s,function(l){this.trigger(s,l)},o)}),G(["selectchanged"],function(a){o._messageCenter.on(a,function(s){this.trigger(a,s)},o)}),n=this,r=this._api,this._messageCenter.on("selectchanged",function(a){var s=r.getModel();a.isFromClick?(th("map","selectchanged",n,s,a),th("pie","selectchanged",n,s,a)):"select"===a.fromAction?(th("map","selected",n,s,a),th("pie","selected",n,s,a)):"unselect"===a.fromAction&&(th("map","unselected",n,s,a),th("pie","unselected",n,s,a))})},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){this._disposed||this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed);else{this._disposed=!0,this.getDom()&&ka(this.getDom(),Wy,"");var e=this,n=e._api,r=e._model;G(e._componentsViews,function(o){o.dispose(r,n)}),G(e._chartsViews,function(o){o.dispose(r,n)}),e._zr.dispose(),e._dom=e._model=e._chartsMap=e._componentsMap=e._chartsViews=e._componentsViews=e._scheduler=e._api=e._zr=e._throttledZrFlush=e._theme=e._coordSysMgr=e._messageCenter=null,delete hl[e.id]}},t.prototype.resize=function(e){if(!this.__flagInMainProcess)if(this._disposed);else{this._zr.resize(e);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),n){var r=n.resetOption("media"),o=e&&e.silent;this.__pendingUpdate&&(null==o&&(o=this.__pendingUpdate.silent),r=!0,this.__pendingUpdate=null),this.__flagInMainProcess=!0;try{r&&oh(this),Xa.update.call(this,{type:"resize",animation:de({duration:0},e&&e.animation)})}catch(a){throw this.__flagInMainProcess=!1,a}this.__flagInMainProcess=!1,Qc.call(this,o),ed.call(this,o)}}},t.prototype.showLoading=function(e,n){if(this._disposed);else if(le(e)&&(n=e,e=""),e=e||"default",this.hideLoading(),Gy[e]){var r=Gy[e](this._api,n),o=this._zr;this._loadingFX=r,o.add(r)}},t.prototype.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},t.prototype.makeActionFromEvent=function(e){var n=de({},e);return n.type=td[e.type],n},t.prototype.dispatchAction=function(e,n){if(this._disposed);else if(le(n)||(n={silent:!!n}),Of[e.type]&&this._model)if(this.__flagInMainProcess)this._pendingActions.push(e);else{var r=n.silent;Ny.call(this,e,r);var o=n.flush;o?this._zr.flush():!1!==o&&Ee.browser.weChat&&this._throttledZrFlush(),Qc.call(this,r),ed.call(this,r)}},t.prototype.updateLabelLayout=function(){Zr.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(e){if(this._disposed);else{var n=e.seriesIndex;this.getModel().getSeriesByIndex(n).appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},t.internalField=function(){function e(l){l.clearColorPalette(),l.eachSeries(function(u){u.clearColorPalette()})}function n(l){for(var u=[],h=l.currentStates,c=0;c<h.length;c++){var p=h[c];"emphasis"!==p&&"blur"!==p&&"select"!==p&&u.push(p)}l.selected&&l.states.select&&u.push("select"),2===l.hoverState&&l.states.emphasis?u.push("emphasis"):1===l.hoverState&&l.states.blur&&u.push("blur"),l.useStates(u)}function r(l,u){if(!l.preventAutoZ){var h=l.get("z")||0,c=l.get("zlevel")||0;u.eachRendered(function(p){return o(p,h,c,-1/0),!0})}}function o(l,u,h,c){var p=l.getTextContent(),f=l.getTextGuideLine();if(l.isGroup)for(var m=l.childrenRef(),y=0;y<m.length;y++)c=Math.max(o(m[y],u,h,c),c);else l.z=u,l.zlevel=h,c=Math.max(l.z2,c);if(p&&(p.z=u,p.zlevel=h,isFinite(c)&&(p.z2=c+2)),f){var v=l.textGuideLineConfig;f.z=u,f.zlevel=h,isFinite(c)&&(f.z2=c+(v&&v.showAbove?1:-1))}return c}function a(l,u){u.eachRendered(function(h){if(!Nu(h)){var c=h.getTextContent(),p=h.getTextGuideLine();h.stateTransition&&(h.stateTransition=null),c&&c.stateTransition&&(c.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),h.hasState()?(h.prevStates=h.currentStates,h.clearStates()):h.prevStates&&(h.prevStates=null)}})}function s(l,u){var h=l.getModel("stateAnimation"),c=l.isAnimationEnabled(),p=h.get("duration"),f=p>0?{duration:p,delay:h.get("delay"),easing:h.get("easing")}:null;u.eachRendered(function(m){if(m.states&&m.states.emphasis){if(Nu(m))return;if(m instanceof gt&&function(S){var I=P1(S);I.normalFill=S.style.fill,I.normalStroke=S.style.stroke;var T=S.states.select||{};I.selectFill=T.style&&T.style.fill||null,I.selectStroke=T.style&&T.style.stroke||null}(m),m.__dirty){var y=m.prevStates;y&&m.useStates(y)}if(c){m.stateTransition=f;var v=m.getTextContent(),b=m.getTextGuideLine();v&&(v.stateTransition=f),b&&(b.stateTransition=f)}m.__dirty&&n(m)}})}oh=function(l){var u=l._scheduler;u.restorePipelines(l._model),u.prepareStageTasks(),Oy(l,!0),Oy(l,!1),u.plan()},Oy=function(l,u){for(var h=l._model,c=l._scheduler,p=u?l._componentsViews:l._chartsViews,f=u?l._componentsMap:l._chartsMap,m=l._zr,y=l._api,v=0;v<p.length;v++)p[v].__alive=!1;function b(I){var T=I.__requireNewView;I.__requireNewView=!1;var D="_ec_"+I.id+"_"+I.type,A=!T&&f[D];if(!A){var L=yr(I.type);(A=new(u?ei.getClass(L.main,L.sub):Ht.getClass(L.sub))).init(h,y),f[D]=A,p.push(A),m.add(A.group)}I.__viewId=A.__id=D,A.__alive=!0,A.__model=I,A.group.__ecComponentInfo={mainType:I.mainType,index:I.componentIndex},!u&&c.prepareView(A,I,h,y)}for(u?h.eachComponent(function(I,T){"series"!==I&&b(T)}):h.eachSeries(b),v=0;v<p.length;){var S=p[v];S.__alive?v++:(!u&&S.renderTask.dispose(),m.remove(S.group),S.dispose(h,y),p.splice(v,1),f[S.__id]===S&&delete f[S.__id],S.__id=S.group.__ecComponentInfo=null)}},kf=function(l,u,h,c,p){var f=l._model;if(f.setUpdatePayload(h),c){var m={};m[c+"Id"]=h[c+"Id"],m[c+"Index"]=h[c+"Index"],m[c+"Name"]=h[c+"Name"];var y={mainType:c,query:m};p&&(y.subType=p);var v,b=h.excludeSeriesId;null!=b&&(v=ze(),G(Gt(b),function(I){var T=ci(I,null);null!=T&&v.set(T,!0)})),f&&f.eachComponent(y,function(I){if(!v||null==v.get(I.id))if(Z1(h))if(I instanceof qt)h.type!==$s||h.notBlur||I.get(["emphasis","disabled"])||function(L,P,E){var N=L.seriesIndex,z=L.getData(P.dataType);if(z){var B=$o(z,P);B=(fe(B)?B[0]:B)||0;var W=z.getItemGraphicEl(B);if(!W)for(var Y=z.count(),j=0;!W&&j<Y;)W=z.getItemGraphicEl(j++);if(W){var Z=rt(W);wm(N,Z.focus,Z.blurScope,E)}else{var q=L.get(["emphasis","focus"]),K=L.get(["emphasis","blurScope"]);null!=q&&wm(N,q,K,E)}}}(I,h,l._api);else{var T=Mm(I.mainType,I.componentIndex,h.name,l._api),A=T.dispatchers;h.type===$s&&T.focusSelf&&!h.notBlur&&Sm(I.mainType,I.componentIndex,l._api),A&&G(A,function(L){h.type===$s?ea(L):ta(L)})}else Tm(h)&&I instanceof qt&&(function(L,P,E){if(Tm(P)){var N=P.dataType,z=$o(L.getData(N),P);fe(z)||(z=[z]),L[P.type===Mc?"toggleSelect":P.type===Sc?"select":"unselect"](z,N)}}(I,h),U1(I),wr(l))},l),f&&f.eachComponent(y,function(I){v&&null!=v.get(I.id)||S(l["series"===c?"_chartsMap":"_componentsMap"][I.__viewId])},l)}else G([].concat(l._componentsViews).concat(l._chartsViews),S);function S(I){I&&I.__alive&&I[u]&&I[u](I.__model,f,l._api,h)}},Xa={prepareAndUpdate:function(l){oh(this),Xa.update.call(this,l,{optionChanged:null!=l.newOption})},update:function(l,u){var h=this._model,c=this._api,p=this._zr,f=this._coordSysMgr,m=this._scheduler;if(h){h.setUpdatePayload(l),m.restoreData(h,l),m.performSeriesTasks(h),f.create(h,c),m.performDataProcessorTasks(h,l),Ey(this,h),f.update(h,c),e(h),m.performVisualTasks(h,l),zy(this,h,c,l,u);var y=h.get("backgroundColor")||"transparent",v=h.get("darkMode");p.setBackgroundColor(y),null!=v&&"auto"!==v&&p.setDarkMode(v),Zr.trigger("afterupdate",h,c)}},updateTransform:function(l){var u=this,h=this._model,c=this._api;if(h){h.setUpdatePayload(l);var p=[];h.eachComponent(function(m,y){if("series"!==m){var v=u.getViewOfComponentModel(y);if(v&&v.__alive)if(v.updateTransform){var b=v.updateTransform(y,h,c,l);b&&b.update&&p.push(v)}else p.push(v)}});var f=ze();h.eachSeries(function(m){var y=u._chartsMap[m.__viewId];if(y.updateTransform){var v=y.updateTransform(m,h,c,l);v&&v.update&&f.set(m.uid,1)}else f.set(m.uid,1)}),e(h),this._scheduler.performVisualTasks(h,l,{setDirty:!0,dirtyMap:f}),Lf(this,h,c,l,{},f),Zr.trigger("afterupdate",h,c)}},updateView:function(l){var u=this._model;u&&(u.setUpdatePayload(l),Ht.markUpdateMethod(l,"updateView"),e(u),this._scheduler.performVisualTasks(u,l,{setDirty:!0}),zy(this,u,this._api,l,{}),Zr.trigger("afterupdate",u,this._api))},updateVisual:function(l){var u=this,h=this._model;h&&(h.setUpdatePayload(l),h.eachSeries(function(c){c.getData().clearAllVisual()}),Ht.markUpdateMethod(l,"updateVisual"),e(h),this._scheduler.performVisualTasks(h,l,{visualType:"visual",setDirty:!0}),h.eachComponent(function(c,p){if("series"!==c){var f=u.getViewOfComponentModel(p);f&&f.__alive&&f.updateVisual(p,h,u._api,l)}}),h.eachSeries(function(c){u._chartsMap[c.__viewId].updateVisual(c,h,u._api,l)}),Zr.trigger("afterupdate",h,this._api))},updateLayout:function(l){Xa.update.call(this,l)}},Ry=function(l,u,h,c){if(l._disposed);else for(var p,f=l._model,m=l._coordSysMgr.getCoordinateSystems(),y=Gs(f,h),v=0;v<m.length;v++){var b=m[v];if(b[u]&&null!=(p=b[u](f,y,c)))return p}},Ey=function(l,u){var h=l._chartsMap,c=l._scheduler;u.eachSeries(function(p){c.updateStreamModes(p,h[p.__viewId])})},Ny=function(l,u){var h=this,c=this.getModel(),p=l.type,f=l.escapeConnect,m=Of[p],y=m.actionInfo,v=(y.update||"update").split(":"),b=v.pop(),S=null!=v[0]&&yr(v[0]);this.__flagInMainProcess=!0;var I=[l],T=!1;l.batch&&(T=!0,I=ge(l.batch,function(z){return(z=Ve(de({},z),l)).batch=null,z}));var D,A=[],L=Tm(l),P=Z1(l);if(P&&X1(this._api),G(I,function(z){if((D=(D=m.action(z,h._model,h._api))||de({},z)).type=y.event||D.type,A.push(D),P){var B=Ws(l),Y=B.mainTypeSpecified?B.queryOptionMap.keys()[0]:"series";kf(h,b,z,Y),wr(h)}else L?(kf(h,b,z,"series"),wr(h)):S&&kf(h,b,z,S.main,S.sub)}),"none"!==b&&!P&&!L&&!S)try{this.__pendingUpdate?(oh(this),Xa.update.call(this,l),this.__pendingUpdate=null):Xa[b].call(this,l)}catch(z){throw this.__flagInMainProcess=!1,z}if(D=T?{type:y.event||p,escapeConnect:f,batch:A}:A[0],this.__flagInMainProcess=!1,!u){var E=this._messageCenter;if(E.trigger(D.type,D),L){var N={type:"selectchanged",escapeConnect:f,selected:dk(c),isFromClick:l.isFromClick||!1,fromAction:l.type,fromActionPayload:l};E.trigger(N.type,N)}}},Qc=function(l){for(var u=this._pendingActions;u.length;){var h=u.shift();Ny.call(this,h,l)}},ed=function(l){!l&&this.trigger("updated")},zw=function(l,u){l.on("rendered",function(h){u.trigger("rendered",h),!l.animation.isFinished()||u.__pendingUpdate||u._scheduler.unfinished||u._pendingActions.length||u.trigger("finished")})},Vw=function(l,u){l.on("mouseover",function(h){var p,f,m,y,v,b,c=sl(h.target,Ic);c&&(f=h,m=u._api,(b=(v=Mm((y=rt(p=c)).componentMainType,y.componentIndex,y.componentHighDownName,m)).dispatchers)?(v.focusSelf&&Sm(y.componentMainType,y.componentIndex,m),G(b,function(I){return B1(I,f)})):(wm(y.seriesIndex,y.focus,y.blurScope,m),"self"===y.focus&&Sm(y.componentMainType,y.componentIndex,m),B1(p,f)),wr(u))}).on("mouseout",function(h){var c=sl(h.target,Ic);c&&(function(p,f,m){X1(m);var y=rt(p),v=Mm(y.componentMainType,y.componentIndex,y.componentHighDownName,m).dispatchers;v?G(v,function(b){return F1(b,f)}):F1(p,f)}(c,h,u._api),wr(u))}).on("click",function(h){var c=sl(h.target,function(m){return null!=rt(m).dataIndex},!0);if(c){var p=c.selected?"unselect":"select",f=rt(c);u._api.dispatchAction({type:p,dataType:f.dataType,dataIndexInside:f.dataIndex,seriesIndex:f.seriesIndex,isFromClick:!0})}})},zy=function(l,u,h,c,p){(function(f){var m=[],y=[],v=!1;if(f.eachComponent(function(T,D){var A=D.get("zlevel")||0,L=D.get("z")||0,P=D.getZLevelKey();v=v||!!P,("series"===T?y:m).push({zlevel:A,z:L,idx:D.componentIndex,type:T,key:P})}),v){var b,S,I=m.concat(y);Ro(I,function(T,D){return T.zlevel===D.zlevel?T.z-D.z:T.zlevel-D.zlevel}),G(I,function(T){var D=f.getComponent(T.type,T.idx),A=T.zlevel,L=T.key;null!=b&&(A=Math.max(b,A)),L?(A===b&&L!==S&&A++,S=L):S&&(A===b&&A++,S=""),b=A,D.setZLevel(A)})}})(u),Bw(l,u,h,c,p),G(l._chartsViews,function(f){f.__alive=!1}),Lf(l,u,h,c,p),G(l._chartsViews,function(f){f.__alive||f.remove(u,h)})},Bw=function(l,u,h,c,p,f){G(f||l._componentsViews,function(m){var y=m.__model;a(0,m),m.render(y,u,h,c),r(y,m),s(y,m)})},Lf=function(l,u,h,c,p,f){var m=l._scheduler;p=de(p||{},{updatedSeries:u.getSeries()}),Zr.trigger("series:beforeupdate",u,h,p);var v,b,I,y=!1;u.eachSeries(function(v){var b=l._chartsMap[v.__viewId];b.__alive=!0;var T,D,S=b.renderTask;m.updatePayload(S,c),a(0,b),f&&f.get(v.uid)&&S.dirty(),S.perform(m.getPerformArgs(S))&&(y=!0),b.group.silent=!!v.get("silent"),T=b,D=v.get("blendMode")||null,T.eachRendered(function(A){A.isGroup||(A.style.blend=D)}),U1(v)}),m.unfinished=y||m.unfinished,Zr.trigger("series:layoutlabels",u,h,p),Zr.trigger("series:transition",u,h,p),u.eachSeries(function(v){var b=l._chartsMap[v.__viewId];r(v,b),s(v,b)}),b=u,I=0,(v=l)._zr.storage.traverse(function(T){T.isGroup||I++}),I>b.get("hoverLayerThreshold")&&!Ee.node&&!Ee.worker&&b.eachSeries(function(T){if(!T.preventUsingHoverLayer){var D=v._chartsMap[T.__viewId];D.__alive&&D.eachRendered(function(A){A.states.emphasis&&(A.states.emphasis.hoverLayer=!0)})}}),Zr.trigger("series:afterupdate",u,h,p)},wr=function(l){l.__needsUpdateStatus=!0,l.getZr().wakeUp()},Ww=function(l){l.__needsUpdateStatus&&(l.getZr().storage.traverse(function(u){Nu(u)||n(u)}),l.__needsUpdateStatus=!1)},Fw=function(l){return new(function(u){function h(){return null!==u&&u.apply(this,arguments)||this}return ie(h,u),h.prototype.getCoordinateSystems=function(){return l._coordSysMgr.getCoordinateSystems()},h.prototype.getComponentByElement=function(c){for(;c;){var p=c.__ecComponentInfo;if(null!=p)return l._model.getComponent(p.mainType,p.index);c=c.parent}},h.prototype.enterEmphasis=function(c,p){ea(c,p),wr(l)},h.prototype.leaveEmphasis=function(c,p){ta(c,p),wr(l)},h.prototype.enterBlur=function(c){G1(c),wr(l)},h.prototype.leaveBlur=function(c){bm(c),wr(l)},h.prototype.enterSelect=function(c){W1(c),wr(l)},h.prototype.leaveSelect=function(c){H1(c),wr(l)},h.prototype.getModel=function(){return l.getModel()},h.prototype.getViewOfComponentModel=function(c){return l.getViewOfComponentModel(c)},h.prototype.getViewOfSeriesModel=function(c){return l.getViewOfSeriesModel(c)},h}(lb))(l)},Gw=function(l){function u(h,c){for(var p=0;p<h.length;p++)h[p][Py]=c}G(td,function(h,c){l._messageCenter.on(c,function(p){if(Ef[l.group]&&0!==l[Py]){if(p&&p.escapeConnect)return;var f=l.makeActionFromEvent(p),m=[];G(hl,function(y){y!==l&&y.group===l.group&&m.push(y)}),u(m,0),G(m,function(y){1!==y[Py]&&y.dispatchAction(f)}),u(m,2)}})})}}(),t}(kn),Vy=Pf.prototype;Vy.on=Rw("on"),Vy.off=Rw("off"),Vy.one=function(i,t,e){var n=this;this.on.call(this,i,function r(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];t&&t.apply&&t.apply(this,o),n.off(i,r)},e)};var nP=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],Of={},td={},By=[],Fy=[],Rf=[],Xw={},Gy={},hl={},Ef={},rP=+new Date-0,oP=+new Date-0,Wy="_echarts_instance_";function Uw(i){Ef[i]=!1}var aP=Uw;function Hy(i){return hl[function(t,e){return t.getAttribute?t.getAttribute(e):t[e]}(i,Wy)]}function Yy(i,t){Xw[i]=t}function Xy(i){We(Fy,i)<0&&Fy.push(i)}function Uy(i,t){jy(By,i,t,2e3)}function jw(i){Nf("afterinit",i)}function Zw(i){Nf("afterupdate",i)}function Nf(i,t){Zr.on(i,t)}function qr(i,t,e){Ge(t)&&(e=t,t="");var n=le(i)?i.type:[i,i={event:t}][0];i.event=(i.event||n).toLowerCase(),td[t=i.event]||(Vt(Ow.test(n)&&Ow.test(t)),Of[n]||(Of[n]={action:e,actionInfo:i}),td[t]=n)}function qw(i,t){Zu.register(i,t)}function $w(i,t){jy(Rf,i,t,1e3,"layout")}function Ua(i,t){jy(Rf,i,t,3e3,"visual")}var Kw=[];function jy(i,t,e,n,r){if((Ge(t)||le(t))&&(e=t,t=n),!(We(Kw,e)>=0)){Kw.push(e);var o=aw.wrapStageHandler(e,r);o.__prio=t,o.__raw=e,i.push(o)}}function Zy(i,t){Gy[i]=t}function Jw(i,t,e){var n=Lw("registerMap");n&&n(i,t,e)}var Qw=function(i){var t=(i=Ue(i)).type;t||Ct("");var n=t.split(":");2!==n.length&&Ct("");var r=!1;"echarts"===n[0]&&(t=n[1],r=!0),i.__isBuiltIn=r,Ob.set(t,i)};Ua(2e3,kL),Ua(4500,LL),Ua(4500,PL),Ua(2e3,YL),Ua(4500,XL),Ua(7e3,function(i,t){i.eachRawSeries(function(e){if(!i.isSeriesFiltered(e)){var n=e.getData();n.hasItemVisual()&&n.each(function(o){var a=n.getItemVisual(o,"decal");a&&(n.ensureUniqueItemVisual(o,"style").decal=rh(a,t))});var r=n.getVisual("decal");r&&(n.getVisual("style").decal=rh(r,t))}})}),Xy(gb),Uy(900,function(i){var t=ze();i.eachSeries(function(e){var n=e.get("stack");if(n){var r=t.get(n)||t.set(n,[]),o=e.getData(),a={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:e};if(!a.stackedDimension||!a.isStackedByIndex&&!a.stackedByDimension)return;r.length&&o.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(a)}}),t.each(Qk)}),Zy("default",function(i,t){Ve(t=t||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var e=new Ze,n=new St({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});e.add(n);var r,o=new Mt({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),a=new St({style:{fill:"none"},textContent:o,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});return e.add(a),t.showSpinner&&((r=new kc({shape:{startAngle:-wf/2,endAngle:-wf/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*wf/2}).start("circularInOut"),r.animateShape(!0).when(1e3,{startAngle:3*wf/2}).delay(300).start("circularInOut"),e.add(r)),e.resize=function(){var s=o.getBoundingRect().width,l=t.showSpinner?t.spinnerRadius:0,u=(i.getWidth()-2*l-(t.showSpinner&&s?10:0)-s)/2-(t.showSpinner&&s?0:5+s/2)+(t.showSpinner?0:s/2)+(s?0:l),h=i.getHeight()/2;t.showSpinner&&r.setShape({cx:u,cy:h}),a.setShape({x:u-l,y:h-l,width:2*l,height:2*l}),n.setShape({x:0,y:0,width:i.getWidth(),height:i.getHeight()})},e.resize(),e}),qr({type:$s,event:$s,update:$s},jt),qr({type:Fp,event:Fp,update:Fp},jt),qr({type:Sc,event:Sc,update:Sc},jt),qr({type:Gp,event:Gp,update:Gp},jt),qr({type:Mc,event:Mc,update:Mc},jt),Yy("light",WL),Yy("dark",pw);var eS=[],sP={registerPreprocessor:Xy,registerProcessor:Uy,registerPostInit:jw,registerPostUpdate:Zw,registerUpdateLifecycle:Nf,registerAction:qr,registerCoordinateSystem:qw,registerLayout:$w,registerVisual:Ua,registerTransform:Qw,registerLoading:Zy,registerMap:Jw,registerImpl:function(i,t){kw[i]=t},PRIORITY:Pw,ComponentModel:mt,ComponentView:ei,SeriesModel:qt,ChartView:Ht,registerComponentModel:function(i){mt.registerClass(i)},registerComponentView:function(i){ei.registerClass(i)},registerSeriesModel:function(i){qt.registerClass(i)},registerChartView:function(i){Ht.registerClass(i)},registerSubTypeDefaulter:function(i,t){mt.registerSubTypeDefaulter(i,t)},registerPainter:function(i,t){Mp(i,t)}};function pt(i){fe(i)?G(i,function(t){pt(t)}):We(eS,i)>=0||(eS.push(i),Ge(i)&&(i={install:i}),i.install(sP))}function id(i){return null==i?0:i.length||1}function tS(i){return i}var ra=function(){function i(t,e,n,r,o,a){this._old=t,this._new=e,this._oldKeyGetter=n||tS,this._newKeyGetter=r||tS,this.context=o,this._diffModeMultiple="multiple"===a}return i.prototype.add=function(t){return this._add=t,this},i.prototype.update=function(t){return this._update=t,this},i.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},i.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},i.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},i.prototype.remove=function(t){return this._remove=t,this},i.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},i.prototype._executeOneToOne=function(){var t=this._old,e=this._new,n={},r=new Array(t.length),o=new Array(e.length);this._initIndexMap(t,null,r,"_oldKeyGetter"),this._initIndexMap(e,n,o,"_newKeyGetter");for(var a=0;a<t.length;a++){var s=r[a],l=n[s],u=id(l);if(u>1){var h=l.shift();1===l.length&&(n[s]=l[0]),this._update&&this._update(h,a)}else 1===u?(n[s]=null,this._update&&this._update(l,a)):this._remove&&this._remove(a)}this._performRestAdd(o,n)},i.prototype._executeMultiple=function(){var e=this._new,n={},r={},o=[],a=[];this._initIndexMap(this._old,n,o,"_oldKeyGetter"),this._initIndexMap(e,r,a,"_newKeyGetter");for(var s=0;s<o.length;s++){var l=o[s],u=n[l],h=r[l],c=id(u),p=id(h);if(c>1&&1===p)this._updateManyToOne&&this._updateManyToOne(h,u),r[l]=null;else if(1===c&&p>1)this._updateOneToMany&&this._updateOneToMany(h,u),r[l]=null;else if(1===c&&1===p)this._update&&this._update(h,u),r[l]=null;else if(c>1&&p>1)this._updateManyToMany&&this._updateManyToMany(h,u),r[l]=null;else if(c>1)for(var f=0;f<c;f++)this._remove&&this._remove(u[f]);else this._remove&&this._remove(u)}this._performRestAdd(a,r)},i.prototype._performRestAdd=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=e[r],a=id(o);if(a>1)for(var s=0;s<a;s++)this._add&&this._add(o[s]);else 1===a&&this._add&&this._add(o);e[r]=null}},i.prototype._initIndexMap=function(t,e,n,r){for(var o=this._diffModeMultiple,a=0;a<t.length;a++){var s="_ec_"+this[r](t[a],a);if(o||(n[a]=s),e){var l=e[s],u=id(l);0===u?(e[s]=a,o&&n.push(s)):1===u?e[s]=[l,a]:l.push(a)}}},i}(),lP=function(){function i(t,e){this._encode=t,this._schema=e}return i.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},i.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},i}();function qy(i,t){return i.hasOwnProperty(t)||(i[t]=[]),i[t]}function zf(i){return"category"===i?"ordinal":"time"===i?"time":"float"}var Vf=function(i){this.otherDims={},null!=i&&de(this,i)},uP=_t(),hP={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},iS=function(){function i(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return i.prototype.isDimensionOmitted=function(){return this._dimOmitted},i.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=oS(this.source)))},i.prototype.getSourceDimensionIndex=function(t){return He(this._dimNameMap.get(t),-1)},i.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},i.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=bb(this.source),n=!aS(t),r="",o=[],a=0,s=0;a<t;a++){var l=void 0,u=void 0,h=void 0,c=this.dimensions[s];if(c&&c.storeDimIndex===a)l=e?c.name:null,u=c.type,h=c.ordinalMeta,s++;else{var p=this.getSourceDimension(a);p&&(l=e?p.name:null,u=p.type)}o.push({property:l,type:u,ordinalMeta:h}),!e||null==l||c&&c.isCalculationCoord||(r+=n?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),r+="$",r+=hP[u]||"f",h&&(r+=h.uid),r+="$"}var f=this.source;return{dimensions:o,hash:[f.seriesLayoutBy,f.startIndex,r].join("$$")}},i.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,n=0;e<this._fullDimCount;e++){var r=void 0,o=this.dimensions[n];if(o&&o.storeDimIndex===e)o.isCalculationCoord||(r=o.name),n++;else{var a=this.getSourceDimension(e);a&&(r=a.name)}t.push(r)}return t},i.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},i}();function nS(i){return i instanceof iS}function rS(i){for(var t=ze(),e=0;e<(i||[]).length;e++){var n=i[e],r=le(n)?n.name:n;null!=r&&null==t.get(r)&&t.set(r,e)}return t}function oS(i){var t=uP(i);return t.dimNameMap||(t.dimNameMap=rS(i.dimensionsDefine))}function aS(i){return i>30}var sS,Bf,nd,rd,$y,Ff,Ky,od=le,ja=ge,cP=typeof Int32Array>"u"?Array:Int32Array,dP=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],pP=["_approximateExtent"],yn=function(){function i(t,e){var n;this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r=!1;nS(t)?(n=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(r=!0,n=t),n=n||["x","y"];for(var o={},a=[],s={},l=!1,u={},h=0;h<n.length;h++){var c=n[h],p=De(c)?new Vf({name:c}):c instanceof Vf?c:new Vf(c),f=p.name;p.type=p.type||"float",p.coordDim||(p.coordDim=f,p.coordDimIndex=0);var m=p.otherDims=p.otherDims||{};a.push(f),o[f]=p,null!=u[f]&&(l=!0),p.createInvertedIndices&&(s[f]=[]),0===m.itemName&&(this._nameDimIdx=h),0===m.itemId&&(this._idDimIdx=h),r&&(p.storeDimIndex=h)}if(this.dimensions=a,this._dimInfos=o,this._initGetDimensionInfo(l),this.hostModel=e,this._invertedIndicesMap=s,this._dimOmitted){var y=this._dimIdxToName=ze();G(a,function(v){y.set(o[v].storeDimIndex,v)})}}return i.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(null==e)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var n=this._dimIdxToName.get(e);if(null!=n)return n;var r=this._schema.getSourceDimension(e);return r?r.name:void 0},i.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(null!=e)return e;if(null==t)return-1;var n=this._getDimInfo(t);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},i.prototype._recognizeDimIndex=function(t){if(oe(t)||null!=t&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},i.prototype._getStoreDimIndex=function(t){return this.getDimensionIndex(t)},i.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},i.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(n){return e.hasOwnProperty(n)?e[n]:void 0}:function(n){return e[n]}},i.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},i.prototype.mapDimension=function(t,e){var n=this._dimSummary;if(null==e)return n.encodeFirstDimNotExtra[t];var r=n.encode[t];return r?r[e]:null},i.prototype.mapDimensionsAll=function(t){return(this._dimSummary.encode[t]||[]).slice()},i.prototype.getStore=function(){return this._store},i.prototype.initData=function(t,e,n){var r,o=this;if(t instanceof xy&&(r=t),!r){var a=this.dimensions,s=cy(t)||Ft(t)?new wb(t,a.length):t;r=new xy;var l=ja(a,function(u){return{type:o._dimInfos[u].type,property:u}});r.initData(s,l,n)}this._store=r,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,r.count()),this._dimSummary=function(u,h){var c={},p=c.encode={},f=ze(),m=[],y=[],v={};G(u.dimensions,function(D){var A,L=u.getDimensionInfo(D),P=L.coordDim;if(P){var E=L.coordDimIndex;qy(p,P)[E]=D,L.isExtraCoord||(f.set(P,1),"ordinal"!==(A=L.type)&&"time"!==A&&(m[0]=D),qy(v,P)[E]=u.getDimensionIndex(L.name)),L.defaultTooltip&&y.push(D)}q_.each(function(N,z){var B=qy(p,z),W=L.otherDims[z];null!=W&&!1!==W&&(B[W]=L.name)})});var b=[],S={};f.each(function(D,A){var L=p[A];S[A]=L[0],b=b.concat(L)}),c.dataDimsOnCoord=b,c.dataDimIndicesOnCoord=ge(b,function(D){return u.getDimensionInfo(D).storeDimIndex}),c.encodeFirstDimNotExtra=S;var I=p.label;I&&I.length&&(m=I.slice());var T=p.tooltip;return T&&T.length?y=T.slice():y.length||(y=m.slice()),p.defaultedLabel=m,p.defaultedTooltip=y,c.userOutput=new lP(v,h),c}(this,this._schema),this.userOutput=this._dimSummary.userOutput},i.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},i.prototype.appendValues=function(t,e){var n=this._store.appendValues(t,e.length),r=n.start,o=n.end,a=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var s=r;s<o;s++)this._nameList[s]=e[s-r],a&&Ky(this,s)},i.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,n=0;n<e.length;n++){var r=this._dimInfos[e[n]];r.ordinalMeta&&t.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},i.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return null==this._idDimIdx&&t.getSource().sourceFormat!==ju&&!t.fillStorage},i.prototype._doInit=function(t,e){if(!(t>=e)){var n=this._store.getProvider();this._updateOrdinalMeta();var r=this._nameList,o=this._idList;if(n.getSource().sourceFormat===Ga&&!n.pure)for(var a=[],s=t;s<e;s++){var l=n.getItem(s,a);if(!this.hasItemOption&&Ap(l)&&(this.hasItemOption=!0),l){var u=l.name;null==r[s]&&null!=u&&(r[s]=ci(u,null));var h=l.id;null==o[s]&&null!=h&&(o[s]=ci(h,null))}}if(this._shouldMakeIdFromName())for(s=t;s<e;s++)Ky(this,s);sS(this)}},i.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},i.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},i.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},i.prototype.setCalculationInfo=function(t,e){od(t)?de(this._calculationInfo,t):this._calculationInfo[t]=e},i.prototype.getName=function(t){var e=this.getRawIndex(t),n=this._nameList[e];return null==n&&null!=this._nameDimIdx&&(n=nd(this,this._nameDimIdx,e)),null==n&&(n=""),n},i.prototype._getCategory=function(t,e){var n=this._store.get(t,e),r=this._store.getOrdinalMeta(t);return r?r.categories[n]:n},i.prototype.getId=function(t){return Bf(this,this.getRawIndex(t))},i.prototype.count=function(){return this._store.count()},i.prototype.get=function(t,e){var r=this._dimInfos[t];if(r)return this._store.get(r.storeDimIndex,e)},i.prototype.getByRawIndex=function(t,e){var r=this._dimInfos[t];if(r)return this._store.getByRawIndex(r.storeDimIndex,e)},i.prototype.getIndices=function(){return this._store.getIndices()},i.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},i.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},i.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},i.prototype.getValues=function(t,e){var n=this,r=this._store;return fe(t)?r.getValues(ja(t,function(o){return n._getStoreDimIndex(o)}),e):r.getValues(t)},i.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,n=0,r=e.length;n<r;n++)if(isNaN(this._store.get(e[n],t)))return!1;return!0},i.prototype.indexOfName=function(t){for(var e=0,n=this._store.count();e<n;e++)if(this.getName(e)===t)return e;return-1},i.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},i.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},i.prototype.rawIndexOf=function(t,e){var r=(t&&this._invertedIndicesMap[t])[e];return null==r||isNaN(r)?-1:r},i.prototype.indicesOfNearest=function(t,e,n){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,n)},i.prototype.each=function(t,e,n){Ge(t)&&(n=e,e=t,t=[]);var r=n||this,o=ja(rd(t),this._getStoreDimIndex,this);this._store.each(o,r?ke(e,r):e)},i.prototype.filterSelf=function(t,e,n){Ge(t)&&(n=e,e=t,t=[]);var r=n||this,o=ja(rd(t),this._getStoreDimIndex,this);return this._store=this._store.filter(o,r?ke(e,r):e),this},i.prototype.selectRange=function(t){var e=this,n={};return G(dt(t),function(r){var o=e._getStoreDimIndex(r);n[o]=t[r]}),this._store=this._store.selectRange(n),this},i.prototype.mapArray=function(t,e,n){Ge(t)&&(n=e,e=t,t=[]);var r=[];return this.each(t,function(){r.push(e&&e.apply(this,arguments))},n=n||this),r},i.prototype.map=function(t,e,n,r){var o=n||r||this,a=ja(rd(t),this._getStoreDimIndex,this),s=Ff(this);return s._store=this._store.map(a,o?ke(e,o):e),s},i.prototype.modify=function(t,e,n,r){var o=n||r||this,a=ja(rd(t),this._getStoreDimIndex,this);this._store.modify(a,o?ke(e,o):e)},i.prototype.downSample=function(t,e,n,r){var o=Ff(this);return o._store=this._store.downSample(this._getStoreDimIndex(t),e,n,r),o},i.prototype.lttbDownSample=function(t,e){var n=Ff(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),n},i.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},i.prototype.getItemModel=function(t){var e=this.hostModel,n=this.getRawDataItem(t);return new Rt(n,e,e&&e.ecModel)},i.prototype.diff=function(t){var e=this;return new ra(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(n){return Bf(t,n)},function(n){return Bf(e,n)})},i.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},i.prototype.setVisual=function(t,e){this._visual=this._visual||{},od(t)?de(this._visual,t):this._visual[t]=e},i.prototype.getItemVisual=function(t,e){var n=this._itemVisuals[t];return(n&&n[e])??this.getVisual(e)},i.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},i.prototype.ensureUniqueItemVisual=function(t,e){var n=this._itemVisuals,r=n[t];r||(r=n[t]={});var o=r[e];return null==o&&(fe(o=this.getVisual(e))?o=o.slice():od(o)&&(o=de({},o)),r[e]=o),o},i.prototype.setItemVisual=function(t,e,n){var r=this._itemVisuals[t]||{};this._itemVisuals[t]=r,od(e)?de(r,e):r[e]=n},i.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},i.prototype.setLayout=function(t,e){od(t)?de(this._layout,t):this._layout[t]=e},i.prototype.getLayout=function(t){return this._layout[t]},i.prototype.getItemLayout=function(t){return this._itemLayouts[t]},i.prototype.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?de(this._itemLayouts[t]||{},e):e},i.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},i.prototype.setItemGraphicEl=function(t,e){ym(this.hostModel&&this.hostModel.seriesIndex,this.dataType,t,e),this._graphicEls[t]=e},i.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},i.prototype.eachItemGraphicEl=function(t,e){G(this._graphicEls,function(n,r){n&&t&&t.call(e,n,r)})},i.prototype.cloneShallow=function(t){return t||(t=new i(this._schema?this._schema:ja(this.dimensions,this._getDimInfo,this),this.hostModel)),$y(t,this),t._store=this._store,t},i.prototype.wrapMethod=function(t,e){var n=this[t];Ge(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var r=n.apply(this,arguments);return e.apply(this,[r].concat(Xt(arguments)))})},i.internalField=(sS=function(t){var e=t._invertedIndicesMap;G(e,function(n,r){var o=t._dimInfos[r],a=o.ordinalMeta,s=t._store;if(a){n=e[r]=new cP(a.categories.length);for(var l=0;l<n.length;l++)n[l]=-1;for(l=0;l<s.count();l++)n[s.get(o.storeDimIndex,l)]=l}})},nd=function(t,e,n){return ci(t._getCategory(e,n),null)},Bf=function(t,e){var n=t._idList[e];return null==n&&null!=t._idDimIdx&&(n=nd(t,t._idDimIdx,e)),null==n&&(n="e\0\0"+e),n},rd=function(t){return fe(t)||(t=null!=t?[t]:[]),t},Ff=function(t){var e=new i(t._schema?t._schema:ja(t.dimensions,t._getDimInfo,t),t.hostModel);return $y(e,t),e},$y=function(t,e){G(dP.concat(e.__wrappedMethods||[]),function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t.__wrappedMethods=e.__wrappedMethods,G(pP,function(n){t[n]=Ue(e[n])}),t._calculationInfo=de({},e._calculationInfo)},void(Ky=function(t,e){var n=t._nameList,r=t._idList,o=t._nameDimIdx,a=t._idDimIdx,s=n[e],l=r[e];if(null==s&&null!=o&&(n[e]=s=nd(t,o,e)),null==l&&null!=a&&(r[e]=l=nd(t,a,e)),null==l&&null!=s){var u=t._nameRepeatCount,h=u[s]=(u[s]||0)+1;l=s,h>1&&(l+="__ec__"+h),r[e]=l}})),i}();function ah(i,t){cy(i)||(i=py(i));var E,B,e=(t=t||{}).coordDimensions||[],n=t.dimensionsDefine||i.dimensionsDefine||[],r=ze(),o=[],a=(E=e,B=Math.max(i.dimensionsDetectedCount||1,E.length,n.length,t.dimensionsCount||0),G(E,function(W){var Y;le(W)&&(Y=W.dimsDef)&&(B=Math.max(B,Y.length))}),B),s=t.canOmitUnusedDimensions&&aS(a),l=n===i.dimensionsDefine,u=l?oS(i):rS(n),h=t.encodeDefine;!h&&t.encodeDefaulter&&(h=t.encodeDefaulter(i,a));for(var c=ze(h),p=new Rb(a),f=0;f<p.length;f++)p[f]=-1;function m(P){var E=p[P];if(E<0){var N=n[P],z=le(N)?N:{name:N},B=new Vf,W=z.name;return null!=W&&null!=u.get(W)&&(B.name=B.displayName=W),null!=z.type&&(B.type=z.type),null!=z.displayName&&(B.displayName=z.displayName),p[P]=o.length,B.storeDimIndex=P,o.push(B),B}return o[E]}if(!s)for(f=0;f<a;f++)m(f);c.each(function(P,E){var N=Gt(P).slice();if(1===N.length&&!De(N[0])&&N[0]<0)c.set(E,!1);else{var z=c.set(E,[]);G(N,function(B,W){var Y=De(B)?u.get(B):B;null!=Y&&Y<a&&(z[W]=Y,v(m(Y),E,W))})}});var y=0;function v(P,E,N){null!=q_.get(E)?P.otherDims[E]=N:(P.coordDim=E,P.coordDimIndex=N,r.set(E,!0))}G(e,function(P){var E,N,z,B;if(De(P))E=P,B={};else{E=(B=P).name;var W=B.ordinalMeta;B.ordinalMeta=null,(B=de({},B)).ordinalMeta=W,N=B.dimsDef,z=B.otherDims,B.name=B.coordDim=B.coordDimIndex=B.dimsDef=B.otherDims=null}var Y=c.get(E);if(!1!==Y){if(!(Y=Gt(Y)).length)for(var j=0;j<(N&&N.length||1);j++){for(;y<a&&null!=m(y).coordDim;)y++;y<a&&Y.push(y++)}G(Y,function(Z,q){var K=m(Z);if(l&&null!=B.type&&(K.type=B.type),v(Ve(K,B),E,q),null==K.name&&N){var Q=N[q];!le(Q)&&(Q={name:Q}),K.name=K.displayName=Q.name,K.defaultTooltip=Q.defaultTooltip}z&&Ve(K.otherDims,z)})}});var b=t.generateCoord,S=t.generateCoordCount,I=null!=S;S=b?S||1:0;var T=b||"value";function D(P){null==P.name&&(P.name=P.coordDim)}if(s)G(o,function(P){D(P)}),o.sort(function(P,E){return P.storeDimIndex-E.storeDimIndex});else for(var A=0;A<a;A++){var L=m(A);null==L.coordDim&&(L.coordDim=fP(T,r,I),L.coordDimIndex=0,(!b||S<=0)&&(L.isExtraCoord=!0),S--),D(L),null!=L.type||1!==eb(i,A)&&(!L.isExtraCoord||null==L.otherDims.itemName&&null==L.otherDims.seriesName)||(L.type="ordinal")}return function(P){for(var E=ze(),N=0;N<P.length;N++){var z=P[N],B=z.name,W=E.get(B)||0;W>0&&(z.name=B+(W-1)),W++,E.set(B,W)}}(o),new iS({source:i,dimensions:o,fullDimensionCount:a,dimensionOmitted:s})}function fP(i,t,e){if(e||t.hasKey(i)){for(var n=0;t.hasKey(i+n);)n++;i+=n}return t.set(i,!0),i}var gP=function(i){this.coordSysDims=[],this.axisMap=ze(),this.categoryAxisMap=ze(),this.coordSysName=i},mP={cartesian2d:function(i,t,e,n){var r=i.getReferringComponents("xAxis",di).models[0],o=i.getReferringComponents("yAxis",di).models[0];t.coordSysDims=["x","y"],e.set("x",r),e.set("y",o),sh(r)&&(n.set("x",r),t.firstCategoryDimIndex=0),sh(o)&&(n.set("y",o),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},singleAxis:function(i,t,e,n){var r=i.getReferringComponents("singleAxis",di).models[0];t.coordSysDims=["single"],e.set("single",r),sh(r)&&(n.set("single",r),t.firstCategoryDimIndex=0)},polar:function(i,t,e,n){var r=i.getReferringComponents("polar",di).models[0],o=r.findAxisModel("radiusAxis"),a=r.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],e.set("radius",o),e.set("angle",a),sh(o)&&(n.set("radius",o),t.firstCategoryDimIndex=0),sh(a)&&(n.set("angle",a),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(i,t,e,n){t.coordSysDims=["lng","lat"]},parallel:function(i,t,e,n){var r=i.ecModel,o=r.getComponent("parallel",i.get("parallelIndex")),a=t.coordSysDims=o.dimensions.slice();G(o.parallelAxisIndex,function(s,l){var u=r.getComponent("parallelAxis",s),h=a[l];e.set(h,u),sh(u)&&(n.set(h,u),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=l))})}};function sh(i){return"category"===i.get("type")}function lS(i,t,e){var n,r,o,a=(e=e||{}).byIndex,s=e.stackedCoordDimension;nS(t.schema)?(n=(r=t.schema).dimensions,o=t.store):n=t;var l,u,h,c,p=!(!i||!i.get("stack"));if(G(n,function(S,I){De(S)&&(n[I]=S={name:S}),p&&!S.isExtraCoord&&(a||l||!S.ordinalMeta||(l=S),u||"ordinal"===S.type||"time"===S.type||s&&s!==S.coordDim||(u=S))}),!u||a||l||(a=!0),u){h="__\0ecstackresult_"+i.id,c="__\0ecstackedover_"+i.id,l&&(l.createInvertedIndices=!0);var f=u.coordDim,m=u.type,y=0;G(n,function(S){S.coordDim===f&&y++});var v={name:h,coordDim:f,coordDimIndex:y,type:m,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:n.length},b={name:c,coordDim:c,coordDimIndex:y+1,type:m,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:n.length+1};r?(o&&(v.storeDimIndex=o.ensureCalculationDimension(c,m),b.storeDimIndex=o.ensureCalculationDimension(h,m)),r.appendCalculationDimension(v),r.appendCalculationDimension(b)):(n.push(v),n.push(b))}return{stackedDimension:u&&u.name,stackedByDimension:l&&l.name,isStackedByIndex:a,stackedOverDimension:c,stackResultDimension:h}}function oa(i,t){return!!t&&t===i.getCalculationInfo("stackedDimension")}function Jy(i,t){return oa(i,t)?i.getCalculationInfo("stackResultDimension"):t}function go(i,t,e){e=e||{};var n,r=t.getSourceManager(),o=!1;i?(o=!0,n=py(i)):o=(n=r.getSource()).sourceFormat===Ga;var b,S,I,T,a=function(v){var b=v.get("coordinateSystem"),S=new gP(b),I=mP[b];if(I)return I(v,S,S.axisMap,S.categoryAxisMap),S}(t),s=(b=a,I=t.get("coordinateSystem"),T=Zu.get(I),b&&b.coordSysDims&&(S=ge(b.coordSysDims,function(D){var A={name:D},L=b.axisMap.get(D);if(L){var P=L.get("type");A.type=zf(P)}return A})),S||(S=T&&(T.getDimensionsInfo?T.getDimensionsInfo():T.dimensions.slice())||["x","y"]),S),l=e.useEncodeDefaulter,u=Ge(l)?l:l?Xe(Q_,s,t):null,h=ah(n,{coordDimensions:s,generateCoord:e.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!o}),c=function(v,b,S){var I,T;return S&&G(v,function(D,A){var P=S.categoryAxisMap.get(D.coordDim);P&&(null==I&&(I=A),D.ordinalMeta=P.getOrdinalMeta(),b&&(D.createInvertedIndices=!0)),null!=D.otherDims.itemName&&(T=!0)}),T||null==I||(v[I].otherDims.itemName=0),I}(h.dimensions,e.createInvertedIndices,a),p=o?null:r.getSharedDataStore(h),f=lS(t,{schema:h,store:p}),m=new yn(h,t);m.setCalculationInfo(f);var y=null!=c&&function(v){if(v.sourceFormat===Ga){var b=function(S){for(var I=0;I<S.length&&null==S[I];)I++;return S[I]}(v.data||[]);return!fe(Ca(b))}}(n)?function(v,b,S,I){return I===c?S:this.defaultDimValueGetter(v,b,S,I)}:null;return m.hasItemOption=!1,m.initData(o?n:p,null,y),m}var mo=function(){function i(t){this._setting=t||{},this._extent=[1/0,-1/0]}return i.prototype.getSetting=function(t){return this._setting[t]},i.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},i.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},i.prototype.getExtent=function(){return this._extent.slice()},i.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},i.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},i.prototype.isBlank=function(){return this._isBlank},i.prototype.setBlank=function(t){this._isBlank=t},i}();La(mo);var yP=0,Qy=function(){function i(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++yP}return i.createByAxisModel=function(t){var e=t.option,n=e.data,r=n&&ge(n,vP);return new i({categories:r,needCollect:!r,deduplication:!1!==e.dedplication})},i.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},i.prototype.parseAndCollect=function(t){var e,n=this._needCollect;if(!De(t)&&!n)return t;if(n&&!this._deduplication)return this.categories[e=this.categories.length]=t,e;var r=this._getOrCreateMap();return null==(e=r.get(t))&&(n?(this.categories[e=this.categories.length]=t,r.set(t,e)):e=NaN),e},i.prototype._getOrCreateMap=function(){return this._map||(this._map=ze(this.categories))},i}();function vP(i){return le(i)&&null!=i.value?i.value:i+""}function ev(i){return"interval"===i.type||"log"===i.type}function tv(i){var t=Math.pow(10,yu(i)),e=i/t;return e?2===e?e=3:3===e?e=5:e*=2:e=1,ii(e*t)}function uS(i){return Bn(i)+2}function hS(i,t,e){i[t]=Math.max(Math.min(i[t],e[1]),e[0])}function Gf(i,t){return i>=t[0]&&i<=t[1]}function Wf(i,t){return t[1]===t[0]?.5:(i-t[0])/(t[1]-t[0])}function Hf(i,t){return i*(t[1]-t[0])+t[0]}var Yf=function(i){function t(e){var n=i.call(this,e)||this;n.type="ordinal";var r=n.getSetting("ordinalMeta");return r||(r=new Qy({})),fe(r)&&(r=new Qy({categories:ge(r,function(o){return le(o)?o.value:o})})),n._ordinalMeta=r,n._extent=n.getSetting("extent")||[0,r.categories.length-1],n}return ie(t,i),t.prototype.parse=function(e){return null==e?NaN:De(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return Gf(e=this.parse(e),this._extent)&&null!=this._ordinalMeta.categories[e]},t.prototype.normalize=function(e){return Wf(e=this._getTickNumber(this.parse(e)),this._extent)},t.prototype.scale=function(e){return e=Math.round(Hf(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){for(var e=[],n=this._extent,r=n[0];r<=n[1];)e.push({value:r}),r++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(null!=e){for(var n=e.ordinalNumbers,r=this._ordinalNumbersByTick=[],o=this._ticksByOrdinalNumber=[],a=0,s=this._ordinalMeta.categories.length,l=Math.min(s,n.length);a<l;++a){var u=n[a];r[a]=u,o[u]=a}for(var h=0;a<s;++a){for(;null!=o[h];)h++;r.push(h),o[h]=a}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},t.prototype._getTickNumber=function(e){var n=this._ticksByOrdinalNumber;return n&&e>=0&&e<n.length?n[e]:e},t.prototype.getRawOrdinalNumber=function(e){var n=this._ordinalNumbersByTick;return n&&e>=0&&e<n.length?n[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var n=this.getRawOrdinalNumber(e.value),r=this._ordinalMeta.categories[n];return null==r?"":r+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(e,n){this.unionExtent(e.getApproximateExtent(n))},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(mo);mo.registerClass(Yf);var cl=ii,aa=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return ie(t,i),t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return Gf(e,this._extent)},t.prototype.normalize=function(e){return Wf(e,this._extent)},t.prototype.scale=function(e){return Hf(e,this._extent)},t.prototype.setExtent=function(e,n){var r=this._extent;isNaN(e)||(r[0]=parseFloat(e)),isNaN(n)||(r[1]=parseFloat(n))},t.prototype.unionExtent=function(e){var n=this._extent;e[0]<n[0]&&(n[0]=e[0]),e[1]>n[1]&&(n[1]=e[1]),this.setExtent(n[0],n[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=uS(e)},t.prototype.getTicks=function(e){var n=this._interval,r=this._extent,o=this._niceExtent,a=this._intervalPrecision,s=[];if(!n)return s;r[0]<o[0]&&s.push(e?{value:cl(o[0]-n,a)}:{value:r[0]});for(var l=o[0];l<=o[1]&&(s.push({value:l}),(l=cl(l+n,a))!==s[s.length-1].value);)if(s.length>1e4)return[];var u=s.length?s[s.length-1].value:o[1];return r[1]>u&&s.push(e?{value:cl(u+n,a)}:{value:r[1]}),s},t.prototype.getMinorTicks=function(e){for(var n=this.getTicks(!0),r=[],o=this.getExtent(),a=1;a<n.length;a++){for(var l=n[a-1],u=0,h=[],c=(n[a].value-l.value)/e;u<e-1;){var p=cl(l.value+(u+1)*c);p>o[0]&&p<o[1]&&h.push(p),u++}r.push(h)}return r},t.prototype.getLabel=function(e,n){if(null==e)return"";var r=n&&n.precision;return null==r?r=Bn(e.value)||0:"auto"===r&&(r=this._intervalPrecision),qm(cl(e.value,r,!0))},t.prototype.calcNiceTicks=function(e,n,r){e=e||5;var o=this._extent,a=o[1]-o[0];if(isFinite(a)){a<0&&(a=-a,o.reverse());var s=function xP(i,t,e,n){var r={},a=r.interval=Vs((i[1]-i[0])/t,!0);null!=e&&a<e&&(a=r.interval=e),null!=n&&a>n&&(a=r.interval=n);var l,u,s=r.intervalPrecision=uS(a);return l=r.niceTickExtent=[ii(Math.ceil(i[0]/a)*a,s),ii(Math.floor(i[1]/a)*a,s)],u=i,!isFinite(l[0])&&(l[0]=u[0]),!isFinite(l[1])&&(l[1]=u[1]),hS(l,0,u),hS(l,1,u),l[0]>l[1]&&(l[0]=l[1]),r}(o,e,n,r);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},t.prototype.calcNiceExtent=function(e){var n=this._extent;if(n[0]===n[1])if(0!==n[0]){var r=Math.abs(n[0]);e.fixMax||(n[1]+=r/2),n[0]-=r/2}else n[1]=1;isFinite(n[1]-n[0])||(n[0]=0,n[1]=1),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval);var a=this._interval;e.fixMin||(n[0]=cl(Math.floor(n[0]/a)*a)),e.fixMax||(n[1]=cl(Math.ceil(n[1]/a)*a))},t.prototype.setNiceExtent=function(e,n){this._niceExtent=[e,n]},t.type="interval",t}(mo);mo.registerClass(aa);var cS=typeof Float32Array<"u",_P=cS?Float32Array:Array;function yo(i){return fe(i)?cS?new Float32Array(i):i:new _P(i)}var iv="__ec_stack_";function nv(i){return i.get("stack")||iv+i.seriesIndex}function rv(i){return i.dim+i.index}function dS(i,t){var e=[];return t.eachSeriesByType(i,function(n){yS(n)&&e.push(n)}),e}function pS(i){var t=function(n){var r={};G(n,function(c){var p=c.coordinateSystem.getBaseAxis();if("time"===p.type||"value"===p.type)for(var f=c.getData(),m=p.dim+"_"+p.index,y=f.getDimensionIndex(f.mapDimension(p.dim)),v=f.getStore(),b=0,S=v.count();b<S;++b){var I=v.get(y,b);r[m]?r[m].push(I):r[m]=[I]}});var o={};for(var a in r)if(r.hasOwnProperty(a)){var s=r[a];if(s){s.sort(function(c,p){return c-p});for(var l=null,u=1;u<s.length;++u){var h=s[u]-s[u-1];h>0&&(l=null===l?h:Math.min(l,h))}o[a]=l}}return o}(i),e=[];return G(i,function(n){var r,o=n.coordinateSystem.getBaseAxis(),a=o.getExtent();if("category"===o.type)r=o.getBandWidth();else if("value"===o.type||"time"===o.type){var l=t[o.dim+"_"+o.index],u=Math.abs(a[1]-a[0]),h=o.scale.getExtent(),c=Math.abs(h[1]-h[0]);r=l?u/c*l:u}else{var p=n.getData();r=Math.abs(a[1]-a[0])/p.count()}var f=Te(n.get("barWidth"),r),m=Te(n.get("barMaxWidth"),r),y=Te(n.get("barMinWidth")||(vS(n)?.5:1),r),v=n.get("barGap"),b=n.get("barCategoryGap");e.push({bandWidth:r,barWidth:f,barMaxWidth:m,barMinWidth:y,barGap:v,barCategoryGap:b,axisKey:rv(o),stackId:nv(n)})}),fS(e)}function fS(i){var t={};G(i,function(n,r){var o=n.axisKey,a=n.bandWidth,s=t[o]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=s.stacks;t[o]=s;var u=n.stackId;l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var h=n.barWidth;h&&!l[u].width&&(l[u].width=h,h=Math.min(s.remainedWidth,h),s.remainedWidth-=h);var c=n.barMaxWidth;c&&(l[u].maxWidth=c);var p=n.barMinWidth;p&&(l[u].minWidth=p);var f=n.barGap;null!=f&&(s.gap=f);var m=n.barCategoryGap;null!=m&&(s.categoryGap=m)});var e={};return G(t,function(n,r){e[r]={};var o=n.stacks,a=n.bandWidth,s=n.categoryGap;if(null==s){var l=dt(o).length;s=Math.max(35-4*l,15)+"%"}var u=Te(s,a),h=Te(n.gap,1),c=n.remainedWidth,p=n.autoWidthCount,f=(c-u)/(p+(p-1)*h);f=Math.max(f,0),G(o,function(b){var S=b.maxWidth,I=b.minWidth;if(b.width)T=b.width,S&&(T=Math.min(T,S)),I&&(T=Math.max(T,I)),b.width=T,c-=T+h*T,p--;else{var T=f;S&&S<T&&(T=Math.min(S,c)),I&&I>T&&(T=I),T!==f&&(b.width=T,c-=T+h*T,p--)}}),f=(c-u)/(p+(p-1)*h),f=Math.max(f,0);var m,y=0;G(o,function(b,S){b.width||(b.width=f),m=b,y+=b.width*(1+h)}),m&&(y-=m.width*h);var v=-y/2;G(o,function(b,S){e[r][S]=e[r][S]||{bandWidth:a,offset:v,width:b.width},v+=b.width*(1+h)})}),e}function gS(i,t){var e=dS(i,t),n=pS(e);G(e,function(r){var o=r.getData(),a=r.coordinateSystem.getBaseAxis(),s=nv(r),l=n[rv(a)][s];o.setLayout({bandWidth:l.bandWidth,offset:l.offset,size:l.width})})}function mS(i){return{seriesType:i,plan:Qu(),reset:function(t){if(yS(t)){var e=t.getData(),n=t.coordinateSystem,r=n.getBaseAxis(),o=n.getOtherAxis(r),a=e.getDimensionIndex(e.mapDimension(o.dim)),s=e.getDimensionIndex(e.mapDimension(r.dim)),l=t.get("showBackground",!0),u=e.mapDimension(o.dim),h=e.getCalculationInfo("stackResultDimension"),c=oa(e,u)&&!!e.getCalculationInfo("stackedOnSeries"),p=o.isHorizontal(),f=(T=o).toGlobalCoord(T.dataToCoord("log"===T.type?1:0)),m=vS(t),y=t.get("barMinHeight")||0,v=h&&e.getDimensionIndex(h),b=e.getLayout("size"),S=e.getLayout("offset");return{progress:function(I,T){for(var D,A=I.count,L=m&&yo(3*A),P=m&&l&&yo(3*A),E=m&&yo(A),N=n.master.getRect(),z=p?N.width:N.height,B=T.getStore(),W=0;null!=(D=I.next());){var Y=B.get(c?v:a,D),j=B.get(s,D),Z=f,q=void 0;c&&(q=+Y-B.get(a,D));var K=void 0,Q=void 0,te=void 0,ne=void 0;if(p){var ce=n.dataToPoint([Y,j]);c&&(Z=n.dataToPoint([q,j])[0]),K=Z,Q=ce[1]+S,te=ce[0]-Z,ne=b,Math.abs(te)<y&&(te=(te<0?-1:1)*y)}else ce=n.dataToPoint([j,Y]),c&&(Z=n.dataToPoint([j,q])[1]),K=ce[0]+S,Q=Z,te=b,ne=ce[1]-Z,Math.abs(ne)<y&&(ne=(ne<=0?-1:1)*y);m?(L[W]=K,L[W+1]=Q,L[W+2]=p?te:ne,P&&(P[W]=p?N.x:K,P[W+1]=p?Q:N.y,P[W+2]=z),E[D]=D):T.setItemLayout(D,{x:K,y:Q,width:te,height:ne}),W+=3}m&&T.setLayout({largePoints:L,largeDataIndices:E,largeBackgroundPoints:P,valueAxisHorizontal:p})}}}var T}}}function yS(i){return i.coordinateSystem&&"cartesian2d"===i.coordinateSystem.type}function vS(i){return i.pipelineContext&&i.pipelineContext.large}var ov=function(i){function t(e){var n=i.call(this,e)||this;return n.type="time",n}return ie(t,i),t.prototype.getLabel=function(e){var n=this.getSetting("useUTC");return Vc(e.value,R_[function(r){switch(r){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(Wu(this._minLevelUnit))]||R_.second,n,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,n,r){var o=this.getSetting("useUTC");return function(a,s,l,u,h){var c=null;if(De(l))c=l;else if(Ge(l))c=l(a.value,s,{level:a.level});else{var p=de({},zc);if(a.level>0)for(var f=0;f<jm.length;++f)p[jm[f]]="{primary|"+p[jm[f]]+"}";var m=l?!1===l.inherit?l:Ve(l,p):p,y=N_(a.value,h);if(m[y])c=m[y];else if(m.inherit){for(f=E_.indexOf(y)-1;f>=0;--f)if(m[y]){c=m[y];break}c=c||p.none}if(fe(c)){var v=null==a.level?0:a.level>=0?a.level:c.length+a.level;c=c[v=Math.min(v,c.length-1)]}}return Vc(new Date(a.value),c,h,u)}(e,n,r,this.getSetting("locale"),o)},t.prototype.getTicks=function(){var n=this._extent,r=[];if(!this._interval)return r;r.push({value:n[0],level:0});var o=this.getSetting("useUTC"),a=function(s,l,u,h){var p=E_,f=0;function m(Z,q,K,Q,te,ne,ce){for(var ye=new Date(q),re=q,pe=ye[Q]();re<K&&re<=h[1];)ce.push({value:re}),ye[te](pe+=Z),re=ye.getTime();ce.push({value:re,notAdd:!0})}function y(Z,q,K){var Q=[],te=!q.length;if(!function(xe,we,_e,Ce){var Ne=hn(we),et=hn(_e),ot=function(Yn){return z_(Ne,Yn,Ce)===z_(et,Yn,Ce)},Bt=function(){return ot("year")},ct=function(){return Bt()&&ot("month")},vt=function(){return ct()&&ot("day")},Yt=function(){return vt()&&ot("hour")},$t=function(){return Yt()&&ot("minute")},yi=function(){return $t()&&ot("second")};switch(xe){case"year":return Bt();case"month":return ct();case"day":return vt();case"hour":return Yt();case"minute":return $t();case"second":return yi();case"millisecond":return yi()&&ot("millisecond")}}(Wu(Z),h[0],h[1],u)){te&&(q=[{value:IP(new Date(h[0]),Z,u)},{value:h[1]}]);for(var ne=0;ne<q.length-1;ne++){var ce=q[ne].value,ye=q[ne+1].value;if(ce!==ye){var re=void 0,pe=void 0,ve=void 0;switch(Z){case"year":re=Math.max(1,Math.round(l/Nc/365)),pe=Zm(u),ve=Wk(u);break;case"half-year":case"quarter":case"month":re=wP(l),pe=Hu(u),ve=V_(u);break;case"week":case"half-week":case"day":re=bP(l),pe=sf(u),ve=B_(u);break;case"half-day":case"quarter-day":case"hour":re=SP(l),pe=Bc(u),ve=F_(u);break;case"minute":re=xS(l,!0),pe=lf(u),ve=G_(u);break;case"second":re=xS(l,!1),pe=uf(u),ve=W_(u);break;case"millisecond":re=MP(l),pe=hf(u),ve=H_(u)}m(re,ce,ye,pe,ve,0,Q),"year"===Z&&K.length>1&&0===ne&&K.unshift({value:K[0].value-re})}}for(ne=0;ne<Q.length;ne++)K.push(Q[ne]);return Q}}for(var v=[],b=[],S=0,I=0,T=0;T<p.length&&f++<1e4;++T){var D=Wu(p[T]);if(Gk(p[T])&&(y(p[T],v[v.length-1]||[],b),D!==(p[T+1]?Wu(p[T+1]):null))){if(b.length){I=S,b.sort(function(Z,q){return Z.value-q.value});for(var A=[],L=0;L<b.length;++L){var P=b[L].value;0!==L&&b[L-1].value===P||(A.push(b[L]),P>=h[0]&&P<=h[1]&&S++)}var E=(h[1]-h[0])/l;if(S>1.5*E&&I>E/1.5||(v.push(A),S>E||s===p[T]))break}b=[]}}var N=xt(ge(v,function(Z){return xt(Z,function(q){return q.value>=h[0]&&q.value<=h[1]&&!q.notAdd})}),function(Z){return Z.length>0}),z=[],B=N.length-1;for(T=0;T<N.length;++T)for(var W=N[T],Y=0;Y<W.length;++Y)z.push({value:W[Y].value,level:B-T});z.sort(function(Z,q){return Z.value-q.value});var j=[];for(T=0;T<z.length;++T)0!==T&&z[T].value===z[T-1].value||j.push(z[T]);return j}(this._minLevelUnit,this._approxInterval,o,n);return(r=r.concat(a)).push({value:n[1],level:0}),r},t.prototype.calcNiceExtent=function(e){var n=this._extent;if(n[0]===n[1]&&(n[0]-=Nc,n[1]+=Nc),n[1]===-1/0&&n[0]===1/0){var r=new Date;n[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate()),n[0]=n[1]-Nc}this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.calcNiceTicks=function(e,n,r){var o=this._extent;this._approxInterval=(o[1]-o[0])/(e=e||10),null!=n&&this._approxInterval<n&&(this._approxInterval=n),null!=r&&this._approxInterval>r&&(this._approxInterval=r);var s=Xf.length,l=Math.min(function(u,h,c,p){for(;c<p;){var f=c+p>>>1;u[f][1]<h?c=f+1:p=f}return c}(Xf,this._approxInterval,0,s),s-1);this._interval=Xf[l][1],this._minLevelUnit=Xf[Math.max(l-1,0)][0]},t.prototype.parse=function(e){return oe(e)?e:+hn(e)},t.prototype.contain=function(e){return Gf(this.parse(e),this._extent)},t.prototype.normalize=function(e){return Wf(this.parse(e),this._extent)},t.prototype.scale=function(e){return Hf(e,this._extent)},t.type="time",t}(aa),Xf=[["second",1e3],["minute",6e4],["hour",36e5],["quarter-day",216e5],["half-day",432e5],["day",10368e4],["half-week",3024e5],["week",6048e5],["month",26784e5],["quarter",8208e6],["half-year",O_/2],["year",O_]];function bP(i,t){return(i/=Nc)>16?16:i>7.5?7:i>3.5?4:i>1.5?2:1}function wP(i){return(i/=2592e6)>6?6:i>3?3:i>2?2:1}function SP(i){return(i/=36e5)>12?12:i>6?6:i>3.5?4:i>2?2:1}function xS(i,t){return(i/=t?6e4:1e3)>30?30:i>20?20:i>15?15:i>10?10:i>5?5:i>2?2:1}function MP(i){return Vs(i,!0)}function IP(i,t,e){var n=new Date(i);switch(Wu(t)){case"year":case"month":n[V_(e)](0);case"day":n[B_(e)](1);case"hour":n[F_(e)](0);case"minute":n[G_(e)](0);case"second":n[W_(e)](0),n[H_(e)](0)}return n.getTime()}mo.registerClass(ov);var _S=mo.prototype,ad=aa.prototype,TP=ii,CP=Math.floor,DP=Math.ceil,Uf=Math.pow,$r=Math.log,av=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new aa,e._interval=0,e}return ie(t,i),t.prototype.getTicks=function(e){var r=this._extent,o=this._originalScale.getExtent();return ge(ad.getTicks.call(this,e),function(a){var s=a.value,l=ii(Uf(this.base,s));return l=s===r[0]&&this._fixMin?jf(l,o[0]):l,{value:l=s===r[1]&&this._fixMax?jf(l,o[1]):l}},this)},t.prototype.setExtent=function(e,n){var r=$r(this.base);e=$r(Math.max(0,e))/r,n=$r(Math.max(0,n))/r,ad.setExtent.call(this,e,n)},t.prototype.getExtent=function(){var e=this.base,n=_S.getExtent.call(this);n[0]=Uf(e,n[0]),n[1]=Uf(e,n[1]);var r=this._originalScale.getExtent();return this._fixMin&&(n[0]=jf(n[0],r[0])),this._fixMax&&(n[1]=jf(n[1],r[1])),n},t.prototype.unionExtent=function(e){this._originalScale.unionExtent(e);var n=this.base;e[0]=$r(e[0])/$r(n),e[1]=$r(e[1])/$r(n),_S.unionExtent.call(this,e)},t.prototype.unionExtentFromData=function(e,n){this.unionExtent(e.getApproximateExtent(n))},t.prototype.calcNiceTicks=function(e){e=e||10;var n=this._extent,r=n[1]-n[0];if(!(r===1/0||r<=0)){var o=Gr(r);for(e/r*o<=.5&&(o*=10);!isNaN(o)&&Math.abs(o)<1&&Math.abs(o)>0;)o*=10;var a=[ii(DP(n[0]/o)*o),ii(CP(n[1]/o)*o)];this._interval=o,this._niceExtent=a}},t.prototype.calcNiceExtent=function(e){ad.calcNiceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return Gf(e=$r(e)/$r(this.base),this._extent)},t.prototype.normalize=function(e){return Wf(e=$r(e)/$r(this.base),this._extent)},t.prototype.scale=function(e){return e=Hf(e,this._extent),Uf(this.base,e)},t.type="log",t}(mo),bS=av.prototype;function jf(i,t){return TP(i,Bn(t))}bS.getMinorTicks=ad.getMinorTicks,bS.getLabel=ad.getLabel,mo.registerClass(av);var AP=function(){function i(t,e,n){this._prepareParams(t,e,n)}return i.prototype._prepareParams=function(t,e,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var r=this._isOrdinal="ordinal"===t.type;this._needCrossZero="interval"===t.type&&e.getNeedCrossZero&&e.getNeedCrossZero();var o=this._modelMinRaw=e.get("min",!0);Ge(o)?this._modelMinNum=Zf(t,o({min:n[0],max:n[1]})):"dataMin"!==o&&(this._modelMinNum=Zf(t,o));var a=this._modelMaxRaw=e.get("max",!0);if(Ge(a)?this._modelMaxNum=Zf(t,a({min:n[0],max:n[1]})):"dataMax"!==a&&(this._modelMaxNum=Zf(t,a)),r)this._axisDataLen=e.getCategories().length;else{var s=e.get("boundaryGap"),l=fe(s)?s:[s||0,s||0];this._boundaryGapInner="boolean"==typeof l[0]||"boolean"==typeof l[1]?[0,0]:[Vn(l[0],1),Vn(l[1],1)]}},i.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,n=this._dataMax,r=this._axisDataLen,o=this._boundaryGapInner,a=t?null:n-e||Math.abs(e),s="dataMin"===this._modelMinRaw?e:this._modelMinNum,l="dataMax"===this._modelMaxRaw?n:this._modelMaxNum,u=null!=s,h=null!=l;null==s&&(s=t?r?0:NaN:e-o[0]*a),null==l&&(l=t?r?r-1:NaN:n+o[1]*a),(null==s||!isFinite(s))&&(s=NaN),(null==l||!isFinite(l))&&(l=NaN);var c=Ti(s)||Ti(l)||t&&!r;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!h&&(l=0));var p=this._determinedMin,f=this._determinedMax;return null!=p&&(s=p,u=!0),null!=f&&(l=f,h=!0),{min:s,max:l,minFixed:u,maxFixed:h,isBlank:c}},i.prototype.modifyDataMinMax=function(t,e){this[LP[t]]=e},i.prototype.setDeterminedMinMax=function(t,e){this[kP[t]]=e},i.prototype.freeze=function(){this.frozen=!0},i}(),kP={min:"_determinedMin",max:"_determinedMax"},LP={min:"_dataMin",max:"_dataMax"};function wS(i,t,e){var n=i.rawExtentInfo;return n||(n=new AP(i,t,e),i.rawExtentInfo=n,n)}function Zf(i,t){return null==t?null:Ti(t)?NaN:i.parse(t)}function SS(i,t){var e=i.type,n=wS(i,t,i.getExtent()).calculate();i.setBlank(n.isBlank);var r=n.min,o=n.max,a=t.ecModel;if(a&&"time"===e){var s=dS("bar",a),l=!1;if(G(s,function(c){l=l||c.getBaseAxis()===t.axis}),l){var u=pS(s),h=function(c,p,f,m){var y=f.axis.getExtent(),v=y[1]-y[0],b=function(L,P,E){if(L&&P)return L[rv(P)]}(m,f.axis);if(void 0===b)return{min:c,max:p};var S=1/0;G(b,function(L){S=Math.min(L.offset,S)});var I=-1/0;G(b,function(L){I=Math.max(L.offset+L.width,I)}),S=Math.abs(S),I=Math.abs(I);var T=S+I,D=p-c,A=D/(1-(S+I)/v)-D;return{min:c-=A*(S/T),max:p+=A*(I/T)}}(r,o,t,u);r=h.min,o=h.max}}return{extent:[r,o],fixMin:n.minFixed,fixMax:n.maxFixed}}function dl(i,t){var e=t,n=SS(i,e),r=n.extent,o=e.get("splitNumber");i instanceof av&&(i.base=e.get("logBase"));var a=i.type,s=e.get("interval"),l="interval"===a||"time"===a;i.setExtent(r[0],r[1]),i.calcNiceExtent({splitNumber:o,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:l?e.get("minInterval"):null,maxInterval:l?e.get("maxInterval"):null}),null!=s&&i.setInterval&&i.setInterval(s)}function sd(i,t){if(t=t||i.get("type"))switch(t){case"category":return new Yf({ordinalMeta:i.getOrdinalMeta?i.getOrdinalMeta():i.getCategories(),extent:[1/0,-1/0]});case"time":return new ov({locale:i.ecModel.getLocaleModel(),useUTC:i.ecModel.get("useUTC")});default:return new(mo.getClass(t)||aa)}}function ld(i){var t,e,o,n=i.getLabelModel().get("formatter"),r="category"===i.type?i.scale.getExtent()[0]:null;return"time"===i.scale.type?(e=n,function(o,a){return i.scale.getFormattedLabel(o,a,e)}):De(n)?(o=n,function(a){var s=i.scale.getLabel(a);return o.replace("{value}",s??"")}):Ge(n)?(t=n,function(o,a){return null!=r&&(a=o.value-r),t(sv(i,o),a,null!=o.level?{level:o.level}:null)}):function(o){return i.scale.getLabel(o)}}function sv(i,t){return"category"===i.type?i.scale.getLabel(t):t.value}function PP(i,t){var e=t*Math.PI/180,n=i.width,r=i.height,o=n*Math.abs(Math.cos(e))+Math.abs(r*Math.sin(e)),a=n*Math.abs(Math.sin(e))+Math.abs(r*Math.cos(e));return new st(i.x,i.y,o,a)}function lv(i){return i.get("interval")??"auto"}function MS(i){return"category"===i.type&&0===lv(i.getLabelModel())}function qf(i,t){var e={};return G(i.mapDimensionsAll(t),function(n){e[Jy(i,n)]=!0}),dt(e)}var lh=function(){function i(){}return i.prototype.getNeedCrossZero=function(){return!this.option.scale},i.prototype.getCoordSysModel=function(){},i}(),RP=Object.freeze({__proto__:null,createList:function(i){return go(null,i)},getLayoutRect:wi,dataStack:{isDimensionStacked:oa,enableDataStack:lS,getStackedDimension:Jy},createScale:function(i,t){var e=t;t instanceof Rt||(e=new Rt(t));var n=sd(e);return n.setExtent(i[0],i[1]),dl(n,e),n},mixinAxisModelCommonMethods:function(i){Qt(i,lh)},getECData:rt,createTextStyle:function(i,t){return Kt(i,null,null,"normal"!==(t=t||{}).state)},createDimensions:function(i,t){return ah(i,t).dimensions},createSymbol:gi,enableHoverEmphasis:Ea});function IS(i,t){return Math.abs(i-t)<1e-8}function pl(i,t,e){var n=0,r=i[0];if(!r)return!1;for(var o=1;o<i.length;o++){var a=i[o];n+=en(r[0],r[1],a[0],a[1],t,e),r=a}var s=i[0];return IS(r[0],s[0])&&IS(r[1],s[1])||(n+=en(r[0],r[1],s[0],s[1],t,e)),0!==n}var EP=[];function uv(i,t){for(var e=0;e<i.length;e++)Ci(i[e],i[e],t)}function TS(i,t,e,n){for(var r=0;r<i.length;r++){var o=i[r];n&&(o=n.project(o)),o&&isFinite(o[0])&&isFinite(o[1])&&(jn(t,t,o),an(e,e,o))}}var CS=function(){function i(t){this.name=t}return i.prototype.setCenter=function(t){this._center=t},i.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},i}(),DS=function(i,t){this.type="polygon",this.exterior=i,this.interiors=t},AS=function(i){this.type="linestring",this.points=i},kS=function(i){function t(e,n,r){var o=i.call(this,e)||this;return o.type="geoJSON",o.geometries=n,o._center=r&&[r[0],r[1]],o}return ie(t,i),t.prototype.calcCenter=function(){for(var e,n=this.geometries,r=0,o=0;o<n.length;o++){var a=n[o],s=a.exterior,l=s&&s.length;l>r&&(e=a,r=l)}if(e)return function(h){for(var c=0,p=0,f=0,m=h.length,y=h[m-1][0],v=h[m-1][1],b=0;b<m;b++){var S=h[b][0],I=h[b][1],T=y*I-S*v;c+=T,p+=(y+S)*T,f+=(v+I)*T,y=S,v=I}return c?[p/c/3,f/c/3,c]:[h[0][0]||0,h[0][1]||0]}(e.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},t.prototype.getBoundingRect=function(e){var n=this._rect;if(n&&!e)return n;var r=[1/0,1/0],o=[-1/0,-1/0];return G(this.geometries,function(a){"polygon"===a.type?TS(a.exterior,r,o,e):G(a.points,function(s){TS(s,r,o,e)})}),isFinite(r[0])&&isFinite(r[1])&&isFinite(o[0])&&isFinite(o[1])||(r[0]=r[1]=o[0]=o[1]=0),n=new st(r[0],r[1],o[0]-r[0],o[1]-r[1]),e||(this._rect=n),n},t.prototype.contain=function(e){var n=this.getBoundingRect(),r=this.geometries;if(!n.contain(e[0],e[1]))return!1;e:for(var o=0,a=r.length;o<a;o++){var s=r[o];if("polygon"===s.type){var u=s.interiors;if(pl(s.exterior,e[0],e[1])){for(var h=0;h<(u?u.length:0);h++)if(pl(u[h],e[0],e[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(e,n,r,o){var a=this.getBoundingRect(),s=a.width/a.height;r?o||(o=r/s):r=s*o;for(var l=new st(e,n,r,o),u=a.calculateTransform(l),h=this.geometries,c=0;c<h.length;c++){var p=h[c];"polygon"===p.type?(uv(p.exterior,u),G(p.interiors,function(f){uv(f,u)})):G(p.points,function(f){uv(f,u)})}(a=this._rect).copy(l),this._center=[a.x+a.width/2,a.y+a.height/2]},t.prototype.cloneShallow=function(e){null==e&&(e=this.name);var n=new t(e,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},t}(CS),NP=function(i){function t(e,n){var r=i.call(this,e)||this;return r.type="geoSVG",r._elOnlyForCalculate=n,r}return ie(t,i),t.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,n=e.getBoundingRect(),r=[n.x+n.width/2,n.y+n.height/2],o=ma(EP),a=e;a&&!a.isGeoSVGGraphicRoot;)Zn(o,a.getLocalTransform(),o),a=a.parent;return Nr(o,o),Ci(r,r,o),r},t}(CS);function LS(i,t,e){for(var n=0;n<i.length;n++)i[n]=PS(i[n],t[n],e)}function PS(i,t,e){for(var n=[],r=t[0],o=t[1],a=0;a<i.length;a+=2){var s=i.charCodeAt(a)-64,l=i.charCodeAt(a+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),r=s+=r,o=l+=o,n.push([s/e,l/e])}return n}function hv(i,t){return ge(xt((i=function(e){if(!e.UTF8Encoding)return e;var n=e,r=n.UTF8Scale;return null==r&&(r=1024),G(n.features,function(o){var a=o.geometry,s=a.encodeOffsets,l=a.coordinates;if(s)switch(a.type){case"LineString":a.coordinates=PS(l,s,r);break;case"Polygon":case"MultiLineString":LS(l,s,r);break;case"MultiPolygon":G(l,function(u,h){return LS(u,s[h],r)})}}),n.UTF8Encoding=!1,n}(i)).features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var n=e.properties,r=e.geometry,o=[];switch(r.type){case"Polygon":var a=r.coordinates;o.push(new DS(a[0],a.slice(1)));break;case"MultiPolygon":G(r.coordinates,function(l){l[0]&&o.push(new DS(l[0],l.slice(1)))});break;case"LineString":o.push(new AS([r.coordinates]));break;case"MultiLineString":o.push(new AS(r.coordinates))}var s=new kS(n[t||"name"],o,n.cp);return s.properties=n,s})}var zP=Object.freeze({__proto__:null,linearMap:zt,round:ii,asc:_n,getPrecision:Bn,getPrecisionSafe:Ip,getPixelPrecision:uc,getPercentWithPrecision:function(i,t,e){return i[t]&&gu(i,e)[t]||0},MAX_SAFE_INTEGER:hc,remRadian:gr,isRadianAroundZero:Ta,parseDate:hn,quantity:Gr,quantityExponent:yu,nice:Vs,quantile:vu,reformIntervals:Bs,isNumeric:Fs,numericToNumber:bn}),VP=Object.freeze({__proto__:null,parse:hn,format:Vc}),BP=Object.freeze({__proto__:null,extendShape:d_,extendPath:p_,makePath:Pc,makeImage:Rm,mergePath:er,resizePath:Em,createIcon:Vu,updateProps:It,initProps:ni,getTransform:za,clipPointsByRect:Nm,clipRectByRect:m_,registerShape:_r,getShapeClass:Qp,Group:Ze,Image:Ri,Text:Mt,Circle:xr,Ellipse:Cc,Sector:pn,Ring:Pu,Polygon:fn,Polyline:gn,Rect:St,Line:ki,BezierCurve:Ou,Arc:kc,IncrementalDisplayable:u_,CompoundPath:jp,LinearGradient:Ru,RadialGradient:Lm,BoundingRect:st}),FP=Object.freeze({__proto__:null,addCommas:qm,toCamelCase:$m,normalizeCssArray:il,encodeHTML:Pi,formatTpl:Qm,getTooltipMarker:X_,formatTime:function(i,t,e){"week"!==i&&"month"!==i&&"quarter"!==i&&"half-year"!==i&&"year"!==i||(i="MM-dd\nyyyy");var n=hn(t),r=e?"getUTC":"get",o=n[r+"FullYear"](),a=n[r+"Month"]()+1,s=n[r+"Date"](),l=n[r+"Hours"](),u=n[r+"Minutes"](),h=n[r+"Seconds"](),c=n[r+"Milliseconds"]();return i.replace("MM",Wn(a,2)).replace("M",a).replace("yyyy",o).replace("yy",Wn(o%100+"",2)).replace("dd",Wn(s,2)).replace("d",s).replace("hh",Wn(l,2)).replace("h",l).replace("mm",Wn(u,2)).replace("m",u).replace("ss",Wn(h,2)).replace("s",h).replace("SSS",Wn(c,3))},capitalFirst:function(i){return i&&i.charAt(0).toUpperCase()+i.substr(1)},truncateText:Mu,getTextRect:function(i,t,e,n,r,o,a,s){return new Mt({style:{text:i,font:t,align:e,verticalAlign:n,padding:r,rich:o,overflow:a?"truncate":null,lineHeight:s}}).getBoundingRect()}}),GP=Object.freeze({__proto__:null,map:ge,each:G,indexOf:We,inherits:nr,reduce:Zi,filter:xt,bind:ke,curry:Xe,isArray:fe,isString:De,isObject:le,isFunction:Ge,extend:de,defaults:Ve,clone:Ue,merge:Be}),ud=_t();function OS(i,t){var n,s,r=RS(i,"labels"),o=lv(t);return ES(r,o)||NS(r,o,{labels:Ge(o)?VS(i,o):zS(i,n="auto"===o?ud(s=i).autoInterval??(ud(s).autoInterval=s.calculateCategoryInterval()):o),labelCategoryInterval:n})}function RS(i,t){return ud(i)[t]||(ud(i)[t]=[])}function ES(i,t){for(var e=0;e<i.length;e++)if(i[e].key===t)return i[e].value}function NS(i,t,e){return i.push({key:t,value:e}),e}function zS(i,t,e){var n=ld(i),r=i.scale,o=r.getExtent(),a=i.getLabelModel(),s=[],l=Math.max((t||0)+1,1),u=o[0],h=r.count();0!==u&&l>1&&h/l>2&&(u=Math.round(Math.ceil(u/l)*l));var c=MS(i),p=a.get("showMinLabel")||c,f=a.get("showMaxLabel")||c;p&&u!==o[0]&&y(o[0]);for(var m=u;m<=o[1];m+=l)y(m);function y(v){var b={value:v};s.push(e?v:{formattedLabel:n(b),rawLabel:r.getLabel(b),tickValue:v})}return f&&m-l!==o[1]&&y(o[1]),s}function VS(i,t,e){var n=i.scale,r=ld(i),o=[];return G(n.getTicks(),function(a){var s=n.getLabel(a),l=a.value;t(a.value,s)&&o.push(e?l:{formattedLabel:r(a),rawLabel:s,tickValue:l})}),o}var BS=[0,1],Sr=function(){function i(t,e,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=n||[0,0]}return i.prototype.contain=function(t){var e=this._extent,n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]);return t>=n&&t<=r},i.prototype.containData=function(t){return this.scale.contain(t)},i.prototype.getExtent=function(){return this._extent.slice()},i.prototype.getPixelPrecision=function(t){return uc(t||this.scale.getExtent(),this._extent)},i.prototype.setExtent=function(t,e){var n=this._extent;n[0]=t,n[1]=e},i.prototype.dataToCoord=function(t,e){var n=this._extent,r=this.scale;return t=r.normalize(t),this.onBand&&"ordinal"===r.type&&FS(n=n.slice(),r.count()),zt(t,BS,n,e)},i.prototype.coordToData=function(t,e){var n=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&FS(n=n.slice(),r.count());var o=zt(t,n,BS,e);return this.scale.scale(o)},i.prototype.pointToData=function(t,e){},i.prototype.getTicksCoords=function(t){var e=(t=t||{}).tickModel||this.getTickModel(),n=ge(function HP(i,t){return"category"===i.type?function(e,n){var r,o,a=RS(e,"ticks"),s=lv(n),l=ES(a,s);if(l)return l;if(n.get("show")&&!e.scale.isBlank()||(r=[]),Ge(s))r=VS(e,s,!0);else if("auto"===s){var u=OS(e,e.getLabelModel());o=u.labelCategoryInterval,r=ge(u.labels,function(h){return h.tickValue})}else r=zS(e,o=s,!0);return NS(a,s,{ticks:r,tickCategoryInterval:o})}(i,t):{ticks:ge(i.scale.getTicks(),function(e){return e.value})}}(this,e).ticks,function(r){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(r):r),tickValue:r}},this);return function(r,o,a,s){var l=o.length;if(r.onBand&&!a&&l){var u,h,c=r.getExtent();if(1===l)o[0].coord=c[0],u=o[1]={coord:c[0]};else{var f=(o[l-1].coord-o[0].coord)/(o[l-1].tickValue-o[0].tickValue);G(o,function(v){v.coord-=f/2}),h=1+r.scale.getExtent()[1]-o[l-1].tickValue,o.push(u={coord:o[l-1].coord+f*h})}var m=c[0]>c[1];y(o[0].coord,c[0])&&(s?o[0].coord=c[0]:o.shift()),s&&y(c[0],o[0].coord)&&o.unshift({coord:c[0]}),y(c[1],u.coord)&&(s?u.coord=c[1]:o.pop()),s&&y(u.coord,c[1])&&o.push({coord:c[1]})}function y(v,b){return v=ii(v),b=ii(b),m?v>b:v<b}}(this,n,e.get("alignWithLabel"),t.clamp),n},i.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");return t>0&&t<100||(t=5),ge(this.scale.getMinorTicks(t),function(e){return ge(e,function(n){return{coord:this.dataToCoord(n),tickValue:n}},this)},this)},i.prototype.getViewLabels=function(){return function WP(i){return"category"===i.type?function(t){var e=t.getLabelModel(),n=OS(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}(i):function(t){var e=t.scale.getTicks(),n=ld(t);return{labels:ge(e,function(r,o){return{level:r.level,formattedLabel:n(r,o),rawLabel:t.scale.getLabel(r),tickValue:r.value}})}}(i)}(this).labels},i.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},i.prototype.getTickModel=function(){return this.model.getModel("axisTick")},i.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var r=Math.abs(t[1]-t[0]);return Math.abs(r)/n},i.prototype.calculateCategoryInterval=function(){return function(t){var E,N,e=(N=(E=t).getLabelModel(),{axisRotate:E.getRotate?E.getRotate():E.isHorizontal&&!E.isHorizontal()?90:0,labelRotate:N.get("rotate")||0,font:N.getFont()}),n=ld(t),r=(e.axisRotate-e.labelRotate)/180*Math.PI,o=t.scale,a=o.getExtent(),s=o.count();if(a[1]-a[0]<1)return 0;var l=1;s>40&&(l=Math.max(1,Math.floor(s/40)));for(var u=a[0],h=t.dataToCoord(u+1)-t.dataToCoord(u),c=Math.abs(h*Math.cos(r)),p=Math.abs(h*Math.sin(r)),f=0,m=0;u<=a[1];u+=l){var v,b=Qn(n({value:u}),e.font,"center","top");v=1.3*b.height,f=Math.max(f,1.3*b.width,7),m=Math.max(m,v,7)}var S=f/c,I=m/p;isNaN(S)&&(S=1/0),isNaN(I)&&(I=1/0);var T=Math.max(0,Math.floor(Math.min(S,I))),D=ud(t.model),A=t.getExtent(),L=D.lastAutoInterval,P=D.lastTickCount;return null!=L&&null!=P&&Math.abs(L-T)<=1&&Math.abs(P-s)<=1&&L>T&&D.axisExtent0===A[0]&&D.axisExtent1===A[1]?T=L:(D.lastTickCount=s,D.lastAutoInterval=T,D.axisExtent0=A[0],D.axisExtent1=A[1]),T}(this)},i}();function FS(i,t){var e=(i[1]-i[0])/t/2;i[0]+=e,i[1]-=e}var hd=2*Math.PI,fl=ht.CMD,YP=["top","right","bottom","left"];function XP(i,t,e,n,r){var o=e.width,a=e.height;switch(i){case"top":n.set(e.x+o/2,e.y-t),r.set(0,-1);break;case"bottom":n.set(e.x+o/2,e.y+a+t),r.set(0,1);break;case"left":n.set(e.x-t,e.y+a/2),r.set(-1,0);break;case"right":n.set(e.x+o+t,e.y+a/2),r.set(1,0)}}function UP(i,t,e,n,r,o,a,s,l){a-=i,s-=t;var u=Math.sqrt(a*a+s*s),h=(a/=u)*e+i,c=(s/=u)*e+t;if(Math.abs(n-r)%hd<1e-4)return l[0]=h,l[1]=c,u-e;if(o){var p=n;n=fi(r),r=fi(p)}else n=fi(n),r=fi(r);n>r&&(r+=hd);var f=Math.atan2(s,a);if(f<0&&(f+=hd),f>=n&&f<=r||f+hd>=n&&f+hd<=r)return l[0]=h,l[1]=c,u-e;var m=e*Math.cos(n)+i,y=e*Math.sin(n)+t,v=e*Math.cos(r)+i,b=e*Math.sin(r)+t,S=(m-a)*(m-a)+(y-s)*(y-s),I=(v-a)*(v-a)+(b-s)*(b-s);return S<I?(l[0]=m,l[1]=y,Math.sqrt(S)):(l[0]=v,l[1]=b,Math.sqrt(I))}function $f(i,t,e,n,r,o,a,s){var l=r-i,u=o-t,h=e-i,c=n-t,p=Math.sqrt(h*h+c*c),f=(l*(h/=p)+u*(c/=p))/p;s&&(f=Math.min(Math.max(f,0),1));var m=a[0]=i+(f*=p)*h,y=a[1]=t+f*c;return Math.sqrt((m-r)*(m-r)+(y-o)*(y-o))}function GS(i,t,e,n,r,o,a){e<0&&(i+=e,e=-e),n<0&&(t+=n,n=-n);var s=i+e,l=t+n,u=a[0]=Math.min(Math.max(r,i),s),h=a[1]=Math.min(Math.max(o,t),l);return Math.sqrt((u-r)*(u-r)+(h-o)*(h-o))}var Kr=[];function jP(i,t,e){var n=GS(t.x,t.y,t.width,t.height,i.x,i.y,Kr);return e.set(Kr[0],Kr[1]),n}function ZP(i,t,e){for(var n,r,o=0,a=0,s=0,l=0,u=1/0,h=t.data,c=i.x,p=i.y,f=0;f<h.length;){var m=h[f++];1===f&&(s=o=h[f],l=a=h[f+1]);var y=u;switch(m){case fl.M:o=s=h[f++],a=l=h[f++];break;case fl.L:y=$f(o,a,h[f],h[f+1],c,p,Kr,!0),o=h[f++],a=h[f++];break;case fl.C:y=$l(o,a,h[f++],h[f++],h[f++],h[f++],h[f],h[f+1],c,p,Kr),o=h[f++],a=h[f++];break;case fl.Q:y=Hh(o,a,h[f++],h[f++],h[f],h[f+1],c,p,Kr),o=h[f++],a=h[f++];break;case fl.A:var v=h[f++],b=h[f++],S=h[f++],I=h[f++],T=h[f++],D=h[f++];f+=1;var A=!!(1-h[f++]);n=Math.cos(T)*S+v,r=Math.sin(T)*I+b,f<=1&&(s=n,l=r),y=UP(v,b,I,T,T+D,A,(c-v)*I/S+v,p,Kr),o=Math.cos(T+D)*S+v,a=Math.sin(T+D)*I+b;break;case fl.R:y=GS(s=o=h[f++],l=a=h[f++],h[f++],h[f++],c,p,Kr);break;case fl.Z:y=$f(o,a,s,l,c,p,Kr,!0),o=s,a=l}y<u&&(u=y,e.set(Kr[0],Kr[1]))}return u}var Jr=new nt,ti=new nt,mi=new nt,vo=new nt,xo=new nt;function WS(i,t){if(i){var e=i.getTextGuideLine(),n=i.getTextContent();if(n&&e){var r=i.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],a=r.candidates||YP,s=n.getBoundingRect().clone();s.applyTransform(n.getComputedTransform());var l=1/0,u=r.anchor,h=i.getComputedTransform(),c=h&&Nr([],h),p=t.get("length2")||0;u&&mi.copy(u);for(var f=0;f<a.length;f++){XP(a[f],0,s,Jr,vo),nt.scaleAndAdd(ti,Jr,vo,p),ti.transform(c);var m=i.getBoundingRect(),y=u?u.distance(ti):i instanceof gt?ZP(ti,i.path,mi):jP(ti,m,mi);y<l&&(l=y,ti.transform(h),mi.transform(h),mi.toArray(o[0]),ti.toArray(o[1]),Jr.toArray(o[2]))}HS(o,t.get("minTurnAngle")),e.setShape({points:o})}}}var Kf=[],In=new nt;function HS(i,t){if(t<=180&&t>0){t=t/180*Math.PI,Jr.fromArray(i[0]),ti.fromArray(i[1]),mi.fromArray(i[2]),nt.sub(vo,Jr,ti),nt.sub(xo,mi,ti);var e=vo.len(),n=xo.len();if(!(e<.001||n<.001)){vo.scale(1/e),xo.scale(1/n);var r=vo.dot(xo);if(Math.cos(t)<r){var o=$f(ti.x,ti.y,mi.x,mi.y,Jr.x,Jr.y,Kf,!1);In.fromArray(Kf),In.scaleAndAdd(xo,o/Math.tan(Math.PI-t));var a=mi.x!==ti.x?(In.x-ti.x)/(mi.x-ti.x):(In.y-ti.y)/(mi.y-ti.y);if(isNaN(a))return;a<0?nt.copy(In,ti):a>1&&nt.copy(In,mi),In.toArray(i[1])}}}}function qP(i,t,e){if(e<=180&&e>0){e=e/180*Math.PI,Jr.fromArray(i[0]),ti.fromArray(i[1]),mi.fromArray(i[2]),nt.sub(vo,ti,Jr),nt.sub(xo,mi,ti);var n=vo.len(),r=xo.len();if(!(n<.001||r<.001)&&(vo.scale(1/n),xo.scale(1/r),vo.dot(t)<Math.cos(e))){var o=$f(ti.x,ti.y,mi.x,mi.y,Jr.x,Jr.y,Kf,!1);In.fromArray(Kf);var a=Math.PI/2,s=a+Math.acos(xo.dot(t))-e;if(s>=a)nt.copy(In,mi);else{In.scaleAndAdd(xo,o/Math.tan(Math.PI/2-s));var l=mi.x!==ti.x?(In.x-ti.x)/(mi.x-ti.x):(In.y-ti.y)/(mi.y-ti.y);if(isNaN(l))return;l<0?nt.copy(In,ti):l>1&&nt.copy(In,mi)}In.toArray(i[1])}}}function YS(i,t,e,n){var r="normal"===e,o=r?i:i.ensureState(e);o.ignore=t;var a=n.get("smooth");a&&!0===a&&(a=.3),o.shape=o.shape||{},a>0&&(o.shape.smooth=a);var s=n.getModel("lineStyle").getLineStyle();r?i.useStyle(s):o.style=s}function $P(i,t){var e=t.smooth,n=t.points;if(n)if(i.moveTo(n[0][0],n[0][1]),e>0&&n.length>=3){var r=sr(n[0],n[1]),o=sr(n[1],n[2]);if(!r||!o)return i.lineTo(n[1][0],n[1][1]),void i.lineTo(n[2][0],n[2][1]);var a=Math.min(r,o)*e,s=hs([],n[1],n[0],a/r),l=hs([],n[1],n[2],a/o),u=hs([],s,l,.5);i.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),i.bezierCurveTo(l[0],l[1],l[0],l[1],n[2][0],n[2][1])}else for(var h=1;h<n.length;h++)i.lineTo(n[h][0],n[h][1])}function cv(i,t,e){var n=i.getTextGuideLine(),r=i.getTextContent();if(r){for(var o=t.normal,a=o.get("show"),s=r.ignore,l=0;l<wc.length;l++){var u=wc[l],h=t[u],c="normal"===u;if(h){var p=h.get("show");if((c?s:He(r.states[u]&&r.states[u].ignore,s))||!He(p,a)){var f=c?n:n&&n.states[u];f&&(f.ignore=!0);continue}n||(n=new gn,i.setTextGuideLine(n),c||!s&&a||YS(n,!0,"normal",t.normal),i.stateProxy&&(n.stateProxy=i.stateProxy)),YS(n,!1,u,h)}}if(n){Ve(n.style,e),n.style.fill=null;var m=o.get("showAbove");(i.textGuideLineConfig=i.textGuideLineConfig||{}).showAbove=m||!1,n.buildPath=$P}}else n&&i.removeTextGuideLine()}function dv(i,t){for(var e={normal:i.getModel(t=t||"labelLine")},n=0;n<Sn.length;n++){var r=Sn[n];e[r]=i.getModel([r,t])}return e}function XS(i){for(var t=[],e=0;e<i.length;e++){var n=i[e];if(!n.defaultAttr.ignore){var r=n.label,o=r.getComputedTransform(),a=r.getBoundingRect(),s=!o||o[1]<1e-5&&o[2]<1e-5,l=r.style.margin||0,u=a.clone();u.applyTransform(o),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var h=s?new $p(a,o):null;t.push({label:r,labelLine:n.labelLine,rect:u,localRect:a,obb:h,priority:n.priority,defaultAttr:n.defaultAttr,layoutOption:n.computedLayoutOption,axisAligned:s,transform:o})}}return t}function US(i,t,e,n,r,o){var a=i.length;if(!(a<2)){i.sort(function(L,P){return L.rect[t]-P.rect[t]});for(var s,l=0,u=!1,h=0,c=0;c<a;c++){var p=i[c],f=p.rect;(s=f[t]-l)<0&&(f[t]-=s,p.label[t]-=s,u=!0),h+=Math.max(-s,0),l=f[t]+f[e]}h>0&&o&&T(-h/a,0,a);var m,y,v=i[0],b=i[a-1];return S(),m<0&&D(-m,.8),y<0&&D(y,.8),S(),I(m,y,1),I(y,m,-1),S(),m<0&&A(-m),y<0&&A(y),u}function S(){m=v.rect[t]-n,y=r-b.rect[t]-b.rect[e]}function I(L,P,E){if(L<0){var N=Math.min(P,-L);if(N>0){T(N*E,0,a);var z=N+L;z<0&&D(-z*E,1)}else D(-L*E,1)}}function T(L,P,E){0!==L&&(u=!0);for(var N=P;N<E;N++){var z=i[N];z.rect[t]+=L,z.label[t]+=L}}function D(L,P){for(var E=[],N=0,z=1;z<a;z++){var B=i[z-1].rect,W=Math.max(i[z].rect[t]-B[t]-B[e],0);E.push(W),N+=W}if(N){var Y=Math.min(Math.abs(L)/N,P);if(L>0)for(z=0;z<a-1;z++)T(E[z]*Y,0,z+1);else for(z=a-1;z>0;z--)T(-E[z-1]*Y,z,a)}}function A(L){var P=L<0?-1:1;L=Math.abs(L);for(var E=Math.ceil(L/(a-1)),N=0;N<a-1;N++)if(P>0?T(E,0,N+1):T(-E,a-N-1,a),(L-=E)<=0)return}}function jS(i,t,e,n){return US(i,"y","height",t,e,n)}function ZS(i){var t=[];i.sort(function(y,v){return v.priority-y.priority});var e=new st(0,0,0,0);function n(y){if(!y.ignore){var v=y.ensureState("emphasis");null==v.ignore&&(v.ignore=!1)}y.ignore=!0}for(var r=0;r<i.length;r++){var o=i[r],a=o.axisAligned,s=o.localRect,l=o.transform,u=o.label,h=o.labelLine;e.copy(o.rect),e.width-=.1,e.height-=.1,e.x+=.05,e.y+=.05;for(var c=o.obb,p=!1,f=0;f<t.length;f++){var m=t[f];if(e.intersect(m.rect)){if(a&&m.axisAligned){p=!0;break}if(m.obb||(m.obb=new $p(m.localRect,m.transform)),c||(c=new $p(s,l)),c.intersect(m.obb)){p=!0;break}}}p?(n(u),h&&n(h)):(u.attr("ignore",o.defaultAttr.ignore),h&&h.attr("ignore",o.defaultAttr.labelGuideIgnore),t.push(o))}}function KP(i){if(i){for(var t=[],e=0;e<i.length;e++)t.push(i[e].slice());return t}}function JP(i,t){var e=i.label,n=t&&t.getTextGuideLine();return{dataIndex:i.dataIndex,dataType:i.dataType,seriesIndex:i.seriesModel.seriesIndex,text:i.label.style.text,rect:i.hostRect,labelRect:i.rect,align:e.style.align,verticalAlign:e.style.verticalAlign,labelLinePoints:KP(n&&n.shape.points)}}var qS=["align","verticalAlign","width","height","fontSize"],tr=new zn,pv=_t(),QP=_t();function Jf(i,t,e){for(var n=0;n<e.length;n++){var r=e[n];null!=t[r]&&(i[r]=t[r])}}var Qf=["x","y","rotation"],eO=function(){function i(){this._labelList=[],this._chartViewList=[]}return i.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},i.prototype._addLabel=function(t,e,n,r,o){var a=r.style,s=r.__hostTarget.textConfig||{},l=r.getComputedTransform(),u=r.getBoundingRect().plain();st.applyTransform(u,u,l),l?tr.setLocalTransform(l):(tr.x=tr.y=tr.rotation=tr.originX=tr.originY=0,tr.scaleX=tr.scaleY=1);var h,c=r.__hostTarget;if(c){h=c.getBoundingRect().plain();var p=c.getComputedTransform();st.applyTransform(h,h,p)}var f=h&&c.getTextGuideLine();this._labelList.push({label:r,labelLine:f,seriesModel:n,dataIndex:t,dataType:e,layoutOption:o,computedLayoutOption:null,rect:u,hostRect:h,priority:h?h.width*h.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:f&&f.ignore,x:tr.x,y:tr.y,scaleX:tr.scaleX,scaleY:tr.scaleY,rotation:tr.rotation,style:{x:a.x,y:a.y,align:a.align,verticalAlign:a.verticalAlign,width:a.width,height:a.height,fontSize:a.fontSize},cursor:r.cursor,attachedPos:s.position,attachedRot:s.rotation}})},i.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var n=t.__model,r=n.get("labelLayout");(Ge(r)||dt(r).length)&&t.group.traverse(function(o){if(o.ignore)return!0;var a=o.getTextContent(),s=rt(o);a&&!a.disableLabelLayout&&e._addLabel(s.dataIndex,s.dataType,n,a,r)})},i.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),n=t.getHeight();function r(b,S){return function(){WS(b,S)}}for(var o=0;o<this._labelList.length;o++){var a=this._labelList[o],s=a.label,l=s.__hostTarget,u=a.defaultAttr,h=void 0;h=(h=Ge(a.layoutOption)?a.layoutOption(JP(a,l)):a.layoutOption)||{},a.computedLayoutOption=h;var c=Math.PI/180;l&&l.setTextConfig({local:!1,position:null!=h.x||null!=h.y?null:u.attachedPos,rotation:null!=h.rotate?h.rotate*c:u.attachedRot,offset:[h.dx||0,h.dy||0]});var p=!1;if(null!=h.x?(s.x=Te(h.x,e),s.setStyle("x",0),p=!0):(s.x=u.x,s.setStyle("x",u.style.x)),null!=h.y?(s.y=Te(h.y,n),s.setStyle("y",0),p=!0):(s.y=u.y,s.setStyle("y",u.style.y)),h.labelLinePoints){var f=l.getTextGuideLine();f&&(f.setShape({points:h.labelLinePoints}),p=!1)}pv(s).needsUpdateLabelLine=p,s.rotation=null!=h.rotate?h.rotate*c:u.rotation,s.scaleX=u.scaleX,s.scaleY=u.scaleY;for(var m=0;m<qS.length;m++){var y=qS[m];s.setStyle(y,null!=h[y]?h[y]:u.style[y])}if(h.draggable){if(s.draggable=!0,s.cursor="move",l){var v=a.seriesModel;null!=a.dataIndex&&(v=a.seriesModel.getData(a.dataType).getItemModel(a.dataIndex)),s.on("drag",r(l,v.getModel("labelLine")))}}else s.off("drag"),s.cursor=u.cursor}},i.prototype.layout=function(t){var n=t.getWidth(),r=t.getHeight(),o=XS(this._labelList),a=xt(o,function(l){return"shiftX"===l.layoutOption.moveOverlap}),s=xt(o,function(l){return"shiftY"===l.layoutOption.moveOverlap});US(a,"x","width",0,n,void 0),jS(s,0,r),ZS(xt(o,function(l){return l.layoutOption.hideOverlap}))},i.prototype.processLabelsOverall=function(){var t=this;G(this._chartViewList,function(e){var n=e.__model,r=e.ignoreLabelLineUpdate,o=n.isAnimationEnabled();e.group.traverse(function(a){if(a.ignore&&!a.forceLabelAnimation)return!0;var s=!r,l=a.getTextContent();!s&&l&&(s=pv(l).needsUpdateLabelLine),s&&t._updateLabelLine(a,n),o&&t._animateLabels(a,n)})})},i.prototype._updateLabelLine=function(t,e){var n=t.getTextContent(),r=rt(t),o=r.dataIndex;if(n&&null!=o){var a=e.getData(r.dataType),s=a.getItemModel(o),l={},u=a.getItemVisual(o,"style"),h=a.getVisual("drawType");l.stroke=u[h];var c=s.getModel("labelLine");cv(t,dv(s),l),WS(t,c)}},i.prototype._animateLabels=function(t,e){var n=t.getTextContent(),r=t.getTextGuideLine();if(n&&(t.forceLabelAnimation||!n.ignore&&!n.invisible&&!t.disableLabelAnimation&&!Nu(t))){var o=(m=pv(n)).oldLayout,a=rt(t),s=a.dataIndex,l={x:n.x,y:n.y,rotation:n.rotation},u=e.getData(a.dataType);if(o){n.attr(o);var h=t.prevStates;h&&(We(h,"select")>=0&&n.attr(m.oldLayoutSelect),We(h,"emphasis")>=0&&n.attr(m.oldLayoutEmphasis)),It(n,l,e,s)}else if(n.attr(l),!Fu(n).valueAnimation){var c=He(n.style.opacity,1);n.style.opacity=0,ni(n,{style:{opacity:c}},e,s)}if(m.oldLayout=l,n.states.select){var p=m.oldLayoutSelect={};Jf(p,l,Qf),Jf(p,n.states.select,Qf)}if(n.states.emphasis){var f=m.oldLayoutEmphasis={};Jf(f,l,Qf),Jf(f,n.states.emphasis,Qf)}T_(n,s,u,e,e)}if(r&&!r.ignore&&!r.invisible){o=(m=QP(r)).oldLayout;var m,y={points:r.shape.points};o?(r.attr({shape:o}),It(r,{shape:y},e)):(r.setShape(y),r.style.strokePercent=0,ni(r,{style:{strokePercent:1}},e)),m.oldLayout=y}},i}(),fv=_t(),gv=Math.sin,mv=Math.cos,$S=Math.PI,gl=2*Math.PI,tO=180/$S,KS=function(){function i(){}return i.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},i.prototype.moveTo=function(t,e){this._add("M",t,e)},i.prototype.lineTo=function(t,e){this._add("L",t,e)},i.prototype.bezierCurveTo=function(t,e,n,r,o,a){this._add("C",t,e,n,r,o,a)},i.prototype.quadraticCurveTo=function(t,e,n,r){this._add("Q",t,e,n,r)},i.prototype.arc=function(t,e,n,r,o,a){this.ellipse(t,e,n,n,0,r,o,a)},i.prototype.ellipse=function(t,e,n,r,o,a,s,l){var m,u=s-a,h=!l,c=Math.abs(u),p=Br(c-gl)||(h?u>=gl:-u>=gl),f=u>0?u%gl:u%gl+gl;m=!!p||!Br(c)&&f>=$S==!!h;var y=t+n*mv(a),v=e+r*gv(a);this._start&&this._add("M",y,v);var b=Math.round(o*tO);if(p){var S=1/this._p,I=(h?1:-1)*(gl-S);this._add("A",n,r,b,1,+h,t+n*mv(a+I),e+r*gv(a+I)),S>.01&&this._add("A",n,r,b,0,+h,y,v)}else{var T=t+n*mv(s),D=e+r*gv(s);this._add("A",n,r,b,+m,+h,T,D)}},i.prototype.rect=function(t,e,n,r){this._add("M",t,e),this._add("l",n,0),this._add("l",0,r),this._add("l",-n,0),this._add("Z")},i.prototype.closePath=function(){this._d.length>0&&this._add("Z")},i.prototype._add=function(t,e,n,r,o,a,s,l,u){for(var h=[],c=this._p,p=1;p<arguments.length;p++){var f=arguments[p];if(isNaN(f))return void(this._invalid=!0);h.push(Math.round(f*c)/c)}this._d.push(t+h.join(" ")),this._start="Z"===t},i.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},i.prototype.getStr=function(){return this._str},i}(),cd="none",iO=Math.round,yv=["lineCap","miterLimit","lineJoin"],nO=ge(yv,function(i){return"stroke-"+i.toLowerCase()}),JS="http://www.w3.org/2000/svg",QS="http://www.w3.org/1999/xlink";function eM(i){return document.createElementNS(JS,i)}function zi(i,t,e,n,r){return{tag:i,attrs:e||{},children:n,text:r,key:t}}function vv(i,t){var e=(t=t||{}).newline?"\n":"";return function n(r){var o=r.children,a=r.tag;return function(s,l){var u=[];if(l)for(var h in l){var c=l[h],p=h;!1!==c&&(!0!==c&&null!=c&&(p+='="'+c+'"'),u.push(p))}return"<"+s+" "+u.join(" ")+">"}(a,r.attrs)+Pi(r.text)+(o?""+e+ge(o,function(s){return n(s)}).join(e)+e:"")+"</"+a+">"}(i)}function xv(i){return{zrId:i,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function tM(i,t,e,n){return zi("svg","root",{width:i,height:t,xmlns:JS,"xmlns:xlink":QS,version:"1.1",baseProfile:"full",viewBox:!!n&&"0 0 "+i+" "+t},e)}var iM={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},ml="transform-origin";function oO(i,t,e){var n=de({},i.shape);de(n,t),i.buildPath(e,n);var r=new KS;return r.reset(Jh(i)),e.rebuildPath(r,1),r.generateStr(),r.getStr()}function aO(i,t){var e=t.originX,n=t.originY;(e||n)&&(i[ml]=e+"px "+n+"px")}var sO={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function nM(i,t){var e=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[e]=i,e}function rM(i){return De(i)?iM[i]?"cubic-bezier("+iM[i]+")":Yh(i)?i:"":""}function eg(i,t,e,n){var r=i.animators,o=r.length,a=[];if(i instanceof jp){var s=function(S,I,T){var D,A,P={};if(G(S.shape.paths,function(N){var z=xv(T.zrId);z.animation=!0,eg(N,{},z,!0);var B=z.cssAnims,W=z.cssNodes,Y=dt(B),j=Y.length;if(j){var Z=B[A=Y[j-1]];for(var q in Z){var K=Z[q];P[q]=P[q]||{d:""},P[q].d+=K.d||""}for(var Q in W){var te=W[Q].animation;te.indexOf(A)>=0&&(D=te)}}}),D){I.d=!1;var E=nM(P,T);return D.replace(A,E)}}(i,t,e);if(s)a.push(s);else if(!o)return}else if(!o)return;for(var l={},u=0;u<o;u++){var h=r[u],c=[h.getMaxTime()/1e3+"s"],p=rM(h.getClip().easing),f=h.getDelay();c.push(p||"linear"),f&&c.push(f/1e3+"s"),h.getLoop()&&c.push("infinite");var m=c.join(" ");l[m]=l[m]||[m,[]],l[m][1].push(h)}function y(S){var I,T=S[1],D=T.length,A={},L={},P={};function E(ve,be,xe){for(var we=ve.getTracks(),_e=ve.getMaxTime(),Ce=0;Ce<we.length;Ce++){var Ne=we[Ce];if(Ne.needsAnimate()){var et=Ne.keyframes,ot=Ne.propName;if(xe&&(ot=xe(ot)),ot)for(var Bt=0;Bt<et.length;Bt++){var ct=et[Bt],vt=Math.round(ct.time/_e*100)+"%",Yt=rM(ct.easing),$t=ct.rawValue;(De($t)||oe($t))&&(be[vt]=be[vt]||{},be[vt][ot]=ct.rawValue,Yt&&(be[vt]["animation-timing-function"]=Yt))}}}}for(var N=0;N<D;N++)(te=(Q=T[N]).targetName)?"shape"===te&&E(Q,L):!n&&E(Q,A);for(var z in A){var B={};bp(B,i),de(B,A[z]);var W=cp(B),Y=A[z]["animation-timing-function"];P[z]=W?{transform:W}:{},aO(P[z],B),Y&&(P[z]["animation-timing-function"]=Y)}var j=!0;for(var z in L){P[z]=P[z]||{};var Z=!I;Y=L[z]["animation-timing-function"],Z&&(I=new ht);var q=I.len();I.reset(),P[z].d=oO(i,L[z],I);var K=I.len();if(!Z&&q!==K){j=!1;break}Y&&(P[z]["animation-timing-function"]=Y)}if(!j)for(var z in P)delete P[z].d;if(!n)for(N=0;N<D;N++){var Q,te;"style"===(te=(Q=T[N]).targetName)&&E(Q,P,function(ve){return sO[ve]})}var ne,ce=dt(P),ye=!0;for(N=1;N<ce.length;N++){var re=ce[N-1];if(P[re][ml]!==P[ce[N]][ml]){ye=!1;break}ne=P[re][ml]}if(ye&&ne){for(var z in P)P[z][ml]&&delete P[z][ml];t[ml]=ne}if(xt(ce,function(ve){return dt(P[ve]).length>0}).length)return nM(P,e)+" "+S[0]+" both"}for(var v in l)(s=y(l[v]))&&a.push(s);if(a.length){var b=e.zrId+"-cls-"+e.cssClassIdx++;e.cssNodes["."+b]={animation:a.join(",")},t.class=b}}var dd=Math.round;function oM(i){return i&&De(i.src)}function aM(i){return i&&Ge(i.toDataURL)}function _v(i,t,e,n){(function rO(i,t,e,n){var I,r=t.opacity??1;if(e instanceof Ri)i("opacity",r);else{if(null!=(I=t.fill)&&I!==cd){var o=Ts(t.fill);i("fill",o.color);var a=null!=t.fillOpacity?t.fillOpacity*o.opacity*r:o.opacity*r;(n||a<1)&&i("fill-opacity",a)}else i("fill",cd);if(function(S){var I=S.stroke;return null!=I&&I!==cd}(t)){var s=Ts(t.stroke);i("stroke",s.color);var l=t.strokeNoScale?e.getLineScale():1,u=l?(t.lineWidth||0)/l:0,h=null!=t.strokeOpacity?t.strokeOpacity*s.opacity*r:s.opacity*r,c=t.strokeFirst;if((n||1!==u)&&i("stroke-width",u),(n||c)&&i("paint-order",c?"stroke":"fill"),(n||h<1)&&i("stroke-opacity",h),t.lineDash){var p=Cy(e),f=p[0],m=p[1];f&&(m=iO(m||0),i("stroke-dasharray",f.join(",")),(m||n)&&i("stroke-dashoffset",m))}else n&&i("stroke-dasharray",cd);for(var y=0;y<yv.length;y++){var v=yv[y];if(n||t[v]!==Bp[v]){var b=t[v]||Bp[v];b&&i(nO[y],b)}}}else n&&i("stroke",cd)}})(function(r,o){var a="fill"===r||"stroke"===r;a&&Kh(o)?pM(t,i,r,n):a&&iu(o)?fM(e,i,r,n):i[r]=o},t,e,!1),function(r,o,a){var D,s=r.style;if((D=s)&&(D.shadowBlur||D.shadowOffsetX||D.shadowOffsetY)){var l=function(D){var A=D.style,L=D.getGlobalScale();return[A.shadowColor,(A.shadowBlur||0).toFixed(2),(A.shadowOffsetX||0).toFixed(2),(A.shadowOffsetY||0).toFixed(2),L[0],L[1]].join(",")}(r),u=a.shadowCache,h=u[l];if(!h){var c=r.getGlobalScale(),p=c[0],f=c[1];if(!p||!f)return;var m=s.shadowOffsetX||0,y=s.shadowOffsetY||0,v=s.shadowBlur,b=Ts(s.shadowColor),S=b.opacity,I=b.color,T=v/2/p+" "+v/2/f;h=a.zrId+"-s"+a.shadowIdx++,a.defs[h]=zi("filter",h,{id:h,x:"-100%",y:"-100%",width:"300%",height:"300%"},[zi("feDropShadow","",{dx:m/p,dy:y/f,stdDeviation:T,"flood-color":I,"flood-opacity":S})]),u[l]=h}o.filter=nu(h)}}(e,i,n)}function sM(i){return Br(i[0]-1)&&Br(i[1])&&Br(i[2])&&Br(i[3]-1)}function bv(i,t,e){if(t&&(!Br((r=t)[4])||!Br(r[5])||!sM(t))){var n=e?10:1e4;i.transform=sM(t)?"translate("+dd(t[4]*n)/n+" "+dd(t[5]*n)/n+")":function(r){return"matrix("+Ds(r[0])+","+Ds(r[1])+","+Ds(r[2])+","+Ds(r[3])+","+jh(r[4])+","+jh(r[5])+")"}(t)}var r}function lM(i,t,e){for(var n=i.points,r=[],o=0;o<n.length;o++)r.push(dd(n[o][0]*e)/e),r.push(dd(n[o][1]*e)/e);t.points=r.join(" ")}function uM(i){return!i.smooth}var hM,wv,lO={circle:[(hM=["cx","cy","r"],wv=ge(hM,function(i){return"string"==typeof i?[i,i]:i}),function(i,t,e){for(var n=0;n<wv.length;n++){var r=wv[n],o=i[r[0]];null!=o&&(t[r[1]]=dd(o*e)/e)}})],polyline:[lM,uM],polygon:[lM,uM]};function cM(i,t){var e=i.style,n=i.shape,r=lO[i.type],o={},a=t.animation,s="path",l=i.style.strokePercent,u=t.compress&&Jh(i)||4;if(!r||t.willUpdate||r[1]&&!r[1](n)||a&&function(v){for(var b=v.animators,S=0;S<b.length;S++)if("shape"===b[S].targetName)return!0;return!1}(i)||l<1){var h=!i.path||i.shapeChanged();i.path||i.createPathProxy();var c=i.path;h&&(c.beginPath(),i.buildPath(c,i.shape),i.pathUpdated());var p=c.getVersion(),f=i,m=f.__svgPathBuilder;f.__svgPathVersion===p&&m&&l===f.__svgPathStrokePercent||(m||(m=f.__svgPathBuilder=new KS),m.reset(u),c.rebuildPath(m,l),m.generateStr(),f.__svgPathVersion=p,f.__svgPathStrokePercent=l),o.d=m.getStr()}else{s=i.type;var y=Math.pow(10,u);r[0](n,o,y)}return bv(o,i.transform),_v(o,e,i,t),t.animation&&eg(i,o,t),zi(s,i.id+"",o)}function dM(i,t){return i instanceof gt?cM(i,t):i instanceof Ri?function(e,n){var r=e.style,o=r.image;if(o&&!De(o)&&(oM(o)?o=o.src:aM(o)&&(o=o.toDataURL())),o){var a=r.x||0,s=r.y||0,l={href:o,width:r.width,height:r.height};return a&&(l.x=a),s&&(l.y=s),bv(l,e.transform),_v(l,r,e,n),n.animation&&eg(e,l,n),zi("image",e.id+"",l)}}(i,t):i instanceof Cu?function(e,n){var y,v,b,r=e.style,o=r.text;if(null!=o&&(o+=""),o&&!isNaN(r.x)&&!isNaN(r.y)){var a=r.font||ut,s=r.x||0,l=(y=r.y||0,v=du(a),"top"===(b=r.textBaseline)?y+=v/2:"bottom"===b&&(y-=v/2),y),u={"dominant-baseline":"central","text-anchor":Zh[r.textAlign]||r.textAlign};if(M1(r)){var h="",c=r.fontStyle,p=w1(r.fontSize);if(!parseFloat(p))return;var m=r.fontWeight;h+="font-size:"+p+";font-family:"+(r.fontFamily||"sans-serif")+";",c&&"normal"!==c&&(h+="font-style:"+c+";"),m&&"normal"!==m&&(h+="font-weight:"+m+";"),u.style=h}else u.style="font: "+a;return o.match(/\s/)&&(u["xml:space"]="preserve"),s&&(u.x=s),l&&(u.y=l),bv(u,e.transform),_v(u,r,e,n),n.animation&&eg(e,u,n),zi("text",e.id+"",u,void 0,o)}}(i,t):void 0}function pM(i,t,e,n){var r,o=i[e],a={gradientUnits:o.global?"userSpaceOnUse":"objectBoundingBox"};if(qh(o))r="linearGradient",a.x1=o.x,a.y1=o.y,a.x2=o.x2,a.y2=o.y2;else{if(!$h(o))return;r="radialGradient",a.cx=He(o.x,.5),a.cy=He(o.y,.5),a.r=He(o.r,.5)}for(var s=o.colorStops,l=[],u=0,h=s.length;u<h;++u){var c=100*jh(s[u].offset)+"%",p=Ts(s[u].color),m=p.opacity,y={offset:c};y["stop-color"]=p.color,m<1&&(y["stop-opacity"]=m),l.push(zi("stop",u+"",y))}var v=vv(zi(r,"",a,l)),b=n.gradientCache,S=b[v];S||(S=n.zrId+"-g"+n.gradientIdx++,b[v]=S,a.id=S,n.defs[S]=zi(r,S,a,l)),t[e]=nu(S)}function fM(i,t,e,n){var r,o=i.style[e],a=i.getBoundingRect(),s={},l=o.repeat,u="no-repeat"===l,h="repeat-x"===l,c="repeat-y"===l;if(hp(o)){var p=o.imageWidth,f=o.imageHeight,m=void 0,y=o.image;if(De(y)?m=y:oM(y)?m=y.src:aM(y)&&(m=y.toDataURL()),typeof Image>"u"){var v="Image width/height must been given explictly in svg-ssr renderer.";Vt(p,v),Vt(f,v)}else if(null==p||null==f){var b=function(N,z){if(N){var B=N.elm,W=p||z.width,Y=f||z.height;"pattern"===N.tag&&(h?(Y=1,W/=a.width):c&&(W=1,Y/=a.height)),N.attrs.width=W,N.attrs.height=Y,B&&(B.setAttribute("width",W),B.setAttribute("height",Y))}},S=Oa(m,null,i,function(N){u||b(A,N),b(r,N)});S&&S.width&&S.height&&(p=p||S.width,f=f||S.height)}r=zi("image","img",{href:m,width:p,height:f}),s.width=p,s.height=f}else o.svgElement&&(r=Ue(o.svgElement),s.width=o.svgWidth,s.height=o.svgHeight);if(r){var I,T;u?I=T=1:h?(T=1,I=s.width/a.width):c?(I=1,T=s.height/a.height):s.patternUnits="userSpaceOnUse",null==I||isNaN(I)||(s.width=I),null==T||isNaN(T)||(s.height=T);var D=cp(o);D&&(s.patternTransform=D);var A=zi("pattern","",s,[r]),L=vv(A),P=n.patternCache,E=P[L];E||(E=n.zrId+"-p"+n.patternIdx++,P[L]=E,s.id=E,A=n.defs[E]=zi("pattern",E,s,[r])),t[e]=nu(E)}}function uO(i,t,e){var n=e.clipPathCache,r=e.defs,o=n[i.id];if(!o){var a={id:o=e.zrId+"-c"+e.clipPathIdx++};n[i.id]=o,r[o]=zi("clipPath",o,a,[cM(i,e)])}t["clip-path"]=nu(o)}function gM(i){return document.createTextNode(i)}function uh(i,t,e){i.insertBefore(t,e)}function mM(i,t){i.removeChild(t)}function yM(i,t){i.appendChild(t)}function vM(i){return i.parentNode}function xM(i){return i.nextSibling}function Sv(i,t){i.textContent=t}var hO=zi("","");function Mv(i){return void 0===i}function _o(i){return void 0!==i}function cO(i,t,e){for(var n={},r=t;r<=e;++r){var o=i[r].key;void 0!==o&&(n[o]=r)}return n}function pd(i,t){return i.tag===t.tag&&i.key===t.key}function tg(i){var t,e=i.children,n=i.tag;if(_o(n)){var r=i.elm=eM(n);if(Iv(hO,i),fe(e))for(t=0;t<e.length;++t){var o=e[t];null!=o&&yM(r,tg(o))}else _o(i.text)&&!le(i.text)&&yM(r,gM(i.text))}else i.elm=gM(i.text);return i.elm}function _M(i,t,e,n,r){for(;n<=r;++n){var o=e[n];null!=o&&uh(i,tg(o),t)}}function ig(i,t,e,n){for(;e<=n;++e){var r=t[e];null!=r&&(_o(r.tag)?mM(vM(r.elm),r.elm):mM(i,r.elm))}}function Iv(i,t){var e,n=t.elm,r=i&&i.attrs||{},o=t.attrs||{};if(r!==o){for(e in o){var a=o[e];r[e]!==a&&(!0===a?n.setAttribute(e,""):!1===a?n.removeAttribute(e):120!==e.charCodeAt(0)?n.setAttribute(e,a):"xmlns:xlink"===e||"xmlns"===e?n.setAttributeNS("http://www.w3.org/2000/xmlns/",e,a):58===e.charCodeAt(3)?n.setAttributeNS("http://www.w3.org/XML/1998/namespace",e,a):58===e.charCodeAt(5)?n.setAttributeNS(QS,e,a):n.setAttribute(e,a))}for(e in r)e in o||n.removeAttribute(e)}}function hh(i,t){var e=t.elm=i.elm,n=i.children,r=t.children;i!==t&&(Iv(i,t),Mv(t.text)?_o(n)&&_o(r)?n!==r&&function(o,a,s){for(var l,u,h,c=0,p=0,f=a.length-1,m=a[0],y=a[f],v=s.length-1,b=s[0],S=s[v];c<=f&&p<=v;)null==m?m=a[++c]:null==y?y=a[--f]:null==b?b=s[++p]:null==S?S=s[--v]:pd(m,b)?(hh(m,b),m=a[++c],b=s[++p]):pd(y,S)?(hh(y,S),y=a[--f],S=s[--v]):pd(m,S)?(hh(m,S),uh(o,m.elm,xM(y.elm)),m=a[++c],S=s[--v]):pd(y,b)?(hh(y,b),uh(o,y.elm,m.elm),y=a[--f],b=s[++p]):(Mv(l)&&(l=cO(a,c,f)),Mv(u=l[b.key])||(h=a[u]).tag!==b.tag?uh(o,tg(b),m.elm):(hh(h,b),a[u]=void 0,uh(o,h.elm,m.elm)),b=s[++p]);(c<=f||p<=v)&&(c>f?_M(o,null==s[v+1]?null:s[v+1].elm,s,p,v):ig(o,a,c,f))}(e,n,r):_o(r)?(_o(i.text)&&Sv(e,""),_M(e,null,r,0,r.length-1)):_o(n)?ig(e,n,0,n.length-1):_o(i.text)&&Sv(e,""):i.text!==t.text&&(_o(n)&&ig(e,n,0,n.length-1),Sv(e,t.text)))}var dO=0,pO=function(){function i(t,e,n){if(this.type="svg",this.refreshHover=function(){},this.configLayer=function(){},this.storage=e,this._opts=n=de({},n),this.root=t,this._id="zr"+dO++,this._oldVNode=tM(n.width,n.height),t&&!n.ssr){var r=this._viewport=document.createElement("div");r.style.cssText="position:relative;overflow:hidden";var o=this._svgDom=this._oldVNode.elm=eM("svg");Iv(null,this._oldVNode),r.appendChild(o),t.appendChild(r)}this.resize(n.width,n.height)}return i.prototype.getType=function(){return this.type},i.prototype.getViewportRoot=function(){return this._viewport},i.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},i.prototype.getSvgDom=function(){return this._svgDom},i.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",function(e,n){if(pd(e,n))hh(e,n);else{var r=e.elm,o=vM(r);tg(n),null!==o&&(uh(o,n.elm,xM(r)),ig(o,[e],0,0))}}(this._oldVNode,t),this._oldVNode=t}},i.prototype.renderOneToVNode=function(t){return dM(t,xv(this._id))},i.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(!0),n=this._width,r=this._height,o=xv(this._id);o.animation=t.animation,o.willUpdate=t.willUpdate,o.compress=t.compress;var a=[],s=this._bgVNode=function(p,f,m,y){var v;if(m&&"none"!==m)if(v=zi("rect","bg",{width:p,height:f,x:"0",y:"0",id:"0"}),Kh(m))pM({fill:m},v.attrs,"fill",y);else if(iu(m))fM({style:{fill:m},dirty:jt,getBoundingRect:function(){return{width:p,height:f}}},v.attrs,"fill",y);else{var b=Ts(m),I=b.opacity;v.attrs.fill=b.color,I<1&&(v.attrs["fill-opacity"]=I)}return v}(n,r,this._backgroundColor,o);s&&a.push(s);var l=t.compress?null:this._mainVNode=zi("g","main",{},[]);this._paintList(e,o,l?l.children:a),l&&a.push(l);var p,f,y,v,b,S,I,u=ge(dt(o.defs),function(p){return o.defs[p]});if(u.length&&a.push(zi("defs","defs",{},u)),t.animation){var h=(f=o.cssAnims,v=" {"+(y=({newline:!0}||{}).newline?"\n":""),b=y+"}",S=ge(dt(p=o.cssNodes),function(T){return T+v+ge(dt(p[T]),function(D){return D+":"+p[T][D]+";"}).join(y)+b}).join(y),I=ge(dt(f),function(T){return"@keyframes "+T+v+ge(dt(f[T]),function(D){return D+v+ge(dt(f[T][D]),function(A){var L=f[T][D][A];return"d"===A&&(L='path("'+L+'")'),A+":"+L+";"}).join(y)+b}).join(y)+b}).join(y),S||I?["<![CDATA[",S,I,"]]>"].join(y):"");if(h){var c=zi("style","stl",{},[],h);a.push(c)}}return tM(n,r,a,t.useViewBox)},i.prototype.renderToString=function(t){return vv(this.renderToVNode({animation:He((t=t||{}).cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:He(t.useViewBox,!0)}),{newline:!0})},i.prototype.setBackgroundColor=function(t){this._backgroundColor=t},i.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},i.prototype._paintList=function(t,e,n){for(var r,o,a=t.length,s=[],l=0,u=0,h=0;h<a;h++){var c=t[h];if(!c.invisible){var p=c.__clipPaths,f=p&&p.length||0,m=o&&o.length||0,y=void 0;for(y=Math.max(f-1,m-1);y>=0&&(!p||!o||p[y]!==o[y]);y--);for(var v=m-1;v>y;v--)r=s[--l-1];for(var b=y+1;b<f;b++){var S={};uO(p[b],S,e);var I=zi("g","clip-g-"+u++,S,[]);(r?r.children:n).push(I),s[l++]=I,r=I}o=p;var T=dM(c,e);T&&(r?r.children:n).push(T)}}},i.prototype.resize=function(t,e){var n=this._opts,r=this.root,o=this._viewport;if(null!=t&&(n.width=t),null!=e&&(n.height=e),r&&o&&(o.style.display="none",t=nh(r,0,n),e=nh(r,1,n),o.style.display=""),this._width!==t||this._height!==e){if(this._width=t,this._height=e,o){var a=o.style;a.width=t+"px",a.height=e+"px"}if(iu(this._backgroundColor))this.refresh();else{var s=this._svgDom;s&&(s.setAttribute("width",t),s.setAttribute("height",e));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",t),l.setAttribute("height",e))}}},i.prototype.getWidth=function(){return this._width},i.prototype.getHeight=function(){return this._height},i.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},i.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},i.prototype.toDataURL=function(t){var e=this.renderToString(),n="data:image/svg+xml;";return t?(e=Qh(e))&&n+"base64,"+e:n+"charset=UTF-8,"+encodeURIComponent(e)},i}();function wM(i,t,e){var n=Qe.createCanvas(),r=t.getWidth(),o=t.getHeight(),a=n.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=r+"px",a.height=o+"px",n.setAttribute("data-zr-dom-id",i)),n.width=r*e,n.height=o*e,n}var Tv=function(i){function t(e,n,r){var o,a=i.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null,r=r||lo,"string"==typeof e?o=wM(e,n,r):le(e)&&(e=(o=e).id),a.id=e,a.dom=o;var s=o.style;return s&&(To(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),a.painter=n,a.dpr=r,a}return ie(t,i),t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=wM("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,n,r,o){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var a,s=[],l=this.maxRepaintRectCount,u=!1,h=new st(0,0,0,0);function c(S){if(S.isFinite()&&!S.isZero())if(0===s.length)(I=new st(0,0,0,0)).copy(S),s.push(I);else{for(var I,T=!1,D=1/0,A=0,L=0;L<s.length;++L){var P=s[L];if(P.intersect(S)){var E=new st(0,0,0,0);E.copy(P),E.union(S),s[L]=E,T=!0;break}if(u){h.copy(S),h.union(P);var B=h.width*h.height-S.width*S.height-P.width*P.height;B<D&&(D=B,A=L)}}u&&(s[A].union(S),T=!0),!T&&((I=new st(0,0,0,0)).copy(S),s.push(I)),u||(u=s.length>=l)}}for(var p=this.__startIndex;p<this.__endIndex;++p)if(y=e[p]){var f=y.shouldBePainted(r,o,!0,!0);(v=y.__isRendered&&(1&y.__dirty||!f)?y.getPrevPaintRect():null)&&c(v);var m=f&&(1&y.__dirty||!y.__isRendered)?y.getPaintRect():null;m&&c(m)}for(p=this.__prevStartIndex;p<this.__prevEndIndex;++p){var y,v;f=(y=n[p]).shouldBePainted(r,o,!0,!0),y&&(!f||!y.__zr)&&y.__isRendered&&(v=y.getPrevPaintRect())&&c(v)}do{for(a=!1,p=0;p<s.length;)if(s[p].isZero())s.splice(p,1);else{for(var b=p+1;b<s.length;)s[p].intersect(s[b])?(a=!0,s[p].union(s[b]),s.splice(b,1)):b++;p++}}while(a);return this._paintRects=s,s},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,n){var r=this.dpr,o=this.dom,a=o.style,s=this.domBack;a&&(a.width=e+"px",a.height=n+"px"),o.width=e*r,o.height=n*r,s&&(s.width=e*r,s.height=n*r,1!==r&&this.ctxBack.scale(r,r))},t.prototype.clear=function(e,n,r){var o=this.dom,a=this.ctx,s=o.width,l=o.height;n=n||this.clearColor;var u=this.motionBlur&&!e,h=this.lastFrameAlpha,c=this.dpr,p=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(o,0,0,s/c,l/c));var f=this.domBack;function m(y,v,b,S){if(a.clearRect(y,v,b,S),n&&"transparent"!==n){var I=void 0;bt(n)?(I=(n.global||n.__width===b&&n.__height===S)&&n.__canvasGradient||Ty(a,n,{x:0,y:0,width:b,height:S}),n.__canvasGradient=I,n.__width=b,n.__height=S):yt(n)&&(n.scaleX=n.scaleX||c,n.scaleY=n.scaleY||c,I=Dy(a,n,{dirty:function(){p.setUnpainted(),p.__painter.refresh()}})),a.save(),a.fillStyle=I||n,a.fillRect(y,v,b,S),a.restore()}u&&(a.save(),a.globalAlpha=h,a.drawImage(f,y,v,b,S),a.restore())}!r||u?m(0,0,s,l):r.length&&G(r,function(y){m(y.x*c,y.y*c,y.width*c,y.height*c)})},t}(kn),fd=314159,fO=function(){function i(t,e,n,r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=n=de({},n||{}),this.dpr=n.devicePixelRatio||lo,this._singleCanvas=o,this.root=t,t.style&&(To(t),t.innerHTML=""),this.storage=e;var a=this._zlevelList;this._prevDisplayList=[];var f,m,y,s=this._layers;if(o){var l=t,u=l.width,h=l.height;null!=n.width&&(u=n.width),null!=n.height&&(h=n.height),this.dpr=n.devicePixelRatio||1,l.width=u*this.dpr,l.height=h*this.dpr,this._width=u,this._height=h;var c=new Tv(l,this,this.dpr);c.__builtin__=!0,c.initContext(),s[314159]=c,c.zlevel=fd,a.push(fd),this._domRoot=t}else{this._width=nh(t,0,n),this._height=nh(t,1,n);var p=this._domRoot=(f=this._width,m=this._height,(y=document.createElement("div")).style.cssText=["position:relative","width:"+f+"px","height:"+m+"px","padding:0","margin:0","border-width:0"].join(";")+";",y);t.appendChild(p)}}return i.prototype.getType=function(){return"canvas"},i.prototype.isSingleCanvas=function(){return this._singleCanvas},i.prototype.getViewportRoot=function(){return this._domRoot},i.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},i.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),n=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,n,t,this._redrawId);for(var o=0;o<r.length;o++){var s=this._layers[r[o]];!s.__builtin__&&s.refresh&&s.refresh(0===o?this._backgroundColor:null)}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},i.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},i.prototype._paintHoverList=function(t){var e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){for(var r,o={inHover:!0,viewWidth:this._width,viewHeight:this._height},a=0;a<e;a++){var s=t[a];s.__inHover&&(n||(n=this._hoverlayer=this.getLayer(1e5)),r||(r=n.ctx).save(),ul(r,s,o,a===e-1))}r&&r.restore()}},i.prototype.getHoverLayer=function(){return this.getLayer(1e5)},i.prototype.paintOne=function(t,e){Ay(t,e)},i.prototype._paintList=function(t,e,n,r){if(this._redrawId===r){n=n||!1,this._updateLayerStatus(t);var o=this._doPaintList(t,e,n),a=o.finished,s=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(t),a)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;ro(function(){l._paintList(t,e,n,r)})}}},i.prototype._compositeManually=function(){var t=this.getLayer(fd).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer(function(r){r.virtual&&t.drawImage(r.dom,0,0,e,n)})},i.prototype._doPaintList=function(t,e,n){for(var r=this,o=[],a=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var u=this._layers[this._zlevelList[s]];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||n)&&o.push(u)}for(var h=!0,c=!1,p=function(y){var v,b=o[y],S=b.ctx,I=a&&b.createRepaintRects(t,e,f._width,f._height),T=n?b.__startIndex:b.__drawIndex,D=!n&&b.incremental&&Date.now,A=D&&Date.now(),L=b.zlevel===f._zlevelList[0]?f._backgroundColor:null;if(b.__startIndex===b.__endIndex)b.clear(!1,L,I);else if(T===b.__startIndex){var P=t[T];P.incremental&&P.notClear&&!n||b.clear(!1,L,I)}-1===T&&(console.error("For some unknown reason. drawIndex is -1"),T=b.__startIndex);var E=function(W){var Y={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(v=T;v<b.__endIndex;v++){var j=t[v];if(j.__inHover&&(c=!0),r._doPaintEl(j,b,a,W,Y,v===b.__endIndex-1),D&&Date.now()-A>15)break}Y.prevElClipPaths&&S.restore()};if(I)if(0===I.length)v=b.__endIndex;else for(var N=f.dpr,z=0;z<I.length;++z){var B=I[z];S.save(),S.beginPath(),S.rect(B.x*N,B.y*N,B.width*N,B.height*N),S.clip(),E(B),S.restore()}else S.save(),E(),S.restore();b.__drawIndex=v,b.__drawIndex<b.__endIndex&&(h=!1)},f=this,m=0;m<o.length;m++)p(m);return Ee.wxa&&G(this._layers,function(y){y&&y.ctx&&y.ctx.draw&&y.ctx.draw()}),{finished:h,needsRefreshHover:c}},i.prototype._doPaintEl=function(t,e,n,r,o,a){var s=e.ctx;if(n){var l=t.getPaintRect();(!r||l&&l.intersect(r))&&(ul(s,t,o,a),t.setPrevPaintRect(l))}else ul(s,t,o,a)},i.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=fd);var n=this._layers[t];return n||((n=new Tv("zr_"+t,this,this.dpr)).zlevel=t,n.__builtin__=!0,this._layerConfig[t]?Be(n,this._layerConfig[t],!0):this._layerConfig[t-.01]&&Be(n,this._layerConfig[t-.01],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},i.prototype.insertLayer=function(t,e){var h,n=this._layers,r=this._zlevelList,o=r.length,a=this._domRoot,s=null,l=-1;if(!n[t]&&(h=e)&&(h.__builtin__||"function"==typeof h.resize&&"function"==typeof h.refresh)){if(o>0&&t>r[0]){for(l=0;l<o-1&&!(r[l]<t&&r[l+1]>t);l++);s=n[r[l]]}if(r.splice(l+1,0,t),n[t]=e,!e.virtual)if(s){var u=s.dom;u.nextSibling?a.insertBefore(e.dom,u.nextSibling):a.appendChild(e.dom)}else a.firstChild?a.insertBefore(e.dom,a.firstChild):a.appendChild(e.dom);e.__painter=this}},i.prototype.eachLayer=function(t,e){for(var n=this._zlevelList,r=0;r<n.length;r++){var o=n[r];t.call(e,this._layers[o],o)}},i.prototype.eachBuiltinLayer=function(t,e){for(var n=this._zlevelList,r=0;r<n.length;r++){var o=n[r],a=this._layers[o];a.__builtin__&&t.call(e,a,o)}},i.prototype.eachOtherLayer=function(t,e){for(var n=this._zlevelList,r=0;r<n.length;r++){var o=n[r],a=this._layers[o];a.__builtin__||t.call(e,a,o)}},i.prototype.getLayers=function(){return this._layers},i.prototype._updateLayerStatus=function(t){function e(c){a&&(a.__endIndex!==c&&(a.__dirty=!0),a.__endIndex=c)}if(this.eachBuiltinLayer(function(c,p){c.__dirty=c.__used=!1}),this._singleCanvas)for(var n=1;n<t.length;n++)if((l=t[n]).zlevel!==t[n-1].zlevel||l.incremental){this._needsManuallyCompositing=!0;break}var r,o,a=null,s=0;for(o=0;o<t.length;o++){var l,u=(l=t[o]).zlevel,h=void 0;r!==u&&(r=u,s=0),l.incremental?((h=this.getLayer(u+.001,this._needsManuallyCompositing)).incremental=!0,s=1):h=this.getLayer(u+(s>0?.01:0),this._needsManuallyCompositing),h.__builtin__||Pr("ZLevel "+u+" has been used by unkown layer "+h.id),h!==a&&(h.__used=!0,h.__startIndex!==o&&(h.__dirty=!0),h.__startIndex=o,h.__drawIndex=h.incremental?-1:o,e(o),a=h),1&l.__dirty&&!l.__inHover&&(h.__dirty=!0,h.incremental&&h.__drawIndex<0&&(h.__drawIndex=o))}e(o),this.eachBuiltinLayer(function(c,p){!c.__used&&c.getElementCount()>0&&(c.__dirty=!0,c.__startIndex=c.__endIndex=c.__drawIndex=0),c.__dirty&&c.__drawIndex<0&&(c.__drawIndex=c.__startIndex)})},i.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},i.prototype._clearLayer=function(t){t.clear()},i.prototype.setBackgroundColor=function(t){this._backgroundColor=t,G(this._layers,function(e){e.setUnpainted()})},i.prototype.configLayer=function(t,e){if(e){var n=this._layerConfig;n[t]?Be(n[t],e,!0):n[t]=e;for(var r=0;r<this._zlevelList.length;r++){var o=this._zlevelList[r];(o===t||o===t+.01)&&Be(this._layers[o],n[t],!0)}}},i.prototype.delLayer=function(t){var e=this._layers,n=this._zlevelList,r=e[t];r&&(r.dom.parentNode.removeChild(r.dom),delete e[t],n.splice(We(n,t),1))},i.prototype.resize=function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var r=this._opts,o=this.root;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=nh(o,0,r),e=nh(o,1,r),n.style.display="",this._width!==t||e!==this._height){for(var a in n.style.width=t+"px",n.style.height=e+"px",this._layers)this._layers.hasOwnProperty(a)&&this._layers[a].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(fd).resize(t,e)}return this},i.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},i.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},i.prototype.getRenderedCanvas=function(t){if(this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new Tv("image",this,(t=t||{}).pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var n=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var r=e.dom.width,o=e.dom.height;this.eachLayer(function(c){c.__builtin__?n.drawImage(c.dom,0,0,r,o):c.renderToCanvas&&(n.save(),c.renderToCanvas(n),n.restore())})}else for(var a={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++)ul(n,s[l],a,l===u-1);return e.dom},i.prototype.getWidth=function(){return this._width},i.prototype.getHeight=function(){return this._height},i}(),gO=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return ie(t,i),t.prototype.getInitialData=function(e){return go(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var n=new Ze,r=gi("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);n.add(r),r.setStyle(e.lineStyle);var o=this.getData().getVisual("symbol"),a=this.getData().getVisual("symbolRotate"),s="none"===o?"circle":o,l=.8*e.itemHeight,u=gi(s,(e.itemWidth-l)/2,(e.itemHeight-l)/2,l,l,e.itemStyle.fill);return n.add(u),u.setStyle(e.itemStyle),u.rotation=("inherit"===e.iconRotate?a:e.iconRotate||0)*Math.PI/180,u.setOrigin([e.itemWidth/2,e.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),n},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(qt);function ch(i,t){var e=i.mapDimensionsAll("defaultedLabel"),n=e.length;if(1===n){var r=Ju(i,t,e[0]);return null!=r?r+"":null}if(n){for(var o=[],a=0;a<e.length;a++)o.push(Ju(i,t,e[a]));return o.join(" ")}}function MM(i,t){var e=i.mapDimensionsAll("defaultedLabel");if(!fe(t))return t+"";for(var n=[],r=0;r<e.length;r++){var o=i.getDimensionIndex(e[r]);o>=0&&n.push(t[o])}return n.join(" ")}var gd=function(i){function t(e,n,r,o){var a=i.call(this)||this;return a.updateData(e,n,r,o),a}return ie(t,i),t.prototype._createSymbol=function(e,n,r,o,a){this.removeAll();var s=gi(e,-1,-1,2,2,null,a);s.attr({z2:100,culling:!0,scaleX:o[0]/2,scaleY:o[1]/2}),s.drift=mO,this._symbolType=e,this.add(s)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){ea(this.childAt(0))},t.prototype.downplay=function(){ta(this.childAt(0))},t.prototype.setZ=function(e,n){var r=this.childAt(0);r.zlevel=e,r.z=n},t.prototype.setDraggable=function(e,n){var r=this.childAt(0);r.draggable=e,r.cursor=!n&&e?"move":r.cursor},t.prototype.updateData=function(e,n,r,o){this.silent=!1;var a=e.getItemVisual(n,"symbol")||"circle",s=e.hostModel,l=t.getSymbolSize(e,n),u=a!==this._symbolType,h=o&&o.disableAnimation;if(u){var c=e.getItemVisual(n,"symbolKeepAspect");this._createSymbol(a,e,n,l,c)}else{(f=this.childAt(0)).silent=!1;var p={scaleX:l[0]/2,scaleY:l[1]/2};h?f.attr(p):It(f,p,s,n),Yr(f)}if(this._updateCommon(e,n,l,r,o),u){var f=this.childAt(0);h||(p={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}},f.scaleX=f.scaleY=0,f.style.opacity=0,ni(f,p,s,n))}h&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,n,r,o,a){var s,l,u,h,c,p,f,m,y,v=this.childAt(0),b=e.hostModel;if(o&&(s=o.emphasisItemStyle,l=o.blurItemStyle,u=o.selectItemStyle,h=o.focus,c=o.blurScope,f=o.labelStatesModels,m=o.hoverScale,y=o.cursorStyle,p=o.emphasisDisabled),!o||e.hasItemOption){var S=o&&o.itemModel?o.itemModel:e.getItemModel(n),I=S.getModel("emphasis");s=I.getModel("itemStyle").getItemStyle(),u=S.getModel(["select","itemStyle"]).getItemStyle(),l=S.getModel(["blur","itemStyle"]).getItemStyle(),h=I.get("focus"),c=I.get("blurScope"),p=I.get("disabled"),f=Ei(S),m=I.getShallow("scale"),y=S.getShallow("cursor")}var T=e.getItemVisual(n,"symbolRotate");v.attr("rotation",(T||0)*Math.PI/180||0);var D=ih(e.getItemVisual(n,"symbolOffset"),r);D&&(v.x=D[0],v.y=D[1]),y&&v.attr("cursor",y);var A=e.getItemVisual(n,"style"),L=A.fill;if(v instanceof Ri){var P=v.style;v.useStyle(de({image:P.image,x:P.x,y:P.y,width:P.width,height:P.height},A))}else v.useStyle(v.__isEmptyBrush?de({},A):A),v.style.decal=null,v.setColor(L,a&&a.symbolInnerColor),v.style.strokeNoScale=!0;var E=e.getItemVisual(n,"liftZ"),N=this._z2;null!=E?null==N&&(this._z2=v.z2,v.z2+=E):null!=N&&(v.z2=N,this._z2=null);var z=a&&a.useNameLabel;rn(v,f,{labelFetcher:b,labelDataIndex:n,defaultText:function(Y){return z?e.getName(Y):ch(e,Y)},inheritColor:L,defaultOpacity:A.opacity}),this._sizeX=r[0]/2,this._sizeY=r[1]/2;var B=v.ensureState("emphasis");B.style=s,v.ensureState("select").style=u,v.ensureState("blur").style=l;var W=null==m||!0===m?Math.max(1.1,3/this._sizeY):isFinite(m)&&m>0?+m:1;B.scaleX=this._sizeX*W,B.scaleY=this._sizeY*W,this.setSymbolScale(1),hi(this,h,c,p)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,n,r){var o=this.childAt(0),a=rt(this).dataIndex,s=r&&r.animation;if(this.silent=o.silent=!0,r&&r.fadeLabel){var l=o.getTextContent();l&&Na(l,{style:{opacity:0}},n,{dataIndex:a,removeOpt:s,cb:function(){o.removeTextContent()}})}else o.removeTextContent();Na(o,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:a,cb:e,removeOpt:s})},t.getSymbolSize=function(e,n){return Kc(e.getItemVisual(n,"symbolSize"))},t}(Ze);function mO(i,t){this.parent.drift(i,t)}function Cv(i,t,e,n){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(n.isIgnore&&n.isIgnore(e))&&!(n.clipShape&&!n.clipShape.contain(t[0],t[1]))&&"none"!==i.getItemVisual(e,"symbol")}function IM(i){return null==i||le(i)||(i={isIgnore:i}),i||{}}function TM(i){var t=i.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:Ei(t),cursorStyle:t.get("cursor")}}var md=function(){function i(t){this.group=new Ze,this._SymbolCtor=t||gd}return i.prototype.updateData=function(t,e){this._progressiveEls=null,e=IM(e);var n=this.group,r=t.hostModel,o=this._data,a=this._SymbolCtor,s=e.disableAnimation,l=TM(t),u={disableAnimation:s},h=e.getSymbolPoint||function(c){return t.getItemLayout(c)};o||n.removeAll(),t.diff(o).add(function(c){var p=h(c);if(Cv(t,p,c,e)){var f=new a(t,c,l,u);f.setPosition(p),t.setItemGraphicEl(c,f),n.add(f)}}).update(function(c,p){var f=o.getItemGraphicEl(p),m=h(c);if(Cv(t,m,c,e)){var y=t.getItemVisual(c,"symbol")||"circle",v=f&&f.getSymbolType&&f.getSymbolType();if(!f||v&&v!==y)n.remove(f),(f=new a(t,c,l,u)).setPosition(m);else{f.updateData(t,c,l,u);var b={x:m[0],y:m[1]};s?f.attr(b):It(f,b,r)}n.add(f),t.setItemGraphicEl(c,f)}else n.remove(f)}).remove(function(c){var p=o.getItemGraphicEl(c);p&&p.fadeOut(function(){n.remove(p)},r)}).execute(),this._getSymbolPoint=h,this._data=t},i.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(n,r){var o=t._getSymbolPoint(r);n.setPosition(o),n.markRedraw()})},i.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=TM(t),this._data=null,this.group.removeAll()},i.prototype.incrementalUpdate=function(t,e,n){function r(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],n=IM(n);for(var o=t.start;o<t.end;o++){var a=e.getItemLayout(o);if(Cv(e,a,o,n)){var s=new this._SymbolCtor(e,o,this._seriesScope);s.traverse(r),s.setPosition(a),this.group.add(s),e.setItemGraphicEl(o,s),this._progressiveEls.push(s)}}},i.prototype.eachRendered=function(t){Va(this._progressiveEls||this.group,t)},i.prototype.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(r){r.fadeOut(function(){e.remove(r)},n.hostModel)}):e.removeAll()},i}();function CM(i,t,e){var y,v,b,n=i.getBaseAxis(),r=i.getOtherAxis(n),o=(y=e,v=0,b=r.scale.getExtent(),"start"===y?v=b[0]:"end"===y?v=b[1]:oe(y)&&!isNaN(y)?v=y:b[0]>0?v=b[0]:b[1]<0&&(v=b[1]),v),a=n.dim,s=r.dim,l=t.mapDimension(s),u=t.mapDimension(a),h="x"===s||"radius"===s?1:0,c=ge(i.dimensions,function(m){return t.mapDimension(m)}),p=!1,f=t.getCalculationInfo("stackResultDimension");return oa(t,c[0])&&(p=!0,c[0]=f),oa(t,c[1])&&(p=!0,c[1]=f),{dataDimsForPoint:c,valueStart:o,valueAxisDim:s,baseAxisDim:a,stacked:!!p,valueDim:l,baseDim:u,baseDataOffset:h,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function DM(i,t,e,n){var r=NaN;i.stacked&&(r=e.get(e.getCalculationInfo("stackedOverDimension"),n)),isNaN(r)&&(r=i.valueStart);var o=i.baseDataOffset,a=[];return a[o]=e.get(i.baseDim,n),a[1-o]=r,t.dataToPoint(a)}var Za=Math.min,qa=Math.max;function yl(i,t){return isNaN(i)||isNaN(t)}function Dv(i,t,e,n,r,o,a,s,l){for(var u,h,c,p,f,m,y=e,v=0;v<n;v++){var b=t[2*y],S=t[2*y+1];if(y>=r||y<0)break;if(yl(b,S)){if(l){y+=o;continue}break}if(y===e)i[o>0?"moveTo":"lineTo"](b,S),c=b,p=S;else{var I=b-u,T=S-h;if(I*I+T*T<.5){y+=o;continue}if(a>0){for(var D=y+o,A=t[2*D],L=t[2*D+1];A===b&&L===S&&v<n;)v++,A=t[2*(D+=o)],L=t[2*D+1],I=(b=t[2*(y+=o)])-u,T=(S=t[2*y+1])-h;var P=v+1;if(l)for(;yl(A,L)&&P<n;)P++,A=t[2*(D+=o)],L=t[2*D+1];var E=.5,N=0,z=0,B=void 0,W=void 0;if(P>=n||yl(A,L))f=b,m=S;else{N=A-u,z=L-h;var Y=b-u,j=A-b,Z=S-h,q=L-S,K=void 0,Q=void 0;if("x"===s){var te=N>0?1:-1;f=b-te*(K=Math.abs(Y))*a,m=S,B=b+te*(Q=Math.abs(j))*a,W=S}else if("y"===s){var ne=z>0?1:-1;f=b,m=S-ne*(K=Math.abs(Z))*a,B=b,W=S+ne*(Q=Math.abs(q))*a}else K=Math.sqrt(Y*Y+Z*Z),f=b-N*a*(1-(E=(Q=Math.sqrt(j*j+q*q))/(Q+K))),m=S-z*a*(1-E),W=S+z*a*E,B=Za(B=b+N*a*E,qa(A,b)),W=Za(W,qa(L,S)),B=qa(B,Za(A,b)),m=S-(z=(W=qa(W,Za(L,S)))-S)*K/Q,f=Za(f=b-(N=B-b)*K/Q,qa(u,b)),m=Za(m,qa(h,S)),B=b+(N=b-(f=qa(f,Za(u,b))))*Q/K,W=S+(z=S-(m=qa(m,Za(h,S))))*Q/K}i.bezierCurveTo(c,p,f,m,b,S),c=B,p=W}else i.lineTo(b,S)}u=b,h=S,y+=o}return v}var AM=function(){this.smooth=0,this.smoothConstraint=!0},yO=function(i){function t(e){var n=i.call(this,e)||this;return n.type="ec-polyline",n}return ie(t,i),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new AM},t.prototype.buildPath=function(e,n){var r=n.points,o=0,a=r.length/2;if(n.connectNulls){for(;a>0&&yl(r[2*a-2],r[2*a-1]);a--);for(;o<a&&yl(r[2*o],r[2*o+1]);o++);}for(;o<a;)o+=Dv(e,r,o,a,a,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},t.prototype.getPointOn=function(e,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var r,o,a=this.path.data,s=ht.CMD,l="x"===n,u=[],h=0;h<a.length;){var c=void 0,p=void 0,f=void 0,m=void 0,y=void 0,v=void 0,b=void 0;switch(a[h++]){case s.M:r=a[h++],o=a[h++];break;case s.L:if(c=a[h++],p=a[h++],(b=l?(e-r)/(c-r):(e-o)/(p-o))<=1&&b>=0){var S=l?(p-o)*b+o:(c-r)*b+r;return l?[e,S]:[S,e]}r=c,o=p;break;case s.C:c=a[h++],p=a[h++],f=a[h++],m=a[h++],y=a[h++],v=a[h++];var I=l?bs(r,c,f,y,e,u):bs(o,p,m,v,e,u);if(I>0)for(var T=0;T<I;T++){var D=u[T];if(D<=1&&D>=0)return S=l?Tt(o,p,m,v,D):Tt(r,c,f,y,D),l?[e,S]:[S,e]}r=y,o=v}}},t}(gt),vO=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return ie(t,i),t}(AM),kM=function(i){function t(e){var n=i.call(this,e)||this;return n.type="ec-polygon",n}return ie(t,i),t.prototype.getDefaultShape=function(){return new vO},t.prototype.buildPath=function(e,n){var r=n.points,o=n.stackedOnPoints,a=0,s=r.length/2,l=n.smoothMonotone;if(n.connectNulls){for(;s>0&&yl(r[2*s-2],r[2*s-1]);s--);for(;a<s&&yl(r[2*a],r[2*a+1]);a++);}for(;a<s;){var u=Dv(e,r,a,s,s,1,n.smooth,l,n.connectNulls);Dv(e,o,a+u-1,u,s,-1,n.stackedOnSmooth,l,n.connectNulls),a+=u+1,e.closePath()}},t}(gt);function LM(i,t,e,n,r){var o=i.getArea(),a=o.x,s=o.y,l=o.width,u=o.height,h=e.get(["lineStyle","width"])||2;a-=h/2,s-=h/2,l+=h,u+=h,a=Math.floor(a),l=Math.round(l);var c=new St({shape:{x:a,y:s,width:l,height:u}});if(t){var p=i.getBaseAxis(),f=p.isHorizontal(),m=p.inverse;f?(m&&(c.shape.x+=l),c.shape.width=0):(m||(c.shape.y+=u),c.shape.height=0);var y=Ge(r)?function(v){r(v,c)}:null;ni(c,{shape:{width:l,height:u,x:a,y:s}},e,null,n,y)}return c}function PM(i,t,e){var n=i.getArea(),r=ii(n.r0,1),o=ii(n.r,1),a=new pn({shape:{cx:ii(i.cx,1),cy:ii(i.cy,1),r0:r,r:o,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});return t&&("angle"===i.getBaseAxis().dim?a.shape.endAngle=n.startAngle:a.shape.r=r,ni(a,{shape:{endAngle:n.endAngle,r:o}},e)),a}function rg(i,t,e,n,r){return i?"polar"===i.type?PM(i,t,e):"cartesian2d"===i.type?LM(i,t,e,n,r):null:null}function vl(i,t){return i.type===t}function OM(i,t){if(i.length===t.length){for(var e=0;e<i.length;e++)if(i[e]!==t[e])return;return!0}}function RM(i){for(var t=1/0,e=1/0,n=-1/0,r=-1/0,o=0;o<i.length;){var a=i[o++],s=i[o++];isNaN(a)||(t=Math.min(a,t),n=Math.max(a,n)),isNaN(s)||(e=Math.min(s,e),r=Math.max(s,r))}return[[t,e],[n,r]]}function EM(i,t){var e=RM(i),n=e[0],r=e[1],o=RM(t),a=o[0],s=o[1];return Math.max(Math.abs(n[0]-a[0]),Math.abs(n[1]-a[1]),Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]))}function NM(i){return oe(i)?i:i?.5:0}function $a(i,t,e,n){var r=t.getBaseAxis(),o="x"===r.dim||"radius"===r.dim?0:1,a=[],s=0,l=[],u=[],h=[],c=[];if(n){for(s=0;s<i.length;s+=2)isNaN(i[s])||isNaN(i[s+1])||c.push(i[s],i[s+1]);i=c}for(s=0;s<i.length-2;s+=2)switch(h[0]=i[s+2],h[1]=i[s+3],u[0]=i[s],u[1]=i[s+1],a.push(u[0],u[1]),e){case"end":l[o]=h[o],l[1-o]=u[1-o],a.push(l[0],l[1]);break;case"middle":var f=[];l[o]=f[o]=(u[o]+h[o])/2,l[1-o]=u[1-o],f[1-o]=h[1-o],a.push(l[0],l[1]),a.push(f[0],f[1]);break;default:l[o]=u[o],l[1-o]=h[1-o],a.push(l[0],l[1])}return a.push(i[s++],i[s++]),a}function zM(i,t){return[i[2*t],i[2*t+1]]}function VM(i){if(i.get(["endLabel","show"]))return!0;for(var t=0;t<Sn.length;t++)if(i.get([Sn[t],"endLabel","show"]))return!0;return!1}function Av(i,t,e,n){if(vl(t,"cartesian2d")){var r=n.getModel("endLabel"),o=r.get("valueAnimation"),a=n.getData(),s={lastFrameIndex:0},l=VM(n)?function(f,m){i._endLabelOnDuring(f,m,a,s,o,r,t)}:null,u=t.getBaseAxis().isHorizontal(),h=LM(t,e,n,function(){var f=i._endLabel;f&&e&&null!=s.originalX&&f.attr({x:s.originalX,y:s.originalY})},l);if(!n.get("clip",!0)){var c=h.shape,p=Math.max(c.width,c.height);u?(c.y-=p,c.height+=2*p):(c.x-=p,c.width+=2*p)}return l&&l(1,h),h}return PM(t,e,n)}var bO=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return ie(t,i),t.prototype.init=function(){var e=new Ze,n=new md;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=e},t.prototype.render=function(e,n,r){var o=this,a=e.coordinateSystem,s=this.group,l=e.getData(),u=e.getModel("lineStyle"),h=e.getModel("areaStyle"),c=l.getLayout("points")||[],p="polar"===a.type,f=this._coordSys,m=this._symbolDraw,y=this._polyline,v=this._polygon,b=this._lineGroup,S=e.get("animation"),I=!h.isEmpty(),T=h.get("origin"),D=CM(a,l,T),A=I&&function(re,pe,ve){if(!ve.valueDim)return[];for(var be=pe.count(),xe=yo(2*be),we=0;we<be;we++){var _e=DM(ve,re,pe,we);xe[2*we]=_e[0],xe[2*we+1]=_e[1]}return xe}(a,l,D),L=e.get("showSymbol"),P=e.get("connectNulls"),E=L&&!p&&function _O(i,t,e){var n=i.get("showAllSymbol"),r="auto"===n;if(!n||r){var o=e.getAxesByScale("ordinal")[0];if(o&&(!r||!function(l,u){var h=l.getExtent(),c=Math.abs(h[1]-h[0])/l.scale.count();isNaN(c)&&(c=0);for(var p=u.count(),f=Math.max(1,Math.round(p/5)),m=0;m<p;m+=f)if(1.5*gd.getSymbolSize(u,m)[l.isHorizontal()?1:0]>c)return!1;return!0}(o,t))){var a=t.mapDimension(o.dim),s={};return G(o.getViewLabels(),function(l){var u=o.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(t.get(a,l))}}}}(e,l,a),N=this._data;N&&N.eachItemGraphicEl(function(re,pe){re.__temp&&(s.remove(re),N.setItemGraphicEl(pe,null))}),L||m.remove(),s.add(b);var z,B=!p&&e.get("step");a&&a.getArea&&e.get("clip",!0)&&(null!=(z=a.getArea()).width?(z.x-=.1,z.y-=.1,z.width+=.2,z.height+=.2):z.r0&&(z.r0-=.5,z.r+=.5)),this._clipShapeForSymbol=z;var W=function xO(i,t,e){var n=i.getVisual("visualMeta");if(n&&n.length&&i.count()&&"cartesian2d"===t.type){for(var r,o,a=n.length-1;a>=0;a--){var s=i.getDimensionInfo(n[a].dimension);if("x"===(r=s&&s.coordDim)||"y"===r){o=n[a];break}}if(o){var l=t.getAxis(r),u=ge(o.stops,function(S){return{coord:l.toGlobalCoord(l.dataToCoord(S.value)),color:S.color}}),h=u.length,c=o.outerColors.slice();h&&u[0].coord>u[h-1].coord&&(u.reverse(),c.reverse());var p=function(S,I){var T,D,A=[],L=S.length;function P(B,W,Y){var j=B.coord;return{coord:Y,color:Ms((Y-j)/(W.coord-j),[B.color,W.color])}}for(var E=0;E<L;E++){var N=S[E],z=N.coord;if(z<0)T=N;else{if(z>I){D?A.push(P(D,N,I)):T&&A.push(P(T,N,0),P(T,N,I));break}T&&(A.push(P(T,N,0)),T=null),A.push(N),D=N}}return A}(u,"x"===r?e.getWidth():e.getHeight()),f=p.length;if(!f&&h)return u[0].coord<0?c[1]?c[1]:u[h-1].color:c[0]?c[0]:u[0].color;var m=p[0].coord-10,y=p[f-1].coord+10,v=y-m;if(v<.001)return"transparent";G(p,function(S){S.offset=(S.coord-m)/v}),p.push({offset:f?p[f-1].offset:.5,color:c[1]||"transparent"}),p.unshift({offset:f?p[0].offset:.5,color:c[0]||"transparent"});var b=new Ru(0,0,0,0,p,!0);return b[r]=m,b[r+"2"]=y,b}}}(l,a,r)||l.getVisual("style")[l.getVisual("drawType")];if(y&&f.type===a.type&&B===this._step){I&&!v?v=this._newPolygon(c,A):v&&!I&&(b.remove(v),v=this._polygon=null),p||this._initOrUpdateEndLabel(e,a,nl(W));var Y=b.getClipPath();Y?ni(Y,{shape:Av(this,a,!1,e).shape},e):b.setClipPath(Av(this,a,!0,e)),L&&m.updateData(l,{isIgnore:E,clipShape:z,disableAnimation:!0,getSymbolPoint:function(re){return[c[2*re],c[2*re+1]]}}),OM(this._stackedOnPoints,A)&&OM(this._points,c)||(S?this._doUpdateAnimation(l,A,a,r,B,T,P):(B&&(c=$a(c,a,B,P),A&&(A=$a(A,a,B,P))),y.setShape({points:c}),v&&v.setShape({points:c,stackedOnPoints:A})))}else L&&m.updateData(l,{isIgnore:E,clipShape:z,disableAnimation:!0,getSymbolPoint:function(re){return[c[2*re],c[2*re+1]]}}),S&&this._initSymbolLabelAnimation(l,a,z),B&&(c=$a(c,a,B,P),A&&(A=$a(A,a,B,P))),y=this._newPolyline(c),I?v=this._newPolygon(c,A):v&&(b.remove(v),v=this._polygon=null),p||this._initOrUpdateEndLabel(e,a,nl(W)),b.setClipPath(Av(this,a,!0,e));var j=e.getModel("emphasis"),Z=j.get("focus"),q=j.get("blurScope"),K=j.get("disabled");y.useStyle(Ve(u.getLineStyle(),{fill:"none",stroke:W,lineJoin:"bevel"})),nn(y,e,"lineStyle"),y.style.lineWidth>0&&"bolder"===e.get(["emphasis","lineStyle","width"])&&(y.getState("emphasis").style.lineWidth=+y.style.lineWidth+1),rt(y).seriesIndex=e.seriesIndex,hi(y,Z,q,K);var Q=NM(e.get("smooth")),te=e.get("smoothMonotone");if(y.setShape({smooth:Q,smoothMonotone:te,connectNulls:P}),v){var ne=l.getCalculationInfo("stackedOnSeries"),ce=0;v.useStyle(Ve(h.getAreaStyle(),{fill:W,opacity:.7,lineJoin:"bevel",decal:l.getVisual("style").decal})),ne&&(ce=NM(ne.get("smooth"))),v.setShape({smooth:Q,stackedOnSmooth:ce,smoothMonotone:te,connectNulls:P}),nn(v,e,"areaStyle"),rt(v).seriesIndex=e.seriesIndex,hi(v,Z,q,K)}var ye=function(re){o._changePolyState(re)};l.eachItemGraphicEl(function(re){re&&(re.onHoverStateChange=ye)}),this._polyline.onHoverStateChange=ye,this._data=l,this._coordSys=a,this._stackedOnPoints=A,this._points=c,this._step=B,this._valueOrigin=T,e.get("triggerLineEvent")&&(this.packEventData(e,y),v&&this.packEventData(e,v))},t.prototype.packEventData=function(e,n){rt(n).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,n,r,o){var a=e.getData(),s=$o(a,o);if(this._changePolyState("emphasis"),!(s instanceof Array)&&null!=s&&s>=0){var l=a.getLayout("points"),u=a.getItemGraphicEl(s);if(!u){var h=l[2*s],c=l[2*s+1];if(isNaN(h)||isNaN(c)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(h,c))return;var p=e.get("zlevel")||0,f=e.get("z")||0;(u=new gd(a,s)).x=h,u.y=c,u.setZ(p,f);var m=u.getSymbolPath().getTextContent();m&&(m.zlevel=p,m.z=f,m.z2=this._polyline.z2+1),u.__temp=!0,a.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else Ht.prototype.highlight.call(this,e,n,r,o)},t.prototype.downplay=function(e,n,r,o){var a=e.getData(),s=$o(a,o);if(this._changePolyState("normal"),null!=s&&s>=0){var l=a.getItemGraphicEl(s);l&&(l.__temp?(a.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else Ht.prototype.downplay.call(this,e,n,r,o)},t.prototype._changePolyState=function(e){var n=this._polygon;Hp(this._polyline,e),n&&Hp(n,e)},t.prototype._newPolyline=function(e){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new yO({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},t.prototype._newPolygon=function(e,n){var r=this._polygon;return r&&this._lineGroup.remove(r),r=new kM({shape:{points:e,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(r),this._polygon=r,r},t.prototype._initSymbolLabelAnimation=function(e,n,r){var o,a,s=n.getBaseAxis(),l=s.inverse;"cartesian2d"===n.type?(o=s.isHorizontal(),a=!1):"polar"===n.type&&(o="angle"===s.dim,a=!0);var u=e.hostModel,h=u.get("animationDuration");Ge(h)&&(h=h(null));var c=u.get("animationDelay")||0,p=Ge(c)?c(null):c;e.eachItemGraphicEl(function(f,m){var y=f;if(y){var b=void 0,S=void 0,I=void 0;if(r)if(a){var T=r,D=n.pointToCoord([f.x,f.y]);o?(b=T.startAngle,S=T.endAngle,I=-D[1]/180*Math.PI):(b=T.r0,S=T.r,I=D[0])}else o?(b=r.x,S=r.x+r.width,I=f.x):(b=r.y+r.height,S=r.y,I=f.y);var L=S===b?0:(I-b)/(S-b);l&&(L=1-L);var P=Ge(c)?c(m):h*L+p,E=y.getSymbolPath(),N=E.getTextContent();y.attr({scaleX:0,scaleY:0}),y.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:P}),N&&N.animateFrom({style:{opacity:0}},{duration:300,delay:P}),E.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,n,r){var c,f,m,y,v,b,o=e.getModel("endLabel");if(VM(e)){var a=e.getData(),s=this._polyline,l=a.getLayout("points");if(!l)return s.removeTextContent(),void(this._endLabel=null);var u=this._endLabel;u||((u=this._endLabel=new Mt({z2:200})).ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var h=function(c){for(var f,m=c.length/2;m>0&&(f=c[2*m-1],isNaN(c[2*m-2])||isNaN(f));m--);return m-1}(l);h>=0&&(rn(s,Ei(e,"endLabel"),{inheritColor:r,labelFetcher:e,labelDataIndex:h,defaultText:function(c,p,f){return null!=f?MM(a,f):ch(a,c)},enableTextSetter:!0},(c=o,m=(f=n.getBaseAxis()).isHorizontal(),y=f.inverse,v=m?y?"right":"left":"center",b=m?"middle":y?"top":"bottom",{normal:{align:c.get("align")||v,verticalAlign:c.get("verticalAlign")||b}})),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,n,r,o,a,s,l){var u=this._endLabel,h=this._polyline;if(u){e<1&&null==o.originalX&&(o.originalX=u.x,o.originalY=u.y);var c=r.getLayout("points"),p=r.hostModel,f=p.get("connectNulls"),m=s.get("precision"),y=s.get("distance")||0,v=l.getBaseAxis(),b=v.isHorizontal(),S=v.inverse,I=n.shape,T=S?b?I.x:I.y+I.height:b?I.x+I.width:I.y,D=(b?y:0)*(S?-1:1),A=(b?0:-y)*(S?-1:1),L=b?"x":"y",P=function(Z,q,K){for(var Q,te,ne=Z.length/2,ce="x"===K?0:1,ye=0,re=-1,pe=0;pe<ne;pe++)if(te=Z[2*pe+ce],!isNaN(te)&&!isNaN(Z[2*pe+1-ce]))if(0!==pe){if(Q<=q&&te>=q||Q>=q&&te<=q){re=pe;break}ye=pe,Q=te}else Q=te;return{range:[ye,re],t:(q-Q)/(te-Q)}}(c,T,L),E=P.range,N=E[1]-E[0],z=void 0;if(N>=1){if(N>1&&!f){var B=zM(c,E[0]);u.attr({x:B[0]+D,y:B[1]+A}),a&&(z=p.getRawValue(E[0]))}else{(B=h.getPointOn(T,L))&&u.attr({x:B[0]+D,y:B[1]+A});var W=p.getRawValue(E[0]),Y=p.getRawValue(E[1]);a&&(z=mr(r,m,W,Y,P.t))}o.lastFrameIndex=E[0]}else{var j=1===e||o.lastFrameIndex>0?E[0]:0;B=zM(c,j),a&&(z=p.getRawValue(j)),u.attr({x:B[0]+D,y:B[1]+A})}a&&Fu(u).setLabelText(z)}},t.prototype._doUpdateAnimation=function(e,n,r,o,a,s,l){var u=this._polyline,h=this._polygon,c=e.hostModel,p=function(A,L,P,E,N,z,B,W){for(var Y=function(Jt,oi){var vi=[];return oi.diff(Jt).add(function(xi){vi.push({cmd:"+",idx:xi})}).update(function(xi,_i){vi.push({cmd:"=",idx:_i,idx1:xi})}).remove(function(xi){vi.push({cmd:"-",idx:xi})}).execute(),vi}(A,L),j=[],Z=[],q=[],K=[],Q=[],te=[],ne=[],ce=CM(N,L,B),ye=A.getLayout("points")||[],re=L.getLayout("points")||[],pe=0;pe<Y.length;pe++){var ve=Y[pe],be=!0,xe=void 0,we=void 0;switch(ve.cmd){case"=":var _e=ye[xe=2*ve.idx],Ce=ye[xe+1],Ne=re[we=2*ve.idx1],et=re[we+1];(isNaN(_e)||isNaN(Ce))&&(_e=Ne,Ce=et),j.push(_e,Ce),Z.push(Ne,et),q.push(P[xe],P[xe+1]),K.push(E[we],E[we+1]),ne.push(L.getRawIndex(ve.idx1));break;case"+":var ot=ve.idx,Bt=ce.dataDimsForPoint,ct=N.dataToPoint([L.get(Bt[0],ot),L.get(Bt[1],ot)]);we=2*ot,j.push(ct[0],ct[1]),Z.push(re[we],re[we+1]);var vt=DM(ce,N,L,ot);q.push(vt[0],vt[1]),K.push(E[we],E[we+1]),ne.push(L.getRawIndex(ot));break;case"-":be=!1}be&&(Q.push(ve),te.push(te.length))}te.sort(function(Jt,oi){return ne[Jt]-ne[oi]});var Yt=j.length,$t=yo(Yt),yi=yo(Yt),Mi=yo(Yt),Yn=yo(Yt),Mo=[];for(pe=0;pe<te.length;pe++){var Dt=te[pe],lt=2*pe,tt=2*Dt;$t[lt]=j[tt],$t[lt+1]=j[tt+1],yi[lt]=Z[tt],yi[lt+1]=Z[tt+1],Mi[lt]=q[tt],Mi[lt+1]=q[tt+1],Yn[lt]=K[tt],Yn[lt+1]=K[tt+1],Mo[pe]=Q[Dt]}return{current:$t,next:yi,stackedOnCurrent:Mi,stackedOnNext:Yn,status:Mo}}(this._data,e,this._stackedOnPoints,n,this._coordSys,0,this._valueOrigin),f=p.current,m=p.stackedOnCurrent,y=p.next,v=p.stackedOnNext;if(a&&(f=$a(p.current,r,a,l),m=$a(p.stackedOnCurrent,r,a,l),y=$a(p.next,r,a,l),v=$a(p.stackedOnNext,r,a,l)),EM(f,y)>3e3||h&&EM(m,v)>3e3)return u.stopAnimation(),u.setShape({points:y}),void(h&&(h.stopAnimation(),h.setShape({points:y,stackedOnPoints:v})));u.shape.__points=p.current,u.shape.points=f;var b={shape:{points:y}};p.current!==f&&(b.shape.__points=p.next),u.stopAnimation(),It(u,b,c),h&&(h.setShape({points:f,stackedOnPoints:m}),h.stopAnimation(),It(h,{shape:{stackedOnPoints:v}},c),u.shape.points!==h.shape.points&&(h.shape.points=u.shape.points));for(var S=[],I=p.status,T=0;T<I.length;T++)if("="===I[T].cmd){var D=e.getItemGraphicEl(I[T].idx1);D&&S.push({el:D,ptIdx:T})}u.animators&&u.animators.length&&u.animators[0].during(function(){h&&h.dirtyShape();for(var A=u.shape.__points,L=0;L<S.length;L++){var P=S[L].el,E=2*S[L].ptIdx;P.x=A[E],P.y=A[E+1],P.markRedraw()}})},t.prototype.remove=function(e){var n=this.group,r=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),r&&r.eachItemGraphicEl(function(o,a){o.__temp&&(n.remove(o),r.setItemGraphicEl(a,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(Ht);function yd(i,t){return{seriesType:i,plan:Qu(),reset:function(e){var n=e.getData(),r=e.coordinateSystem,a=t||e.pipelineContext.large;if(r){var s=ge(r.dimensions,function(f){return n.mapDimension(f)}).slice(0,2),l=s.length,u=n.getCalculationInfo("stackResultDimension");oa(n,s[0])&&(s[0]=u),oa(n,s[1])&&(s[1]=u);var h=n.getStore(),c=n.getDimensionIndex(s[0]),p=n.getDimensionIndex(s[1]);return l&&{progress:function(f,m){for(var v=a&&yo((f.end-f.start)*l),b=[],S=[],I=f.start,T=0;I<f.end;I++){var D=void 0;if(1===l){var A=h.get(c,I);D=r.dataToPoint(A,null,S)}else b[0]=h.get(c,I),b[1]=h.get(p,I),D=r.dataToPoint(b,null,S);a?(v[T++]=D[0],v[T++]=D[1]):m.setItemLayout(I,D.slice())}a&&m.setLayout("points",v)}}}}}}var wO={average:function(i){for(var t=0,e=0,n=0;n<i.length;n++)isNaN(i[n])||(t+=i[n],e++);return 0===e?NaN:t/e},sum:function(i){for(var t=0,e=0;e<i.length;e++)t+=i[e]||0;return t},max:function(i){for(var t=-1/0,e=0;e<i.length;e++)i[e]>t&&(t=i[e]);return isFinite(t)?t:NaN},min:function(i){for(var t=1/0,e=0;e<i.length;e++)i[e]<t&&(t=i[e]);return isFinite(t)?t:NaN},nearest:function(i){return i[0]}},SO=function(i){return Math.round(i.length/2)};function BM(i){return{seriesType:i,reset:function(t,e,n){var r=t.getData(),o=t.get("sampling"),a=t.coordinateSystem,s=r.count();if(s>10&&"cartesian2d"===a.type&&o){var l=a.getBaseAxis(),u=a.getOtherAxis(l),h=l.getExtent(),c=n.getDevicePixelRatio(),p=Math.abs(h[1]-h[0])*(c||1),f=Math.round(s/p);if(isFinite(f)&&f>1){"lttb"===o&&t.setData(r.lttbDownSample(r.mapDimension(u.dim),1/f));var m=void 0;De(o)?m=wO[o]:Ge(o)&&(m=o),m&&t.setData(r.downSample(r.mapDimension(u.dim),1/f,m,SO))}}}}}var vd=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.getInitialData=function(e,n){return go(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,n,r){var o=this.coordinateSystem;if(o&&o.clampData){var a=o.dataToPoint(o.clampData(e));if(r)G(o.getAxes(),function(c,p){if("category"===c.type){var f=c.getTicksCoords(),m=o.clampData(e)[p];!n||"x1"!==n[p]&&"y1"!==n[p]||(m+=1),m>f.length-1&&(m=f.length-1),m<0&&(m=0),f[m]&&(a[p]=c.toGlobalCoord(f[m].coord))}});else{var s=this.getData(),l=s.getLayout("offset"),u=s.getLayout("size"),h=o.getBaseAxis().isHorizontal()?0:1;a[h]+=l+u/2}return a}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(qt);qt.registerClass(vd);var MO=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.getInitialData=function(){return go(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>e&&(e=n),e},t.prototype.brushSelector=function(e,n,r){return r.rect(n.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=Ba(vd.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(vd),IO=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},og=function(i){function t(e){var n=i.call(this,e)||this;return n.type="sausage",n}return ie(t,i),t.prototype.getDefaultShape=function(){return new IO},t.prototype.buildPath=function(e,n){var r=n.cx,o=n.cy,a=Math.max(n.r0||0,0),s=Math.max(n.r,0),l=.5*(s-a),u=a+l,h=n.startAngle,c=n.endAngle,p=n.clockwise,f=2*Math.PI,m=p?c-h<f:h-c<f;m||(h=c-(p?f:-f));var y=Math.cos(h),v=Math.sin(h),b=Math.cos(c),S=Math.sin(c);m?(e.moveTo(y*a+r,v*a+o),e.arc(y*u+r,v*u+o,l,-Math.PI+h,h,!p)):e.moveTo(y*s+r,v*s+o),e.arc(r,o,s,h,c,!p),e.arc(b*u+r,S*u+o,l,c-2*Math.PI,c-Math.PI,!p),0!==a&&e.arc(r,o,a,c,h,p)},t}(gt);function ag(i,t,e){return t*Math.sin(i)*(e?-1:1)}function sg(i,t,e){return t*Math.cos(i)*(e?1:-1)}var kv=Math.max,Lv=Math.min,TO=function(i){function t(){var e=i.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return ie(t,i),t.prototype.render=function(e,n,r,o){this._model=e,this._removeOnRenderedListener(r),this._updateDrawMode(e);var a=e.get("coordinateSystem");("cartesian2d"===a||"polar"===a)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,n,r):this._renderNormal(e,n,r,o))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,n){this._progressiveEls=[],this._incrementalRenderLarge(e,n)},t.prototype.eachRendered=function(e){Va(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var n=e.pipelineContext.large;null!=this._isLargeDraw&&n===this._isLargeDraw||(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(e,n,r,o){var a,s=this.group,l=e.getData(),u=this._data,h=e.coordinateSystem,c=h.getBaseAxis();"cartesian2d"===h.type?a=c.isHorizontal():"polar"===h.type&&(a="angle"===c.dim);var p=e.isAnimationEnabled()?e:null,f=function(z,B){var W=z.get("realtimeSort",!0),Y=B.getBaseAxis();if(W&&"category"===Y.type&&"cartesian2d"===B.type)return{baseAxis:Y,otherAxis:B.getOtherAxis(Y)}}(e,h);f&&this._enableRealtimeSort(f,l,r);var m=e.get("clip",!0)||f,y=function(z,B){var W=z.getArea&&z.getArea();if(vl(z,"cartesian2d")){var Y=z.getBaseAxis();if("category"!==Y.type||!Y.onBand){var j=B.getLayout("bandWidth");Y.isHorizontal()?(W.x-=j,W.width+=2*j):(W.y-=j,W.height+=2*j)}}return W}(h,l);s.removeClipPath();var v=e.get("roundCap",!0),b=e.get("showBackground",!0),S=e.getModel("backgroundStyle"),I=S.get("borderRadius")||0,T=[],D=this._backgroundEls,A=o&&o.isInitSort,L=o&&"changeAxisOrder"===o.type;function P(z){var Y,B=lg[h.type](l,z),W=new("polar"===(Y=h).type?pn:St)({shape:$M(a,B,Y),silent:!0,z2:0});return W.useStyle(S.getItemStyle()),"cartesian2d"===h.type&&W.setShape("r",I),T[z]=W,W}l.diff(u).add(function(z){var B=l.getItemModel(z),W=lg[h.type](l,z,B);if(b&&P(z),l.hasValue(z)&&YM[h.type](W)){var Y=!1;m&&(Y=FM[h.type](y,W));var j=GM[h.type](e,l,z,W,a,p,c.model,!1,v);f&&(j.forceLabelAnimation=!0),UM(j,l,z,B,W,e,a,"polar"===h.type),A?j.attr({shape:W}):f?WM(f,p,j,W,z,a,!1,!1):ni(j,{shape:W},e,z),l.setItemGraphicEl(z,j),s.add(j),j.ignore=Y}}).update(function(z,B){var W=l.getItemModel(z),Y=lg[h.type](l,z,W);if(b){var j=void 0;0===D.length?j=P(B):((j=D[B]).useStyle(S.getItemStyle()),"cartesian2d"===h.type&&j.setShape("r",I),T[z]=j);var Z=lg[h.type](l,z);It(j,{shape:$M(a,Z,h)},p,z)}var q=u.getItemGraphicEl(B);if(l.hasValue(z)&&YM[h.type](Y)){var K=!1;if(m&&(K=FM[h.type](y,Y))&&s.remove(q),q?Yr(q):q=GM[h.type](e,l,z,Y,a,p,c.model,!!q,v),f&&(q.forceLabelAnimation=!0),L){var Q=q.getTextContent();if(Q){var te=Fu(Q);null!=te.prevValue&&(te.prevValue=te.value)}}else UM(q,l,z,W,Y,e,a,"polar"===h.type);A?q.attr({shape:Y}):f?WM(f,p,q,Y,z,a,!0,L):It(q,{shape:Y},e,z,null),l.setItemGraphicEl(z,q),q.ignore=K,s.add(q)}else s.remove(q)}).remove(function(z){var B=u.getItemGraphicEl(z);B&&Lc(B,e,z)}).execute();var E=this._backgroundGroup||(this._backgroundGroup=new Ze);E.removeAll();for(var N=0;N<T.length;++N)E.add(T[N]);s.add(E),this._backgroundEls=T,this._data=l},t.prototype._renderLarge=function(e,n,r){this._clear(),ZM(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,n){this._removeBackground(),ZM(n,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var n=e.get("clip",!0)&&rg(e.coordinateSystem,!1,e),r=this.group;n?r.setClipPath(n):r.removeClipPath()},t.prototype._enableRealtimeSort=function(e,n,r){var o=this;if(n.count()){var a=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,e,r),this._isFirstFrame=!1;else{var s=function(l){var u=n.getItemGraphicEl(l),h=u&&u.shape;return h&&Math.abs(a.isHorizontal()?h.height:h.width)||0};this._onRendered=function(){o._updateSortWithinSameData(n,s,a,r)},r.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,n,r){var o=[];return e.each(e.mapDimension(n.dim),function(a,s){var l=r(s);o.push({dataIndex:s,mappedValue:l=l??NaN,ordinalNumber:a})}),o.sort(function(a,s){return s.mappedValue-a.mappedValue}),{ordinalNumbers:ge(o,function(a){return a.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,n,r){for(var o=r.scale,a=e.mapDimension(r.dim),s=Number.MAX_VALUE,l=0,u=o.getOrdinalMeta().categories.length;l<u;++l){var h=e.rawIndexOf(a,o.getRawOrdinalNumber(l)),c=h<0?Number.MIN_VALUE:n(e.indexOfRawIndex(h));if(c>s)return!0;s=c}return!1},t.prototype._isOrderDifferentInView=function(e,n){for(var r=n.scale,o=r.getExtent(),a=Math.max(0,o[0]),s=Math.min(o[1],r.getOrdinalMeta().categories.length-1);a<=s;++a)if(e.ordinalNumbers[a]!==r.getRawOrdinalNumber(a))return!0},t.prototype._updateSortWithinSameData=function(e,n,r,o){if(this._isOrderChangedWithinSameData(e,n,r)){var a=this._dataSort(e,r,n);this._isOrderDifferentInView(a,r)&&(this._removeOnRenderedListener(o),o.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",axisId:r.index,sortInfo:a}))}},t.prototype._dispatchInitSort=function(e,n,r){var o=n.baseAxis,a=this._dataSort(e,o,function(s){return e.get(e.mapDimension(n.otherAxis.dim),s)});r.dispatchAction({type:"changeAxisOrder",componentType:o.dim+"Axis",isInitSort:!0,axisId:o.index,sortInfo:a})},t.prototype.remove=function(e,n){this._clear(this._model),this._removeOnRenderedListener(n)},t.prototype.dispose=function(e,n){this._removeOnRenderedListener(n)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var n=this.group,r=this._data;e&&e.isAnimationEnabled()&&r&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],r.eachItemGraphicEl(function(o){Lc(o,e,rt(o).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(Ht),FM={cartesian2d:function(i,t){var e=t.width<0?-1:1,n=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height);var r=i.x+i.width,o=i.y+i.height,a=kv(t.x,i.x),s=Lv(t.x+t.width,r),l=kv(t.y,i.y),u=Lv(t.y+t.height,o),h=s<a,c=u<l;return t.x=h&&a>r?s:a,t.y=c&&l>o?u:l,t.width=h?0:s-a,t.height=c?0:u-l,e<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height),h||c},polar:function(i,t){var e=t.r0<=t.r?1:-1;if(e<0){var n=t.r;t.r=t.r0,t.r0=n}var r=Lv(t.r,i.r),o=kv(t.r0,i.r0);t.r=r,t.r0=o;var a=r-o<0;return e<0&&(n=t.r,t.r=t.r0,t.r0=n),a}},GM={cartesian2d:function(i,t,e,n,r,o,a,s,l){var u=new St({shape:de({},n),z2:1});return u.__dataIndex=e,u.name="item",o&&(u.shape[r?"height":"width"]=0),u},polar:function(i,t,e,n,r,o,a,s,l){var u=!r&&l?og:pn,h=new u({shape:n,z2:1});h.name="item";var c,p,f=XM(r);if(h.calculateTextPosition=(c=f,p=u===og,function(v,b,S){var I=b.position;if(!I||I instanceof Array)return Es(v,b,S);var T=c(I),D=null!=b.distance?b.distance:5,A=this.shape,L=A.cx,P=A.cy,E=A.r,N=A.r0,z=(E+N)/2,B=A.startAngle,W=A.endAngle,Y=(B+W)/2,j=p?Math.abs(E-N)/2:0,Z=Math.cos,q=Math.sin,K=L+E*Z(B),Q=P+E*q(B),te="left",ne="top";switch(T){case"startArc":K=L+(N-D)*Z(Y),Q=P+(N-D)*q(Y),te="center",ne="top";break;case"insideStartArc":K=L+(N+D)*Z(Y),Q=P+(N+D)*q(Y),te="center",ne="bottom";break;case"startAngle":K=L+z*Z(B)+ag(B,D+j,!1),Q=P+z*q(B)+sg(B,D+j,!1),te="right",ne="middle";break;case"insideStartAngle":K=L+z*Z(B)+ag(B,-D+j,!1),Q=P+z*q(B)+sg(B,-D+j,!1),te="left",ne="middle";break;case"middle":K=L+z*Z(Y),Q=P+z*q(Y),te="center",ne="middle";break;case"endArc":K=L+(E+D)*Z(Y),Q=P+(E+D)*q(Y),te="center",ne="bottom";break;case"insideEndArc":K=L+(E-D)*Z(Y),Q=P+(E-D)*q(Y),te="center",ne="top";break;case"endAngle":K=L+z*Z(W)+ag(W,D+j,!0),Q=P+z*q(W)+sg(W,D+j,!0),te="left",ne="middle";break;case"insideEndAngle":K=L+z*Z(W)+ag(W,-D+j,!0),Q=P+z*q(W)+sg(W,-D+j,!0),te="right",ne="middle";break;default:return Es(v,b,S)}return(v=v||{}).x=K,v.y=Q,v.align=te,v.verticalAlign=ne,v}),o){var m=r?"r":"endAngle",y={};h.shape[m]=r?0:n.startAngle,y[m]=n[m],(s?It:ni)(h,{shape:y},o)}return h}};function WM(i,t,e,n,r,o,a,s){var l,u;o?(u={x:n.x,width:n.width},l={y:n.y,height:n.height}):(u={y:n.y,height:n.height},l={x:n.x,width:n.width}),s||(a?It:ni)(e,{shape:l},t,r,null),(a?It:ni)(e,{shape:u},t?i.baseAxis.model:null,r)}function HM(i,t){for(var e=0;e<t.length;e++)if(!isFinite(i[t[e]]))return!0;return!1}var CO=["x","y","width","height"],DO=["cx","cy","r","startAngle","endAngle"],YM={cartesian2d:function(i){return!HM(i,CO)},polar:function(i){return!HM(i,DO)}},lg={cartesian2d:function(i,t,e){var n=i.getItemLayout(t),r=e?function(s,l){var u=s.get(["itemStyle","borderColor"]);if(!u||"none"===u)return 0;var h=s.get(["itemStyle","borderWidth"])||0,c=isNaN(l.width)?Number.MAX_VALUE:Math.abs(l.width),p=isNaN(l.height)?Number.MAX_VALUE:Math.abs(l.height);return Math.min(h,c,p)}(e,n):0,o=n.width>0?1:-1,a=n.height>0?1:-1;return{x:n.x+o*r/2,y:n.y+a*r/2,width:n.width-o*r,height:n.height-a*r}},polar:function(i,t,e){var n=i.getItemLayout(t);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function XM(i){return function(t){var e=t?"Arc":"Angle";return function(n){switch(n){case"start":case"insideStart":case"end":case"insideEnd":return n+e;default:return n}}}(i)}function UM(i,t,e,n,r,o,a,s){var l=t.getItemVisual(e,"style");s||i.setShape("r",n.get(["itemStyle","borderRadius"])||0),i.useStyle(l);var u=n.getShallow("cursor");u&&i.attr("cursor",u);var h=s?a?r.r>=r.r0?"endArc":"startArc":r.endAngle>=r.startAngle?"endAngle":"startAngle":a?r.height>=0?"bottom":"top":r.width>=0?"right":"left",c=Ei(n);rn(i,c,{labelFetcher:o,labelDataIndex:e,defaultText:ch(o.getData(),e),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:h});var p=i.getTextContent();if(s&&p){var f=n.get(["label","position"]);i.textConfig.inside="middle"===f||null,function(y,v,b,S){if(oe(S))y.setTextConfig({rotation:S});else if(fe(v))y.setTextConfig({rotation:0});else{var I,T=y.shape,D=T.clockwise?T.startAngle:T.endAngle,A=T.clockwise?T.endAngle:T.startAngle,L=(D+A)/2,P=b(v);switch(P){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":I=L;break;case"startAngle":case"insideStartAngle":I=D;break;case"endAngle":case"insideEndAngle":I=A;break;default:return void y.setTextConfig({rotation:0})}var E=1.5*Math.PI-I;"middle"===P&&E>Math.PI/2&&E<1.5*Math.PI&&(E-=Math.PI),y.setTextConfig({rotation:E})}}(i,"outside"===f?h:f,XM(a),n.get(["label","rotate"]))}I_(p,c,o.getRawValue(e),function(y){return MM(t,y)});var y,m=n.getModel(["emphasis"]);hi(i,m.get("focus"),m.get("blurScope"),m.get("disabled")),nn(i,n),null!=(y=r).startAngle&&null!=y.endAngle&&y.startAngle===y.endAngle&&(i.style.fill="none",i.style.stroke="none",G(i.states,function(y){y.style&&(y.style.fill=y.style.stroke="none")}))}var AO=function(){},jM=function(i){function t(e){var n=i.call(this,e)||this;return n.type="largeBar",n}return ie(t,i),t.prototype.getDefaultShape=function(){return new AO},t.prototype.buildPath=function(e,n){for(var r=n.points,o=this.baseDimIdx,a=1-this.baseDimIdx,s=[],l=[],u=this.barWidth,h=0;h<r.length;h+=3)l[o]=u,l[a]=r[h+2],s[o]=r[h+o],s[a]=r[h+a],e.rect(s[0],s[1],l[0],l[1])},t}(gt);function ZM(i,t,e,n){var r=i.getData(),o=r.getLayout("valueAxisHorizontal")?1:0,a=r.getLayout("largeDataIndices"),s=r.getLayout("size"),l=i.getModel("backgroundStyle"),u=r.getLayout("largeBackgroundPoints");if(u){var h=new jM({shape:{points:u},incremental:!!n,silent:!0,z2:0});h.baseDimIdx=o,h.largeDataIndices=a,h.barWidth=s,h.useStyle(l.getItemStyle()),t.add(h),e&&e.push(h)}var c=new jM({shape:{points:r.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});c.baseDimIdx=o,c.largeDataIndices=a,c.barWidth=s,t.add(c),c.useStyle(r.getVisual("style")),rt(c).seriesIndex=i.seriesIndex,i.get("silent")||(c.on("mousedown",qM),c.on("mousemove",qM)),e&&e.push(c)}var qM=bf(function(i){var t=function(e,n,r){for(var o=e.baseDimIdx,a=1-o,s=e.shape.points,l=e.largeDataIndices,u=[],h=[],c=e.barWidth,p=0,f=s.length/3;p<f;p++){var m=3*p;if(h[o]=c,h[a]=s[m+2],u[o]=s[m+o],u[a]=s[m+a],h[a]<0&&(u[a]+=h[a],h[a]=-h[a]),n>=u[0]&&n<=u[0]+h[0]&&r>=u[1]&&r<=u[1]+h[1])return l[p]}return-1}(this,i.offsetX,i.offsetY);rt(this).dataIndex=t>=0?t:null},30,!1);function $M(i,t,e){if(vl(e,"cartesian2d")){var n=t,r=e.getArea();return{x:i?n.x:r.x,y:i?r.y:n.y,width:i?n.width:r.width,height:i?r.height:n.height}}var o=t;return{cx:(r=e.getArea()).cx,cy:r.cy,r0:i?r.r0:o.r0,r:i?r.r:o.r,startAngle:i?o.startAngle:0,endAngle:i?o.endAngle:2*Math.PI}}var ug=2*Math.PI,KM=Math.PI/180;function JM(i,t){return wi(i.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function QM(i,t){var e=JM(i,t),n=i.get("center"),r=i.get("radius");fe(r)||(r=[0,r]);var o,a,s=Te(e.width,t.getWidth()),l=Te(e.height,t.getHeight()),u=Math.min(s,l),h=Te(r[0],u/2),c=Te(r[1],u/2),p=i.coordinateSystem;if(p){var f=p.dataToPoint(n);o=f[0]||0,a=f[1]||0}else fe(n)||(n=[n,n]),o=Te(n[0],s)+e.x,a=Te(n[1],l)+e.y;return{cx:o,cy:a,r0:h,r:c}}function kO(i,t,e){t.eachSeriesByType(i,function(n){var r=n.getData(),o=r.mapDimension("value"),a=JM(n,e),s=QM(n,e),l=s.cx,u=s.cy,h=s.r,c=s.r0,p=-n.get("startAngle")*KM,f=n.get("minAngle")*KM,m=0;r.each(o,function(N){!isNaN(N)&&m++});var y=r.getSum(o),v=Math.PI/(y||m)*2,b=n.get("clockwise"),S=n.get("roseType"),I=n.get("stillShowZeroSum"),T=r.getDataExtent(o);T[0]=0;var D=ug,A=0,L=p,P=b?1:-1;if(r.setLayout({viewRect:a,r:h}),r.each(o,function(N,z){var B;if(isNaN(N))r.setItemLayout(z,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:b,cx:l,cy:u,r0:c,r:S?NaN:h});else{(B="area"!==S?0===y&&I?v:N*v:ug/m)<f?(B=f,D-=f):A+=N;var W=L+P*B;r.setItemLayout(z,{angle:B,startAngle:L,endAngle:W,clockwise:b,cx:l,cy:u,r0:c,r:S?zt(N,T,[c,h]):h}),L=W}}),D<ug&&m)if(D<=.001){var E=ug/m;r.each(o,function(N,z){if(!isNaN(N)){var B=r.getItemLayout(z);B.angle=E,B.startAngle=p+P*z*E,B.endAngle=p+P*(z+1)*E}})}else v=D/A,L=p,r.each(o,function(N,z){if(!isNaN(N)){var B=r.getItemLayout(z),W=B.angle===f?f:N*v;B.startAngle=L,B.endAngle=L+P*W,L+=P*W}})})}function xd(i){return{seriesType:i,reset:function(t,e){var n=e.findComponents({mainType:"legend"});if(n&&n.length){var r=t.getData();r.filterSelf(function(o){for(var a=r.getName(o),s=0;s<n.length;s++)if(!n[s].isSelected(a))return!1;return!0})}}}}var LO=Math.PI/180;function eI(i,t,e,n,r,o,a,s,l,u){if(!(i.length<2)){for(var h=i.length,c=0;c<h;c++)"outer"===i[c].position&&"labelLine"===i[c].labelAlignTo&&(i[c].linePoints[1][0]+=i[c].label.x-u,i[c].label.x=u);jS(i,l,l+a)&&function(m){for(var y={list:[],maxY:0},v={list:[],maxY:0},b=0;b<m.length;b++)if("none"===m[b].labelAlignTo){var S=m[b],I=S.label.y>e?v:y,T=Math.abs(S.label.y-e);if(T>=I.maxY){var D=S.label.x-t-S.len2*r,A=n+S.len,L=Math.abs(D)<A?Math.sqrt(T*T/(1-D*D/A/A)):A;I.rB=L,I.maxY=T}I.list.push(S)}f(y),f(v)}(i)}function f(m){for(var y=m.rB,v=y*y,b=0;b<m.list.length;b++){var S=m.list[b],I=Math.abs(S.label.y-e),T=n+S.len,D=T*T,A=Math.sqrt((1-Math.abs(I*I/v))*D),L=t+(A+S.len2)*r;tI(S,S.targetTextWidth-(L-S.label.x)*r,!0),S.label.x=L}}}function tI(i,t,e){if(void 0===e&&(e=!1),null==i.labelStyleWidth){var n=i.label,r=n.style,o=i.rect,a=r.backgroundColor,s=r.padding,l=s?s[1]+s[3]:0,u=r.overflow,h=o.width+(a?0:l);if(t<h||e){var c=o.height;if(u&&u.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",t-l);var p=n.getBoundingRect();n.setStyle("width",Math.ceil(p.width)),n.setStyle("backgroundColor",a)}else{var f=t-l;n.setStyle("width",t<h?f:e?f>i.unconstrainedWidth?null:f:null)}var y=n.getBoundingRect();o.width=y.width,o.height=y.height+((n.style.margin||0)+2.1),o.y-=(o.height-c)/2}}}function Pv(i){return"center"===i.position}function dh(i,t,e){var n=i.get("borderRadius");if(null==n)return e?{cornerRadius:0}:null;fe(n)||(n=[n,n,n,n]);var r=Math.abs(t.r||0-t.r0||0);return{cornerRadius:ge(n,function(o){return Vn(o,r)})}}var OO=function(i){function t(e,n,r){var o=i.call(this)||this;o.z2=2;var a=new Mt;return o.setTextContent(a),o.updateData(e,n,r,!0),o}return ie(t,i),t.prototype.updateData=function(e,n,r,o){var a=this,s=e.hostModel,l=e.getItemModel(n),u=l.getModel("emphasis"),h=e.getItemLayout(n),c=de(dh(l.getModel("itemStyle"),h,!0),h);if(isNaN(c.startAngle))a.setShape(c);else{if(o){a.setShape(c);var p=s.getShallow("animationType");s.ecModel.ssr?(ni(a,{scaleX:0,scaleY:0},s,{dataIndex:n,isFrom:!0}),a.originX=c.cx,a.originY=c.cy):"scale"===p?(a.shape.r=h.r0,ni(a,{shape:{r:h.r}},s,n)):null!=r?(a.setShape({startAngle:r,endAngle:r}),ni(a,{shape:{startAngle:h.startAngle,endAngle:h.endAngle}},s,n)):(a.shape.endAngle=h.startAngle,It(a,{shape:{endAngle:h.endAngle}},s,n))}else Yr(a),It(a,{shape:c},s,n);a.useStyle(e.getItemVisual(n,"style")),nn(a,l);var f=(h.startAngle+h.endAngle)/2,m=s.get("selectedOffset"),y=Math.cos(f)*m,v=Math.sin(f)*m,b=l.getShallow("cursor");b&&a.attr("cursor",b),this._updateLabel(s,e,n),a.ensureState("emphasis").shape=de({r:h.r+(u.get("scale")&&u.get("scaleSize")||0)},dh(u.getModel("itemStyle"),h)),de(a.ensureState("select"),{x:y,y:v,shape:dh(l.getModel(["select","itemStyle"]),h)}),de(a.ensureState("blur"),{shape:dh(l.getModel(["blur","itemStyle"]),h)});var S=a.getTextGuideLine(),I=a.getTextContent();S&&de(S.ensureState("select"),{x:y,y:v}),de(I.ensureState("select"),{x:y,y:v}),hi(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))}},t.prototype._updateLabel=function(e,n,r){var o=this,a=n.getItemModel(r),s=a.getModel("labelLine"),l=n.getItemVisual(r,"style"),u=l&&l.fill,h=l&&l.opacity;rn(o,Ei(a),{labelFetcher:n.hostModel,labelDataIndex:r,inheritColor:u,defaultOpacity:h,defaultText:e.getFormattedLabel(r,"normal")||n.getName(r)});var c=o.getTextContent();o.setTextConfig({position:null,rotation:null}),c.attr({z2:10});var p=e.get(["label","position"]);if("outside"!==p&&"outer"!==p)o.removeTextGuideLine();else{var f=this.getTextGuideLine();f||(f=new gn,this.setTextGuideLine(f)),cv(this,dv(a),{stroke:u,opacity:ft(s.get(["lineStyle","opacity"]),h,1)})}},t}(pn),RO=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return ie(t,i),t.prototype.render=function(e,n,r,o){var a,s=e.getData(),l=this._data,u=this.group;if(!l&&s.count()>0){for(var h=s.getItemLayout(0),c=1;isNaN(h&&h.startAngle)&&c<s.count();++c)h=s.getItemLayout(c);h&&(a=h.startAngle)}if(this._emptyCircleSector&&u.remove(this._emptyCircleSector),0===s.count()&&e.get("showEmptyCircle")){var p=new pn({shape:QM(e,r)});p.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=p,u.add(p)}s.diff(l).add(function(f){var m=new OO(s,f,a);s.setItemGraphicEl(f,m),u.add(m)}).update(function(f,m){var y=l.getItemGraphicEl(m);y.updateData(s,f,a),y.off("click"),u.add(y),s.setItemGraphicEl(f,y)}).remove(function(f){Lc(l.getItemGraphicEl(f),e,f)}).execute(),function PO(i){var t,e,n=i.getData(),r=[],o=!1,a=(i.get("minShowLabelAngle")||0)*LO,s=n.getLayout("viewRect"),l=n.getLayout("r"),u=s.width,h=s.x,c=s.y,p=s.height;function f(D){D.ignore=!0}n.each(function(D){var A=n.getItemGraphicEl(D),L=A.shape,P=A.getTextContent(),E=A.getTextGuideLine(),N=n.getItemModel(D),z=N.getModel("label"),B=z.get("position")||N.get(["emphasis","label","position"]),W=z.get("distanceToLabelLine"),Y=z.get("alignTo"),j=Te(z.get("edgeDistance"),u),Z=z.get("bleedMargin"),q=N.getModel("labelLine"),K=q.get("length");K=Te(K,u);var Q=q.get("length2");if(Q=Te(Q,u),Math.abs(L.endAngle-L.startAngle)<a)return G(P.states,f),P.ignore=!0,void(E&&(G(E.states,f),E.ignore=!0));if(function(yi){if(!yi.ignore)return!0;for(var Mi in yi.states)if(!1===yi.states[Mi].ignore)return!0;return!1}(P)){var te,ne,ce,ye,re=(L.startAngle+L.endAngle)/2,pe=Math.cos(re),ve=Math.sin(re);t=L.cx,e=L.cy;var be="inside"===B||"inner"===B;if("center"===B)te=L.cx,ne=L.cy,ye="center";else{var xe=(be?(L.r+L.r0)/2*pe:L.r*pe)+t,we=(be?(L.r+L.r0)/2*ve:L.r*ve)+e;if(te=xe+3*pe,ne=we+3*ve,!be){var _e=xe+pe*(K+l-L.r),Ce=we+ve*(K+l-L.r),Ne=_e+(pe<0?-1:1)*Q;te="edge"===Y?pe<0?h+j:h+u-j:Ne+(pe<0?-W:W),ne=Ce,ce=[[xe,we],[_e,Ce],[Ne,Ce]]}ye=be?"center":"edge"===Y?pe>0?"right":"left":pe>0?"left":"right"}var et=Math.PI,ot=0,Bt=z.get("rotate");if(oe(Bt))ot=Bt*(et/180);else if("center"===B)ot=0;else if("radial"===Bt||!0===Bt)ot=pe<0?-re+et:-re;else if("tangential"===Bt&&"outside"!==B&&"outer"!==B){var ct=Math.atan2(pe,ve);ct<0&&(ct=2*et+ct),ve>0&&(ct=et+ct),ot=ct-et}if(o=!!ot,P.x=te,P.y=ne,P.rotation=ot,P.setStyle({verticalAlign:"middle"}),be){P.setStyle({align:ye});var vt=P.states.select;vt&&(vt.x+=P.x,vt.y+=P.y)}else{var Yt=P.getBoundingRect().clone();Yt.applyTransform(P.getComputedTransform());var $t=(P.style.margin||0)+2.1;Yt.y-=$t/2,Yt.height+=$t,r.push({label:P,labelLine:E,position:B,len:K,len2:Q,minTurnAngle:q.get("minTurnAngle"),maxSurfaceAngle:q.get("maxSurfaceAngle"),surfaceNormal:new nt(pe,ve),linePoints:ce,textAlign:ye,labelDistance:W,labelAlignTo:Y,edgeDistance:j,bleedMargin:Z,rect:Yt,unconstrainedWidth:Yt.width,labelStyleWidth:P.style.width})}A.setTextConfig({inside:be})}}),!o&&i.get("avoidLabelOverlap")&&function(D,A,L,P,E,N,z,B){for(var W=[],Y=[],j=Number.MAX_VALUE,Z=-Number.MAX_VALUE,q=0;q<D.length;q++){var K=D[q].label;Pv(D[q])||(K.x<A?(j=Math.min(j,K.x),W.push(D[q])):(Z=Math.max(Z,K.x),Y.push(D[q])))}for(q=0;q<D.length;q++)if(!Pv(ne=D[q])&&ne.linePoints){if(null!=ne.labelStyleWidth)continue;K=ne.label;var te,Q=ne.linePoints;ne.targetTextWidth=te="edge"===ne.labelAlignTo?K.x<A?Q[2][0]-ne.labelDistance-z-ne.edgeDistance:z+E-ne.edgeDistance-Q[2][0]-ne.labelDistance:"labelLine"===ne.labelAlignTo?K.x<A?j-z-ne.bleedMargin:z+E-Z-ne.bleedMargin:K.x<A?K.x-z-ne.bleedMargin:z+E-K.x-ne.bleedMargin,tI(ne,te)}for(eI(Y,A,L,P,1,0,N,0,B,Z),eI(W,A,L,P,-1,0,N,0,B,j),q=0;q<D.length;q++){var ne;if(!Pv(ne=D[q])&&ne.linePoints){var ye=(K=ne.label).style.padding,ve=ne.rect.width+(K.style.backgroundColor?0:ye?ye[1]+ye[3]:0),be=(Q=ne.linePoints)[1][0]-Q[2][0];"edge"===ne.labelAlignTo?Q[2][0]=K.x<A?z+ne.edgeDistance+ve+ne.labelDistance:z+E-ne.edgeDistance-ve-ne.labelDistance:(Q[2][0]=K.x<A?K.x+ne.labelDistance:K.x-ne.labelDistance,Q[1][0]=Q[2][0]+be),Q[1][1]=Q[2][1]=K.y}}}(r,t,e,l,u,p,h,c);for(var m=0;m<r.length;m++){var y=r[m],v=y.label,b=y.labelLine,S=isNaN(v.x)||isNaN(v.y);if(v){v.setStyle({align:y.textAlign}),S&&(G(v.states,f),v.ignore=!0);var I=v.states.select;I&&(I.x+=v.x,I.y+=v.y)}if(b){var T=y.linePoints;S||!T?(G(b.states,f),b.ignore=!0):(HS(T,y.minTurnAngle),qP(T,y.surfaceNormal,y.maxSurfaceAngle),b.setShape({points:T}),v.__hostTarget.textGuideLineConfig={anchor:new nt(T[0][0],T[0][1])})}}}(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=s)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,n){var r=n.getData().getItemLayout(0);if(r){var o=e[0]-r.cx,a=e[1]-r.cy,s=Math.sqrt(o*o+a*a);return s<=r.r&&s>=r.r0}},t.type="pie",t}(Ht);function ph(i,t,e){t=fe(t)&&{coordDimensions:t}||de({encodeDefine:i.getEncode()},t);var n=i.getSource(),r=ah(n,t).dimensions,o=new yn(r,i);return o.initData(n,e),o}var _d=function(){function i(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return i.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},i.prototype.containName=function(t){return this._getRawData().indexOfName(t)>=0},i.prototype.indexOfName=function(t){return this._getDataWithEncodedVisual().indexOfName(t)},i.prototype.getItemVisual=function(t,e){return this._getDataWithEncodedVisual().getItemVisual(t,e)},i}(),EO=_t(),NO=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return ie(t,i),t.prototype.init=function(e){i.prototype.init.apply(this,arguments),this.legendVisualProvider=new _d(ke(this.getData,this),ke(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){i.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return ph(this,{coordDimensions:["value"],encodeDefaulter:Xe(iy,this)})},t.prototype.getDataParams=function(e){var n=this.getData(),r=EO(n),o=r.seats;if(!o){var a=[];n.each(n.mapDimension("value"),function(l){a.push(l)}),o=r.seats=gu(a,n.hostModel.get("percentPrecision"))}var s=i.prototype.getDataParams.call(this,e);return s.percent=o[e]||0,s.$vars.push("percent"),s},t.prototype._defaultLabelLine=function(e){qo(e,"labelLine",["show"]);var n=e.labelLine,r=e.emphasis.labelLine;n.show=n.show&&e.label.show,r.show=r.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(qt),zO=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return ie(t,i),t.prototype.getInitialData=function(e,n){return go(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){return this.option.progressive??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){return this.option.progressiveThreshold??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(e,n,r){return r.point(n.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(qt),VO=function(){},BO=function(i){function t(e){var n=i.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return ie(t,i),t.prototype.getDefaultShape=function(){return new VO},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,n){var r,o=n.points,a=n.size,s=this.symbolProxy,l=s.shape,u=e.getContext?e.getContext():e,c=this.softClipShape;if(u&&a[0]<4)this._ctx=u;else{for(this._ctx=null,r=this._off;r<o.length;){var p=o[r++],f=o[r++];isNaN(p)||isNaN(f)||c&&!c.contain(p,f)||(l.x=p-a[0]/2,l.y=f-a[1]/2,l.width=a[0],l.height=a[1],s.buildPath(e,l,!0))}this.incremental&&(this._off=r,this.notClear=!0)}},t.prototype.afterBrush=function(){var e,n=this.shape,r=n.points,o=n.size,a=this._ctx,s=this.softClipShape;if(a){for(e=this._off;e<r.length;){var l=r[e++],u=r[e++];isNaN(l)||isNaN(u)||s&&!s.contain(l,u)||a.fillRect(l-o[0]/2,u-o[1]/2,o[0],o[1])}this.incremental&&(this._off=e,this.notClear=!0)}},t.prototype.findDataIndex=function(e,n){for(var r=this.shape,o=r.points,a=r.size,s=Math.max(a[0],4),l=Math.max(a[1],4),u=o.length/2-1;u>=0;u--){var h=2*u,c=o[h]-s/2,p=o[h+1]-l/2;if(e>=c&&n>=p&&e<=c+s&&n<=p+l)return u}return-1},t.prototype.contain=function(e,n){var r=this.transformCoordToLocal(e,n);return this.getBoundingRect().contain(e=r[0],n=r[1])?(this.hoverDataIdx=this.findDataIndex(e,n))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var n=this.shape,r=n.points,o=n.size,a=o[0],s=o[1],l=1/0,u=1/0,h=-1/0,c=-1/0,p=0;p<r.length;){var f=r[p++],m=r[p++];l=Math.min(f,l),h=Math.max(f,h),u=Math.min(m,u),c=Math.max(m,c)}e=this._rect=new st(l-a/2,u-s/2,h-l+a,c-u+s)}return e},t}(gt),FO=function(){function i(){this.group=new Ze}return i.prototype.updateData=function(t,e){this._clear();var n=this._create();n.setShape({points:t.getLayout("points")}),this._setCommon(n,t,e)},i.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild(function(n){null!=n.startIndex&&(e=new Float32Array(e.buffer,4*n.startIndex*2,2*(n.endIndex-n.startIndex))),n.setShape("points",e),n.reset()})},i.prototype.incrementalPrepareUpdate=function(t){this._clear()},i.prototype.incrementalUpdate=function(t,e,n){var r=this._newAdded[0],o=e.getLayout("points"),a=r&&r.shape.points;if(a&&a.length<2e4){var s=a.length,l=new Float32Array(s+o.length);l.set(a),l.set(o,s),r.endIndex=t.end,r.setShape({points:l})}else{this._newAdded=[];var u=this._create();u.startIndex=t.start,u.endIndex=t.end,u.incremental=!0,u.setShape({points:o}),this._setCommon(u,e,n)}},i.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},i.prototype._create=function(){var t=new BO({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},i.prototype._setCommon=function(t,e,n){var r=e.hostModel;n=n||{};var o=e.getVisual("symbolSize");t.setShape("size",o instanceof Array?o:[o,o]),t.softClipShape=n.clipShape||null,t.symbolProxy=gi(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var a=t.shape.size[0]<4;t.useStyle(r.getModel("itemStyle").getItemStyle(a?["color","shadowBlur","shadowColor"]:["color"]));var s=e.getVisual("style"),l=s&&s.fill;l&&t.setColor(l);var u=rt(t);u.seriesIndex=r.seriesIndex,t.on("mousemove",function(h){u.dataIndex=null;var c=t.hoverDataIdx;c>=0&&(u.dataIndex=c+(t.startIndex||0))})},i.prototype.remove=function(){this._clear()},i.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},i}(),GO=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.render=function(e,n,r){var o=e.getData();this._updateSymbolDraw(o,e).updateData(o,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,n,r){var o=e.getData();this._updateSymbolDraw(o,e).incrementalPrepareUpdate(o),this._finished=!1},t.prototype.incrementalRender=function(e,n,r){this._symbolDraw.incrementalUpdate(e,n.getData(),{clipShape:this._getClipShape(n)}),this._finished=e.end===n.getData().count()},t.prototype.updateTransform=function(e,n,r){var o=e.getData();if(this.group.dirty(),!this._finished||o.count()>1e4)return{update:!0};var a=yd("").reset(e,n,r);a.progress&&a.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout(o)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){var n=e.coordinateSystem,r=n&&n.getArea&&n.getArea();return e.get("clip",!0)?r:null},t.prototype._updateSymbolDraw=function(e,n){var r=this._symbolDraw,o=n.pipelineContext.large;return r&&o===this._isLargeDraw||(r&&r.remove(),r=this._symbolDraw=o?new FO:new md,this._isLargeDraw=o,this.group.removeAll()),this.group.add(r.group),r},t.prototype.remove=function(e,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(Ht),WO=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return ie(t,i),t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(mt),Ov=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return ie(t,i),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",di).models[0]},t.type="cartesian2dAxis",t}(mt);Qt(Ov,lh);var iI={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},HO=Be({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},iI),Rv=Be({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},iI),nI={category:HO,value:Rv,time:Be({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},Rv),log:Ve({logBase:10},Rv)},YO={value:1,category:1,time:1,log:1};function fh(i,t,e,n){G(YO,function(r,o){var a=Be(Be({},nI[o],!0),n,!0),s=function(l){function u(){var h=null!==l&&l.apply(this,arguments)||this;return h.type=t+"Axis."+o,h}return ie(u,l),u.prototype.mergeDefaultAndTheme=function(h,c){var p=Fc(this),f=p?Yu(h):{};Be(h,c.getTheme().get(o+"Axis")),Be(h,this.getDefaultOption()),h.type=rI(h),p&&Fa(h,f,p)},u.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=Qy.createByAxisModel(this))},u.prototype.getCategories=function(h){var c=this.option;if("category"===c.type)return h?c.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=t+"Axis."+o,u.defaultOption=a,u}(e);i.registerComponentModel(s)}),i.registerSubTypeDefaulter(t+"Axis",rI)}function rI(i){return i.type||(i.data?"category":"value")}var XO=function(){function i(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return i.prototype.getAxis=function(t){return this._axes[t]},i.prototype.getAxes=function(){return ge(this._dimList,function(t){return this._axes[t]},this)},i.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),xt(this.getAxes(),function(e){return e.scale.type===t})},i.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},i}(),Ev=["x","y"];function oI(i){return"interval"===i.type||"time"===i.type}var UO=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=Ev,e}return ie(t,i),t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,n=this.getAxis("y").scale;if(oI(e)&&oI(n)){var r=e.getExtent(),o=n.getExtent(),a=this.dataToPoint([r[0],o[0]]),s=this.dataToPoint([r[1],o[1]]),l=r[1]-r[0],u=o[1]-o[0];if(l&&u){var h=(s[0]-a[0])/l,c=(s[1]-a[1])/u,m=this._transform=[h,0,0,c,a[0]-r[0]*h,a[1]-o[0]*c];this._invTransform=Nr([],m)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var n=this.getAxis("x"),r=this.getAxis("y");return n.contain(n.toLocalCoord(e[0]))&&r.contain(r.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,n){var r=this.dataToPoint(e),o=this.dataToPoint(n),a=this.getArea(),s=new st(r[0],r[1],o[0]-r[0],o[1]-r[1]);return a.intersect(s)},t.prototype.dataToPoint=function(e,n,r){r=r||[];var o=e[0],a=e[1];if(this._transform&&null!=o&&isFinite(o)&&null!=a&&isFinite(a))return Ci(r,e,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return r[0]=s.toGlobalCoord(s.dataToCoord(o,n)),r[1]=l.toGlobalCoord(l.dataToCoord(a,n)),r},t.prototype.clampData=function(e,n){var r=this.getAxis("x").scale,o=this.getAxis("y").scale,a=r.getExtent(),s=o.getExtent(),l=r.parse(e[0]),u=o.parse(e[1]);return(n=n||[])[0]=Math.min(Math.max(Math.min(a[0],a[1]),l),Math.max(a[0],a[1])),n[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),n},t.prototype.pointToData=function(e,n){var r=[];if(this._invTransform)return Ci(r,e,this._invTransform);var o=this.getAxis("x"),a=this.getAxis("y");return r[0]=o.coordToData(o.toLocalCoord(e[0]),n),r[1]=a.coordToData(a.toLocalCoord(e[1]),n),r},t.prototype.getOtherAxis=function(e){return this.getAxis("x"===e.dim?"y":"x")},t.prototype.getArea=function(){var e=this.getAxis("x").getGlobalExtent(),n=this.getAxis("y").getGlobalExtent(),r=Math.min(e[0],e[1]),o=Math.min(n[0],n[1]),a=Math.max(e[0],e[1])-r,s=Math.max(n[0],n[1])-o;return new st(r,o,a,s)},t}(XO),jO=function(i){function t(e,n,r,o,a){var s=i.call(this,e,n,r)||this;return s.index=0,s.type=o||"value",s.position=a||"bottom",s}return ie(t,i),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.getGlobalExtent=function(e){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),e&&n[0]>n[1]&&n.reverse(),n},t.prototype.pointToData=function(e,n){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),n)},t.prototype.setCategorySortInfo=function(e){if("category"!==this.type)return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(Sr);function Nv(i,t,e){e=e||{};var n=i.coordinateSystem,r=t.axis,o={},a=r.getAxesOnZeroOf()[0],s=r.position,l=a?"onZero":s,u=r.dim,h=n.getRect(),c=[h.x,h.x+h.width,h.y,h.y+h.height],p={left:0,right:1,top:0,bottom:1,onZero:2},f=t.get("offset")||0,m="x"===u?[c[2]-f,c[3]+f]:[c[0]-f,c[1]+f];if(a){var y=a.toGlobalCoord(a.dataToCoord(0));m[p.onZero]=Math.max(Math.min(y,m[1]),m[0])}o.position=["y"===u?m[p[l]]:c[0],"x"===u?m[p[l]]:c[3]],o.rotation=Math.PI/2*("x"===u?0:1),o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],o.labelOffset=a?m[p[s]]-m[p.onZero]:0,t.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),kt(e.labelInside,t.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var v=t.get(["axisLabel","rotate"]);return o.labelRotate="top"===l?-v:v,o.z2=1,o}function aI(i){return"cartesian2d"===i.get("coordinateSystem")}function sI(i){var t={xAxisModel:null,yAxisModel:null};return G(t,function(e,n){var r=n.replace(/Model$/,""),o=i.getReferringComponents(r,di).models[0];t[n]=o}),t}var zv=Math.log;function lI(i,t,e){var n=aa.prototype,r=n.getTicks.call(e),o=n.getTicks.call(e,!0),a=r.length-1,s=n.getInterval.call(e),l=SS(i,t),u=l.extent,h=l.fixMin,c=l.fixMax;if("log"===i.type){var p=zv(i.base);u=[zv(u[0])/p,zv(u[1])/p]}i.setExtent(u[0],u[1]),i.calcNiceExtent({splitNumber:a,fixMin:h,fixMax:c});var f=n.getExtent.call(i);h&&(u[0]=f[0]),c&&(u[1]=f[1]);var m=n.getInterval.call(i),y=u[0],v=u[1];if(h&&c)m=(v-y)/a;else if(h)for(v=u[0]+m*a;v<u[1]&&isFinite(v)&&isFinite(u[1]);)m=tv(m),v=u[0]+m*a;else if(c)for(y=u[1]-m*a;y>u[0]&&isFinite(y)&&isFinite(u[0]);)m=tv(m),y=u[1]-m*a;else{i.getTicks().length-1>a&&(m=tv(m));var b=m*a;(y=ii((v=Math.ceil(u[1]/m)*m)-b))<0&&u[0]>=0?(y=0,v=ii(b)):v>0&&u[1]<=0&&(v=0,y=-ii(b))}var S=(r[0].value-o[0].value)/s,I=(r[a].value-o[a].value)/s;n.setExtent.call(i,y+m*S,v+m*I),n.setInterval.call(i,m),(S||I)&&n.setNiceExtent.call(i,y+m,v-m)}var ZO=function(){function i(t,e,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=Ev,this._initCartesian(t,e,n),this.model=t}return i.prototype.getRect=function(){return this._rect},i.prototype.update=function(t,e){var n=this._axesMap;function r(a){var s,l=dt(a),u=l.length;if(u){for(var h=[],c=u-1;c>=0;c--){var p=a[+l[c]],f=p.model,m=p.scale;ev(m)&&f.get("alignTicks")&&null==f.get("interval")?h.push(p):(dl(m,f),ev(m)&&(s=p))}h.length&&(s||dl((s=h.pop()).scale,s.model),G(h,function(y){lI(y.scale,y.model,s.scale)}))}}this._updateScale(t,this.model),r(n.x),r(n.y);var o={};G(n.x,function(a){uI(n,"y",a,o)}),G(n.y,function(a){uI(n,"x",a,o)}),this.resize(this.model,e)},i.prototype.resize=function(t,e,n){var r=t.getBoxLayoutParams(),o=!n&&t.get("containLabel"),a=wi(r,{width:e.getWidth(),height:e.getHeight()});this._rect=a;var s=this._axesList;function l(){G(s,function(u){var f,m,y,v,h=u.isHorizontal(),c=h?[0,a.width]:[0,a.height],p=u.inverse?1:0;u.setExtent(c[p],c[1-p]),m=h?a.x:a.y,y=(f=u).getExtent(),v=y[0]+y[1],f.toGlobalCoord="x"===f.dim?function(b){return b+m}:function(b){return v-b+m},f.toLocalCoord="x"===f.dim?function(b){return b-m}:function(b){return v-b+m}})}l(),o&&(G(s,function(u){if(!u.model.get(["axisLabel","inside"])){var h=function(f){var y=f.scale;if(f.model.get(["axisLabel","show"])&&!y.isBlank()){var v,b,S=y.getExtent();b=y instanceof Yf?y.count():(v=y.getTicks()).length;var I,T=f.getLabelModel(),D=ld(f),A=1;b>40&&(A=Math.ceil(b/40));for(var L=0;L<b;L+=A){var P=D(v?v[L]:{value:S[0]+L},L),E=PP(T.getTextRect(P),T.get("rotate")||0);I?I.union(E):I=E}return I}}(u);if(h){var c=u.isHorizontal()?"height":"width",p=u.model.get(["axisLabel","margin"]);a[c]-=h[c]+p,"top"===u.position?a.y+=h.height+p:"left"===u.position&&(a.x+=h.width+p)}}}),l()),G(this._coordsList,function(u){u.calcAffineTransform()})},i.prototype.getAxis=function(t,e){var n=this._axesMap[t];if(null!=n)return n[e||0]},i.prototype.getAxes=function(){return this._axesList.slice()},i.prototype.getCartesian=function(t,e){if(null!=t&&null!=e)return this._coordsMap["x"+t+"y"+e];le(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var r=0,o=this._coordsList;r<o.length;r++)if(o[r].getAxis("x").index===t||o[r].getAxis("y").index===e)return o[r]},i.prototype.getCartesians=function(){return this._coordsList.slice()},i.prototype.convertToPixel=function(t,e,n){var r=this._findConvertTarget(e);return r.cartesian?r.cartesian.dataToPoint(n):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(n)):null},i.prototype.convertFromPixel=function(t,e,n){var r=this._findConvertTarget(e);return r.cartesian?r.cartesian.pointToData(n):r.axis?r.axis.coordToData(r.axis.toLocalCoord(n)):null},i.prototype._findConvertTarget=function(t){var e,n,r=t.seriesModel,o=t.xAxisModel||r&&r.getReferringComponents("xAxis",di).models[0],a=t.yAxisModel||r&&r.getReferringComponents("yAxis",di).models[0],s=t.gridModel;return r?We(this._coordsList,e=r.coordinateSystem)<0&&(e=null):o&&a?e=this.getCartesian(o.componentIndex,a.componentIndex):o?n=this.getAxis("x",o.componentIndex):a?n=this.getAxis("y",a.componentIndex):s&&s.coordinateSystem===this&&(e=this._coordsList[0]),{cartesian:e,axis:n}},i.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},i.prototype._initCartesian=function(t,e,n){var r=this,o=this,a={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(e.eachComponent("xAxis",u("x"),this),e.eachComponent("yAxis",u("y"),this),!l.x||!l.y)return this._axesMap={},void(this._axesList=[]);function u(h){return function(c,p){if(Vv(c,t)){var f=c.get("position");"x"===h?"top"!==f&&"bottom"!==f&&(f=a.bottom?"top":"bottom"):"left"!==f&&"right"!==f&&(f=a.left?"right":"left"),a[f]=!0;var m=new jO(h,sd(c),[0,0],c.get("type"),f);m.onBand="category"===m.type&&c.get("boundaryGap"),m.inverse=c.get("inverse"),c.axis=m,m.model=c,m.grid=o,m.index=p,o._axesList.push(m),s[h][p]=m,l[h]++}}}this._axesMap=s,G(s.x,function(h,c){G(s.y,function(p,f){var m="x"+c+"y"+f,y=new UO(m);y.master=r,y.model=t,r._coordsMap[m]=y,r._coordsList.push(y),y.addAxis(h),y.addAxis(p)})})},i.prototype._updateScale=function(t,e){function n(r,o){G(qf(r,o.dim),function(a){o.scale.unionExtentFromData(r,a)})}G(this._axesList,function(r){if(r.scale.setExtent(1/0,-1/0),"category"===r.type){var o=r.model.get("categorySortInfo");r.scale.setSortInfo(o)}}),t.eachSeries(function(r){if(aI(r)){var o=sI(r),a=o.xAxisModel,s=o.yAxisModel;if(!Vv(a,e)||!Vv(s,e))return;var l=this.getCartesian(a.componentIndex,s.componentIndex),u=r.getData(),h=l.getAxis("x"),c=l.getAxis("y");n(u,h),n(u,c)}},this)},i.prototype.getTooltipAxes=function(t){var e=[],n=[];return G(this.getCartesians(),function(r){var o=null!=t&&"auto"!==t?r.getAxis(t):r.getBaseAxis(),a=r.getOtherAxis(o);We(e,o)<0&&e.push(o),We(n,a)<0&&n.push(a)}),{baseAxes:e,otherAxes:n}},i.create=function(t,e){var n=[];return t.eachComponent("grid",function(r,o){var a=new i(r,t,e);a.name="grid_"+o,a.resize(r,e,!0),r.coordinateSystem=a,n.push(a)}),t.eachSeries(function(r){if(aI(r)){var o=sI(r),a=o.xAxisModel,s=o.yAxisModel,l=a.getCoordSysModel();r.coordinateSystem=l.coordinateSystem.getCartesian(a.componentIndex,s.componentIndex)}}),n},i.dimensions=Ev,i}();function Vv(i,t){return i.getCoordSysModel()===t}function uI(i,t,e,n){e.getAxesOnZeroOf=function(){return r?[r]:[]};var r,o=i[t],a=e.model,s=a.get(["axisLine","onZero"]),l=a.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=l)hI(o[l])&&(r=o[l]);else for(var u in o)if(o.hasOwnProperty(u)&&hI(o[u])&&!n[h(o[u])]){r=o[u];break}r&&(n[h(r)]=!0)}function h(c){return c.dim+"_"+c.index}}function hI(i){return i&&"category"!==i.type&&"time"!==i.type&&function(t){var e=t.scale.getExtent(),n=e[0],r=e[1];return!(n>0&&r>0||n<0&&r<0)}(i)}var Ka=Math.PI,Tn=function(){function i(t,e){this.group=new Ze,this.opt=e,this.axisModel=t,Ve(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new Ze({x:e.position[0],y:e.position[1],rotation:e.rotation});n.updateTransform(),this._transformGroup=n}return i.prototype.hasBuilder=function(t){return!!cI[t]},i.prototype.add=function(t){cI[t](this.opt,this.axisModel,this.group,this._transformGroup)},i.prototype.getGroup=function(){return this.group},i.innerTextLayout=function(t,e,n){var r,o,a=gr(e-t);return Ta(a)?(o=n>0?"top":"bottom",r="center"):Ta(a-Ka)?(o=n>0?"bottom":"top",r="center"):(o="middle",r=a>0&&a<Ka?n>0?"right":"left":n>0?"left":"right"),{rotation:a,textAlign:r,textVerticalAlign:o}},i.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},i.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},i}(),cI={axisLine:function(i,t,e,n){var r=t.get(["axisLine","show"]);if("auto"===r&&i.handleAutoShown&&(r=i.handleAutoShown("axisLine")),r){var o=t.axis.getExtent(),a=n.transform,s=[o[0],0],l=[o[1],0],u=s[0]>l[0];a&&(Ci(s,s,a),Ci(l,l,a));var h=de({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),c=new ki({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:h,strokeContainThreshold:i.strokeContainThreshold||5,silent:!0,z2:1});zu(c.shape,c.style.lineWidth),c.anid="line",e.add(c);var p=t.get(["axisLine","symbol"]);if(null!=p){var f=t.get(["axisLine","symbolSize"]);De(p)&&(p=[p,p]),(De(f)||oe(f))&&(f=[f,f]);var m=ih(t.get(["axisLine","symbolOffset"])||0,f),y=f[0],v=f[1];G([{rotate:i.rotation+Math.PI/2,offset:m[0],r:0},{rotate:i.rotation-Math.PI/2,offset:m[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(b,S){if("none"!==p[S]&&null!=p[S]){var I=gi(p[S],-y/2,-v/2,y,v,h.stroke,!0),T=b.r+b.offset,D=u?l:s;I.attr({rotation:b.rotate,x:D[0]+T*Math.cos(i.rotation),y:D[1]-T*Math.sin(i.rotation),silent:!0,z2:11}),e.add(I)}})}}},axisTickLabel:function(i,t,e,n){var r=function(a,s,l,u){var h=l.axis,c=l.getModel("axisTick"),p=c.get("show");if("auto"===p&&u.handleAutoShown&&(p=u.handleAutoShown("axisTick")),p&&!h.scale.isBlank()){for(var f=c.getModel("lineStyle"),m=u.tickDirection*c.get("length"),y=fI(h.getTicksCoords(),s.transform,m,Ve(f.getLineStyle(),{stroke:l.get(["axisLine","lineStyle","color"])}),"ticks"),v=0;v<y.length;v++)a.add(y[v]);return y}}(e,n,t,i),o=function(a,s,l,u){var h=l.axis;if(kt(u.axisLabelShow,l.get(["axisLabel","show"]))&&!h.scale.isBlank()){var c=l.getModel("axisLabel"),p=c.get("margin"),f=h.getViewLabels(),m=(kt(u.labelRotate,c.get("rotate"))||0)*Ka/180,y=Tn.innerTextLayout(u.rotation,m,u.labelDirection),v=l.getCategories&&l.getCategories(!0),b=[],S=Tn.isLabelSilent(l),I=l.get("triggerEvent");return G(f,function(T,D){var A="ordinal"===h.scale.type?h.scale.getRawOrdinalNumber(T.tickValue):T.tickValue,L=T.formattedLabel,P=T.rawLabel,E=c;if(v&&v[A]){var N=v[A];le(N)&&N.textStyle&&(E=new Rt(N.textStyle,c,l.ecModel))}var z=E.getTextColor()||l.get(["axisLine","lineStyle","color"]),B=h.dataToCoord(A),W=new Mt({x:B,y:u.labelOffset+u.labelDirection*p,rotation:y.rotation,silent:S,z2:10+(T.level||0),style:Kt(E,{text:L,align:E.getShallow("align",!0)||y.textAlign,verticalAlign:E.getShallow("verticalAlign",!0)||E.getShallow("baseline",!0)||y.textVerticalAlign,fill:Ge(z)?z("category"===h.type?P:"value"===h.type?A+"":A,D):z})});if(W.anid="label_"+A,I){var Y=Tn.makeAxisEventDataBase(l);Y.targetType="axisLabel",Y.value=P,Y.tickIndex=D,"category"===h.type&&(Y.dataIndex=A),rt(W).eventData=Y}s.add(W),W.updateTransform(),b.push(W),a.add(W),W.decomposeTransform()}),b}}(e,n,t,i);(function(a,s,l){if(!MS(a.axis)){var u=a.get(["axisLabel","showMinLabel"]),h=a.get(["axisLabel","showMaxLabel"]),c=(s=s||[])[0],p=s[1],f=s[s.length-1],m=s[s.length-2],y=(l=l||[])[0],v=l[1],b=l[l.length-1],S=l[l.length-2];!1===u?(Mr(c),Mr(y)):dI(c,p)&&(u?(Mr(p),Mr(v)):(Mr(c),Mr(y))),!1===h?(Mr(f),Mr(b)):dI(m,f)&&(h?(Mr(m),Mr(S)):(Mr(f),Mr(b)))}})(t,o,r),function(a,s,l,u){var h=l.axis,c=l.getModel("minorTick");if(c.get("show")&&!h.scale.isBlank()){var p=h.getMinorTicksCoords();if(p.length)for(var f=c.getModel("lineStyle"),m=u*c.get("length"),y=Ve(f.getLineStyle(),Ve(l.getModel("axisTick").getLineStyle(),{stroke:l.get(["axisLine","lineStyle","color"])})),v=0;v<p.length;v++)for(var b=fI(p[v],s.transform,m,y,"minorticks_"+v),S=0;S<b.length;S++)a.add(b[S])}}(e,n,t,i.tickDirection),t.get(["axisLabel","hideOverlap"])&&ZS(XS(ge(o,function(a){return{label:a,priority:a.z2,defaultAttr:{ignore:a.ignore}}})))},axisName:function(i,t,e,n){var A,P,E,N,z,B,W,r=kt(i.axisName,t.get("name"));if(r){var o,a,s=t.get("nameLocation"),l=i.nameDirection,u=t.getModel("nameTextStyle"),h=t.get("nameGap")||0,c=t.axis.getExtent(),p=c[0]>c[1]?-1:1,f=["start"===s?c[0]-p*h:"end"===s?c[1]+p*h:(c[0]+c[1])/2,pI(s)?i.labelOffset+l*h:0],m=t.get("nameRotate");null!=m&&(m=m*Ka/180),pI(s)?o=Tn.innerTextLayout(i.rotation,m??i.rotation,l):(A=s,P=c,z=gr((m||0)-i.rotation),B=P[0]>P[1],W="start"===A&&!B||"start"!==A&&B,Ta(z-Ka/2)?(N=W?"bottom":"top",E="center"):Ta(z-1.5*Ka)?(N=W?"top":"bottom",E="center"):(N="middle",E=z<1.5*Ka&&z>Ka/2?W?"left":"right":W?"right":"left"),o={rotation:z,textAlign:E,textVerticalAlign:N},null!=(a=i.axisNameAvailableWidth)&&(a=Math.abs(a/Math.sin(o.rotation)),!isFinite(a)&&(a=null)));var y=u.getFont(),v=t.get("nameTruncate",!0)||{},b=v.ellipsis,S=kt(i.nameTruncateMaxWidth,v.maxWidth,a),I=new Mt({x:f[0],y:f[1],rotation:o.rotation,silent:Tn.isLabelSilent(t),style:Kt(u,{text:r,font:y,overflow:"truncate",width:S,ellipsis:b,fill:u.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:u.get("align")||o.textAlign,verticalAlign:u.get("verticalAlign")||o.textVerticalAlign}),z2:1});if(Bu({el:I,componentModel:t,itemName:r}),I.__fullText=r,I.anid="name",t.get("triggerEvent")){var T=Tn.makeAxisEventDataBase(t);T.targetType="axisName",T.name=r,rt(I).eventData=T}n.add(I),I.updateTransform(),e.add(I),I.decomposeTransform()}}};function Mr(i){i&&(i.ignore=!0)}function dI(i,t){var e=i&&i.getBoundingRect().clone(),n=t&&t.getBoundingRect().clone();if(e&&n){var r=ma([]);return lr(r,r,-i.rotation),e.applyTransform(Zn([],r,i.getLocalTransform())),n.applyTransform(Zn([],r,t.getLocalTransform())),e.intersect(n)}}function pI(i){return"middle"===i||"center"===i}function fI(i,t,e,n,r){for(var o=[],a=[],s=[],l=0;l<i.length;l++){var u=i[l].coord;a[0]=u,a[1]=0,s[0]=u,s[1]=e,t&&(Ci(a,a,t),Ci(s,s,t));var h=new ki({shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:n,z2:2,autoBatch:!0,silent:!0});zu(h.shape,h.style.lineWidth),h.anid=r+"_"+i[l].tickValue,o.push(h)}return o}function Bv(i,t){return"all"===i||fe(i)&&We(i,t)>=0||i===t}function $O(i){var t=Fv(i);if(t){var e=t.axisPointerModel,n=t.axis.scale,r=e.option,o=e.get("status"),a=e.get("value");null!=a&&(a=n.parse(a));var s=Gv(e);null==o&&(r.status=s?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==a||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),r.value=a,s&&(r.status=t.axis.scale.isBlank()?"hide":"show")}}function Fv(i){var t=(i.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[bd(i)]}function Gv(i){return!!i.get(["handle","show"])}function bd(i){return i.type+"||"+i.id}var gI={},xl=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.render=function(e,n,r,o){this.axisPointerClass&&$O(e),i.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,r,!0)},t.prototype.updateAxisPointer=function(e,n,r,o){this._doUpdateAxisPointerClass(e,r,!1)},t.prototype.remove=function(e,n){var r=this._axisPointer;r&&r.remove(n)},t.prototype.dispose=function(e,n){this._disposeAxisPointer(n),i.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,n,r){var l,o=t.getAxisPointerClass(this.axisPointerClass);if(o){var a=(l=Fv(e))&&l.axisPointerModel;a?(this._axisPointer||(this._axisPointer=new o)).render(e,a,n,r):this._disposeAxisPointer(n)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,n){gI[e]=n},t.getAxisPointerClass=function(e){return e&&gI[e]},t.type="axis",t}(ei),Wv=_t();function mI(i,t,e,n){var r=e.axis;if(!r.scale.isBlank()){var o=e.getModel("splitArea"),a=o.getModel("areaStyle"),s=a.get("color"),l=n.coordinateSystem.getRect(),u=r.getTicksCoords({tickModel:o,clamp:!0});if(u.length){var h=s.length,c=Wv(i).splitAreaColors,p=ze(),f=0;if(c)for(var m=0;m<u.length;m++){var y=c.get(u[m].tickValue);if(null!=y){f=(y+(h-1)*m)%h;break}}var v=r.toGlobalCoord(u[0].coord),b=a.getAreaStyle();for(s=fe(s)?s:[s],m=1;m<u.length;m++){var S=r.toGlobalCoord(u[m].coord),I=void 0,T=void 0,D=void 0,A=void 0;r.isHorizontal()?(T=l.y,A=l.height,v=(I=v)+(D=S-I)):(I=l.x,D=l.width,v=(T=v)+(A=S-T));var L=u[m-1].tickValue;null!=L&&p.set(L,f),t.add(new St({anid:null!=L?"area_"+L:null,shape:{x:I,y:T,width:D,height:A},style:Ve({fill:s[f]},b),autoBatch:!0,silent:!0})),f=(f+1)%h}Wv(i).splitAreaColors=p}}}function yI(i){Wv(i).splitAreaColors=null}var KO=["axisLine","axisTickLabel","axisName"],JO=["splitArea","splitLine","minorSplitLine"],vI=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return ie(t,i),t.prototype.render=function(e,n,r,o){this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new Ze,this.group.add(this._axisGroup),e.get("show")){var s=e.getCoordSysModel(),l=Nv(s,e),u=new Tn(e,de({handleAutoShown:function(h){for(var c=s.coordinateSystem.getCartesians(),p=0;p<c.length;p++)if(ev(c[p].getOtherAxis(e.axis).scale))return!0;return!1}},l));G(KO,u.add,u),this._axisGroup.add(u.getGroup()),G(JO,function(h){e.get([h,"show"])&&QO[h](this,this._axisGroup,e,s)},this),o&&"changeAxisOrder"===o.type&&o.isInitSort||Oc(a,this._axisGroup,e),i.prototype.render.call(this,e,n,r,o)}},t.prototype.remove=function(){yI(this)},t.type="cartesianAxis",t}(xl),QO={splitLine:function(i,t,e,n){var r=e.axis;if(!r.scale.isBlank()){var o=e.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color");s=fe(s)?s:[s];for(var l=n.coordinateSystem.getRect(),u=r.isHorizontal(),h=0,c=r.getTicksCoords({tickModel:o}),p=[],f=[],m=a.getLineStyle(),y=0;y<c.length;y++){var v=r.toGlobalCoord(c[y].coord);u?(p[0]=v,p[1]=l.y,f[0]=v,f[1]=l.y+l.height):(p[0]=l.x,p[1]=v,f[0]=l.x+l.width,f[1]=v);var b=h++%s.length,I=new ki({anid:null!=c[y].tickValue?"line_"+c[y].tickValue:null,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:f[0],y2:f[1]},style:Ve({stroke:s[b]},m),silent:!0});zu(I.shape,m.lineWidth),t.add(I)}}},minorSplitLine:function(i,t,e,n){var r=e.axis,o=e.getModel("minorSplitLine").getModel("lineStyle"),a=n.coordinateSystem.getRect(),s=r.isHorizontal(),l=r.getMinorTicksCoords();if(l.length)for(var u=[],h=[],c=o.getLineStyle(),p=0;p<l.length;p++)for(var f=0;f<l[p].length;f++){var m=r.toGlobalCoord(l[p][f].coord);s?(u[0]=m,u[1]=a.y,h[0]=m,h[1]=a.y+a.height):(u[0]=a.x,u[1]=m,h[0]=a.x+a.width,h[1]=m);var y=new ki({anid:"minor_line_"+l[p][f].tickValue,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:h[0],y2:h[1]},style:c,silent:!0});zu(y.shape,c.lineWidth),t.add(y)}},splitArea:function(i,t,e,n){mI(i,t,e,n)}},xI=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.type="xAxis",t}(vI),eR=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=xI.type,e}return ie(t,i),t.type="yAxis",t}(vI),tR=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type="grid",e}return ie(t,i),t.prototype.render=function(e,n){this.group.removeAll(),e.get("show")&&this.group.add(new St({shape:e.coordinateSystem.getRect(),style:Ve({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(ei),_I={offset:0};function bI(i){i.registerComponentView(tR),i.registerComponentModel(WO),i.registerCoordinateSystem("cartesian2d",ZO),fh(i,"x",Ov,_I),fh(i,"y",Ov,_I),i.registerComponentView(xI),i.registerComponentView(eR),i.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function iR(i){i.eachSeriesByType("radar",function(t){var e=t.getData(),n=[],r=t.coordinateSystem;if(r){var o=r.getIndicatorAxes();G(o,function(a,s){e.each(e.mapDimension(o[s].dim),function(l,u){n[u]=n[u]||[];var h=r.dataToPoint(l,s);n[u][s]=wI(h)?h:SI(r)})}),e.each(function(a){var s=rr(n[a],function(l){return wI(l)})||SI(r);n[a].push(s.slice()),e.setItemLayout(a,n[a])})}})}function wI(i){return!isNaN(i[0])&&!isNaN(i[1])}function SI(i){return[i.cx,i.cy]}function nR(i){var t=i.polar;if(t){fe(t)||(t=[t]);var e=[];G(t,function(n,r){n.indicator?(n.type&&!n.shape&&(n.shape=n.type),i.radar=i.radar||[],fe(i.radar)||(i.radar=[i.radar]),i.radar.push(n)):e.push(n)}),i.polar=e}G(i.series,function(n){n&&"radar"===n.type&&n.polarIndex&&(n.radarIndex=n.polarIndex)})}var rR=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.render=function(e,n,r){var o=e.coordinateSystem,a=this.group,s=e.getData(),l=this._data;function u(p,f){var m=p.getItemVisual(f,"symbol")||"circle";if("none"!==m){var y=Kc(p.getItemVisual(f,"symbolSize")),v=gi(m,-1,-1,2,2),b=p.getItemVisual(f,"symbolRotate")||0;return v.attr({style:{strokeNoScale:!0},z2:100,scaleX:y[0]/2,scaleY:y[1]/2,rotation:b*Math.PI/180||0}),v}}function h(p,f,m,y,v,b){m.removeAll();for(var S=0;S<f.length-1;S++){var I=u(y,v);I&&(I.__dimIdx=S,p[S]?(I.setPosition(p[S]),Ec[b?"initProps":"updateProps"](I,{x:f[S][0],y:f[S][1]},e,v)):I.setPosition(f[S]),m.add(I))}}function c(p){return ge(p,function(f){return[o.cx,o.cy]})}s.diff(l).add(function(p){var f=s.getItemLayout(p);if(f){var m=new fn,y=new gn,v={shape:{points:f}};m.shape.points=c(f),y.shape.points=c(f),ni(m,v,e,p),ni(y,v,e,p);var b=new Ze,S=new Ze;b.add(y),b.add(m),b.add(S),h(y.shape.points,f,S,s,p,!0),s.setItemGraphicEl(p,b)}}).update(function(p,f){var m=l.getItemGraphicEl(f),y=m.childAt(0),v=m.childAt(1),b=m.childAt(2),S={shape:{points:s.getItemLayout(p)}};S.shape.points&&(h(y.shape.points,S.shape.points,b,s,p,!1),Yr(v),Yr(y),It(y,S,e),It(v,S,e),s.setItemGraphicEl(p,m))}).remove(function(p){a.remove(l.getItemGraphicEl(p))}).execute(),s.eachItemGraphicEl(function(p,f){var m=s.getItemModel(f),y=p.childAt(0),v=p.childAt(1),b=p.childAt(2),S=s.getItemVisual(f,"style"),I=S.fill;a.add(p),y.useStyle(Ve(m.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:I})),nn(y,m,"lineStyle"),nn(v,m,"areaStyle");var T=m.getModel("areaStyle"),D=T.isEmpty()&&T.parentModel.isEmpty();v.ignore=D,G(["emphasis","select","blur"],function(P){var E=m.getModel([P,"areaStyle"]),N=E.isEmpty()&&E.parentModel.isEmpty();v.ensureState(P).ignore=N&&D}),v.useStyle(Ve(T.getAreaStyle(),{fill:I,opacity:.7,decal:S.decal}));var A=m.getModel("emphasis"),L=A.getModel("itemStyle").getItemStyle();b.eachChild(function(P){if(P instanceof Ri){var E=P.style;P.useStyle(de({image:E.image,x:E.x,y:E.y,width:E.width,height:E.height},S))}else P.useStyle(S),P.setColor(I),P.style.strokeNoScale=!0;P.ensureState("emphasis").style=Ue(L);var N=s.getStore().get(s.getDimensionIndex(P.__dimIdx),f);(null==N||isNaN(N))&&(N=""),rn(P,Ei(m),{labelFetcher:s.hostModel,labelDataIndex:f,labelDimIndex:P.__dimIdx,defaultText:N,inheritColor:I,defaultOpacity:S.opacity})}),hi(p,A.get("focus"),A.get("blurScope"),A.get("disabled"))}),this._data=s},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(Ht),oR=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return ie(t,i),t.prototype.init=function(e){i.prototype.init.apply(this,arguments),this.legendVisualProvider=new _d(ke(this.getData,this),ke(this.getRawData,this))},t.prototype.getInitialData=function(e,n){return ph(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,n,r){var o=this.getData(),a=this.coordinateSystem.getIndicatorAxes(),s=this.getData().getName(e),l=""===s?this.name:s,u=Ub(this,e);return Ni("section",{header:l,sortBlocks:!0,blocks:ge(a,function(h){var c=o.get(o.mapDimension(h.dim),e);return Ni("nameValue",{markerType:"subItem",markerColor:u,name:h.name,value:c,sortParam:c})})})},t.prototype.getTooltipPosition=function(e){if(null!=e)for(var n=this.getData(),r=this.coordinateSystem,o=n.getValues(ge(r.dimensions,function(u){return n.mapDimension(u)}),e),a=0,s=o.length;a<s;a++)if(!isNaN(o[a])){var l=r.getIndicatorAxes();return r.coordToPoint(l[a].dataToCoord(o[a]),a)}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(qt),wd=nI.value;function hg(i,t){return Ve({show:t},i)}var aR=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),n=this.get("splitNumber"),r=this.get("scale"),o=this.get("axisLine"),a=this.get("axisTick"),s=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),h=this.get(["axisName","formatter"]),c=this.get("axisNameGap"),p=this.get("triggerEvent"),f=ge(this.get("indicator")||[],function(m){null!=m.max&&m.max>0&&!m.min?m.min=0:null!=m.min&&m.min<0&&!m.max&&(m.max=0);var y=l;null!=m.color&&(y=Ve({color:m.color},l));var v=Be(Ue(m),{boundaryGap:e,splitNumber:n,scale:r,axisLine:o,axisTick:a,axisLabel:s,name:m.text,showName:u,nameLocation:"end",nameGap:c,nameTextStyle:y,triggerEvent:p},!1);De(h)?v.name=h.replace("{value}",v.name??""):Ge(h)&&(v.name=h(v.name,v));var S=new Rt(v,null,this.ecModel);return Qt(S,lh.prototype),S.mainType="radar",S.componentIndex=this.componentIndex,S},this);this._indicatorModels=f},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:Be({lineStyle:{color:"#bbb"}},wd.axisLine),axisLabel:hg(wd.axisLabel,!1),axisTick:hg(wd.axisTick,!1),splitLine:hg(wd.splitLine,!0),splitArea:hg(wd.splitArea,!0),indicator:[]},t}(mt),sR=["axisLine","axisTickLabel","axisName"],lR=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.render=function(e,n,r){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e){var n=e.coordinateSystem;G(ge(n.getIndicatorAxes(),function(r){var o=r.model.get("showName")?r.name:"";return new Tn(r.model,{axisName:o,position:[n.cx,n.cy],rotation:r.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(r){G(sR,r.add,r),this.group.add(r.getGroup())},this)},t.prototype._buildSplitLineAndArea=function(e){var n=e.coordinateSystem,r=n.getIndicatorAxes();if(r.length){var o=e.get("shape"),a=e.getModel("splitLine"),s=e.getModel("splitArea"),l=a.getModel("lineStyle"),u=s.getModel("areaStyle"),h=a.get("show"),c=s.get("show"),p=l.get("color"),f=u.get("color"),m=fe(p)?p:[p],y=fe(f)?f:[f],v=[],b=[];if("circle"===o)for(var S=r[0].getTicksCoords(),I=n.cx,T=n.cy,D=0;D<S.length;D++)h&&v[W(v,m,D)].push(new xr({shape:{cx:I,cy:T,r:S[D].coord}})),c&&D<S.length-1&&b[W(b,y,D)].push(new Pu({shape:{cx:I,cy:T,r0:S[D].coord,r:S[D+1].coord}}));else{var A,L=ge(r,function(Y,j){var Z=Y.getTicksCoords();return A=null==A?Z.length-1:Math.min(Z.length-1,A),ge(Z,function(q){return n.coordToPoint(q.coord,j)})}),P=[];for(D=0;D<=A;D++){for(var E=[],N=0;N<r.length;N++)E.push(L[N][D]);E[0]&&E.push(E[0].slice()),h&&v[W(v,m,D)].push(new gn({shape:{points:E}})),c&&P&&b[W(b,y,D-1)].push(new fn({shape:{points:E.concat(P)}})),P=E.slice().reverse()}}var z=l.getLineStyle(),B=u.getAreaStyle();G(b,function(Y,j){this.group.add(er(Y,{style:Ve({stroke:"none",fill:y[j%y.length]},B),silent:!0}))},this),G(v,function(Y,j){this.group.add(er(Y,{style:Ve({fill:"none",stroke:m[j%m.length]},z),silent:!0}))},this)}function W(Y,j,Z){var q=Z%j.length;return Y[q]=Y[q]||[],q}},t.type="radar",t}(ei),uR=function(i){function t(e,n,r){var o=i.call(this,e,n,r)||this;return o.type="value",o.angle=0,o.name="",o}return ie(t,i),t}(Sr),hR=function(){function i(t,e,n){this.dimensions=[],this._model=t,this._indicatorAxes=ge(t.getIndicatorModels(),function(r,o){var a="indicator_"+o,s=new uR(a,new aa);return s.name=r.get("name"),s.model=r,r.axis=s,this.dimensions.push(a),s},this),this.resize(t,n)}return i.prototype.getIndicatorAxes=function(){return this._indicatorAxes},i.prototype.dataToPoint=function(t,e){return this.coordToPoint(this._indicatorAxes[e].dataToCoord(t),e)},i.prototype.coordToPoint=function(t,e){var n=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(n),this.cy-t*Math.sin(n)]},i.prototype.pointToData=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,r=Math.sqrt(e*e+n*n);e/=r,n/=r;for(var o,a=Math.atan2(-n,e),s=1/0,l=-1,u=0;u<this._indicatorAxes.length;u++){var h=this._indicatorAxes[u],c=Math.abs(a-h.angle);c<s&&(o=h,l=u,s=c)}return[l,+(o&&o.coordToData(r))]},i.prototype.resize=function(t,e){var n=t.get("center"),r=e.getWidth(),o=e.getHeight(),a=Math.min(r,o)/2;this.cx=Te(n[0],r),this.cy=Te(n[1],o),this.startAngle=t.get("startAngle")*Math.PI/180;var s=t.get("radius");(De(s)||oe(s))&&(s=[0,s]),this.r0=Te(s[0],a),this.r=Te(s[1],a),G(this._indicatorAxes,function(l,u){l.setExtent(this.r0,this.r);var h=this.startAngle+u*Math.PI*2/this._indicatorAxes.length;h=Math.atan2(Math.sin(h),Math.cos(h)),l.angle=h},this)},i.prototype.update=function(t,e){var n=this._indicatorAxes,r=this._model;G(n,function(s){s.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(s,l){if("radar"===s.get("coordinateSystem")&&t.getComponent("radar",s.get("radarIndex"))===r){var u=s.getData();G(n,function(h){h.scale.unionExtentFromData(u,u.mapDimension(h.dim))})}},this);var o=r.get("splitNumber"),a=new aa;a.setExtent(0,o),a.setInterval(1),G(n,function(s,l){lI(s.scale,s.model,a)})},i.prototype.convertToPixel=function(t,e,n){return console.warn("Not implemented."),null},i.prototype.convertFromPixel=function(t,e,n){return console.warn("Not implemented."),null},i.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},i.create=function(t,e){var n=[];return t.eachComponent("radar",function(r){var o=new i(r,t,e);n.push(o),r.coordinateSystem=o}),t.eachSeriesByType("radar",function(r){"radar"===r.get("coordinateSystem")&&(r.coordinateSystem=n[r.get("radarIndex")||0])}),n},i.dimensions=[],i}();function cR(i){i.registerCoordinateSystem("radar",hR),i.registerComponentModel(aR),i.registerComponentView(lR),i.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each(function(n){e.setItemVisual(n,"legendIcon","roundRect")}),e.setVisual("legendIcon","roundRect")}})}var MI="\0_ec_interaction_mutex";function II(i,t){return!!Hv(i)[t]}function Hv(i){return i[MI]||(i[MI]={})}qr({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},jt);var Sd=function(i){function t(e){var n=i.call(this)||this;n._zr=e;var r=ke(n._mousedownHandler,n),o=ke(n._mousemoveHandler,n),a=ke(n._mouseupHandler,n),s=ke(n._mousewheelHandler,n),l=ke(n._pinchHandler,n);return n.enable=function(u,h){this.disable(),this._opt=Ve(Ue(h)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==u&&(u=!0),!0!==u&&"move"!==u&&"pan"!==u||(e.on("mousedown",r),e.on("mousemove",o),e.on("mouseup",a)),!0!==u&&"scale"!==u&&"zoom"!==u||(e.on("mousewheel",s),e.on("pinch",l))},n.disable=function(){e.off("mousedown",r),e.off("mousemove",o),e.off("mouseup",a),e.off("mousewheel",s),e.off("pinch",l)},n}return ie(t,i),t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!Wl(e)){for(var n=e.target;n;){if(n.draggable)return;n=n.__hostTarget||n.parent}var r=e.offsetX,o=e.offsetY;this.pointerChecker&&this.pointerChecker(e,r,o)&&(this._x=r,this._y=o,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(this._dragging&&cg("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!II(this._zr,"globalPan")){var n=e.offsetX,r=e.offsetY,o=this._x,a=this._y,s=n-o,l=r-a;this._x=n,this._y=r,this._opt.preventDefaultMouseMove&&Gi(e.event),TI(this,"pan","moveOnMouseMove",e,{dx:s,dy:l,oldX:o,oldY:a,newX:n,newY:r,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){Wl(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var n=cg("zoomOnMouseWheel",e,this._opt),r=cg("moveOnMouseWheel",e,this._opt),o=e.wheelDelta,a=Math.abs(o),s=e.offsetX,l=e.offsetY;if(0!==o&&(n||r)){if(n){var u=a>3?1.4:a>1?1.2:1.1;Yv(this,"zoom","zoomOnMouseWheel",e,{scale:o>0?u:1/u,originX:s,originY:l,isAvailableBehavior:null})}if(r){var h=Math.abs(o);Yv(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(o>0?1:-1)*(h>3?.4:h>1?.15:.05),originX:s,originY:l,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){II(this._zr,"globalPan")||Yv(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})},t}(kn);function Yv(i,t,e,n,r){i.pointerChecker&&i.pointerChecker(n,r.originX,r.originY)&&(Gi(n.event),TI(i,t,e,n,r))}function TI(i,t,e,n,r){r.isAvailableBehavior=ke(cg,null,e,n),i.trigger(t,r)}function cg(i,t,e){var n=e[i];return!i||n&&(!De(n)||t.event[n+"Key"])}function Xv(i,t,e){var n=i.target;n.x+=t,n.y+=e,n.dirty()}function Uv(i,t,e,n){var r=i.target,o=i.zoomLimit,a=i.zoom=i.zoom||1;if(a*=t,o){var s=o.min||0;a=Math.max(Math.min(o.max||1/0,a),s)}var u=a/i.zoom;i.zoom=a,r.x-=(e-r.x)*(u-1),r.y-=(n-r.y)*(u-1),r.scaleX*=u,r.scaleY*=u,r.dirty()}var jv,dR={axisPointer:1,tooltip:1,brush:1};function dg(i,t,e){var n=t.getComponentByElement(i.topTarget),r=n&&n.coordinateSystem;return n&&n!==e&&!dR.hasOwnProperty(n.mainType)&&r&&r.model!==e}function CI(i){De(i)&&(i=(new DOMParser).parseFromString(i,"text/xml"));var t=i;for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}var pg={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},DI=dt(pg),fg={"alignment-baseline":"textBaseline","stop-color":"stopColor"},AI=dt(fg),pR=function(){function i(){this._defs={},this._root=null}return i.prototype.parse=function(t,e){e=e||{};var n=CI(t);this._defsUsePending=[];var r=new Ze;this._root=r;var o=[],a=n.getAttribute("viewBox")||"",s=parseFloat(n.getAttribute("width")||e.width),l=parseFloat(n.getAttribute("height")||e.height);isNaN(s)&&(s=null),isNaN(l)&&(l=null),ir(n,r,null,!0,!1);for(var u,h,c=n.firstChild;c;)this._parseNode(c,r,o,null,!1,!1),c=c.nextSibling;if(function(m,y){for(var v=0;v<y.length;v++){var b=y[v];b[0].style[b[1]]=m[b[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],a){var p=gg(a);p.length>=4&&(u={x:parseFloat(p[0]||0),y:parseFloat(p[1]||0),width:parseFloat(p[2]),height:parseFloat(p[3])})}if(u&&null!=s&&null!=l&&(h=zI(u,{x:0,y:0,width:s,height:l}),!e.ignoreViewBox)){var f=r;(r=new Ze).add(f),f.scaleX=f.scaleY=h.scale,f.x=h.x,f.y=h.y}return e.ignoreRootClip||null==s||null==l||r.setClipPath(new St({shape:{x:0,y:0,width:s,height:l}})),{root:r,width:s,height:l,viewBoxRect:u,viewBoxTransform:h,named:o}},i.prototype._parseNode=function(t,e,n,r,o,a){var s,l=t.nodeName.toLowerCase(),u=r;if("defs"===l&&(o=!0),"text"===l&&(a=!0),"defs"===l||"switch"===l)s=e;else{if(!o){var h=jv[l];if(h&&Le(jv,l)){s=h.call(this,t,e);var c=t.getAttribute("name");if(c){var p={name:c,namedFrom:null,svgNodeTagLower:l,el:s};n.push(p),"g"===l&&(u=p)}else r&&n.push({name:r.name,namedFrom:r,svgNodeTagLower:l,el:s});e.add(s)}}var f=kI[l];if(f&&Le(kI,l)){var m=f.call(this,t),y=t.getAttribute("id");y&&(this._defs[y]=m)}}if(s&&s.isGroup)for(var v=t.firstChild;v;)1===v.nodeType?this._parseNode(v,s,n,u,o,a):3===v.nodeType&&a&&this._parseText(v,s),v=v.nextSibling},i.prototype._parseText=function(t,e){var n=new Cu({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Ir(e,n),ir(t,n,this._defsUsePending,!1,!1),function(l,u){var h=u.__selfStyle;if(h){var c=h.textBaseline,p=c;c&&"auto"!==c?"baseline"===c?p="alphabetic":"before-edge"===c||"text-before-edge"===c?p="top":"after-edge"===c||"text-after-edge"===c?p="bottom":"central"!==c&&"mathematical"!==c||(p="middle"):p="alphabetic",l.style.textBaseline=p}var f=u.__inheritedStyle;if(f){var m=f.textAlign,y=m;m&&("middle"===m&&(y="center"),l.style.textAlign=y)}}(n,e);var r=n.style,o=r.fontSize;o&&o<9&&(r.fontSize=9,n.scaleX*=o/9,n.scaleY*=o/9);var a=(r.fontSize||r.fontFamily)&&[r.fontStyle,r.fontWeight,(r.fontSize||12)+"px",r.fontFamily||"sans-serif"].join(" ");r.font=a;var s=n.getBoundingRect();return this._textX+=s.width,e.add(n),n},i.internalField=void(jv={g:function(t,e){var n=new Ze;return Ir(e,n),ir(t,n,this._defsUsePending,!1,!1),n},rect:function(t,e){var n=new St;return Ir(e,n),ir(t,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(t,e){var n=new xr;return Ir(e,n),ir(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),n.silent=!0,n},line:function(t,e){var n=new ki;return Ir(e,n),ir(t,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(t,e){var n=new Cc;return Ir(e,n),ir(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(t,e){var n,r=t.getAttribute("points");r&&(n=OI(r));var o=new fn({shape:{points:n||[]},silent:!0});return Ir(e,o),ir(t,o,this._defsUsePending,!1,!1),o},polyline:function(t,e){var n,r=t.getAttribute("points");r&&(n=OI(r));var o=new gn({shape:{points:n||[]},silent:!0});return Ir(e,o),ir(t,o,this._defsUsePending,!1,!1),o},image:function(t,e){var n=new Ri;return Ir(e,n),ir(t,n,this._defsUsePending,!1,!1),n.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),n.silent=!0,n},text:function(t,e){var n=t.getAttribute("x")||"0",r=t.getAttribute("y")||"0",o=t.getAttribute("dx")||"0",a=t.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(o),this._textY=parseFloat(r)+parseFloat(a);var s=new Ze;return Ir(e,s),ir(t,s,this._defsUsePending,!1,!0),s},tspan:function(t,e){var n=t.getAttribute("x"),r=t.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=r&&(this._textY=parseFloat(r));var o=t.getAttribute("dx")||"0",a=t.getAttribute("dy")||"0",s=new Ze;return Ir(e,s),ir(t,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(o),this._textY+=parseFloat(a),s},path:function(t,e){var n=n_(t.getAttribute("d")||"");return Ir(e,n),ir(t,n,this._defsUsePending,!1,!1),n.silent=!0,n}}),i}(),kI={lineargradient:function(i){var t=parseInt(i.getAttribute("x1")||"0",10),e=parseInt(i.getAttribute("y1")||"0",10),n=parseInt(i.getAttribute("x2")||"10",10),r=parseInt(i.getAttribute("y2")||"0",10),o=new Ru(t,e,n,r);return LI(i,o),PI(i,o),o},radialgradient:function(i){var t=parseInt(i.getAttribute("cx")||"0",10),e=parseInt(i.getAttribute("cy")||"0",10),n=parseInt(i.getAttribute("r")||"0",10),r=new Lm(t,e,n);return LI(i,r),PI(i,r),r}};function LI(i,t){"userSpaceOnUse"===i.getAttribute("gradientUnits")&&(t.global=!0)}function PI(i,t){for(var e=i.firstChild;e;){if(1===e.nodeType&&"stop"===e.nodeName.toLocaleLowerCase()){var r,n=e.getAttribute("offset");r=n&&n.indexOf("%")>0?parseInt(n,10)/100:n?parseFloat(n):0;var o={};NI(e,o,o);var a=o.stopColor||e.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:r,color:a})}e=e.nextSibling}}function Ir(i,t){i&&i.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),Ve(t.__inheritedStyle,i.__inheritedStyle))}function OI(i){for(var t=gg(i),e=[],n=0;n<t.length;n+=2){var r=parseFloat(t[n]),o=parseFloat(t[n+1]);e.push([r,o])}return e}function ir(i,t,e,n,r){var o=t,a=o.__inheritedStyle=o.__inheritedStyle||{},s={};1===i.nodeType&&(function(l,u){var h=l.getAttribute("transform");if(h){h=h.replace(/,/g," ");var c=[],p=null;h.replace(mR,function(b,S,I){return c.push(S,I),""});for(var f=c.length-1;f>0;f-=2){var y=c[f-1],v=gg(c[f]);switch(p=p||[1,0,0,1,0,0],y){case"translate":Di(p,p,[parseFloat(v[0]),parseFloat(v[1]||"0")]);break;case"scale":Ao(p,p,[parseFloat(v[0]),parseFloat(v[1]||v[0])]);break;case"rotate":lr(p,p,-parseFloat(v[0])*Zv);break;case"skewX":Zn(p,[1,0,Math.tan(parseFloat(v[0])*Zv),1,0,0],p);break;case"skewY":Zn(p,[1,Math.tan(parseFloat(v[0])*Zv),0,1,0,0],p);break;case"matrix":p[0]=parseFloat(v[0]),p[1]=parseFloat(v[1]),p[2]=parseFloat(v[2]),p[3]=parseFloat(v[3]),p[4]=parseFloat(v[4]),p[5]=parseFloat(v[5])}}u.setLocalTransform(p)}}(i,t),NI(i,a,s),n||function(l,u,h){for(var c=0;c<DI.length;c++){var p=DI[c];null!=(f=l.getAttribute(p))&&(u[pg[p]]=f)}for(c=0;c<AI.length;c++){var f;null!=(f=l.getAttribute(p=AI[c]))&&(h[fg[p]]=f)}}(i,a,s)),o.style=o.style||{},null!=a.fill&&(o.style.fill=RI(o,"fill",a.fill,e)),null!=a.stroke&&(o.style.stroke=RI(o,"stroke",a.stroke,e)),G(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){null!=a[l]&&(o.style[l]=parseFloat(a[l]))}),G(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){null!=a[l]&&(o.style[l]=a[l])}),r&&(o.__selfStyle=s),a.lineDash&&(o.style.lineDash=ge(gg(a.lineDash),function(l){return parseFloat(l)})),"hidden"!==a.visibility&&"collapse"!==a.visibility||(o.invisible=!0),"none"===a.display&&(o.ignore=!0)}var fR=/^url\(\s*#(.*?)\)/;function RI(i,t,e,n){var r=e&&e.match(fR);if(!r)return"none"===e&&(e=null),e;var o=Ut(r[1]);n.push([i,t,o])}var gR=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function gg(i){return i.match(gR)||[]}var mR=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,Zv=Math.PI/180,EI=/([^\s:;]+)\s*:\s*([^:;]+)/g;function NI(i,t,e){var n,r=i.getAttribute("style");if(r)for(EI.lastIndex=0;null!=(n=EI.exec(r));){var o=n[1],a=Le(pg,o)?pg[o]:null;a&&(t[a]=n[2]);var s=Le(fg,o)?fg[o]:null;s&&(e[s]=n[2])}}function zI(i,t){var r=Math.min(t.width/i.width,t.height/i.height);return{scale:r,x:-(i.x+i.width/2)*r+(t.x+t.width/2),y:-(i.y+i.height/2)*r+(t.y+t.height/2)}}for(var yR=ze(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),vR=function(){function i(t,e){this.type="geoSVG",this._usedGraphicMap=ze(),this._freedGraphics=[],this._mapName=t,this._parsedXML=CI(e)}return i.prototype.load=function(){var o,a,s,t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=(o=t.named,a=[],s=ze(),G(o,function(l){if(null==l.namedFrom){var u=new NP(l.name,l.el);a.push(u),s.set(l.name,u)}}),{regions:a,regionsMap:s}),r=e.regionsMap;this._regions=e.regions,this._regionsMap=r}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},i.prototype._buildGraphic=function(t){var e,n,r,o;try{Vt(null!=(n=(e=t&&(r=t,o={ignoreViewBox:!0,ignoreRootClip:!0},(new pR).parse(r,o))||{}).root))}catch(S){throw new Error("Invalid svg format\n"+S.message)}var a=new Ze;a.add(n),a.isGeoSVGGraphicRoot=!0;var s=e.width,l=e.height,u=e.viewBoxRect,h=this._boundingRect;if(!h){var c=void 0,p=void 0,f=void 0,m=void 0;if(null!=s?(c=0,f=s):u&&(c=u.x,f=u.width),null!=l?(p=0,m=l):u&&(p=u.y,m=u.height),null==c||null==p){var y=n.getBoundingRect();null==c&&(c=y.x,f=y.width),null==p&&(p=y.y,m=y.height)}h=this._boundingRect=new st(c,p,f,m)}if(u){var v=zI(u,h);n.scaleX=n.scaleY=v.scale,n.x=v.x,n.y=v.y}a.setClipPath(new St({shape:h.plain()}));var b=[];return G(e.named,function(S){var I;null!=yR.get(S.svgNodeTagLower)&&(b.push(S),(I=S.el).silent=!1,I.isGroup&&I.traverse(function(T){T.silent=!1}))}),{root:a,boundingRect:h,named:b}},i.prototype.useGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,n),n)},i.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);n&&(e.removeKey(t),this._freedGraphics.push(n))},i}(),qv=[126,25],_l=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],bl=0;bl<_l.length;bl++)for(var gh=0;gh<_l[bl].length;gh++)_l[bl][gh][0]/=10.5,_l[bl][gh][1]/=-14,_l[bl][gh][0]+=qv[0],_l[bl][gh][1]+=qv[1];var xR={\u5357\u6d77\u8bf8\u5c9b:[32,80],\u5e7f\u4e1c:[0,-10],\u9999\u6e2f:[10,5],\u6fb3\u95e8:[-10,10],\u5929\u6d25:[5,5]},_R=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],bR=function(){function i(t,e,n){var r;this.type="geoJSON",this._parsedMap=ze(),this._mapName=t,this._specialAreas=n,this._geoJSON=De(r=e)?typeof JSON<"u"&&JSON.parse?JSON.parse(r):new Function("return ("+r+");")():r}return i.prototype.load=function(t,e){var n=this._parsedMap.get(e=e||"name");if(!n){var r=this._parseToRegions(e);n=this._parsedMap.set(e,{regions:r,boundingRect:wR(r)})}var o=ze(),a=[];return G(n.regions,function(s){var l=s.name;t&&Le(t,l)&&(s=s.cloneShallow(l=t[l])),a.push(s),o.set(l,s)}),{regions:a,boundingRect:n.boundingRect||new st(0,0,0,0),regionsMap:o}},i.prototype._parseToRegions=function(t){var e,n=this._mapName,r=this._geoJSON;try{e=r?hv(r,t):[]}catch(o){throw new Error("Invalid geoJson format\n"+o.message)}return function(o,a){if("china"===o){for(var s=0;s<a.length;s++)if("\u5357\u6d77\u8bf8\u5c9b"===a[s].name)return;a.push(new kS("\u5357\u6d77\u8bf8\u5c9b",ge(_l,function(l){return{type:"polygon",exterior:l}}),qv))}}(n,e),G(e,function(o){var u,a=o.name;(function(l,u){if("china"===l){var h=xR[u.name];if(h){var c=u.getCenter();c[0]+=h[0]/10.5,c[1]+=-h[1]/14,u.setCenter(c)}}})(n,o),u=o,"china"===n&&"\u53f0\u6e7e"===u.name&&u.geometries.push({type:"polygon",exterior:_R[0]});var s=this._specialAreas&&this._specialAreas[a];s&&o.transformTo(s.left,s.top,s.width,s.height)},this),e},i.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},i}();function wR(i){for(var t,e=0;e<i.length;e++){var n=i[e].getBoundingRect();(t=t||n.clone()).union(n)}return t}var Md=ze(),mg=function(i){return Md.get(i)},$v=function(i,t,e){var n=Md.get(i);if(n)return n.load(t,e)},Kv=["rect","circle","line","ellipse","polygon","polyline","path"],IR=ze(Kv),TR=ze(Kv.concat(["g"])),CR=ze(Kv.concat(["g"])),BI=_t();function yg(i){var t=i.getItemStyle(),e=i.get("areaColor");return null!=e&&(t.fill=e),t}function FI(i){var t=i.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var GI=function(){function i(t){var e=new Ze;this.uid=Gu("ec_map_draw"),this._controller=new Sd(t.getZr()),this._controllerHost={target:e},this.group=e,e.add(this._regionsGroup=new Ze),e.add(this._svgGroup=new Ze)}return i.prototype.draw=function(t,e,n,r,o){var a="geo"===t.mainType,s=t.getData&&t.getData();a&&e.eachComponent({mainType:"series",subType:"map"},function(v){s||v.getHostGeoModel()!==t||(s=v.getData())});var l=t.coordinateSystem,u=this._regionsGroup,h=this.group,c=l.getTransformInfo(),p=c.raw,f=c.roam;!u.childAt(0)||o?(h.x=f.x,h.y=f.y,h.scaleX=f.scaleX,h.scaleY=f.scaleY,h.dirty()):It(h,f,t);var m=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,y={api:n,geo:l,mapOrGeoModel:t,data:s,isVisualEncodedByVisualMap:m,isGeo:a,transformInfoRaw:p};"geoJSON"===l.resourceType?this._buildGeoJSON(y):"geoSVG"===l.resourceType&&this._buildSVG(y),this._updateController(t,e,n),this._updateMapSelectHandler(t,u,n,r)},i.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=ze(),n=ze(),r=this._regionsGroup,o=t.transformInfoRaw,a=t.mapOrGeoModel,s=t.data,l=t.geo.projection,u=l&&l.stream;function h(f,m){return m&&(f=m(f)),f&&[f[0]*o.scaleX+o.x,f[1]*o.scaleY+o.y]}function c(f){for(var m=[],y=!u&&l&&l.project,v=0;v<f.length;++v){var b=h(f[v],y);b&&m.push(b)}return m}function p(f){return{shape:{points:c(f)}}}r.removeAll(),G(t.geo.regions,function(f){var m=f.name,y=e.get(m),v=n.get(m)||{},b=v.dataIdx,S=v.regionModel;y||(y=e.set(m,new Ze),r.add(y),b=s?s.indexOfName(m):null,S=t.isGeo?a.getRegionModel(m):s?s.getItemModel(b):null,n.set(m,{dataIdx:b,regionModel:S}));var I=[],T=[];G(f.geometries,function(L){if("polygon"===L.type){var P=[L.exterior].concat(L.interiors||[]);u&&(P=jI(P,u)),G(P,function(N){I.push(new fn(p(N)))})}else{var E=L.points;u&&(E=jI(E,u,!0)),G(E,function(N){T.push(new gn(p(N)))})}});var D=h(f.getCenter(),l&&l.project);function A(L,P){if(L.length){var E=new jp({culling:!0,segmentIgnoreThreshold:1,shape:{paths:L}});y.add(E),WI(t,E,b,S),HI(t,E,m,S,a,b,D),P&&(FI(E),G(E.states,FI))}}A(I),A(T,!0)}),e.each(function(f,m){var y=n.get(m),b=y.regionModel;YI(t,f,m,b,a,y.dataIdx),XI(t,f,m,b,a),UI(t,f,m,b,a)},this)},i.prototype._buildSVG=function(t){var e=t.geo.map,n=t.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var r=this._svgDispatcherMap=ze(),o=!1;G(this._svgGraphicRecord.named,function(a){var s=a.name,l=t.mapOrGeoModel,u=t.data,h=a.svgNodeTagLower,c=a.el,p=u?u.indexOfName(s):null,f=l.getRegionModel(s);null!=IR.get(h)&&c instanceof Yi&&WI(t,c,p,f),c instanceof Yi&&(c.culling=!0),c.z2EmphasisLift=0,a.namedFrom||(null!=CR.get(h)&&HI(t,c,s,f,l,p,null),YI(t,c,s,f,l,p),XI(t,c,s,f,l),null!=TR.get(h)&&("self"===UI(t,c,s,f,l)&&(o=!0),(r.get(s)||r.set(s,[])).push(c)))},this),this._enableBlurEntireSVG(o,t)},i.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var n=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(r){if(!r.isGroup){Ks(r);var o=r.ensureState("blur").style||{};null==o.opacity&&null!=n&&(o.opacity=n),r.ensureState("emphasis")}})}},i.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},i.prototype.findHighDownDispatchers=function(t,e){if(null==t)return[];var n=e.coordinateSystem;if("geoJSON"===n.resourceType){var r=this._regionsGroupByName;if(r){var o=r.get(t);return o?[o]:[]}}else if("geoSVG"===n.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},i.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},i.prototype._useSVG=function(t){var e=mg(t);if(e&&"geoSVG"===e.type){var n=e.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=t}},i.prototype._freeSVG=function(){var t=this._svgMapName;if(null!=t){var e=mg(t);e&&"geoSVG"===e.type&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},i.prototype._updateController=function(t,e,n){var r=t.coordinateSystem,o=this._controller,a=this._controllerHost;a.zoomLimit=t.get("scaleLimit"),a.zoom=r.getZoom(),o.enable(t.get("roam")||!1);var s=t.mainType;function l(){var u={type:"geoRoam",componentType:s};return u[s+"Id"]=t.id,u}o.off("pan").on("pan",function(u){this._mouseDownFlag=!1,Xv(a,u.dx,u.dy),n.dispatchAction(de(l(),{dx:u.dx,dy:u.dy,animation:{duration:0}}))},this),o.off("zoom").on("zoom",function(u){this._mouseDownFlag=!1,Uv(a,u.scale,u.originX,u.originY),n.dispatchAction(de(l(),{zoom:u.scale,originX:u.originX,originY:u.originY,animation:{duration:0}}))},this),o.setPointerChecker(function(u,h,c){return r.containPoint([h,c])&&!dg(u,n,t)})},i.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var e=t.getTextContent();e&&(e.ignore=BI(e).ignore)})},i.prototype._updateMapSelectHandler=function(t,e,n,r){var o=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",function(){o._mouseDownFlag=!0}),e.on("click",function(a){o._mouseDownFlag&&(o._mouseDownFlag=!1)}))},i}();function WI(i,t,e,n){var r=n.getModel("itemStyle"),o=n.getModel(["emphasis","itemStyle"]),a=n.getModel(["blur","itemStyle"]),s=n.getModel(["select","itemStyle"]),l=yg(r),u=yg(o),h=yg(s),c=yg(a),p=i.data;if(p){var f=p.getItemVisual(e,"style"),m=p.getItemVisual(e,"decal");i.isVisualEncodedByVisualMap&&f.fill&&(l.fill=f.fill),m&&(l.decal=rh(m,i.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=u,t.ensureState("select").style=h,t.ensureState("blur").style=c,Ks(t)}function HI(i,t,e,n,r,o,a){var s=i.data,l=i.isGeo,u=s&&isNaN(s.get(s.mapDimension("value"),o)),h=s&&s.getItemLayout(o);if(l||u||h&&h.showLabel){var c=l?e:o,p=void 0;(!s||o>=0)&&(p=r);var f=a?{normal:{align:"center",verticalAlign:"middle"}}:null;rn(t,Ei(n),{labelFetcher:p,labelDataIndex:c,defaultText:e},f);var m=t.getTextContent();if(m&&(BI(m).ignore=m.ignore,t.textConfig&&a)){var y=t.getBoundingRect().clone();t.textConfig.layoutRect=y,t.textConfig.position=[(a[0]-y.x)/y.width*100+"%",(a[1]-y.y)/y.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function YI(i,t,e,n,r,o){i.data?i.data.setItemGraphicEl(o,t):rt(t).eventData={componentType:"geo",componentIndex:r.componentIndex,geoIndex:r.componentIndex,name:e,region:n&&n.option||{}}}function XI(i,t,e,n,r){i.data||Bu({el:t,componentModel:r,itemName:e,itemTooltipOption:n.get("tooltip")})}function UI(i,t,e,n,r){t.highDownSilentOnTouch=!!r.get("selectedMode");var l,u,h,o=n.getModel("emphasis"),a=o.get("focus");return hi(t,a,o.get("blurScope"),o.get("disabled")),i.isGeo&&(l=r,u=e,(h=rt(t)).componentMainType=l.mainType,h.componentIndex=l.componentIndex,h.componentHighDownName=u),a}function jI(i,t,e){var n,r=[];function o(){n=[]}function a(){n.length&&(r.push(n),n=[])}var s=t({polygonStart:o,polygonEnd:a,lineStart:o,lineEnd:a,point:function(l,u){isFinite(l)&&isFinite(u)&&n.push([l,u])},sphere:function(){}});return!e&&s.polygonStart(),G(i,function(l){s.lineStart();for(var u=0;u<l.length;u++)s.point(l[u][0],l[u][1]);s.lineEnd()}),!e&&s.polygonEnd(),r}var DR=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.render=function(e,n,r,o){if(!o||"mapToggleSelect"!==o.type||o.from!==this.uid){var a=this.group;if(a.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&o&&"geoRoam"===o.type&&this._mapDraw.resetForLabelLayout(),o&&"geoRoam"===o.type&&"series"===o.componentType&&o.seriesId===e.id)(s=this._mapDraw)&&a.add(s.group);else if(e.needsDrawMap){var s=this._mapDraw||new GI(r);a.add(s.group),s.draw(e,n,r,this,o),this._mapDraw=s}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&n.getComponent("legend")&&this._renderSymbols(e,n,r)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,n,r){var o=e.originalData,a=this.group;o.each(o.mapDimension("value"),function(s,l){if(!isNaN(s)){var u=o.getItemLayout(l);if(u&&u.point){var h=u.point,c=u.offset,p=new xr({style:{fill:e.getData().getVisual("style").fill},shape:{cx:h[0]+9*c,cy:h[1],r:3},silent:!0,z2:8+(c?0:11)});if(!c){var f=e.mainSeries.getData(),m=o.getName(l),y=f.indexOfName(m),v=o.getItemModel(l),b=v.getModel("label"),S=f.getItemGraphicEl(y);rn(p,Ei(v),{labelFetcher:{getFormattedLabel:function(I,T){return e.getFormattedLabel(y,T)}},defaultText:m}),p.disableLabelAnimation=!0,b.get("position")||p.setTextConfig({position:"bottom"}),S.onHoverStateChange=function(I){Hp(p,I)}}a.add(p)}}})},t.type="map",t}(Ht),AR=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.needsDrawMap=!1,e.seriesGroup=[],e.getTooltipPosition=function(n){if(null!=n){var r=this.getData().getName(n),o=this.coordinateSystem,a=o.getRegion(r);return a&&o.dataToPoint(a.getCenter())}},e}return ie(t,i),t.prototype.getInitialData=function(e){for(var n=ph(this,{coordDimensions:["value"],encodeDefaulter:Xe(iy,this)}),r=ze(),o=[],a=0,s=n.count();a<s;a++){var l=n.getName(a);r.set(l,!0)}return G($v(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(u){var h=u.name;r.get(h)||o.push(h)}),n.appendValues([],o),n},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return null!=e?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var n=this.getData();return n.get(n.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var n=this.getData();return n.getItemModel(n.indexOfName(e))},t.prototype.formatTooltip=function(e,n,r){for(var o=this.getData(),a=this.getRawValue(e),s=o.getName(e),l=this.seriesGroup,u=[],h=0;h<l.length;h++){var c=l[h].originalData.indexOfName(s),p=o.mapDimension("value");isNaN(l[h].originalData.get(p,c))||u.push(l[h].name)}return Ni("section",{header:u.join(", "),noHeader:!u.length,blocks:[Ni("nameValue",{name:s,value:a})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var n=e.icon||"roundRect",r=gi(n,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return r.setStyle(e.itemStyle),r.style.stroke="none",n.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(qt);function kR(i){var t={};i.eachSeriesByType("map",function(e){var n=e.getHostGeoModel(),r=n?"o"+n.id:"i"+e.getMapType();(t[r]=t[r]||[]).push(e)}),G(t,function(e,n){for(var r,o,a,s=(r=ge(e,function(u){return u.getData()}),o=e[0].get("mapValueCalculation"),a={},G(r,function(u){u.each(u.mapDimension("value"),function(h,c){var p="ec-"+u.getName(c);a[p]=a[p]||[],isNaN(h)||a[p].push(h)})}),r[0].map(r[0].mapDimension("value"),function(u,h){for(var c="ec-"+r[0].getName(h),p=0,f=1/0,m=-1/0,y=a[c].length,v=0;v<y;v++)f=Math.min(f,a[c][v]),m=Math.max(m,a[c][v]),p+=a[c][v];return 0===y?NaN:"min"===o?f:"max"===o?m:"average"===o?p/y:p})),l=0;l<e.length;l++)e[l].originalData=e[l].getData();for(l=0;l<e.length;l++)e[l].seriesGroup=e,e[l].needsDrawMap=0===l&&!e[l].getHostGeoModel(),e[l].setData(s.cloneShallow()),e[l].mainSeries=e[0]})}function LR(i){var t={};i.eachSeriesByType("map",function(e){var n=e.getMapType();if(!e.getHostGeoModel()&&!t[n]){var r={};G(e.seriesGroup,function(a){var s=a.coordinateSystem,l=a.originalData;a.get("showLegendSymbol")&&i.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,h){var c=l.getName(h),p=s.getRegion(c);if(p&&!isNaN(u)){var f=r[c]||0,m=s.dataToPoint(p.getCenter());r[c]=f+1,l.setItemLayout(h,{point:m,offset:f})}})});var o=e.getData();o.each(function(a){var s=o.getName(a),l=o.getItemLayout(a)||{};l.showLabel=!r[s],o.setItemLayout(a,l)}),t[n]=!0}})}var ZI=Ci,Id=function(i){function t(e){var n=i.call(this)||this;return n.type="view",n.dimensions=["x","y"],n._roamTransformable=new zn,n._rawTransformable=new zn,n.name=e,n}return ie(t,i),t.prototype.setBoundingRect=function(e,n,r,o){return this._rect=new st(e,n,r,o),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,n,r,o){this._transformTo(e,n,r,o),this._viewRect=new st(e,n,r,o)},t.prototype._transformTo=function(e,n,r,o){var a=this.getBoundingRect(),s=this._rawTransformable;s.transform=a.calculateTransform(new st(e,n,r,o));var l=s.parent;s.parent=null,s.decomposeTransform(),s.parent=l,this._updateTransform()},t.prototype.setCenter=function(e,n){e&&(this._center=[Te(e[0],n.getWidth()),Te(e[1],n.getHeight())],this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var n=this.zoomLimit;n&&(null!=n.max&&(e=Math.min(n.max,e)),null!=n.min&&(e=Math.max(n.min,e))),this._zoom=e,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),n=this._roamTransformable,r=this.getDefaultCenter(),o=this.getCenter(),a=this.getZoom();o=Ci([],o,e),r=Ci([],r,e),n.originX=o[0],n.originY=o[1],n.x=r[0]-o[0],n.y=r[1]-o[1],n.scaleX=n.scaleY=a,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,n=this._rawTransformable;n.parent=e,e.updateTransform(),n.updateTransform(),no(this.transform||(this.transform=[]),n.transform||[1,0,0,1,0,0]),this._rawTransform=n.getLocalTransform(),this.invTransform=this.invTransform||[],Nr(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,n=this._roamTransformable,r=new zn;return r.transform=n.transform,r.decomposeTransform(),{roam:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,n,r){var o=n?this._rawTransform:this.transform;return r=r||[],o?ZI(r,e,o):Fi(r,e)},t.prototype.pointToData=function(e){var n=this.invTransform;return n?ZI([],e,n):[e[0],e[1]]},t.prototype.convertToPixel=function(e,n,r){var o=qI(n);return o===this?o.dataToPoint(r):null},t.prototype.convertFromPixel=function(e,n,r){var o=qI(n);return o===this?o.pointToData(r):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(zn);function qI(i){var t=i.seriesModel;return t?t.coordinateSystem:null}var PR={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},$I=["lng","lat"],Jv=function(i){function t(e,n,r){var o=i.call(this,e)||this;o.dimensions=$I,o.type="geo",o._nameCoordMap=ze(),o.map=n;var a,s=r.projection,l=$v(n,r.nameMap,r.nameProperty),u=mg(n),h=(o.resourceType=u?u.type:null,o.regions=l.regions),c=PR[u.type];if(o._regionsMap=l.regionsMap,o.regions=l.regions,o.projection=s,s)for(var p=0;p<h.length;p++){var f=h[p].getBoundingRect(s);(a=a||f.clone()).union(f)}else a=l.boundingRect;return o.setBoundingRect(a.x,a.y,a.width,a.height),o.aspectScale=s?1:He(r.aspectScale,c.aspectScale),o._invertLongitute=!s&&c.invertLongitute,o}return ie(t,i),t.prototype._transformTo=function(e,n,r,o){var a=this.getBoundingRect(),s=this._invertLongitute;a=a.clone(),s&&(a.y=-a.y-a.height);var l=this._rawTransformable;l.transform=a.calculateTransform(new st(e,n,r,o));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,s&&(l.scaleY=-l.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var n=this.regions,r=0;r<n.length;r++){var o=n[r];if("geoJSON"===o.type&&o.contain(e))return n[r]}},t.prototype.addGeoCoord=function(e,n){this._nameCoordMap.set(e,n)},t.prototype.getGeoCoord=function(e){var n=this._regionsMap.get(e);return this._nameCoordMap.get(e)||n&&n.getCenter()},t.prototype.dataToPoint=function(e,n,r){if(De(e)&&(e=this.getGeoCoord(e)),e){var o=this.projection;return o&&(e=o.project(e)),e&&this.projectedToPoint(e,n,r)}},t.prototype.pointToData=function(e){var n=this.projection;return n&&(e=n.unproject(e)),e&&this.pointToProjected(e)},t.prototype.pointToProjected=function(e){return i.prototype.pointToData.call(this,e)},t.prototype.projectedToPoint=function(e,n,r){return i.prototype.dataToPoint.call(this,e,n,r)},t.prototype.convertToPixel=function(e,n,r){var o=KI(n);return o===this?o.dataToPoint(r):null},t.prototype.convertFromPixel=function(e,n,r){var o=KI(n);return o===this?o.pointToData(r):null},t}(Id);function KI(i){var t=i.geoModel,e=i.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem||(e.getReferringComponents("geo",di).models[0]||{}).coordinateSystem:null}function JI(i,t){var e=i.get("boundingCoords");if(null!=e){var n=e[0],r=e[1];if(isFinite(n[0])&&isFinite(n[1])&&isFinite(r[0])&&isFinite(r[1])){var o=this.projection;if(o){var a=n[0],s=n[1],l=r[0],u=r[1];n=[1/0,1/0],r=[-1/0,-1/0];var h=function(A,L,P,E){for(var N=P-A,z=E-L,B=0;B<=100;B++){var W=B/100,Y=o.project([A+N*W,L+z*W]);jn(n,n,Y),an(r,r,Y)}};h(a,s,l,s),h(l,s,l,u),h(l,u,a,u),h(a,u,l,s)}this.setBoundingRect(n[0],n[1],r[0]-n[0],r[1]-n[1])}}var c,p,f,m=this.getBoundingRect(),y=i.get("layoutCenter"),v=i.get("layoutSize"),b=t.getWidth(),S=t.getHeight(),I=m.width/m.height*this.aspectScale,T=!1;if(y&&v&&(c=[Te(y[0],b),Te(y[1],S)],p=Te(v,Math.min(b,S)),isNaN(c[0])||isNaN(c[1])||isNaN(p)||(T=!0)),T)f={},I>1?(f.width=p,f.height=p/I):(f.height=p,f.width=p*I),f.y=c[1]-f.height/2,f.x=c[0]-f.width/2;else{var D=i.getBoxLayoutParams();D.aspect=I,f=wi(D,{width:b,height:S})}this.setViewRect(f.x,f.y,f.width,f.height),this.setCenter(i.get("center"),t),this.setZoom(i.get("zoom"))}Qt(Jv,Id);var OR=function(){function i(){this.dimensions=$I}return i.prototype.create=function(t,e){var n=[];function r(a){return{nameProperty:a.get("nameProperty"),aspectScale:a.get("aspectScale"),projection:a.get("projection")}}t.eachComponent("geo",function(a,s){var l=a.get("map"),u=new Jv(l+s,l,de({nameMap:a.get("nameMap")},r(a)));u.zoomLimit=a.get("scaleLimit"),n.push(u),a.coordinateSystem=u,u.model=a,u.resize=JI,u.resize(a,e)}),t.eachSeries(function(a){if("geo"===a.get("coordinateSystem")){var s=a.get("geoIndex")||0;a.coordinateSystem=n[s]}});var o={};return t.eachSeriesByType("map",function(a){if(!a.getHostGeoModel()){var s=a.getMapType();o[s]=o[s]||[],o[s].push(a)}}),G(o,function(a,s){var l=ge(a,function(h){return h.get("nameMap")}),u=new Jv(s,s,de({nameMap:Et(l)},r(a[0])));u.zoomLimit=kt.apply(null,ge(a,function(h){return h.get("scaleLimit")})),n.push(u),u.resize=JI,u.resize(a[0],e),G(a,function(h){var c;h.coordinateSystem=u,c=u,G(h.get("geoCoord"),function(f,m){c.addGeoCoord(m,f)})})}),n},i.prototype.getFilledRegions=function(t,e,n,r){for(var o=(t||[]).slice(),a=ze(),s=0;s<o.length;s++)a.set(o[s].name,o[s]);return G($v(e,n,r).regions,function(l){var u=l.name;!a.get(u)&&o.push({name:u})}),o},i}(),QI=new OR,RR=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.init=function(e,n,r){var o=mg(e.map);if(o&&"geoJSON"===o.type){var a=e.itemStyle=e.itemStyle||{};"color"in a||(a.color="#eee")}this.mergeDefaultAndTheme(e,r),qo(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,n=this.option;n.regions=QI.getFilledRegions(n.regions,n.map,n.nameMap,n.nameProperty);var r={};this._optionModelMap=Zi(n.regions||[],function(o,a){var s=a.name;return s&&(o.set(s,new Rt(a,e,e.ecModel)),a.selected&&(r[s]=!0)),o},ze()),n.selectedMap||(n.selectedMap=r)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new Rt(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,n){var o=this.getRegionModel(e).get("normal"===n?["label","formatter"]:["emphasis","label","formatter"]),a={name:e};return Ge(o)?(a.status=n,o(a)):De(o)?o.replace("{a}",e??""):void 0},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var n=this.option,r=n.selectedMode;r&&("multiple"!==r&&(n.selectedMap=null),(n.selectedMap||(n.selectedMap={}))[e]=!0)},t.prototype.unSelect=function(e){var n=this.option.selectedMap;n&&(n[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var n=this.option.selectedMap;return!(!n||!n[e])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(mt);function e2(i,t){return i.pointToProjected?i.pointToProjected(t):i.pointToData(t)}function Qv(i,t,e,n){var r=i.getZoom(),o=i.getCenter(),a=t.zoom,s=i.projectedToPoint?i.projectedToPoint(o):i.dataToPoint(o);if(null!=t.dx&&null!=t.dy&&(s[0]-=t.dx,s[1]-=t.dy,i.setCenter(e2(i,s),n)),null!=a){if(e){var l=e.min||0;a=Math.max(Math.min(r*a,e.max||1/0),l)/r}i.scaleX*=a,i.scaleY*=a;var c=(t.originY-i.y)*(a-1);i.x-=(t.originX-i.x)*(a-1),i.y-=c,i.updateTransform(),i.setCenter(e2(i,s),n),i.setZoom(a*r)}return{center:i.getCenter(),zoom:i.getZoom()}}var ER=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.focusBlurEnabled=!0,e}return ie(t,i),t.prototype.init=function(e,n){this._api=n},t.prototype.render=function(e,n,r,o){if(this._model=e,!e.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new GI(r));var a=this._mapDraw;a.draw(e,n,r,this,o),a.group.on("click",this._handleRegionClick,this),a.group.silent=e.get("silent"),this.group.add(a.group),this.updateSelectStatus(e,n,r)},t.prototype._handleRegionClick=function(e){var n;sl(e.target,function(r){return null!=(n=rt(r).eventData)},!0),n&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:n.name})},t.prototype.updateSelectStatus=function(e,n,r){var o=this;this._mapDraw.group.traverse(function(a){var s=rt(a).eventData;if(s)return o._model.isSelected(s.name)?r.enterSelect(a):r.leaveSelect(a),!0})},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(ei);function NR(i,t,e){!function(i,t,e){if(t.svg){var n=new vR(i,t.svg);Md.set(i,n)}else{var r=t.geoJson||t.geoJSON;r&&!t.features?e=t.specialAreas:r=t,n=new bR(i,r,e),Md.set(i,n)}}(i,t,e)}function t2(i){function t(e,n){n.update="geo:updateSelectStatus",i.registerAction(n,function(r,o){var a={},s=[];return o.eachComponent({mainType:"geo",query:r},function(l){l[e](r.name),G(l.coordinateSystem.regions,function(h){a[h.name]=l.isSelected(h.name)||!1});var u=[];G(a,function(h,c){a[c]&&u.push(c)}),s.push({geoIndex:l.componentIndex,name:u})}),{selected:a,allSelected:s,name:r.name}})}i.registerCoordinateSystem("geo",QI),i.registerComponentModel(RR),i.registerComponentView(ER),i.registerImpl("registerMap",NR),i.registerImpl("getMap",function(e){return function(i){var t=Md.get(i);return t&&"geoJSON"===t.type&&t.getMapForUser()}(e)}),t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),i.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,n,r){var o=e.componentType||"series";n.eachComponent({mainType:o,query:e},function(a){var s=a.coordinateSystem;if("geo"===s.type){var l=Qv(s,e,a.get("scaleLimit"),r);a.setCenter&&a.setCenter(l.center),a.setZoom&&a.setZoom(l.zoom),"series"===o&&G(a.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}function zR(i,t){var e=i.isExpand?i.children:[],n=i.parentNode.children,r=i.hierNode.i?n[i.hierNode.i-1]:null;if(e.length){!function(a){for(var s=a.children,l=s.length,u=0,h=0;--l>=0;){var c=s[l];c.hierNode.prelim+=u,c.hierNode.modifier+=u,u+=c.hierNode.shift+(h+=c.hierNode.change)}}(i);var o=(e[0].hierNode.prelim+e[e.length-1].hierNode.prelim)/2;r?(i.hierNode.prelim=r.hierNode.prelim+t(i,r),i.hierNode.modifier=i.hierNode.prelim-o):i.hierNode.prelim=o}else r&&(i.hierNode.prelim=r.hierNode.prelim+t(i,r));i.parentNode.hierNode.defaultAncestor=function(a,s,l,u){if(s){for(var h=a,c=a,p=c.parentNode.children[0],f=s,m=h.hierNode.modifier,y=c.hierNode.modifier,v=p.hierNode.modifier,b=f.hierNode.modifier;f=e0(f),c=t0(c),f&&c;){h=e0(h),p=t0(p),h.hierNode.ancestor=a;var S=f.hierNode.prelim+b-c.hierNode.prelim-y+u(f,c);S>0&&(FR(BR(f,a,l),a,S),y+=S,m+=S),b+=f.hierNode.modifier,y+=c.hierNode.modifier,m+=h.hierNode.modifier,v+=p.hierNode.modifier}f&&!e0(h)&&(h.hierNode.thread=f,h.hierNode.modifier+=b-m),c&&!t0(p)&&(p.hierNode.thread=c,p.hierNode.modifier+=y-v,l=a)}return l}(i,r,i.parentNode.hierNode.defaultAncestor||n[0],t)}function VR(i){i.setLayout({x:i.hierNode.prelim+i.parentNode.hierNode.modifier},!0),i.hierNode.modifier+=i.parentNode.hierNode.modifier}function i2(i){return arguments.length?i:GR}function Td(i,t){return i-=Math.PI/2,{x:t*Math.cos(i),y:t*Math.sin(i)}}function e0(i){var t=i.children;return t.length&&i.isExpand?t[t.length-1]:i.hierNode.thread}function t0(i){var t=i.children;return t.length&&i.isExpand?t[0]:i.hierNode.thread}function BR(i,t,e){return i.hierNode.ancestor.parentNode===t.parentNode?i.hierNode.ancestor:e}function FR(i,t,e){var n=e/(t.hierNode.i-i.hierNode.i);t.hierNode.change-=n,t.hierNode.shift+=e,t.hierNode.modifier+=e,t.hierNode.prelim+=e,i.hierNode.change+=n}function GR(i,t){return i.parentNode===t.parentNode?1:2}var WR=function(){this.parentPoint=[],this.childPoints=[]},HR=function(i){function t(e){return i.call(this,e)||this}return ie(t,i),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new WR},t.prototype.buildPath=function(e,n){var r=n.childPoints,o=r.length,a=n.parentPoint,s=r[0],l=r[o-1];if(1===o)return e.moveTo(a[0],a[1]),void e.lineTo(s[0],s[1]);var u=n.orient,h="TB"===u||"BT"===u?0:1,c=1-h,p=Te(n.forkPosition,1),f=[];f[h]=a[h],f[c]=a[c]+(l[c]-a[c])*p,e.moveTo(a[0],a[1]),e.lineTo(f[0],f[1]),e.moveTo(s[0],s[1]),f[h]=s[h],e.lineTo(f[0],f[1]),f[h]=l[h],e.lineTo(f[0],f[1]),e.lineTo(l[0],l[1]);for(var m=1;m<o-1;m++){var y=r[m];e.moveTo(y[0],y[1]),f[h]=y[h],e.lineTo(f[0],f[1])}},t}(gt),YR=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e._mainGroup=new Ze,e}return ie(t,i),t.prototype.init=function(e,n){this._controller=new Sd(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,n,r){var o=e.getData(),a=e.layoutInfo,s=this._mainGroup;"radial"===e.get("layout")?(s.x=a.x+a.width/2,s.y=a.y+a.height/2):(s.x=a.x,s.y=a.y),this._updateViewCoordSys(e,r),this._updateController(e,n,r);var l=this._data;o.diff(l).add(function(u){n2(o,u)&&r2(o,u,null,s,e)}).update(function(u,h){var c=l.getItemGraphicEl(h);n2(o,u)?r2(o,u,c,s,e):c&&s2(l,h,c,s,e)}).remove(function(u){var h=l.getItemGraphicEl(u);h&&s2(l,u,h,s,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===e.get("expandAndCollapse")&&o.eachItemGraphicEl(function(u,h){u.off("click").on("click",function(){r.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:h})})}),this._data=o},t.prototype._updateViewCoordSys=function(e,n){var r=e.getData(),o=[];r.each(function(c){var p=r.getItemLayout(c);!p||isNaN(p.x)||isNaN(p.y)||o.push([+p.x,+p.y])});var a=[],s=[];k(o,a,s);var l=this._min,u=this._max;s[0]-a[0]==0&&(a[0]=l?l[0]:a[0]-1,s[0]=u?u[0]:s[0]+1),s[1]-a[1]==0&&(a[1]=l?l[1]:a[1]-1,s[1]=u?u[1]:s[1]+1);var h=e.coordinateSystem=new Id;h.zoomLimit=e.get("scaleLimit"),h.setBoundingRect(a[0],a[1],s[0]-a[0],s[1]-a[1]),h.setCenter(e.get("center"),n),h.setZoom(e.get("zoom")),this.group.attr({x:h.x,y:h.y,scaleX:h.scaleX,scaleY:h.scaleY}),this._min=a,this._max=s},t.prototype._updateController=function(e,n,r){var o=this,a=this._controller,s=this._controllerHost,l=this.group;a.setPointerChecker(function(u,h,c){var p=l.getBoundingRect();return p.applyTransform(l.transform),p.contain(h,c)&&!dg(u,r,e)}),a.enable(e.get("roam")),s.zoomLimit=e.get("scaleLimit"),s.zoom=e.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(u){Xv(s,u.dx,u.dy),r.dispatchAction({seriesId:e.id,type:"treeRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){Uv(s,u.scale,u.originX,u.originY),r.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),o._updateNodeAndLinkScale(e),r.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(e){var n=e.getData(),r=this._getNodeGlobalScale(e);n.eachItemGraphicEl(function(o,a){o.setSymbolScale(r)})},t.prototype._getNodeGlobalScale=function(e){var n=e.coordinateSystem;if("view"!==n.type)return 1;var r=this._nodeScaleRatio,o=n.scaleX||1;return((n.getZoom()-1)*r+1)/o},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(Ht);function n2(i,t){var e=i.getItemLayout(t);return e&&!isNaN(e.x)&&!isNaN(e.y)}function r2(i,t,e,n,r){var o=!e,a=i.tree.getNodeByDataIndex(t),s=a.getModel(),l=a.getVisual("style").fill,u=!1===a.isExpand&&0!==a.children.length?l:"#fff",h=i.tree.root,c=a.parentNode===h?a:a.parentNode||a,p=i.getItemGraphicEl(c.dataIndex),f=c.getLayout(),m=p?{x:p.__oldX,y:p.__oldY,rawX:p.__radialOldRawX,rawY:p.__radialOldRawY}:f,y=a.getLayout();o?((e=new gd(i,t,null,{symbolInnerColor:u,useNameLabel:!0})).x=m.x,e.y=m.y):e.updateData(i,t,null,{symbolInnerColor:u,useNameLabel:!0}),e.__radialOldRawX=e.__radialRawX,e.__radialOldRawY=e.__radialRawY,e.__radialRawX=y.rawX,e.__radialRawY=y.rawY,n.add(e),i.setItemGraphicEl(t,e),e.__oldX=e.x,e.__oldY=e.y,It(e,{x:y.x,y:y.y},r);var v=e.getSymbolPath();if("radial"===r.get("layout")){var b=h.children[0],S=b.getLayout(),I=b.children.length,T=void 0,D=void 0;if(y.x===S.x&&!0===a.isExpand&&b.children.length){var A={x:(b.children[0].getLayout().x+b.children[I-1].getLayout().x)/2,y:(b.children[0].getLayout().y+b.children[I-1].getLayout().y)/2};(T=Math.atan2(A.y-S.y,A.x-S.x))<0&&(T=2*Math.PI+T),(D=A.x<S.x)&&(T-=Math.PI)}else(T=Math.atan2(y.y-S.y,y.x-S.x))<0&&(T=2*Math.PI+T),0===a.children.length||0!==a.children.length&&!1===a.isExpand?(D=y.x<S.x)&&(T-=Math.PI):(D=y.x>S.x)||(T-=Math.PI);var L=D?"left":"right",P=s.getModel("label"),E=P.get("rotate"),N=E*(Math.PI/180),z=v.getTextContent();z&&(v.setTextConfig({position:P.get("position")||L,rotation:null==E?-T:N,origin:"center"}),z.setStyle("verticalAlign","middle"))}var B=s.get(["emphasis","focus"]),W="relative"===B?Or(a.getAncestorsIndices(),a.getDescendantIndices()):"ancestor"===B?a.getAncestorsIndices():"descendant"===B?a.getDescendantIndices():null;W&&(rt(e).focus=W),function(Y,j,Z,q,K,Q,te,ne){var ce=j.getModel(),ye=Y.get("edgeShape"),re=Y.get("layout"),pe=Y.getOrient(),ve=Y.get(["lineStyle","curveness"]),be=Y.get("edgeForkPosition"),xe=ce.getModel("lineStyle").getLineStyle(),we=q.__edge;if("curve"===ye)j.parentNode&&j.parentNode!==Z&&(we||(we=q.__edge=new Ou({shape:i0(re,pe,ve,K,K)})),It(we,{shape:i0(re,pe,ve,Q,te)},Y));else if("polyline"===ye&&"orthogonal"===re&&j!==Z&&j.children&&0!==j.children.length&&!0===j.isExpand){for(var _e=j.children,Ce=[],Ne=0;Ne<_e.length;Ne++){var et=_e[Ne].getLayout();Ce.push([et.x,et.y])}we||(we=q.__edge=new HR({shape:{parentPoint:[te.x,te.y],childPoints:[[te.x,te.y]],orient:pe,forkPosition:be}})),It(we,{shape:{parentPoint:[te.x,te.y],childPoints:Ce}},Y)}we&&("polyline"!==ye||j.isExpand)&&(we.useStyle(Ve({strokeNoScale:!0,fill:null},xe)),nn(we,ce,"lineStyle"),Ks(we),ne.add(we))}(r,a,h,e,m,f,y,n),e.__edge&&(e.onHoverStateChange=function(Y){if("blur"!==Y){var j=a.parentNode&&i.getItemGraphicEl(a.parentNode.dataIndex);j&&1===j.hoverState||Hp(e.__edge,Y)}})}function o2(i,t,e,n,r){var o=a2(t.tree.root,i),a=o.source,s=o.sourceLayout,l=t.getItemGraphicEl(i.dataIndex);if(l){var u=t.getItemGraphicEl(a.dataIndex).__edge,h=l.__edge||(!1===a.isExpand||1===a.children.length?u:void 0),c=n.get("edgeShape"),p=n.get("layout"),f=n.get("orient"),m=n.get(["lineStyle","curveness"]);h&&("curve"===c?Na(h,{shape:i0(p,f,m,s,s),style:{opacity:0}},n,{cb:function(){e.remove(h)},removeOpt:r}):"polyline"===c&&"orthogonal"===n.get("layout")&&Na(h,{shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]]},style:{opacity:0}},n,{cb:function(){e.remove(h)},removeOpt:r}))}}function a2(i,t){for(var e,n=t.parentNode===i?t:t.parentNode||t;null==(e=n.getLayout());)n=n.parentNode===i?n:n.parentNode||n;return{source:n,sourceLayout:e}}function s2(i,t,e,n,r){var o=i.tree.getNodeByDataIndex(t),a=a2(i.tree.root,o).sourceLayout,s={duration:r.get("animationDurationUpdate"),easing:r.get("animationEasingUpdate")};Na(e,{x:a.x+1,y:a.y+1},r,{cb:function(){n.remove(e),i.setItemGraphicEl(t,null)},removeOpt:s}),e.fadeOut(null,i.hostModel,{fadeLabel:!0,animation:s}),o.children.forEach(function(l){o2(l,i,n,r,s)}),o2(o,i,n,r,s)}function i0(i,t,e,n,r){var o,a,s,l,u,h,c,p;if("radial"===i){h=r.rawX,p=r.rawY;var f=Td(u=n.rawX,c=n.rawY),m=Td(u,c+(p-c)*e),y=Td(h,p+(c-p)*e),v=Td(h,p);return{x1:f.x||0,y1:f.y||0,x2:v.x||0,y2:v.y||0,cpx1:m.x||0,cpy1:m.y||0,cpx2:y.x||0,cpy2:y.y||0}}return u=n.x,c=n.y,h=r.x,p=r.y,"LR"!==t&&"RL"!==t||(o=u+(h-u)*e,a=c,s=h+(u-h)*e,l=p),"TB"!==t&&"BT"!==t||(o=u,a=c+(p-c)*e,s=h,l=p+(c-p)*e),{x1:u,y1:c,x2:h,y2:p,cpx1:o,cpy1:a,cpx2:s,cpy2:l}}var Tr=_t();function l2(i){var t=i.mainData,e=i.datas;e||(e={main:t},i.datasAttr={main:"data"}),i.datas=i.mainData=null,u2(t,e,i),G(e,function(n){G(t.TRANSFERABLE_METHODS,function(r){n.wrapMethod(r,Xe(XR,i))})}),t.wrapMethod("cloneShallow",Xe(jR,i)),G(t.CHANGABLE_METHODS,function(n){t.wrapMethod(n,Xe(UR,i))}),Vt(e[t.dataType]===t)}function XR(i,t){if(Tr(this).mainData===this){var e=de({},Tr(this).datas);e[this.dataType]=t,u2(t,e,i)}else n0(t,this.dataType,Tr(this).mainData,i);return t}function UR(i,t){return i.struct&&i.struct.update(),t}function jR(i,t){return G(Tr(t).datas,function(e,n){e!==t&&n0(e.cloneShallow(),n,t,i)}),t}function ZR(i){var t=Tr(this).mainData;return null==i||null==t?t:Tr(t).datas[i]}function qR(){var i=Tr(this).mainData;return null==i?[{data:i}]:ge(dt(Tr(i).datas),function(t){return{type:t,data:Tr(i).datas[t]}})}function u2(i,t,e){Tr(i).datas={},G(t,function(n,r){n0(n,r,i,e)})}function n0(i,t,e,n){Tr(e).datas[t]=i,Tr(i).mainData=e,i.dataType=t,n.struct&&(i[n.structAttr]=n.struct,n.struct[n.datasAttr[t]]=i),i.getLinkedData=ZR,i.getLinkedDataAll=qR}var $R=function(){function i(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return i.prototype.isRemoved=function(){return this.dataIndex<0},i.prototype.eachNode=function(t,e,n){Ge(t)&&(n=e,e=t,t=null),De(t=t||{})&&(t={order:t});var r,o=t.order||"preorder",a=this[t.attr||"children"];"preorder"===o&&(r=e.call(n,this));for(var s=0;!r&&s<a.length;s++)a[s].eachNode(t,e,n);"postorder"===o&&e.call(n,this)},i.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var n=0;n<this.children.length;n++){var r=this.children[n];r.updateDepthAndHeight(t+1),r.height>e&&(e=r.height)}this.height=e+1},i.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,n=this.children,r=n.length;e<r;e++){var o=n[e].getNodeById(t);if(o)return o}},i.prototype.contains=function(t){if(t===this)return!0;for(var e=0,n=this.children,r=n.length;e<r;e++){var o=n[e].contains(t);if(o)return o}},i.prototype.getAncestors=function(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},i.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},i.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(e){t.push(e.dataIndex)}),t},i.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},i.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},i.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},i.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(t)},i.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},i.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},i.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},i.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},i.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},i.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},i.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},i.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},i}(),r0=function(){function i(t){this.type="tree",this._nodes=[],this.hostModel=t}return i.prototype.eachNode=function(t,e,n){this.root.eachNode(t,e,n)},i.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},i.prototype.getNodeById=function(t){return this.root.getNodeById(t)},i.prototype.update=function(){for(var t=this.data,e=this._nodes,n=0,r=e.length;n<r;n++)e[n].dataIndex=-1;for(n=0,r=t.count();n<r;n++)e[t.getRawIndex(n)].dataIndex=n},i.prototype.clearLayouts=function(){this.data.clearItemLayouts()},i.createTree=function(t,e,n){var r=new i(e),o=[],a=1;(function u(h,c){var p=h.value;a=Math.max(a,fe(p)?p.length:1),o.push(h);var v,b,f=new $R(ci(h.name,""),r);c?(v=f).parentNode!==(b=c)&&(b.children.push(v),v.parentNode=b):r.root=f,r._nodes.push(f);var m=h.children;if(m)for(var y=0;y<m.length;y++)u(m[y],f)})(t),r.root.updateDepthAndHeight(0);var s=ah(o,{coordDimensions:["value"],dimensionsCount:a}).dimensions,l=new yn(s,e);return l.initData(o),n&&n(l),l2({mainData:l,struct:r,structAttr:"tree"}),r.update(),r},i}();function Cd(i,t,e){if(i&&We(t,i.type)>=0){var n=e.getData().tree.root,r=i.targetNode;if(De(r)&&(r=n.getNodeById(r)),r&&n.contains(r))return{node:r};var o=i.targetNodeId;if(null!=o&&(r=n.getNodeById(o)))return{node:r}}}function h2(i){for(var t=[];i;)(i=i.parentNode)&&t.push(i);return t.reverse()}function o0(i,t){return We(h2(i),t)>=0}function vg(i,t){for(var e=[];i;){var n=i.dataIndex;e.push({name:i.name,dataIndex:n,value:t.getRawValue(n)}),i=i.parentNode}return e.reverse(),e}var KR=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return ie(t,i),t.prototype.getInitialData=function(e){var n={name:e.name,children:e.data},o=new Rt(e.leaves||{},this,this.ecModel),a=r0.createTree(n,this,function(u){u.wrapMethod("getItemModel",function(h,c){var p=a.getNodeByDataIndex(c);return p&&p.children.length&&p.isExpand||(h.parentModel=o),h})}),s=0;a.eachNode("preorder",function(u){u.depth>s&&(s=u.depth)});var l=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:s;return a.root.eachNode("preorder",function(u){var h=u.hostTree.data.getRawDataItem(u.dataIndex);u.isExpand=h&&null!=h.collapsed?!h.collapsed:u.depth<=l}),a.data},t.prototype.getOrient=function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,n,r){for(var o=this.getData().tree,a=o.root.children[0],s=o.getNodeByDataIndex(e),l=s.getValue(),u=s.name;s&&s!==a;)u=s.parentNode.name+"."+u,s=s.parentNode;return Ni("nameValue",{name:u,value:l,noValue:isNaN(l)||null==l})},t.prototype.getDataParams=function(e){var n=i.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=vg(r,this),n.collapsed=!r.isExpand,n},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(qt);function Dd(i,t){for(var e,n=[i];e=n.pop();)if(t(e),e.isExpand){var r=e.children;if(r.length)for(var o=r.length-1;o>=0;o--)n.push(r[o])}}function JR(i,t){i.eachSeriesByType("tree",function(e){!function(n,r){var L,o=(L=r,wi(n.getBoxLayoutParams(),{width:L.getWidth(),height:L.getHeight()}));n.layoutInfo=o;var a=n.get("layout"),s=0,l=0,u=null;"radial"===a?(s=2*Math.PI,l=Math.min(o.height,o.width)/2,u=i2(function(A,L){return(A.parentNode===L.parentNode?1:2)/A.depth})):(s=o.width,l=o.height,u=i2());var h=n.getData().tree.root,c=h.children[0];if(c){(function(A){var L=A;L.hierNode={defaultAncestor:null,ancestor:L,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var P,E,N=[L];P=N.pop();)if(E=P.children,P.isExpand&&E.length)for(var z=E.length-1;z>=0;z--){var B=E[z];B.hierNode={defaultAncestor:null,ancestor:B,prelim:0,modifier:0,change:0,shift:0,i:z,thread:null},N.push(B)}})(h),function(A,L,P){for(var E,N=[A],z=[];E=N.pop();)if(z.push(E),E.isExpand){var B=E.children;if(B.length)for(var W=0;W<B.length;W++)N.push(B[W])}for(;E=z.pop();)L(E,P)}(c,zR,u),h.hierNode.modifier=-c.hierNode.prelim,Dd(c,VR);var p=c,f=c,m=c;Dd(c,function(A){var L=A.getLayout().x;L<p.getLayout().x&&(p=A),L>f.getLayout().x&&(f=A),A.depth>m.depth&&(m=A)});var y=p===f?1:u(p,f)/2,v=y-p.getLayout().x,b=0,S=0,I=0,T=0;if("radial"===a)b=s/(f.getLayout().x+y+v),S=l/(m.depth-1||1),Dd(c,function(A){var L=Td(I=(A.getLayout().x+v)*b,T=(A.depth-1)*S);A.setLayout({x:L.x,y:L.y,rawX:I,rawY:T},!0)});else{var D=n.getOrient();"RL"===D||"LR"===D?(S=l/(f.getLayout().x+y+v),b=s/(m.depth-1||1),Dd(c,function(A){T=(A.getLayout().x+v)*S,A.setLayout({x:I="LR"===D?(A.depth-1)*b:s-(A.depth-1)*b,y:T},!0)})):"TB"!==D&&"BT"!==D||(b=s/(f.getLayout().x+y+v),S=l/(m.depth-1||1),Dd(c,function(A){I=(A.getLayout().x+v)*b,A.setLayout({x:I,y:T="TB"===D?(A.depth-1)*S:l-(A.depth-1)*S},!0)}))}}}(e,t)})}function QR(i){i.eachSeriesByType("tree",function(t){var e=t.getData();e.tree.eachNode(function(n){var r=n.getModel().getModel("itemStyle").getItemStyle();de(e.ensureUniqueItemVisual(n.dataIndex,"style"),r)})})}var c2=["treemapZoomToNode","treemapRender","treemapMove"];function d2(i){var t=i.getData().tree,e={};t.eachNode(function(n){for(var r=n;r&&r.depth>1;)r=r.parentNode;var o=ay(i.ecModel,r.name||r.dataIndex+"",e);n.setVisual("decal",o)})}var eE=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.preventUsingHoverLayer=!0,e}return ie(t,i),t.prototype.getInitialData=function(e,n){var r={name:e.name,children:e.data};p2(r);var o=e.levels||[],a=this.designatedVisualItemStyle={},s=new Rt({itemStyle:a},this,n),l=ge((o=e.levels=function(h,c){var p,f,m=Gt(c.get("color")),y=Gt(c.get(["aria","decal","decals"]));if(m){G(h=h||[],function(b){var S=new Rt(b),I=S.get("color"),T=S.get("decal");(S.get(["itemStyle","color"])||I&&"none"!==I)&&(p=!0),(S.get(["itemStyle","decal"])||T&&"none"!==T)&&(f=!0)});var v=h[0]||(h[0]={});return p||(v.color=m.slice()),!f&&y&&(v.decal=y.slice()),h}}(o,n))||[],function(h){return new Rt(h,s,n)},this),u=r0.createTree(r,this,function(h){h.wrapMethod("getItemModel",function(c,p){var f=u.getNodeByDataIndex(p);return c.parentModel=(f?l[f.depth]:null)||s,c})});return u.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,n,r){var o=this.getData(),a=this.getRawValue(e);return Ni("nameValue",{name:o.getName(e),value:a})},t.prototype.getDataParams=function(e){var n=i.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=vg(r,this),n.treePathInfo=n.treeAncestors,n},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},de(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var n=this._idIndexMap;n||(n=this._idIndexMap=ze(),this._idIndexMapCount=0);var r=n.get(e);return null==r&&n.set(e,r=this._idIndexMapCount++),r},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var n=this.getRawData().tree.root;e&&(e===n||n.contains(e))||(this._viewRoot=n)},t.prototype.enableAriaDecal=function(){d2(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(qt);function p2(i){var t=0;G(i.children,function(n){p2(n);var r=n.value;fe(r)&&(r=r[0]),t+=r});var e=i.value;fe(e)&&(e=e[0]),(null==e||isNaN(e))&&(e=t),e<0&&(e=0),fe(i.value)?i.value[0]=e:i.value=e}var tE=function(){function i(t){this.group=new Ze,t.add(this.group)}return i.prototype.render=function(t,e,n,r){var o=t.getModel("breadcrumb"),a=this.group;if(a.removeAll(),o.get("show")&&n){var s=o.getModel("itemStyle"),l=o.getModel("emphasis"),u=s.getModel("textStyle"),h=l.getModel(["itemStyle","textStyle"]),c={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,c,u),this._renderContent(t,c,s,l,u,h,r),pf(a,c.pos,c.box)}},i.prototype._prepare=function(t,e,n){for(var r=t;r;r=r.parentNode){var o=ci(r.getModel().get("name"),""),a=n.getTextRect(o),s=Math.max(a.width+16,e.emptyItemWidth);e.totalWidth+=s+8,e.renderList.push({node:r,text:o,width:s})}},i.prototype._renderContent=function(t,e,n,r,o,a,s){for(var l,u,h,c,p,f,m,y,v,b=0,S=e.emptyItemWidth,I=t.get(["breadcrumb","height"]),T=(p=(u=e.box).height,f=Te((l=e.pos).left,c=u.width),m=Te(l.top,p),y=Te(l.right,c),v=Te(l.bottom,p),(isNaN(f)||isNaN(parseFloat(l.left)))&&(f=0),(isNaN(y)||isNaN(parseFloat(l.right)))&&(y=c),(isNaN(m)||isNaN(parseFloat(l.top)))&&(m=0),(isNaN(v)||isNaN(parseFloat(l.bottom)))&&(v=p),h=il(h||0),{width:Math.max(y-f-h[1]-h[3],0),height:Math.max(v-m-h[0]-h[2],0)}),D=e.totalWidth,A=e.renderList,L=r.getModel("itemStyle").getItemStyle(),P=A.length-1;P>=0;P--){var E=A[P],N=E.node,z=E.width,B=E.text;D>T.width&&(D-=z-S,z=S,B=null);var W=new fn({shape:{points:iE(b,0,z,I,P===A.length-1,0===P)},style:Ve(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new Mt({style:Kt(o,{text:B})}),textConfig:{position:"inside"},z2:1e5,onclick:Xe(s,N)});W.disableLabelAnimation=!0,W.getTextContent().ensureState("emphasis").style=Kt(a,{text:B}),W.ensureState("emphasis").style=L,hi(W,r.get("focus"),r.get("blurScope"),r.get("disabled")),this.group.add(W),nE(W,t,N),b+=z+8}},i.prototype.remove=function(){this.group.removeAll()},i}();function iE(i,t,e,n,r,o){var a=[[r?i:i-5,t],[i+e,t],[i+e,t+n],[r?i:i-5,t+n]];return!o&&a.splice(2,0,[i+e+5,t+n/2]),!r&&a.push([i,t+n/2]),a}function nE(i,t,e){rt(i).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:e&&e.dataIndex,name:e&&e.name},treePathInfo:e&&vg(e,t)}}var rE=function(){function i(){this._storage=[],this._elExistsMap={}}return i.prototype.add=function(t,e,n,r,o){return!this._elExistsMap[t.id]&&(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:n,delay:r,easing:o}),!0)},i.prototype.finished=function(t){return this._finishedCallback=t,this},i.prototype.start=function(){for(var t=this,e=this._storage.length,n=function(){--e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},r=0,o=this._storage.length;r<o;r++){var a=this._storage[r];a.el.animateTo(a.target,{duration:a.duration,delay:a.delay,easing:a.easing,setToFinal:!0,done:n,aborted:n})}return this},i}(),a0=Ze,f2=St,m2="upperLabel",wl=Jo([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),y2=function(i){var t=wl(i);return t.stroke=t.fill=t.lineWidth=null,t},xg=_t(),oE=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e._state="ready",e._storage={nodeGroup:[],background:[],content:[]},e}return ie(t,i),t.prototype.render=function(e,n,r,o){if(!(We(n.findComponents({mainType:"series",subType:"treemap",query:o}),e)<0)){this.seriesModel=e,this.api=r,this.ecModel=n;var a=Cd(o,["treemapZoomToNode","treemapRootToNode"],e),s=o&&o.type,l=e.layoutInfo,u=!this._oldTree,h=this._storage,c="treemapRootToNode"===s&&a&&h?{rootNodeGroup:h.nodeGroup[a.node.getRawIndex()],direction:o.direction}:null,p=this._giveContainerGroup(l),f=e.get("animation"),m=this._doRender(p,e,c);!f||u||s&&"treemapZoomToNode"!==s&&"treemapRootToNode"!==s?m.renderFinally():this._doAnimation(p,m,e,c),this._resetController(r),this._renderBreadcrumb(e,r,a)}},t.prototype._giveContainerGroup=function(e){var n=this._containerGroup;return n||(n=this._containerGroup=new a0,this._initEvents(n),this.group.add(n)),n.x=e.x,n.y=e.y,n},t.prototype._doRender=function(e,n,r){var o=n.getData().tree,a=this._oldTree,s={nodeGroup:[],background:[],content:[]},l={nodeGroup:[],background:[],content:[]},u=this._storage,h=[];!function f(m,y,v,b,S){function I(D){return D.getId()}function T(D,A){var L=null!=D?m[D]:null,P=null!=A?y[A]:null,E=function c(f,m,y,v){return function(b,S,I,T,D,A,L,P,E,N){if(L){var z=L.getLayout(),B=b.getData(),W=L.getModel();if(B.setItemGraphicEl(L.dataIndex,null),z&&z.isInView){var Y=z.width,j=z.height,Z=z.borderWidth,q=z.invisible,K=L.getRawIndex(),Q=P&&P.getRawIndex(),te=L.viewChildren,ne=z.upperHeight,ce=te&&te.length,ye=W.getModel("itemStyle"),re=W.getModel(["emphasis","itemStyle"]),pe=W.getModel(["blur","itemStyle"]),ve=W.getModel(["select","itemStyle"]),be=ye.get("borderRadius")||0,xe=Mi("nodeGroup",a0);if(xe){if(E.add(xe),xe.x=z.x||0,xe.y=z.y||0,xe.markRedraw(),xg(xe).nodeWidth=Y,xg(xe).nodeHeight=j,z.isAboveViewRoot)return xe;var we=Mi("background",f2,N,20);we&&function ct(Dt,lt,tt){var Jt=rt(lt);if(Jt.dataIndex=L.dataIndex,Jt.seriesIndex=b.seriesIndex,lt.setShape({x:0,y:0,width:Y,height:j,r:be}),q)Yt(lt);else{lt.invisible=!1;var oi=L.getVisual("style"),vi=oi.stroke,xi=y2(ye);xi.fill=vi;var _i=wl(re);_i.fill=re.get("borderColor");var Qr=wl(pe);Qr.fill=pe.get("borderColor");var da=wl(ve);da.fill=ve.get("borderColor"),tt?$t(lt,vi,oi.opacity,{x:Z,y:0,width:Y-2*Z,height:ne}):lt.removeTextContent(),lt.setStyle(xi),lt.ensureState("emphasis").style=_i,lt.ensureState("blur").style=Qr,lt.ensureState("select").style=da,Ks(lt)}Dt.add(lt)}(xe,we,ce&&z.upperLabelHeight);var _e=W.getModel("emphasis"),Ce=_e.get("focus"),Ne=_e.get("blurScope"),et=_e.get("disabled"),ot="ancestor"===Ce?L.getAncestorsIndices():"descendant"===Ce?L.getDescendantIndices():Ce;if(ce)Ic(xe)&&Js(xe,!1),we&&(Js(we,!et),B.setItemGraphicEl(L.dataIndex,we),Im(we,ot,Ne));else{var Bt=Mi("content",f2,N,30);Bt&&function vt(Dt,lt){var tt=rt(lt);tt.dataIndex=L.dataIndex,tt.seriesIndex=b.seriesIndex;var Jt=Math.max(Y-2*Z,0),oi=Math.max(j-2*Z,0);if(lt.culling=!0,lt.setShape({x:Z,y:Z,width:Jt,height:oi,r:be}),q)Yt(lt);else{lt.invisible=!1;var vi=L.getVisual("style"),xi=vi.fill,_i=y2(ye);_i.fill=xi,_i.decal=vi.decal;var Qr=wl(re),da=wl(pe),kh=wl(ve);$t(lt,xi,vi.opacity,null),lt.setStyle(_i),lt.ensureState("emphasis").style=Qr,lt.ensureState("blur").style=da,lt.ensureState("select").style=kh,Ks(lt)}Dt.add(lt)}(xe,Bt),we.disableMorphing=!0,we&&Ic(we)&&Js(we,!1),Js(xe,!et),B.setItemGraphicEl(L.dataIndex,xe),Im(xe,ot,Ne)}return xe}}}function Yt(Dt){!Dt.invisible&&A.push(Dt)}function $t(Dt,lt,tt,Jt){var oi=W.getModel(Jt?m2:"label"),vi=ci(W.get("name"),null),xi=oi.getShallow("show");rn(Dt,Ei(W,Jt?m2:"label"),{defaultText:xi?vi:null,inheritColor:lt,defaultOpacity:tt,labelFetcher:b,labelDataIndex:L.dataIndex});var _i=Dt.getTextContent();if(_i){var Qr=_i.style,da=ri(Qr.padding||0);Jt&&(Dt.setTextConfig({layoutRect:Jt}),_i.disableLabelLayout=!0),_i.beforeUpdate=function(){var qA=Math.max((Jt?Jt.width:Dt.shape.width)-da[1]-da[3],0),$A=Math.max((Jt?Jt.height:Dt.shape.height)-da[0]-da[2],0);Qr.width===qA&&Qr.height===$A||_i.setStyle({width:qA,height:$A})},Qr.truncateMinChar=2,Qr.lineOverflow="truncate",yi(Qr,Jt,z);var kh=_i.getState("emphasis");yi(kh?kh.style:null,Jt,z)}}function yi(Dt,lt,tt){var Jt=Dt?Dt.text:null;if(!lt&&tt.isLeafRoot&&null!=Jt){var oi=b.get("drillDownIcon",!0);Dt.text=oi?oi+" "+Jt:Jt}}function Mi(Dt,lt,tt,Jt){var oi=null!=Q&&I[Dt][Q],vi=D[Dt];return oi?(I[Dt][Q]=null,function Yn(Dt,lt){var tt=Dt[K]={};lt instanceof a0?(tt.oldX=lt.x,tt.oldY=lt.y):tt.oldShape=de({},lt.shape)}(vi,oi)):q||((oi=new lt)instanceof Yi&&(oi.z2=100*tt+Jt),function Mo(Dt,lt){var tt=Dt[K]={},Jt=L.parentNode,oi=lt instanceof Ze;if(Jt&&(!T||"drillDown"===T.direction)){var vi=0,xi=0,_i=D.background[Jt.getRawIndex()];!T&&_i&&_i.oldShape&&(vi=_i.oldShape.width,xi=_i.oldShape.height),oi?(tt.oldX=0,tt.oldY=xi):tt.oldShape={x:vi,y:xi,width:0,height:0}}tt.fadein=!oi}(vi,oi)),S[Dt][K]=oi}}(n,l,u,r,s,h,f,m,y,v)}(L,P,v,S);E&&f(L&&L.viewChildren||[],P&&P.viewChildren||[],E,b,S+1)}b?(y=m,G(m,function(D,A){!D.isRemoved()&&T(A,A)})):new ra(y,m,I,I).add(T).update(T).remove(Xe(T,null)).execute()}(o.root?[o.root]:[],a&&a.root?[a.root]:[],e,o===a||!a,0);var f,m,p=(m={nodeGroup:[],background:[],content:[]},(f=u)&&G(f,function(y,v){var b=m[v];G(y,function(S){S&&(b.push(S),xg(S).willDelete=!0)})}),m);return this._oldTree=o,this._storage=l,{lastsForAnimation:s,willDeleteEls:p,renderFinally:function(){G(p,function(f){G(f,function(m){m.parent&&m.parent.remove(m)})}),G(h,function(f){f.invisible=!0,f.dirty()})}}},t.prototype._doAnimation=function(e,n,r,o){var a=r.get("animationDurationUpdate"),s=r.get("animationEasing"),l=(Ge(a)?0:a)||0,u=(Ge(s)?null:s)||"cubicOut",h=new rE;G(n.willDeleteEls,function(c,p){G(c,function(f,m){if(!f.invisible){var y,v=f.parent,b=xg(v);if(o&&"drillDown"===o.direction)y=v===o.rootNodeGroup?{shape:{x:0,y:0,width:b.nodeWidth,height:b.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var S=0,I=0;b.willDelete||(S=b.nodeWidth/2,I=b.nodeHeight/2),y="nodeGroup"===p?{x:S,y:I,style:{opacity:0}}:{shape:{x:S,y:I,width:0,height:0},style:{opacity:0}}}y&&h.add(f,y,l,0,u)}})}),G(this._storage,function(c,p){G(c,function(f,m){var y=n.lastsForAnimation[p][m],v={};y&&(f instanceof Ze?null!=y.oldX&&(v.x=f.x,v.y=f.y,f.x=y.oldX,f.y=y.oldY):(y.oldShape&&(v.shape=de({},f.shape),f.setShape(y.oldShape)),y.fadein?(f.setStyle("opacity",0),v.style={opacity:1}):1!==f.style.opacity&&(v.style={opacity:1})),h.add(f,v,l,0,u))})},this),this._state="animating",h.finished(ke(function(){this._state="ready",n.renderFinally()},this)).start()},t.prototype._resetController=function(e){var n=this._controller;n||((n=this._controller=new Sd(e.getZr())).enable(this.seriesModel.get("roam")),n.on("pan",ke(this._onPan,this)),n.on("zoom",ke(this._onZoom,this)));var r=new st(0,0,e.getWidth(),e.getHeight());n.setPointerChecker(function(o,a,s){return r.contain(a,s)})},t.prototype._clearController=function(){var e=this._controller;e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var n=this.seriesModel.getData().tree.root;if(!n)return;var r=n.getLayout();if(!r)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x+e.dx,y:r.y+e.dy,width:r.width,height:r.height}})}},t.prototype._onZoom=function(e){var n=e.originX,r=e.originY;if("animating"!==this._state){var o=this.seriesModel.getData().tree.root;if(!o)return;var a=o.getLayout();if(!a)return;var s=new st(a.x,a.y,a.width,a.height),l=this.seriesModel.layoutInfo,u=[1,0,0,1,0,0];Di(u,u,[-(n-=l.x),-(r-=l.y)]),Ao(u,u,[e.scale,e.scale]),Di(u,u,[n,r]),s.applyTransform(u),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:s.x,y:s.y,width:s.width,height:s.height}})}},t.prototype._initEvents=function(e){var n=this;e.on("click",function(r){if("ready"===n._state){var o=n.seriesModel.get("nodeClick",!0);if(o){var a=n.findTarget(r.offsetX,r.offsetY);if(a){var s=a.node;if(s.getLayout().isLeafRoot)n._rootToNode(a);else if("zoomToNode"===o)n._zoomToNode(a);else if("link"===o){var l=s.hostTree.data.getItemModel(s.dataIndex),u=l.get("link",!0),h=l.get("target",!0)||"blank";u&&cf(u,h)}}}}},this)},t.prototype._renderBreadcrumb=function(e,n,r){var o=this;r||(r=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(n.getWidth()/2,n.getHeight()/2))||(r={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new tE(this.group))).render(e,n,r.node,function(a){"animating"!==o._state&&(o0(e.getViewRoot(),a)?o._rootToNode({node:a}):o._zoomToNode({node:a}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,n){var r;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(o){var a=this._storage.background[o.getRawIndex()];if(a){var s=a.transformCoordToLocal(e,n),l=a.shape;if(!(l.x<=s[0]&&s[0]<=l.x+l.width&&l.y<=s[1]&&s[1]<=l.y+l.height))return!1;r={node:o,offsetX:s[0],offsetY:s[1]}}},this),r},t.type="treemap",t}(Ht),Ad=G,aE=le,Vi=function(){function i(t){var e=t.mappingMethod,n=t.type,r=this.option=Ue(t);this.type=n,this.mappingMethod=e,this._normalizeData=sE[e];var a,s,o=i.visualHandlers[n];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._normalizedToVisual=o._normalizedToVisual[e],"piecewise"===e?(l0(r),s=(a=r).pieceList,a.hasSpecialVisual=!1,G(s,function(l,u){l.originIndex=u,null!=l.visual&&(a.hasSpecialVisual=!0)})):"category"===e?r.categories?function(a){var s=a.categories,l=a.categoryMap={},u=a.visual;if(Ad(s,function(p,f){l[p]=f}),!fe(u)){var h=[];le(u)?Ad(u,function(p,f){h[l[f]??-1]=p}):h[-1]=u,u=x2(a,h)}for(var c=s.length-1;c>=0;c--)null==u[c]&&(delete l[s[c]],s.pop())}(r):l0(r,!0):(Vt("linear"!==e||r.dataExtent),l0(r))}return i.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},i.prototype.getNormalizer=function(){return ke(this._normalizeData,this)},i.listVisualTypes=function(){return dt(i.visualHandlers)},i.isValidType=function(t){return i.visualHandlers.hasOwnProperty(t)},i.eachVisual=function(t,e,n){le(t)?G(t,e,n):e.call(n,t)},i.mapVisual=function(t,e,n){var r,o=fe(t)?[]:le(t)?{}:(r=!0,null);return i.eachVisual(t,function(a,s){var l=e.call(n,a,s);r?o=l:o[s]=l}),o},i.retrieveVisuals=function(t){var e,n={};return t&&Ad(i.visualHandlers,function(r,o){t.hasOwnProperty(o)&&(n[o]=t[o],e=!0)}),e?n:null},i.prepareVisualTypes=function(t){if(fe(t))t=t.slice();else{if(!aE(t))return[];var e=[];Ad(t,function(n,r){e.push(r)}),t=e}return t.sort(function(n,r){return"color"===r&&"color"!==n&&0===n.indexOf("color")?1:-1}),t},i.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},i.findPieceIndex=function(t,e,n){for(var r,o=1/0,a=0,s=e.length;a<s;a++){var l=e[a].value;if(null!=l){if(l===t||De(l)&&l===t+"")return a;n&&p(l,a)}}for(a=0,s=e.length;a<s;a++){var u=e[a],h=u.interval,c=u.close;if(h){if(h[0]===-1/0){if(bg(c[1],t,h[1]))return a}else if(h[1]===1/0){if(bg(c[0],h[0],t))return a}else if(bg(c[0],h[0],t)&&bg(c[1],t,h[1]))return a;n&&p(h[0],a),n&&p(h[1],a)}}if(n)return t===1/0?e.length-1:t===-1/0?0:r;function p(f,m){var y=Math.abs(f-t);y<o&&(o=y,r=m)}},i.visualHandlers={color:{applyVisual:kd("color"),getColorMapper:function(){var t=this.option;return ke("category"===t.mappingMethod?function(e,n){return!n&&(e=this._normalizeData(e)),Ld.call(this,e)}:function(e,n,r){var o=!!r;return!n&&(e=this._normalizeData(e)),r=_a(e,t.parsedVisual,r),o?r:Rn(r,"rgba")},this)},_normalizedToVisual:{linear:function(t){return Rn(_a(t,this.option.parsedVisual),"rgba")},category:Ld,piecewise:function(t,e){var n=h0.call(this,e);return null==n&&(n=Rn(_a(t,this.option.parsedVisual),"rgba")),n},fixed:Sl}},colorHue:_g(function(t,e){return ba(t,e)}),colorSaturation:_g(function(t,e){return ba(t,null,e)}),colorLightness:_g(function(t,e){return ba(t,null,null,e)}),colorAlpha:_g(function(t,e){return wa(t,e)}),decal:{applyVisual:kd("decal"),_normalizedToVisual:{linear:null,category:Ld,piecewise:null,fixed:null}},opacity:{applyVisual:kd("opacity"),_normalizedToVisual:u0([0,1])},liftZ:{applyVisual:kd("liftZ"),_normalizedToVisual:{linear:Sl,category:Sl,piecewise:Sl,fixed:Sl}},symbol:{applyVisual:function(t,e,n){n("symbol",this.mapValueToVisual(t))},_normalizedToVisual:{linear:v2,category:Ld,piecewise:function(t,e){var n=h0.call(this,e);return null==n&&(n=v2.call(this,t)),n},fixed:Sl}},symbolSize:{applyVisual:kd("symbolSize"),_normalizedToVisual:u0([0,1])}},i}();function l0(i,t){var e=i.visual,n=[];le(e)?Ad(e,function(r){n.push(r)}):null!=e&&n.push(e),t||1!==n.length||{color:1,symbol:1}.hasOwnProperty(i.type)||(n[1]=n[0]),x2(i,n)}function _g(i){return{applyVisual:function(t,e,n){var r=this.mapValueToVisual(t);n("color",i(e("color"),r))},_normalizedToVisual:u0([0,1])}}function v2(i){var t=this.option.visual;return t[Math.round(zt(i,[0,1],[0,t.length-1],!0))]||{}}function kd(i){return function(t,e,n){n(i,this.mapValueToVisual(t))}}function Ld(i){var t=this.option.visual;return t[this.option.loop&&-1!==i?i%t.length:i]}function Sl(){return this.option.visual[0]}function u0(i){return{linear:function(t){return zt(t,i,this.option.visual,!0)},category:Ld,piecewise:function(t,e){var n=h0.call(this,e);return null==n&&(n=zt(t,i,this.option.visual,!0)),n},fixed:Sl}}function h0(i){var t=this.option,e=t.pieceList;if(t.hasSpecialVisual){var n=e[Vi.findPieceIndex(i,e)];if(n&&n.visual)return n.visual[this.type]}}function x2(i,t){return i.visual=t,"color"===i.type&&(i.parsedVisual=ge(t,function(e){return Ki(e)||[0,0,0,1]})),t}var sE={linear:function(i){return zt(i,this.option.dataExtent,[0,1],!0)},piecewise:function(i){var t=this.option.pieceList,e=Vi.findPieceIndex(i,t,!0);if(null!=e)return zt(e,[0,t.length-1],[0,1],!0)},category:function(i){return(this.option.categories?this.option.categoryMap[i]:i)??-1},fixed:jt};function bg(i,t,e){return i?t<=e:t<e}var _2=_t(),lE={seriesType:"treemap",reset:function(i){var t=i.getData().tree.root;t.isRemoved()||b2(t,{},i.getViewRoot().getAncestors(),i)}};function b2(i,t,e,n){var y,v,b,S,I,r=i.getModel(),o=i.getLayout(),a=i.hostTree.data;if(o&&!o.invisible&&o.isInView){var s,l=r.getModel("itemStyle"),u=(y=l,b=n,S=de({},v=t),I=b.designatedVisualItemStyle,G(["color","colorAlpha","colorSaturation"],function(T){I[T]=v[T];var D=y.get(T);I[T]=null,null!=D&&(S[T]=D)}),S),h=a.ensureUniqueItemVisual(i.dataIndex,"style"),c=l.get("borderColor"),p=l.get("borderColorSaturation");null!=p&&(c=function(y,v){return null!=v?ba(v,null,null,y):null}(p,s=w2(u))),h.stroke=c;var f=i.viewChildren;if(f&&f.length){var m=function(y,v,b,S,I,T){if(T&&T.length){var D=d0(v,"color")||null!=I.color&&"none"!==I.color&&(d0(v,"colorAlpha")||d0(v,"colorSaturation"));if(D){var A=v.get("visualMin"),L=v.get("visualMax"),P=b.dataExtent.slice();null!=A&&A<P[0]&&(P[0]=A),null!=L&&L>P[1]&&(P[1]=L);var E=v.get("colorMappingBy"),N={type:D.name,dataExtent:P,visual:D.range};"color"!==N.type||"index"!==E&&"id"!==E?N.mappingMethod="linear":(N.mappingMethod="category",N.loop=!0);var z=new Vi(N);return _2(z).drColorMappingBy=E,z}}}(0,r,o,0,u,f);G(f,function(y,v){if(y.depth>=e.length||y===e[y.depth]){var b=function(S,I,T,D,A,L){var P=de({},I);if(A){var E=A.type,N="color"===E&&_2(A).drColorMappingBy,z="index"===N?D:"id"===N?L.mapIdToIndex(T.getId()):T.getValue(S.get("visualDimension"));P[E]=A.mapValueToVisual(z)}return P}(r,u,y,v,m,n);b2(y,b,e,n)}})}else s=w2(u),h.fill=s}}function w2(i){var t=c0(i,"color");if(t){var e=c0(i,"colorAlpha"),n=c0(i,"colorSaturation");return n&&(t=ba(t,null,null,n)),e&&(t=wa(t,e)),t}}function c0(i,t){var e=i[t];if(null!=e&&"none"!==e)return e}function d0(i,t){var e=i.get(t);return fe(e)&&e.length?{name:t,range:e}:null}var Pd=Math.max,wg=Math.min,S2=kt,p0=G,M2=["itemStyle","borderWidth"],uE=["itemStyle","gapWidth"],hE=["upperLabel","show"],cE=["upperLabel","height"],dE={seriesType:"treemap",reset:function(i,t,e,n){var r=e.getWidth(),o=e.getHeight(),a=i.option,s=wi(i.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),l=a.size||[],u=Te(S2(s.width,l[0]),r),h=Te(S2(s.height,l[1]),o),c=n&&n.type,p=Cd(n,["treemapZoomToNode","treemapRootToNode"],i),f="treemapRender"===c||"treemapMove"===c?n.rootRect:null,m=i.getViewRoot(),y=h2(m);if("treemapMove"!==c){var v="treemapZoomToNode"===c?function(D,A,L,P,E){var N,z=(A||{}).node,B=[P,E];if(!z||z===L)return B;for(var W=P*E,Y=W*D.option.zoomToNodeRatio;N=z.parentNode;){for(var j=0,Z=N.children,q=0,K=Z.length;q<K;q++)j+=Z[q].getValue();var Q=z.getValue();if(0===Q)return B;Y*=j/Q;var te=N.getModel(),ne=te.get(M2);(Y+=4*ne*ne+(3*ne+Math.max(ne,D2(te)))*Math.pow(Y,.5))>hc&&(Y=hc),z=N}Y<W&&(Y=W);var ce=Math.pow(Y/W,.5);return[P*ce,E*ce]}(i,p,m,u,h):f?[f.width,f.height]:[u,h],b=a.sort;b&&"asc"!==b&&"desc"!==b&&(b="desc");var S={squareRatio:a.squareRatio,sort:b,leafDepth:a.leafDepth};m.hostTree.clearLayouts();var I={x:0,y:0,width:v[0],height:v[1],area:v[0]*v[1]};m.setLayout(I),I2(m,S,!1,0),I=m.getLayout(),p0(y,function(D,A){var L=(y[A+1]||m).getValue();D.setLayout(de({dataExtent:[L,L],borderWidth:0,upperHeight:0},I))})}var T=i.getData().tree.root;T.setLayout(function(D,A,L){if(A)return{x:A.x,y:A.y};var P={x:0,y:0};if(!L)return P;var E=L.node,N=E.getLayout();if(!N)return P;for(var z=[N.width/2,N.height/2],B=E;B;){var W=B.getLayout();z[0]+=W.x,z[1]+=W.y,B=B.parentNode}return{x:D.width/2-z[0],y:D.height/2-z[1]}}(s,f,p),!0),i.setLayoutInfo(s),C2(T,new st(-s.x,-s.y,r,o),y,m,0)}};function I2(i,t,e,n){var r,o;if(!i.isRemoved()){var a=i.getLayout();r=a.width,o=a.height;var s=i.getModel(),l=s.get(M2),u=s.get(uE)/2,h=D2(s),c=Math.max(l,h),p=l-u,f=c-u;i.setLayout({borderWidth:l,upperHeight:c,upperLabelHeight:h},!0);var m=(r=Pd(r-2*p,0))*(o=Pd(o-p-f,0)),y=function(E,N,z,B,W,Y){var j=E.children||[],Z=B.sort;"asc"!==Z&&"desc"!==Z&&(Z=null);var ye,q=null!=B.leafDepth&&B.leafDepth<=Y;if(W&&!q)return E.viewChildren=[];j=xt(j,function(ce){return!ce.isRemoved()}),(ye=Z)&&j.sort(function(re,pe){var ve="asc"===ye?re.getValue()-pe.getValue():pe.getValue()-re.getValue();return 0===ve?"asc"===ye?re.dataIndex-pe.dataIndex:pe.dataIndex-re.dataIndex:ve});var K=function(ce,ye,re){for(var pe=0,ve=0,be=ye.length;ve<be;ve++)pe+=ye[ve].getValue();var xe,we=ce.get("visualDimension");return ye&&ye.length?"value"===we&&re?(xe=[ye[ye.length-1].getValue(),ye[0].getValue()],"asc"===re&&xe.reverse()):(xe=[1/0,-1/0],p0(ye,function(_e){var Ce=_e.getValue(we);Ce<xe[0]&&(xe[0]=Ce),Ce>xe[1]&&(xe[1]=Ce)})):xe=[NaN,NaN],{sum:pe,dataExtent:xe}}(N,j,Z);if(0===K.sum)return E.viewChildren=[];if(K.sum=function(ce,ye,re,pe,ve){if(!pe)return re;for(var be=ce.get("visibleMin"),xe=ve.length,we=xe,_e=xe-1;_e>=0;_e--){var Ce=ve["asc"===pe?xe-_e-1:_e].getValue();Ce/re*ye<be&&(we=_e,re-=Ce)}return ve.splice("asc"===pe?0:we,xe-we),re}(N,z,K.sum,Z,j),0===K.sum)return E.viewChildren=[];for(var Q=0,te=j.length;Q<te;Q++){var ne=j[Q].getValue()/K.sum*z;j[Q].setLayout({area:ne})}return q&&(j.length&&E.setLayout({isLeafRoot:!0},!0),j.length=0),E.viewChildren=j,E.setLayout({dataExtent:K.dataExtent},!0),j}(i,s,m,t,e,n);if(y.length){var v={x:p,y:f,width:r,height:o},b=wg(r,o),S=1/0,I=[];I.area=0;for(var T=0,D=y.length;T<D;){var A=y[T];I.push(A),I.area+=A.getLayout().area;var L=pE(I,b,t.squareRatio);L<=S?(T++,S=L):(I.area-=I.pop().getLayout().area,T2(I,b,v,u,!1),b=wg(v.width,v.height),I.length=I.area=0,S=1/0)}if(I.length&&T2(I,b,v,u,!0),!e){var P=s.get("childrenVisibleMin");null!=P&&m<P&&(e=!0)}for(T=0,D=y.length;T<D;T++)I2(y[T],t,e,n+1)}}}function pE(i,t,e){for(var n=0,r=1/0,o=0,a=void 0,s=i.length;o<s;o++)(a=i[o].getLayout().area)&&(a<r&&(r=a),a>n&&(n=a));var l=i.area*i.area,u=t*t*e;return l?Pd(u*n/l,l/(u*r)):1/0}function T2(i,t,e,n,r){var o=t===e.width?0:1,a=1-o,s=["x","y"],l=["width","height"],u=e[s[o]],h=t?i.area/t:0;(r||h>e[l[a]])&&(h=e[l[a]]);for(var c=0,p=i.length;c<p;c++){var f=i[c],m={},y=h?f.getLayout().area/h:0,v=m[l[a]]=Pd(h-2*n,0),b=e[s[o]]+e[l[o]]-u,S=c===p-1||b<y?b:y,I=m[l[o]]=Pd(S-2*n,0);m[s[a]]=e[s[a]]+wg(n,v/2),m[s[o]]=u+wg(n,I/2),u+=S,f.setLayout(m,!0)}e[s[a]]+=h,e[l[a]]-=h}function C2(i,t,e,n,r){var o=i.getLayout(),a=e[r],s=a&&a===i;if(!(a&&!s||r===e.length&&i!==n)){i.setLayout({isInView:!0,invisible:!s&&!t.intersect(o),isAboveViewRoot:s},!0);var l=new st(t.x-o.x,t.y-o.y,t.width,t.height);p0(i.viewChildren||[],function(u){C2(u,l,e,n,r+1)})}}function D2(i){return i.get(hE)?i.get(cE):0}function fE(i){var t=i.findComponents({mainType:"legend"});t&&t.length&&i.eachSeriesByType("graph",function(e){var n=e.getCategoriesData(),r=e.getGraph().data,o=n.mapArray(n.getName);r.filterSelf(function(a){var s=r.getItemModel(a).getShallow("category");if(null!=s){oe(s)&&(s=o[s]);for(var l=0;l<t.length;l++)if(!t[l].isSelected(s))return!1}return!0})})}function gE(i){var t={};i.eachSeriesByType("graph",function(e){var n=e.getCategoriesData(),r=e.getData(),o={};n.each(function(a){var s=n.getName(a);o["ec-"+s]=a;var l=n.getItemModel(a),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=e.getColorFromPalette(s,t)),n.setItemVisual(a,"style",u);for(var h=["symbol","symbolSize","symbolKeepAspect"],c=0;c<h.length;c++){var p=l.getShallow(h[c],!0);null!=p&&n.setItemVisual(a,h[c],p)}}),n.count()&&r.each(function(a){var s=r.getItemModel(a).getShallow("category");if(null!=s){De(s)&&(s=o["ec-"+s]);var l=n.getItemVisual(s,"style");de(r.ensureUniqueItemVisual(a,"style"),l);for(var u=["symbol","symbolSize","symbolKeepAspect"],h=0;h<u.length;h++)r.setItemVisual(a,u[h],n.getItemVisual(s,u[h]))}})})}function Sg(i){return i instanceof Array||(i=[i,i]),i}function mE(i){i.eachSeriesByType("graph",function(t){var e=t.getGraph(),n=t.getEdgeData(),r=Sg(t.get("edgeSymbol")),o=Sg(t.get("edgeSymbolSize"));n.setVisual("fromSymbol",r&&r[0]),n.setVisual("toSymbol",r&&r[1]),n.setVisual("fromSymbolSize",o&&o[0]),n.setVisual("toSymbolSize",o&&o[1]),n.setVisual("style",t.getModel("lineStyle").getLineStyle()),n.each(function(a){var s=n.getItemModel(a),l=e.getEdgeByIndex(a),u=Sg(s.getShallow("symbol",!0)),h=Sg(s.getShallow("symbolSize",!0)),c=s.getModel("lineStyle").getLineStyle(),p=n.ensureUniqueItemVisual(a,"style");switch(de(p,c),p.stroke){case"source":var f=l.node1.getVisual("style");p.stroke=f&&f.fill;break;case"target":f=l.node2.getVisual("style"),p.stroke=f&&f.fill}u[0]&&l.setVisual("fromSymbol",u[0]),u[1]&&l.setVisual("toSymbol",u[1]),h[0]&&l.setVisual("fromSymbolSize",h[0]),h[1]&&l.setVisual("toSymbolSize",h[1])})})}var Mg=function(i){return i.get("autoCurveness")||null},A2=function(i,t){var e=Mg(i),n=20,r=[];if(oe(e))n=e;else if(fe(e))return void(i.__curvenessList=e);t>n&&(n=t);var o=n%2?n+2:n+3;r=[];for(var a=0;a<o;a++)r.push((a%2?a+1:a)/10*(a%2?-1:1));i.__curvenessList=r},Od=function(i,t,e){var n=[i.id,i.dataIndex].join("."),r=[t.id,t.dataIndex].join(".");return[e.uid,n,r].join("--\x3e")},k2=function(i){var t=i.split("--\x3e");return[t[0],t[2],t[1]].join("--\x3e")},g0=function(i,t){var e=t.__edgeMap;return e[i]?e[i].length:0};function m0(i,t,e,n){var r=Mg(t),o=fe(r);if(!r)return null;var v,b,S,a=(S=Od((v=i).node1,v.node2,b=t),b.__edgeMap[S]);if(!a)return null;for(var s=-1,l=0;l<a.length;l++)if(a[l]===e){s=l;break}var u=function(v,b){return g0(Od(v.node1,v.node2,b),b)+g0(Od(v.node2,v.node1,b),b)}(i,t);A2(t,u),i.lineStyle=i.lineStyle||{};var h=Od(i.node1,i.node2,t),c=t.__curvenessList,p=o||u%2?0:1;if(a.isForward)return c[p+s];var f=k2(h),m=g0(f,t),y=c[s+m+p];return n?o?r&&0===r[0]?(m+p)%2?y:-y:((m%2?0:1)+p)%2?y:-y:(m+p)%2?y:-y:c[s+m+p]}function L2(i){var t=i.coordinateSystem;if(!t||"view"===t.type){var e=i.getGraph();e.eachNode(function(n){var r=n.getModel();n.setLayout([+r.get("x"),+r.get("y")])}),y0(e,i)}}function y0(i,t){i.eachEdge(function(e,n){var r=ft(e.getModel().get(["lineStyle","curveness"]),-m0(e,t,n,!0),0),o=ar(e.node1.getLayout()),a=ar(e.node2.getLayout()),s=[o,a];+r&&s.push([(o[0]+a[0])/2-(o[1]-a[1])*r,(o[1]+a[1])/2-(a[0]-o[0])*r]),e.setLayout(s)})}function yE(i,t){i.eachSeriesByType("graph",function(e){var n=e.get("layout"),r=e.coordinateSystem;if(r&&"view"!==r.type){var o=e.getData(),a=[];G(r.dimensions,function(p){a=a.concat(o.mapDimensionsAll(p))});for(var s=0;s<o.count();s++){for(var l=[],u=!1,h=0;h<a.length;h++){var c=o.get(a[h],s);isNaN(c)||(u=!0),l.push(c)}o.setItemLayout(s,u?r.dataToPoint(l):[NaN,NaN])}y0(o.graph,e)}else n&&"none"!==n||L2(e)})}function Rd(i){var t=i.coordinateSystem;if("view"!==t.type)return 1;var e=i.option.nodeScaleRatio,n=t.scaleX;return((t.getZoom()-1)*e+1)/n}function Ed(i){var t=i.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var P2=Math.PI,v0=[];function x0(i,t,e,n){var r=i.coordinateSystem;if(!r||"view"===r.type){var o=r.getBoundingRect(),a=i.getData(),s=a.graph,l=o.width/2+o.x,u=o.height/2+o.y,h=Math.min(o.width,o.height)/2,c=a.count();if(a.setLayout({cx:l,cy:u}),c){if(e){var p=r.pointToData(n),y=[p[0]-l,p[1]-u];to(y,y),Co(y,y,h),e.setLayout([l+y[0],u+y[1]],!0),O2(e,i.get(["circular","rotateLabel"]),l,u)}vE[t](i,s,a,h,l,u,c),s.eachEdge(function(v,b){var S,I=ft(v.getModel().get(["lineStyle","curveness"]),m0(v,i,b),0),T=ar(v.node1.getLayout()),D=ar(v.node2.getLayout());+I&&(S=[l*(I*=3)+(T[0]+D[0])/2*(1-I),u*I+(T[1]+D[1])/2*(1-I)]),v.setLayout([T,D,S])})}}}var vE={value:function(i,t,e,n,r,o,a){var s=0,l=e.getSum("value"),u=2*Math.PI/(l||a);t.eachNode(function(h){var c=h.getValue("value"),p=u*(l?c:1)/2;s+=p,h.setLayout([n*Math.cos(s)+r,n*Math.sin(s)+o]),s+=p})},symbolSize:function(i,t,e,n,r,o,a){var s=0;v0.length=a;var l=Rd(i);t.eachNode(function(c){var p=Ed(c);isNaN(p)&&(p=2),p<0&&(p=0),p*=l;var f=Math.asin(p/2/n);isNaN(f)&&(f=P2/2),v0[c.dataIndex]=f,s+=2*f});var u=(2*P2-s)/a/2,h=0;t.eachNode(function(c){var p=u+v0[c.dataIndex];h+=p,(!c.getLayout()||!c.getLayout().fixed)&&c.setLayout([n*Math.cos(h)+r,n*Math.sin(h)+o]),h+=p})}};function O2(i,t,e,n){var r=i.getGraphicEl();if(r){var o=i.getModel().get(["label","rotate"])||0,a=r.getSymbolPath();if(t){var s=i.getLayout(),l=Math.atan2(s[1]-n,s[0]-e);l<0&&(l=2*Math.PI+l);var u=s[0]<e;u&&(l-=Math.PI);var h=u?"left":"right";a.setTextConfig({rotation:-l,position:h,origin:"center"});var c=a.ensureState("emphasis");de(c.textConfig||(c.textConfig={}),{position:h})}else a.setTextConfig({rotation:o*=Math.PI/180})}}function xE(i){i.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&x0(t,"symbolSize")})}var mh=Rl;function _E(i){i.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!e||"view"===e.type)if("force"===t.get("layout")){var n=t.preservedPoints||{},r=t.getGraph(),o=r.data,a=r.edgeData,s=t.getModel("force"),l=s.get("initLayout");t.preservedPoints?o.each(function(I){var T=o.getId(I);o.setItemLayout(I,n[T]||[NaN,NaN])}):l&&"none"!==l?"circular"===l&&x0(t,"value"):L2(t);var u=o.getDataExtent("value"),h=a.getDataExtent("value"),c=s.get("repulsion"),p=s.get("edgeLength"),f=fe(c)?c:[c,c],m=fe(p)?p:[p,p];m=[m[1],m[0]];var y=o.mapArray("value",function(I,T){var D=o.getItemLayout(T),A=zt(I,u,f);return isNaN(A)&&(A=(f[0]+f[1])/2),{w:A,rep:A,fixed:o.getItemModel(T).get("fixed"),p:!D||isNaN(D[0])||isNaN(D[1])?null:D}}),v=a.mapArray("value",function(I,T){var D=r.getEdgeByIndex(T),A=zt(I,h,m);isNaN(A)&&(A=(m[0]+m[1])/2);var L=D.getModel(),P=ft(D.getModel().get(["lineStyle","curveness"]),-m0(D,t,T,!0),0);return{n1:y[D.node1.dataIndex],n2:y[D.node2.dataIndex],d:A,curveness:P,ignoreForceLayout:L.get("ignoreForceLayout")}}),b=e.getBoundingRect(),S=function(I,T,D){for(var A=I,L=T,P=D.rect,E=P.width,N=P.height,z=[P.x+E/2,P.y+N/2],B=D.gravity??.1,W=0;W<A.length;W++){var Y=A[W];Y.p||(Y.p=or(E*(Math.random()-.5)+z[0],N*(Math.random()-.5)+z[1])),Y.pp=ar(Y.p),Y.edges=null}var j,Z,q=D.friction??.6,K=q;return{warmUp:function(){K=.8*q},setFixed:function(Q){A[Q].fixed=!0},setUnfixed:function(Q){A[Q].fixed=!1},beforeStep:function(Q){j=Q},afterStep:function(Q){Z=Q},step:function(Q){j&&j(A,L);for(var te=[],ne=A.length,ce=0;ce<L.length;ce++){var ye=L[ce];if(!ye.ignoreForceLayout){var re=ye.n1;Rr(te,(xe=ye.n2).p,re.p);var pe=ls(te)-ye.d,ve=xe.w/(re.w+xe.w);isNaN(ve)&&(ve=0),to(te,te),!re.fixed&&mh(re.p,re.p,te,ve*pe*K),!xe.fixed&&mh(xe.p,xe.p,te,-(1-ve)*pe*K)}}for(ce=0;ce<ne;ce++)(Ce=A[ce]).fixed||(Rr(te,z,Ce.p),mh(Ce.p,Ce.p,te,B*K));for(ce=0;ce<ne;ce++){re=A[ce];for(var be=ce+1;be<ne;be++){var xe;Rr(te,(xe=A[be]).p,re.p),0===(pe=ls(te))&&(ss(te,Math.random()-.5,Math.random()-.5),pe=1);var we=(re.rep+xe.rep)/pe/pe;!re.fixed&&mh(re.pp,re.pp,te,we),!xe.fixed&&mh(xe.pp,xe.pp,te,-we)}}var _e=[];for(ce=0;ce<ne;ce++){var Ce;(Ce=A[ce]).fixed||(Rr(_e,Ce.p,Ce.pp),mh(Ce.p,Ce.p,_e,K),Fi(Ce.pp,Ce.p))}var Ne=(K*=.992)<.01;Z&&Z(A,L,Ne),Q&&Q(Ne)}}}(y,v,{rect:b,gravity:s.get("gravity"),friction:s.get("friction")});S.beforeStep(function(I,T){for(var D=0,A=I.length;D<A;D++)I[D].fixed&&Fi(I[D].p,r.getNodeByIndex(D).getLayout())}),S.afterStep(function(I,T,D){for(var A=0,L=I.length;A<L;A++)I[A].fixed||r.getNodeByIndex(A).setLayout(I[A].p),n[o.getId(A)]=I[A].p;for(A=0,L=T.length;A<L;A++){var P=T[A],E=r.getEdgeByIndex(A),N=P.n1.p,z=P.n2.p,B=E.getLayout();(B=B?B.slice():[])[0]=B[0]||[],B[1]=B[1]||[],Fi(B[0],N),Fi(B[1],z),+P.curveness&&(B[2]=[(N[0]+z[0])/2-(N[1]-z[1])*P.curveness,(N[1]+z[1])/2-(z[0]-N[0])*P.curveness]),E.setLayout(B)}}),t.forceLayout=S,t.preservedPoints=n,S.step()}else t.forceLayout=null})}function bE(i,t){var e=[];return i.eachSeriesByType("graph",function(n){var v,b,r=n.get("coordinateSystem");if(!r||"view"===r){var o=n.getData(),a=[],s=[];k(o.mapArray(function(y){var v=o.getItemModel(y);return[+v.get("x"),+v.get("y")]}),a,s),s[0]-a[0]==0&&(s[0]+=1,a[0]-=1),s[1]-a[1]==0&&(s[1]+=1,a[1]-=1);var l=(s[0]-a[0])/(s[1]-a[1]),u=(v=t,b=l,wi(de(n.getBoxLayoutParams(),{aspect:b}),{width:v.getWidth(),height:v.getHeight()}));isNaN(l)&&(a=[u.x,u.y],s=[u.x+u.width,u.y+u.height]);var h=s[0]-a[0],c=s[1]-a[1],p=u.width,f=u.height,m=n.coordinateSystem=new Id;m.zoomLimit=n.get("scaleLimit"),m.setBoundingRect(a[0],a[1],h,c),m.setViewRect(u.x,u.y,p,f),m.setCenter(n.get("center"),t),m.setZoom(n.get("zoom")),e.push(m)}}),e}var R2=ki.prototype,_0=Ou.prototype,E2=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function b0(i){return isNaN(+i.cpx1)||isNaN(+i.cpy1)}!function(i){ie(function t(){return null!==i&&i.apply(this,arguments)||this},i)}(E2);var wE=function(i){function t(e){var n=i.call(this,e)||this;return n.type="ec-line",n}return ie(t,i),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new E2},t.prototype.buildPath=function(e,n){b0(n)?R2.buildPath.call(this,e,n):_0.buildPath.call(this,e,n)},t.prototype.pointAt=function(e){return b0(this.shape)?R2.pointAt.call(this,e):_0.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var n=this.shape,r=b0(n)?[n.x2-n.x1,n.y2-n.y1]:_0.tangentAt.call(this,e);return to(r,r)},t}(gt),w0=["fromSymbol","toSymbol"];function N2(i){return"_"+i+"Type"}function z2(i,t,e){var n=t.getItemVisual(e,i);if(n&&"none"!==n){var r=t.getItemVisual(e,i+"Size"),o=t.getItemVisual(e,i+"Rotate"),a=t.getItemVisual(e,i+"Offset"),s=t.getItemVisual(e,i+"KeepAspect"),l=Kc(r),u=ih(a||0,l),h=gi(n,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return h.__specifiedRotation=null==o||isNaN(o)?void 0:+o*Math.PI/180||0,h.name=i,h}}function S0(i,t){i.x1=t[0][0],i.y1=t[0][1],i.x2=t[1][0],i.y2=t[1][1],i.percent=1;var e=t[2];e?(i.cpx1=e[0],i.cpy1=e[1]):(i.cpx1=NaN,i.cpy1=NaN)}var M0=function(i){function t(e,n,r){var o=i.call(this)||this;return o._createLine(e,n,r),o}return ie(t,i),t.prototype._createLine=function(e,n,r){var s,l,o=e.hostModel,a=(s=e.getItemLayout(n),S0((l=new wE({name:"line",subPixelOptimize:!0})).shape,s),l);a.shape.percent=0,ni(a,{shape:{percent:1}},o,n),this.add(a),G(w0,function(s){var l=z2(s,e,n);this.add(l),this[N2(s)]=e.getItemVisual(n,s)},this),this._updateCommonStl(e,n,r)},t.prototype.updateData=function(e,n,r){var o=e.hostModel,a=this.childOfName("line"),s=e.getItemLayout(n),l={shape:{}};S0(l.shape,s),It(a,l,o,n),G(w0,function(u){var h=e.getItemVisual(n,u),c=N2(u);if(this[c]!==h){this.remove(this.childOfName(u));var p=z2(u,e,n);this.add(p)}this[c]=h},this),this._updateCommonStl(e,n,r)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,n,r){var o=e.hostModel,a=this.childOfName("line"),s=r&&r.emphasisLineStyle,l=r&&r.blurLineStyle,u=r&&r.selectLineStyle,h=r&&r.labelStatesModels,c=r&&r.emphasisDisabled,p=r&&r.focus,f=r&&r.blurScope;if(!r||e.hasItemOption){var m=e.getItemModel(n),y=m.getModel("emphasis");s=y.getModel("lineStyle").getLineStyle(),l=m.getModel(["blur","lineStyle"]).getLineStyle(),u=m.getModel(["select","lineStyle"]).getLineStyle(),c=y.get("disabled"),p=y.get("focus"),f=y.get("blurScope"),h=Ei(m)}var v=e.getItemVisual(n,"style"),b=v.stroke;a.useStyle(v),a.style.fill=null,a.style.strokeNoScale=!0,a.ensureState("emphasis").style=s,a.ensureState("blur").style=l,a.ensureState("select").style=u,G(w0,function(A){var L=this.childOfName(A);if(L){L.setColor(b),L.style.opacity=v.opacity;for(var P=0;P<Sn.length;P++){var E=Sn[P],N=a.getState(E);if(N){var z=N.style||{},B=L.ensureState(E),W=B.style||(B.style={});null!=z.stroke&&(W[L.__isEmptyBrush?"stroke":"fill"]=z.stroke),null!=z.opacity&&(W.opacity=z.opacity)}}L.markRedraw()}},this);var S=o.getRawValue(n);rn(this,h,{labelDataIndex:n,labelFetcher:{getFormattedLabel:function(A,L){return o.getFormattedLabel(A,L,e.dataType)}},inheritColor:b||"#000",defaultOpacity:v.opacity,defaultText:(null==S?e.getName(n):isFinite(S)?ii(S):S)+""});var I=this.getTextContent();if(I){var T=h.normal;I.__align=I.style.align,I.__verticalAlign=I.style.verticalAlign,I.__position=T.get("position")||"middle";var D=T.get("distance");fe(D)||(D=[D,D]),I.__labelDistance=D}this.setTextConfig({position:null,local:!0,inside:!1}),hi(this,p,f,c)},t.prototype.highlight=function(){ea(this)},t.prototype.downplay=function(){ta(this)},t.prototype.updateLayout=function(e,n){this.setLinePoints(e.getItemLayout(n))},t.prototype.setLinePoints=function(e){var n=this.childOfName("line");S0(n.shape,e),n.dirty()},t.prototype.beforeUpdate=function(){var e=this,n=e.childOfName("fromSymbol"),r=e.childOfName("toSymbol"),o=e.getTextContent();if(n||r||o&&!o.ignore){for(var a=1,s=this.parent;s;)s.scaleX&&(a/=s.scaleX),s=s.parent;var l=e.childOfName("line");if(this.__dirty||l.__dirty){var u=l.shape.percent,h=l.pointAt(0),c=l.pointAt(u),p=Rr([],c,h);if(to(p,p),n&&(n.setPosition(h),E(n,0),n.scaleX=n.scaleY=a*u,n.markRedraw()),r&&(r.setPosition(c),E(r,1),r.scaleX=r.scaleY=a*u,r.markRedraw()),o&&!o.ignore){o.x=o.y=0,o.originX=o.originY=0;var f=void 0,m=void 0,y=o.__labelDistance,v=y[0]*a,b=y[1]*a,S=u/2,I=l.tangentAt(S),T=[I[1],-I[0]],D=l.pointAt(S);T[1]>0&&(T[0]=-T[0],T[1]=-T[1]);var A=I[0]<0?-1:1;if("start"!==o.__position&&"end"!==o.__position){var L=-Math.atan2(I[1],I[0]);c[0]<h[0]&&(L=Math.PI+L),o.rotation=L}var P=void 0;switch(o.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":P=-b,m="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":P=b,m="top";break;default:P=0,m="middle"}switch(o.__position){case"end":o.x=p[0]*v+c[0],o.y=p[1]*b+c[1],f=p[0]>.8?"left":p[0]<-.8?"right":"center",m=p[1]>.8?"top":p[1]<-.8?"bottom":"middle";break;case"start":o.x=-p[0]*v+h[0],o.y=-p[1]*b+h[1],f=p[0]>.8?"right":p[0]<-.8?"left":"center",m=p[1]>.8?"bottom":p[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":o.x=v*A+h[0],o.y=h[1]+P,f=I[0]<0?"right":"left",o.originX=-v*A,o.originY=-P;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":o.x=D[0],o.y=D[1]+P,f="center",o.originY=-P;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":o.x=-v*A+c[0],o.y=c[1]+P,f=I[0]>=0?"right":"left",o.originX=v*A,o.originY=-P}o.scaleX=o.scaleY=a,o.setStyle({verticalAlign:o.__verticalAlign||m,align:o.__align||f})}}}function E(N,z){var B=N.__specifiedRotation;if(null==B){var W=l.tangentAt(z);N.attr("rotation",(1===z?-1:1)*Math.PI/2-Math.atan2(W[1],W[0]))}else N.attr("rotation",B)}},t}(Ze),I0=function(){function i(t){this.group=new Ze,this._LineCtor=t||M0}return i.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var n=this,r=n.group,o=n._lineData;n._lineData=t,o||r.removeAll();var a=V2(t);t.diff(o).add(function(s){e._doAdd(t,s,a)}).update(function(s,l){e._doUpdate(o,t,l,s,a)}).remove(function(s){r.remove(o.getItemGraphicEl(s))}).execute()},i.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,n){e.updateLayout(t,n)},this)},i.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=V2(t),this._lineData=null,this.group.removeAll()},i.prototype.incrementalUpdate=function(t,e){function n(a){var s;a.isGroup||(s=a).animators&&s.animators.length>0||(a.incremental=!0,a.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var r=t.start;r<t.end;r++)if(T0(e.getItemLayout(r))){var o=new this._LineCtor(e,r,this._seriesScope);o.traverse(n),this.group.add(o),e.setItemGraphicEl(r,o),this._progressiveEls.push(o)}},i.prototype.remove=function(){this.group.removeAll()},i.prototype.eachRendered=function(t){Va(this._progressiveEls||this.group,t)},i.prototype._doAdd=function(t,e,n){if(T0(t.getItemLayout(e))){var r=new this._LineCtor(t,e,n);t.setItemGraphicEl(e,r),this.group.add(r)}},i.prototype._doUpdate=function(t,e,n,r,o){var a=t.getItemGraphicEl(n);T0(e.getItemLayout(r))?(a?a.updateData(e,r,o):a=new this._LineCtor(e,r,o),e.setItemGraphicEl(r,a),this.group.add(a)):this.group.remove(a)},i}();function V2(i){var t=i.hostModel,e=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:e.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:e.get("disabled"),blurScope:e.get("blurScope"),focus:e.get("focus"),labelStatesModels:Ei(t)}}function B2(i){return isNaN(i[0])||isNaN(i[1])}function T0(i){return i&&!B2(i[0])&&!B2(i[1])}var C0=[],D0=[],A0=[],yh=bi,k0=Un,F2=Math.abs;function G2(i,t,e){for(var n,r=i[0],o=i[1],a=i[2],s=1/0,l=e*e,u=.1,h=.1;h<=.9;h+=.1)C0[0]=yh(r[0],o[0],a[0],h),C0[1]=yh(r[1],o[1],a[1],h),(f=F2(k0(C0,t)-l))<s&&(s=f,n=h);for(var c=0;c<32;c++){var p=n+u;D0[0]=yh(r[0],o[0],a[0],n),D0[1]=yh(r[1],o[1],a[1],n),A0[0]=yh(r[0],o[0],a[0],p),A0[1]=yh(r[1],o[1],a[1],p);var f=k0(D0,t)-l;if(F2(f)<.01)break;var m=k0(A0,t)-l;u/=2,f<0?m>=0?n+=u:n-=u:m>=0?n-=u:n+=u}return n}function L0(i,t){var e=[],n=zo,r=[[],[],[]],o=[[],[]],a=[];t/=2,i.eachEdge(function(s,l){var u=s.getLayout(),h=s.getVisual("fromSymbol"),c=s.getVisual("toSymbol");u.__original||(u.__original=[ar(u[0]),ar(u[1])],u[2]&&u.__original.push(ar(u[2])));var p=u.__original;if(null!=u[2]){if(Fi(r[0],p[0]),Fi(r[1],p[2]),Fi(r[2],p[1]),h&&"none"!==h){var f=Ed(s.node1),m=G2(r,p[0],f*t);n(r[0][0],r[1][0],r[2][0],m,e),r[0][0]=e[3],r[1][0]=e[4],n(r[0][1],r[1][1],r[2][1],m,e),r[0][1]=e[3],r[1][1]=e[4]}c&&"none"!==c&&(f=Ed(s.node2),m=G2(r,p[1],f*t),n(r[0][0],r[1][0],r[2][0],m,e),r[1][0]=e[1],r[2][0]=e[2],n(r[0][1],r[1][1],r[2][1],m,e),r[1][1]=e[1],r[2][1]=e[2]),Fi(u[0],r[0]),Fi(u[1],r[2]),Fi(u[2],r[1])}else Fi(o[0],p[0]),Fi(o[1],p[1]),Rr(a,o[1],o[0]),to(a,a),h&&"none"!==h&&(f=Ed(s.node1),Rl(o[0],o[0],a,f*t)),c&&"none"!==c&&(f=Ed(s.node2),Rl(o[1],o[1],a,-f*t)),Fi(u[0],o[0]),Fi(u[1],o[1])})}function W2(i){return"view"===i.type}var SE=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.init=function(e,n){var r=new md,o=new I0,a=this.group;this._controller=new Sd(n.getZr()),this._controllerHost={target:a},a.add(r.group),a.add(o.group),this._symbolDraw=r,this._lineDraw=o,this._firstRender=!0},t.prototype.render=function(e,n,r){var o=this,a=e.coordinateSystem;this._model=e;var s=this._symbolDraw,l=this._lineDraw,u=this.group;if(W2(a)){var h={x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY};this._firstRender?u.attr(h):It(u,h,e)}L0(e.getGraph(),Rd(e));var c=e.getData();s.updateData(c);var p=e.getEdgeData();l.updateData(p),this._updateNodeAndLinkScale(),this._updateController(e,n,r),clearTimeout(this._layoutTimeout);var f=e.forceLayout,m=e.get(["force","layoutAnimation"]);f&&this._startForceLayoutIteration(f,m);var y=e.get("layout");c.graph.eachNode(function(I){var T=I.dataIndex,D=I.getGraphicEl(),A=I.getModel();if(D){D.off("drag").off("dragend");var L=A.get("draggable");L&&D.on("drag",function(P){switch(y){case"force":f.warmUp(),!o._layouting&&o._startForceLayoutIteration(f,m),f.setFixed(T),c.setItemLayout(T,[D.x,D.y]);break;case"circular":c.setItemLayout(T,[D.x,D.y]),I.setLayout({fixed:!0},!0),x0(e,"symbolSize",I,[P.offsetX,P.offsetY]),o.updateLayout(e);break;default:c.setItemLayout(T,[D.x,D.y]),y0(e.getGraph(),e),o.updateLayout(e)}}).on("dragend",function(){f&&f.setUnfixed(T)}),D.setDraggable(L,!!A.get("cursor")),"adjacency"===A.get(["emphasis","focus"])&&(rt(D).focus=I.getAdjacentDataIndices())}}),c.graph.eachEdge(function(I){var T=I.getGraphicEl(),D=I.getModel().get(["emphasis","focus"]);T&&"adjacency"===D&&(rt(T).focus={edge:[I.dataIndex],node:[I.node1.dataIndex,I.node2.dataIndex]})});var v="circular"===e.get("layout")&&e.get(["circular","rotateLabel"]),b=c.getLayout("cx"),S=c.getLayout("cy");c.graph.eachNode(function(I){O2(I,v,b,S)}),this._firstRender=!1},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,n){var r=this;!function o(){e.step(function(a){r.updateLayout(r._model),(r._layouting=!a)&&(n?r._layoutTimeout=setTimeout(o,16):o())})}()},t.prototype._updateController=function(e,n,r){var o=this,a=this._controller,s=this._controllerHost,l=this.group;a.setPointerChecker(function(u,h,c){var p=l.getBoundingRect();return p.applyTransform(l.transform),p.contain(h,c)&&!dg(u,r,e)}),W2(e.coordinateSystem)?(a.enable(e.get("roam")),s.zoomLimit=e.get("scaleLimit"),s.zoom=e.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(u){Xv(s,u.dx,u.dy),r.dispatchAction({seriesId:e.id,type:"graphRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){Uv(s,u.scale,u.originX,u.originY),r.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),o._updateNodeAndLinkScale(),L0(e.getGraph(),Rd(e)),o._lineDraw.updateLayout(),r.updateLabelLayout()})):a.disable()},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,n=e.getData(),r=Rd(e);n.eachItemGraphicEl(function(o,a){o&&o.setSymbolScale(r)})},t.prototype.updateLayout=function(e){L0(e.getGraph(),Rd(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(e,n){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(Ht);function vh(i){return"_EC_"+i}var ME=function(){function i(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return i.prototype.isDirected=function(){return this._directed},i.prototype.addNode=function(t,e){var n=this._nodesMap;if(!n[vh(t=null==t?""+e:""+t)]){var r=new Ml(t,e);return r.hostGraph=this,this.nodes.push(r),n[vh(t)]=r,r}},i.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},i.prototype.getNodeById=function(t){return this._nodesMap[vh(t)]},i.prototype.addEdge=function(t,e,n){var r=this._nodesMap,o=this._edgesMap;if(oe(t)&&(t=this.nodes[t]),oe(e)&&(e=this.nodes[e]),t instanceof Ml||(t=r[vh(t)]),e instanceof Ml||(e=r[vh(e)]),t&&e){var a=t.id+"-"+e.id,s=new H2(t,e,n);return s.hostGraph=this,this._directed&&(t.outEdges.push(s),e.inEdges.push(s)),t.edges.push(s),t!==e&&e.edges.push(s),this.edges.push(s),o[a]=s,s}},i.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},i.prototype.getEdge=function(t,e){t instanceof Ml&&(t=t.id),e instanceof Ml&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},i.prototype.eachNode=function(t,e){for(var n=this.nodes,r=n.length,o=0;o<r;o++)n[o].dataIndex>=0&&t.call(e,n[o],o)},i.prototype.eachEdge=function(t,e){for(var n=this.edges,r=n.length,o=0;o<r;o++)n[o].dataIndex>=0&&n[o].node1.dataIndex>=0&&n[o].node2.dataIndex>=0&&t.call(e,n[o],o)},i.prototype.breadthFirstTraverse=function(t,e,n,r){if(e instanceof Ml||(e=this._nodesMap[vh(e)]),e){for(var o="out"===n?"outEdges":"in"===n?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!t.call(r,e,null))for(var s=[e];s.length;){var l=s.shift(),u=l[o];for(a=0;a<u.length;a++){var h=u[a],c=h.node1===l?h.node2:h.node1;if(!c.__visited){if(t.call(r,c,l))return;s.push(c),c.__visited=!0}}}}},i.prototype.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,r=this.edges,o=0,a=n.length;o<a;o++)n[o].dataIndex=-1;for(o=0,a=t.count();o<a;o++)n[t.getRawIndex(o)].dataIndex=o;for(e.filterSelf(function(s){var l=r[e.getRawIndex(s)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0}),o=0,a=r.length;o<a;o++)r[o].dataIndex=-1;for(o=0,a=e.count();o<a;o++)r[e.getRawIndex(o)].dataIndex=o},i.prototype.clone=function(){for(var t=new i(this._directed),e=this.nodes,n=this.edges,r=0;r<e.length;r++)t.addNode(e[r].id,e[r].dataIndex);for(r=0;r<n.length;r++){var o=n[r];t.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return t},i}(),Ml=function(){function i(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t??"",this.dataIndex=e??-1}return i.prototype.degree=function(){return this.edges.length},i.prototype.inDegree=function(){return this.inEdges.length},i.prototype.outDegree=function(){return this.outEdges.length},i.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)},i.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var n=this.edges[e];n.dataIndex<0||(t.edge.push(n.dataIndex),t.node.push(n.node1.dataIndex,n.node2.dataIndex))}return t},i}(),H2=function(){function i(t,e,n){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=n??-1}return i.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)},i.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},i}();function Y2(i,t){return{getValue:function(e){var n=this[i][t];return n.getStore().get(n.getDimensionIndex(e||"value"),this.dataIndex)},setVisual:function(e,n){this.dataIndex>=0&&this[i][t].setItemVisual(this.dataIndex,e,n)},getVisual:function(e){return this[i][t].getItemVisual(this.dataIndex,e)},setLayout:function(e,n){this.dataIndex>=0&&this[i][t].setItemLayout(this.dataIndex,e,n)},getLayout:function(){return this[i][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[i][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[i][t].getRawIndex(this.dataIndex)}}}function X2(i,t,e,n,r){for(var o=new ME(n),a=0;a<i.length;a++)o.addNode(kt(i[a].id,i[a].name,a),a);var s=[],l=[],u=0;for(a=0;a<t.length;a++){var h=t[a],c=h.source,p=h.target;o.addEdge(c,p,u)&&(l.push(h),s.push(kt(ci(h.id,null),c+" > "+p)),u++)}var f,m=e.get("coordinateSystem");if("cartesian2d"===m||"polar"===m)f=go(i,e);else{var y=Zu.get(m),v=y&&y.dimensions||[];We(v,"value")<0&&v.concat(["value"]);var b=ah(i,{coordDimensions:v,encodeDefine:e.getEncode()}).dimensions;(f=new yn(b,e)).initData(i)}var S=new yn(["value"],e);return S.initData(l,s),r&&r(f,S),l2({mainData:f,struct:o,structAttr:"graph",datas:{node:f,edge:S},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o}Qt(Ml,Y2("hostGraph","data")),Qt(H2,Y2("hostGraph","edgeData"));var IE=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return ie(t,i),t.prototype.init=function(e){i.prototype.init.apply(this,arguments);var n=this;function r(){return n._categoriesData}this.legendVisualProvider=new _d(r,r),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeOption=function(e){i.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(e){i.prototype.mergeDefaultAndTheme.apply(this,arguments),qo(e,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,n){var r,o=e.edges||e.links||[],a=e.data||e.nodes||[],s=this;if(a&&o){Mg(r=this)&&(r.__curvenessList=[],r.__edgeMap={},A2(r));var l=X2(a,o,this,!0,function(u,h){u.wrapMethod("getItemModel",function(m){var y=s._categoriesModels[m.getShallow("category")];return y&&(y.parentModel=m.parentModel,m.parentModel=y),m});var c=Rt.prototype.getModel;function p(m,y){var v=c.call(this,m,y);return v.resolveParentPath=f,v}function f(m){if(m&&("label"===m[0]||"label"===m[1])){var y=m.slice();return"label"===m[0]?y[0]="edgeLabel":"label"===m[1]&&(y[1]="edgeLabel"),y}return m}h.wrapMethod("getItemModel",function(m){return m.resolveParentPath=f,m.getModel=p,m})});return G(l.edges,function(u){!function(h,c,p,f){if(Mg(p)){var m=Od(h,c,p),y=p.__edgeMap,v=y[k2(m)];y[m]&&!v?y[m].isForward=!0:v&&y[m]&&(v.isForward=!0,y[m].isForward=!1),y[m]=y[m]||[],y[m].push(f)}}(u.node1,u.node2,this,u.dataIndex)},this),l.data}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,n,r){if("edge"===r){var o=this.getData(),a=this.getDataParams(e,r),s=o.graph.getEdgeByIndex(e),l=o.getName(s.node1.dataIndex),u=o.getName(s.node2.dataIndex),h=[];return null!=l&&h.push(l),null!=u&&h.push(u),Ni("nameValue",{name:h.join(" > "),value:a.value,noValue:null==a.value})}return Zb({series:this,dataIndex:e,multipleSeries:n})},t.prototype._updateCategoriesData=function(){var e=ge(this.option.categories||[],function(r){return null!=r.value?r:de({value:0},r)}),n=new yn(["value"],this);n.initData(e),this._categoriesData=n,this._categoriesModels=n.mapArray(function(r){return n.getItemModel(r)})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return i.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(qt),TE={type:"graphRoam",event:"graphRoam",update:"none"},CE=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},DE=function(i){function t(e){var n=i.call(this,e)||this;return n.type="pointer",n}return ie(t,i),t.prototype.getDefaultShape=function(){return new CE},t.prototype.buildPath=function(e,n){var r=Math.cos,o=Math.sin,a=n.r,s=n.width,l=n.angle,u=n.x-r(l)*s*(s>=a/3?1:2),h=n.y-o(l)*s*(s>=a/3?1:2);l=n.angle-Math.PI/2,e.moveTo(u,h),e.lineTo(n.x+r(l)*s,n.y+o(l)*s),e.lineTo(n.x+r(n.angle)*a,n.y+o(n.angle)*a),e.lineTo(n.x-r(l)*s,n.y-o(l)*s),e.lineTo(u,h)},t}(gt);function Ig(i,t){var e=null==i?"":i+"";return t&&(De(t)?e=t.replace("{value}",e):Ge(t)&&(e=t(i))),e}var AE=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.render=function(e,n,r){this.group.removeAll();var s,l,u,h,c,p,o=e.get(["axisLine","lineStyle","color"]),a=(l=r,u=(s=e).get("center"),h=l.getWidth(),c=l.getHeight(),p=Math.min(h,c),{cx:Te(u[0],l.getWidth()),cy:Te(u[1],l.getHeight()),r:Te(s.get("radius"),p/2)});this._renderMain(e,n,r,o,a),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,n,r,o,a){var s=this.group,l=e.get("clockwise"),u=-e.get("startAngle")/180*Math.PI,h=-e.get("endAngle")/180*Math.PI,c=e.getModel("axisLine"),p=c.get("roundCap")?og:pn,f=c.get("show"),m=c.getModel("lineStyle"),y=m.get("width"),v=[u,h];Je(v,!l);for(var b=(h=v[1])-(u=v[0]),S=u,I=[],T=0;f&&T<o.length;T++){var D=new p({shape:{startAngle:S,endAngle:h=u+b*Math.min(Math.max(o[T][0],0),1),cx:a.cx,cy:a.cy,clockwise:l,r0:a.r-y,r:a.r},silent:!0});D.setStyle({fill:o[T][1]}),D.setStyle(m.getLineStyle(["color","width"])),I.push(D),S=h}I.reverse(),G(I,function(L){return s.add(L)});var A=function(L){if(L<=0)return o[0][1];var P;for(P=0;P<o.length;P++)if(o[P][0]>=L&&(0===P?0:o[P-1][0])<L)return o[P][1];return o[P-1][1]};this._renderTicks(e,n,r,A,a,u,h,l,y),this._renderTitleAndDetail(e,n,r,A,a),this._renderAnchor(e,a),this._renderPointer(e,n,r,A,a,u,h,l,y)},t.prototype._renderTicks=function(e,n,r,o,a,s,l,u,h){for(var c,p,f=this.group,m=a.cx,y=a.cy,v=a.r,b=+e.get("min"),S=+e.get("max"),I=e.getModel("splitLine"),T=e.getModel("axisTick"),D=e.getModel("axisLabel"),A=e.get("splitNumber"),L=T.get("splitNumber"),P=Te(I.get("length"),v),E=Te(T.get("length"),v),N=s,z=(l-s)/A,B=z/L,W=I.getModel("lineStyle").getLineStyle(),Y=T.getModel("lineStyle").getLineStyle(),j=I.get("distance"),Z=0;Z<=A;Z++){if(c=Math.cos(N),p=Math.sin(N),I.get("show")){var q=new ki({shape:{x1:c*(v-(K=j?j+h:h))+m,y1:p*(v-K)+y,x2:c*(v-P-K)+m,y2:p*(v-P-K)+y},style:W,silent:!0});"auto"===W.stroke&&q.setStyle({stroke:o(Z/A)}),f.add(q)}if(D.get("show")){var K=D.get("distance")+j,Q=Ig(ii(Z/A*(S-b)+b),D.get("formatter")),te=o(Z/A),ne=c*(v-P-K)+m,ce=p*(v-P-K)+y,ye=D.get("rotate"),re=0;"radial"===ye?(re=-N+2*Math.PI)>Math.PI/2&&(re+=Math.PI):"tangential"===ye?re=-N-Math.PI/2:oe(ye)&&(re=ye*Math.PI/180),f.add(new Mt(0===re?{style:Kt(D,{text:Q,x:ne,y:ce,verticalAlign:p<-.8?"top":p>.8?"bottom":"middle",align:c<-.4?"left":c>.4?"right":"center"},{inheritColor:te}),silent:!0}:{style:Kt(D,{text:Q,x:ne,y:ce,verticalAlign:"middle",align:"center"},{inheritColor:te}),silent:!0,originX:ne,originY:ce,rotation:re}))}if(T.get("show")&&Z!==A){K=(K=T.get("distance"))?K+h:h;for(var pe=0;pe<=L;pe++){c=Math.cos(N),p=Math.sin(N);var ve=new ki({shape:{x1:c*(v-K)+m,y1:p*(v-K)+y,x2:c*(v-E-K)+m,y2:p*(v-E-K)+y},silent:!0,style:Y});"auto"===Y.stroke&&ve.setStyle({stroke:o((Z+pe/L)/A)}),f.add(ve),N+=B}N-=B}else N+=z}},t.prototype._renderPointer=function(e,n,r,o,a,s,l,u,h){var c=this.group,p=this._data,f=this._progressEls,m=[],y=e.get(["pointer","show"]),v=e.getModel("progress"),b=v.get("show"),S=e.getData(),I=S.mapDimension("value"),T=+e.get("min"),D=+e.get("max"),A=[T,D],L=[s,l];function P(N,z){var B,W=S.getItemModel(N).getModel("pointer"),Y=Te(W.get("width"),a.r),j=Te(W.get("length"),a.r),Z=e.get(["pointer","icon"]),q=W.get("offsetCenter"),K=Te(q[0],a.r),Q=Te(q[1],a.r),te=W.get("keepAspect");return(B=Z?gi(Z,K-Y/2,Q-j,Y,j,null,te):new DE({shape:{angle:-Math.PI/2,width:Y,r:j,x:K,y:Q}})).rotation=-(z+Math.PI/2),B.x=a.cx,B.y=a.cy,B}function E(N,z){var B=v.get("roundCap")?og:pn,W=v.get("overlap"),Y=W?v.get("width"):h/S.count(),q=new B({shape:{startAngle:s,endAngle:z,cx:a.cx,cy:a.cy,clockwise:u,r0:W?a.r-Y:a.r-(N+1)*Y,r:W?a.r:a.r-N*Y}});return W&&(q.z2=D-S.get(I,N)%D),q}(b||y)&&(S.diff(p).add(function(N){var z=S.get(I,N);if(y){var B=P(N,s);ni(B,{rotation:-((isNaN(+z)?L[0]:zt(z,A,L,!0))+Math.PI/2)},e),c.add(B),S.setItemGraphicEl(N,B)}if(b){var W=E(N,s),Y=v.get("clip");ni(W,{shape:{endAngle:zt(z,A,L,Y)}},e),c.add(W),ym(e.seriesIndex,S.dataType,N,W),m[N]=W}}).update(function(N,z){var B=S.get(I,N);if(y){var W=p.getItemGraphicEl(z),Y=W?W.rotation:s,j=P(N,Y);j.rotation=Y,It(j,{rotation:-((isNaN(+B)?L[0]:zt(B,A,L,!0))+Math.PI/2)},e),c.add(j),S.setItemGraphicEl(N,j)}if(b){var Z=f[z],q=E(N,Z?Z.shape.endAngle:s),K=v.get("clip");It(q,{shape:{endAngle:zt(B,A,L,K)}},e),c.add(q),ym(e.seriesIndex,S.dataType,N,q),m[N]=q}}).execute(),S.each(function(N){var z=S.getItemModel(N),B=z.getModel("emphasis"),W=B.get("focus"),Y=B.get("blurScope"),j=B.get("disabled");if(y){var Z=S.getItemGraphicEl(N),q=S.getItemVisual(N,"style"),K=q.fill;if(Z instanceof Ri){var Q=Z.style;Z.useStyle(de({image:Q.image,x:Q.x,y:Q.y,width:Q.width,height:Q.height},q))}else Z.useStyle(q),"pointer"!==Z.type&&Z.setColor(K);Z.setStyle(z.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===Z.style.fill&&Z.setStyle("fill",o(zt(S.get(I,N),A,[0,1],!0))),Z.z2EmphasisLift=0,nn(Z,z),hi(Z,W,Y,j)}if(b){var te=m[N];te.useStyle(S.getItemVisual(N,"style")),te.setStyle(z.getModel(["progress","itemStyle"]).getItemStyle()),te.z2EmphasisLift=0,nn(te,z),hi(te,W,Y,j)}}),this._progressEls=m)},t.prototype._renderAnchor=function(e,n){var r=e.getModel("anchor");if(r.get("show")){var o=r.get("size"),a=r.get("icon"),s=r.get("offsetCenter"),l=r.get("keepAspect"),u=gi(a,n.cx-o/2+Te(s[0],n.r),n.cy-o/2+Te(s[1],n.r),o,o,null,l);u.z2=r.get("showAbove")?1:0,u.setStyle(r.getModel("itemStyle").getItemStyle()),this.group.add(u)}},t.prototype._renderTitleAndDetail=function(e,n,r,o,a){var s=this,l=e.getData(),u=l.mapDimension("value"),h=+e.get("min"),c=+e.get("max"),p=new Ze,f=[],m=[],y=e.isAnimationEnabled(),v=e.get(["pointer","showAbove"]);l.diff(this._data).add(function(b){f[b]=new Mt({silent:!0}),m[b]=new Mt({silent:!0})}).update(function(b,S){f[b]=s._titleEls[S],m[b]=s._detailEls[S]}).execute(),l.each(function(b){var S=l.getItemModel(b),I=l.get(u,b),T=new Ze,D=o(zt(I,[h,c],[0,1],!0)),A=S.getModel("title");if(A.get("show")){var L=A.get("offsetCenter"),P=a.cx+Te(L[0],a.r),E=a.cy+Te(L[1],a.r);(q=f[b]).attr({z2:v?0:2,style:Kt(A,{x:P,y:E,text:l.getName(b),align:"center",verticalAlign:"middle"},{inheritColor:D})}),T.add(q)}var N=S.getModel("detail");if(N.get("show")){var z=N.get("offsetCenter"),B=a.cx+Te(z[0],a.r),W=a.cy+Te(z[1],a.r),Y=Te(N.get("width"),a.r),j=Te(N.get("height"),a.r),Z=e.get(["progress","show"])?l.getItemVisual(b,"style").fill:D,q=m[b],K=N.get("formatter");q.attr({z2:v?0:2,style:Kt(N,{x:B,y:W,text:Ig(I,K),width:isNaN(Y)?null:Y,height:isNaN(j)?null:j,align:"center",verticalAlign:"middle"},{inheritColor:Z})}),I_(q,{normal:N},I,function(Q){return Ig(Q,K)}),y&&T_(q,b,l,e,{getFormattedLabel:function(Q,te,ne,ce,ye,re){return Ig(re?re.interpolatedValue:I,K)}}),T.add(q)}p.add(T)}),this.group.add(p),this._titleEls=f,this._detailEls=m},t.type="gauge",t}(Ht),kE=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="itemStyle",e}return ie(t,i),t.prototype.getInitialData=function(e,n){return ph(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(qt),LE=["itemStyle","opacity"],PE=function(i){function t(e,n){var r=i.call(this)||this,o=r,a=new gn,s=new Mt;return o.setTextContent(s),r.setTextGuideLine(a),r.updateData(e,n,!0),r}return ie(t,i),t.prototype.updateData=function(e,n,r){var o=this,a=e.hostModel,s=e.getItemModel(n),l=e.getItemLayout(n),u=s.getModel("emphasis"),h=s.get(LE);h=h??1,r||Yr(o),o.useStyle(e.getItemVisual(n,"style")),o.style.lineJoin="round",r?(o.setShape({points:l.points}),o.style.opacity=0,ni(o,{style:{opacity:h}},a,n)):It(o,{style:{opacity:h},shape:{points:l.points}},a,n),nn(o,s),this._updateLabel(e,n),hi(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e,n){var r=this,o=this.getTextGuideLine(),a=r.getTextContent(),s=e.hostModel,l=e.getItemModel(n),u=e.getItemLayout(n).label,h=e.getItemVisual(n,"style"),c=h.fill;rn(a,Ei(l),{labelFetcher:e.hostModel,labelDataIndex:n,defaultOpacity:h.opacity,defaultText:e.getName(n)},{normal:{align:u.textAlign,verticalAlign:u.verticalAlign}}),r.setTextConfig({local:!0,inside:!!u.inside,insideStroke:c,outsideFill:c});var p=u.linePoints;o.setShape({points:p}),r.textGuideLineConfig={anchor:p?new nt(p[0][0],p[0][1]):null},It(a,{style:{x:u.x,y:u.y}},s,n),a.attr({rotation:u.rotation,originX:u.x,originY:u.y,z2:10}),cv(r,dv(l),{stroke:c})},t}(fn),OE=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.ignoreLabelLineUpdate=!0,e}return ie(t,i),t.prototype.render=function(e,n,r){var o=e.getData(),a=this._data,s=this.group;o.diff(a).add(function(l){var u=new PE(o,l);o.setItemGraphicEl(l,u),s.add(u)}).update(function(l,u){var h=a.getItemGraphicEl(u);h.updateData(o,l),s.add(h),o.setItemGraphicEl(l,h)}).remove(function(l){Lc(a.getItemGraphicEl(l),e,l)}).execute(),this._data=o},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(Ht),RE=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.init=function(e){i.prototype.init.apply(this,arguments),this.legendVisualProvider=new _d(ke(this.getData,this),ke(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.getInitialData=function(e,n){return ph(this,{coordDimensions:["value"],encodeDefaulter:Xe(iy,this)})},t.prototype._defaultLabelLine=function(e){qo(e,"labelLine",["show"]);var n=e.labelLine,r=e.emphasis.labelLine;n.show=n.show&&e.label.show,r.show=r.show&&e.emphasis.label.show},t.prototype.getDataParams=function(e){var n=this.getData(),r=i.prototype.getDataParams.call(this,e),o=n.mapDimension("value"),a=n.getSum(o);return r.percent=a?+(n.get(o,e)/a*100).toFixed(2):0,r.$vars.push("percent"),r},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(qt);function EE(i,t){i.eachSeriesByType("funnel",function(e){var Y,n=e.getData(),r=n.mapDimension("value"),o=e.get("sort"),a=(Y=t,wi(e.getBoxLayoutParams(),{width:Y.getWidth(),height:Y.getHeight()})),s=e.get("orient"),l=a.width,u=a.height,h=function(W,Y){for(var j=W.mapDimension("value"),Z=W.mapArray(j,function(ne){return ne}),q=[],K="ascending"===Y,Q=0,te=W.count();Q<te;Q++)q[Q]=Q;return Ge(Y)?q.sort(Y):"none"!==Y&&q.sort(function(ne,ce){return K?Z[ne]-Z[ce]:Z[ce]-Z[ne]}),q}(n,o),c=a.x,p=a.y,f="horizontal"===s?[Te(e.get("minSize"),u),Te(e.get("maxSize"),u)]:[Te(e.get("minSize"),l),Te(e.get("maxSize"),l)],m=n.getDataExtent(r),y=e.get("min"),v=e.get("max");null==y&&(y=Math.min(m[0],0)),null==v&&(v=m[1]);var b=e.get("funnelAlign"),S=e.get("gap"),I=(("horizontal"===s?l:u)-S*(n.count()-1))/n.count(),T=function(W,Y){if("horizontal"===s){var j=zt(n.get(r,W)||0,[y,v],f,!0),Z=void 0;switch(b){case"top":Z=p;break;case"center":Z=p+(u-j)/2;break;case"bottom":Z=p+(u-j)}return[[Y,Z],[Y,Z+j]]}var q,K=zt(n.get(r,W)||0,[y,v],f,!0);switch(b){case"left":q=c;break;case"center":q=c+(l-K)/2;break;case"right":q=c+l-K}return[[q,Y],[q+K,Y]]};"ascending"===o&&(I=-I,S=-S,"horizontal"===s?c+=l:p+=u,h=h.reverse());for(var D=0;D<h.length;D++){var A=h[D],L=h[D+1],P=n.getItemModel(A);if("horizontal"===s){var E=P.get(["itemStyle","width"]);null==E?E=I:(E=Te(E,l),"ascending"===o&&(E=-E));var N=T(A,c),z=T(L,c+E);c+=E+S,n.setItemLayout(A,{points:N.concat(z.slice().reverse())})}else{var B=P.get(["itemStyle","height"]);null==B?B=I:(B=Te(B,u),"ascending"===o&&(B=-B)),N=T(A,p),z=T(L,p+B),p+=B+S,n.setItemLayout(A,{points:N.concat(z.slice().reverse())})}}!function(W){var Y=W.hostModel.get("orient");W.each(function(j){var Z,q,K,Q,te=W.getItemModel(j),ne=te.getModel("label").get("position"),ce=te.getModel("labelLine"),ye=W.getItemLayout(j),re=ye.points,pe="inner"===ne||"inside"===ne||"center"===ne||"insideLeft"===ne||"insideRight"===ne;if(pe)"insideLeft"===ne?(q=(re[0][0]+re[3][0])/2+5,K=(re[0][1]+re[3][1])/2,Z="left"):"insideRight"===ne?(q=(re[1][0]+re[2][0])/2-5,K=(re[1][1]+re[2][1])/2,Z="right"):(q=(re[0][0]+re[1][0]+re[2][0]+re[3][0])/4,K=(re[0][1]+re[1][1]+re[2][1]+re[3][1])/4,Z="center"),Q=[[q,K],[q,K]];else{var ve=void 0,be=void 0,xe=void 0,we=void 0,_e=ce.get("length");"left"===ne?(be=(re[3][1]+re[0][1])/2,q=(xe=(ve=(re[3][0]+re[0][0])/2)-_e)-5,Z="right"):"right"===ne?(be=(re[1][1]+re[2][1])/2,q=(xe=(ve=(re[1][0]+re[2][0])/2)+_e)+5,Z="left"):"top"===ne?(ve=(re[3][0]+re[0][0])/2,K=(we=(be=(re[3][1]+re[0][1])/2)-_e)-5,Z="center"):"bottom"===ne?(ve=(re[1][0]+re[2][0])/2,K=(we=(be=(re[1][1]+re[2][1])/2)+_e)+5,Z="center"):"rightTop"===ne?(ve="horizontal"===Y?re[3][0]:re[1][0],be="horizontal"===Y?re[3][1]:re[1][1],"horizontal"===Y?(K=(we=be-_e)-5,Z="center"):(q=(xe=ve+_e)+5,Z="top")):"rightBottom"===ne?(ve=re[2][0],be=re[2][1],"horizontal"===Y?(K=(we=be+_e)+5,Z="center"):(q=(xe=ve+_e)+5,Z="bottom")):"leftTop"===ne?(ve=re[0][0],be="horizontal"===Y?re[0][1]:re[1][1],"horizontal"===Y?(K=(we=be-_e)-5,Z="center"):(q=(xe=ve-_e)-5,Z="right")):"leftBottom"===ne?(ve="horizontal"===Y?re[1][0]:re[3][0],be="horizontal"===Y?re[1][1]:re[2][1],"horizontal"===Y?(K=(we=be+_e)+5,Z="center"):(q=(xe=ve-_e)-5,Z="right")):(ve=(re[1][0]+re[2][0])/2,be=(re[1][1]+re[2][1])/2,"horizontal"===Y?(K=(we=be+_e)+5,Z="center"):(q=(xe=ve+_e)+5,Z="left")),"horizontal"===Y?q=xe=ve:K=we=be,Q=[[ve,be],[xe,we]]}ye.label={linePoints:Q,x:q,y:K,verticalAlign:"middle",textAlign:Z,inside:pe}})}(n)})}var NE=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e._dataGroup=new Ze,e._initialized=!1,e}return ie(t,i),t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,n,r,o){this._progressiveEls=null;var f,m,v,b,S,I,a=this._dataGroup,s=e.getData(),l=this._data,u=e.coordinateSystem,h=u.dimensions,c=Z2(e);if(s.diff(l).add(function(f){P0(j2(s,a,f,h,u),s,f,c)}).update(function(f,m){var y=l.getItemGraphicEl(m),v=U2(s,f,h,u);s.setItemGraphicEl(f,y),It(y,{shape:{points:v}},e,f),Yr(y),P0(y,s,f,c)}).remove(function(f){var m=l.getItemGraphicEl(f);a.remove(m)}).execute(),!this._initialized){this._initialized=!0;var p=(m=e,v=(f=u).model,b=f.getRect(),S=new St({shape:{x:b.x,y:b.y,width:b.width,height:b.height}}),I="horizontal"===v.get("layout")?"width":"height",S.setShape(I,0),ni(S,{shape:{width:b.width,height:b.height}},m,function(){setTimeout(function(){a.removeClipPath()})}),S);a.setClipPath(p)}this._data=s},t.prototype.incrementalPrepareRender=function(e,n,r){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,n,r){for(var o=n.getData(),a=n.coordinateSystem,s=a.dimensions,l=Z2(n),u=this._progressiveEls=[],h=e.start;h<e.end;h++){var c=j2(o,this._dataGroup,h,s,a);c.incremental=!0,P0(c,o,h,l),u.push(c)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(Ht);function U2(i,t,e,n){for(var r,o=[],a=0;a<e.length;a++){var s=e[a],l=i.get(i.mapDimension(s),t);r=l,("category"===n.getAxis(s).type?null==r:null==r||isNaN(r))||o.push(n.dataToPoint(l,s))}return o}function j2(i,t,e,n,r){var o=U2(i,e,n,r),a=new gn({shape:{points:o},z2:10});return t.add(a),i.setItemGraphicEl(e,a),a}function Z2(i){var t=i.get("smooth",!0);return!0===t&&(t=.3),Ti(t=bn(t))&&(t=0),{smooth:t}}function P0(i,t,e,n){i.useStyle(t.getItemVisual(e,"style")),i.style.fill=null,i.setShape("smooth",n.smooth);var r=t.getItemModel(e),o=r.getModel("emphasis");nn(i,r,"lineStyle"),hi(i,o.get("focus"),o.get("blurScope"),o.get("disabled"))}var zE=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return ie(t,i),t.prototype.getInitialData=function(e,n){return go(null,this,{useEncodeDefaulter:ke(VE,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var n=this.coordinateSystem,r=this.getData(),o=[];return n.eachActiveState(r,function(a,s){e===a&&o.push(r.getRawIndex(s))}),o},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(qt);function VE(i){var t=i.ecModel.getComponent("parallel",i.get("parallelIndex"));if(t){var e={};return G(t.dimensions,function(n){var r=+n.replace("dim","");e[n]=r}),e}}var BE=["lineStyle","opacity"],FE={seriesType:"parallel",reset:function(i,t){var e=i.coordinateSystem,n={normal:i.get(["lineStyle","opacity"]),active:i.get("activeOpacity"),inactive:i.get("inactiveOpacity")};return{progress:function(r,o){e.eachActiveState(o,function(a,s){var l=n[a];if("normal"===a&&o.hasItemOption){var u=o.getItemModel(s).get(BE,!0);null!=u&&(l=u)}o.ensureUniqueItemVisual(s,"style").opacity=l},r.start,r.end)}}}};function GE(i){(function(t){if(!t.parallel){var e=!1;G(t.series,function(n){n&&"parallel"===n.type&&(e=!0)}),e&&(t.parallel=[{}])}})(i),function(t){G(Gt(t.parallelAxis),function(e){if(le(e)){var n=e.parallelIndex||0,r=Gt(t.parallel)[n];r&&r.parallelAxisDefault&&Be(e,r.parallelAxisDefault,!1)}})}(i)}var WE=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.render=function(e,n,r){this._model=e,this._api=r,this._handlers||(this._handlers={},G(HE,function(o,a){r.getZr().on(a,this._handlers[a]=ke(o,this))},this)),eh(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,n){jc(this,"_throttledDispatchExpand"),G(this._handlers,function(r,o){n.getZr().off(o,r)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(de({type:"parallelAxisExpand"},e))},t.type="parallel",t}(ei),HE={mousedown:function(i){O0(this,"click")&&(this._mouseDownPoint=[i.offsetX,i.offsetY])},mouseup:function(i){var t=this._mouseDownPoint;if(O0(this,"click")&&t){var e=[i.offsetX,i.offsetY];if(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)>5)return;var n=this._model.coordinateSystem.getSlidedAxisExpandWindow([i.offsetX,i.offsetY]);"none"!==n.behavior&&this._dispatchExpand({axisExpandWindow:n.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(i){if(!this._mouseDownPoint&&O0(this,"mousemove")){var t=this._model,e=t.coordinateSystem.getSlidedAxisExpandWindow([i.offsetX,i.offsetY]),n=e.behavior;"jump"===n&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===n?null:{axisExpandWindow:e.axisExpandWindow,animation:"jump"===n?null:{duration:0}})}}};function O0(i,t){var e=i._model;return e.get("axisExpandable")&&e.get("axisExpandTriggerOn")===t}var YE=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.init=function(){i.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){e&&Be(this.option,e,!0),this._initDimensions()},t.prototype.contains=function(e,n){var r=e.get("parallelIndex");return null!=r&&n.getComponent("parallel",r)===this},t.prototype.setAxisExpand=function(e){G(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(n){e.hasOwnProperty(n)&&(this.option[n]=e[n])},this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],n=this.parallelAxisIndex=[];G(xt(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(r){return(r.get("parallelIndex")||0)===this.componentIndex},this),function(r){e.push("dim"+r.get("dim")),n.push(r.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(mt),XE=function(i){function t(e,n,r,o,a){var s=i.call(this,e,n,r)||this;return s.type=o||"value",s.axisIndex=a,s}return ie(t,i),t.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},t}(Sr);function Il(i,t,e,n,r,o){i=i||0;var a=e[1]-e[0];if(null!=r&&(r=xh(r,[0,a])),null!=o&&(o=Math.max(o,r??0)),"all"===n){var s=Math.abs(t[1]-t[0]);s=xh(s,[0,a]),r=o=xh(s,[r,o]),n=0}t[0]=xh(t[0],e),t[1]=xh(t[1],e);var l=R0(t,n);t[n]+=i;var u,h=r||0,c=e.slice();return l.sign<0?c[0]+=h:c[1]-=h,t[n]=xh(t[n],c),u=R0(t,n),null!=r&&(u.sign!==l.sign||u.span<r)&&(t[1-n]=t[n]+l.sign*r),u=R0(t,n),null!=o&&u.span>o&&(t[1-n]=t[n]+u.sign*o),t}function R0(i,t){var e=i[t]-i[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function xh(i,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,i))}var E0=G,q2=Math.min,$2=Math.max,K2=Math.floor,UE=Math.ceil,J2=ii,jE=Math.PI,ZE=function(){function i(t,e,n){this.type="parallel",this._axesMap=ze(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,n)}return i.prototype._init=function(t,e,n){var o=t.parallelAxisIndex;E0(t.dimensions,function(a,s){var l=o[s],u=e.getComponent("parallelAxis",l),h=this._axesMap.set(a,new XE(a,sd(u),[0,0],u.get("type"),l));h.onBand="category"===h.type&&u.get("boundaryGap"),h.inverse=u.get("inverse"),u.axis=h,h.model=u,h.coordinateSystem=u.coordinateSystem=this},this)},i.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},i.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),n=e.axisBase,r=e.layoutBase,o=e.pixelDimIndex,a=t[1-o],s=t[o];return a>=n&&a<=n+e.axisLength&&s>=r&&s<=r+e.layoutLength},i.prototype.getModel=function(){return this._model},i.prototype._updateAxesFromSeries=function(t,e){e.eachSeries(function(n){if(t.contains(n,e)){var r=n.getData();E0(this.dimensions,function(o){var a=this._axesMap.get(o);a.scale.unionExtentFromData(r,r.mapDimension(o)),dl(a.scale,a.model)},this)}},this)},i.prototype.resize=function(t,e){this._rect=wi(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},i.prototype.getRect=function(){return this._rect},i.prototype._makeLayoutInfo=function(){var t,e=this._model,n=this._rect,r=["x","y"],o=["width","height"],a=e.get("layout"),s="horizontal"===a?0:1,l=n[o[s]],u=[0,l],h=this.dimensions.length,c=Tg(e.get("axisExpandWidth"),u),p=Tg(e.get("axisExpandCount")||0,[0,h]),f=e.get("axisExpandable")&&h>3&&h>p&&p>1&&c>0&&l>0,m=e.get("axisExpandWindow");m?(t=Tg(m[1]-m[0],u),m[1]=m[0]+t):(t=Tg(c*(p-1),u),(m=[c*(e.get("axisExpandCenter")||K2(h/2))-t/2])[1]=m[0]+t);var y=(l-t)/(h-p);y<3&&(y=0);var v=[K2(J2(m[0]/c,1))+1,UE(J2(m[1]/c,1))-1];return{layout:a,pixelDimIndex:s,layoutBase:n[r[s]],layoutLength:l,axisBase:n[r[1-s]],axisLength:n[o[1-s]],axisExpandable:f,axisExpandWidth:c,axisCollapseWidth:y,axisExpandWindow:m,axisCount:h,winInnerIndices:v,axisExpandWindow0Pos:y/c*m[0]}},i.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,n=this.dimensions,r=this._makeLayoutInfo(),o=r.layout;e.each(function(a){var s=[0,r.axisLength],l=a.inverse?1:0;a.setExtent(s[l],s[1-l])}),E0(n,function(a,s){var l=(r.axisExpandable?$E:qE)(s,r),u={horizontal:{x:l.position,y:r.axisLength},vertical:{x:0,y:l.position}},c=[u[o].x+t.x,u[o].y+t.y],p={horizontal:jE/2,vertical:0}[o],f=[1,0,0,1,0,0];lr(f,f,p),Di(f,f,c),this._axesLayout[a]={position:c,rotation:p,transform:f,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},i.prototype.getAxis=function(t){return this._axesMap.get(t)},i.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},i.prototype.eachActiveState=function(t,e,n,r){null==n&&(n=0),null==r&&(r=t.count());var o=this._axesMap,a=this.dimensions,s=[],l=[];G(a,function(y){s.push(t.mapDimension(y)),l.push(o.get(y).model)});for(var u=this.hasAxisBrushed(),h=n;h<r;h++){var c=void 0;if(u){c="active";for(var p=t.getValues(s,h),f=0,m=a.length;f<m;f++)if("inactive"===l[f].getActiveState(p[f])){c="inactive";break}}else c="normal";e(c,h)}},i.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,n=!1,r=0,o=t.length;r<o;r++)"normal"!==e.get(t[r]).model.getActiveState()&&(n=!0);return n},i.prototype.axisCoordToPoint=function(t,e){return Xr([t,0],this._axesLayout[e].transform)},i.prototype.getAxisLayout=function(t){return Ue(this._axesLayout[t])},i.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),n=e.pixelDimIndex,r=e.axisExpandWindow.slice(),o=r[1]-r[0],a=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:r};var s,l=t[n]-e.layoutBase-e.axisExpandWindow0Pos,u="slide",h=e.axisCollapseWidth,c=this._model.get("axisExpandSlideTriggerArea"),p=null!=c[0];if(h)p&&h&&l<o*c[0]?(u="jump",s=l-o*c[2]):p&&h&&l>o*(1-c[0])?(u="jump",s=l-o*(1-c[2])):(s=l-o*c[1])>=0&&(s=l-o*(1-c[1]))<=0&&(s=0),(s*=e.axisExpandWidth/h)?Il(s,r,a,"all"):u="none";else{var f=r[1]-r[0];(r=[$2(0,a[1]*l/f-f/2)])[1]=q2(a[1],r[0]+f),r[0]=r[1]-f}return{axisExpandWindow:r,behavior:u}},i}();function Tg(i,t){return q2($2(i,t[0]),t[1])}function qE(i,t){var e=t.layoutLength/(t.axisCount-1);return{position:e*i,axisNameAvailableWidth:e,axisLabelShow:!0}}function $E(i,t){var e,n,o=t.axisExpandWidth,s=t.axisCollapseWidth,l=t.winInnerIndices,u=s,h=!1;return i<l[0]?(e=i*s,n=s):i<=l[1]?(e=t.axisExpandWindow0Pos+i*o-t.axisExpandWindow[0],u=o,h=!0):(e=t.layoutLength-(t.axisCount-1-i)*s,n=s),{position:e,axisNameAvailableWidth:u,axisLabelShow:h,nameTruncateMaxWidth:n}}var KE={create:function(i,t){var e=[];return i.eachComponent("parallel",function(n,r){var o=new ZE(n,i,t);o.name="parallel_"+r,o.resize(n,t),n.coordinateSystem=o,o.model=n,e.push(o)}),i.eachSeries(function(n){if("parallel"===n.get("coordinateSystem")){var r=n.getReferringComponents("parallel",di).models[0];n.coordinateSystem=r.coordinateSystem}}),e}},N0=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.activeIntervals=[],e}return ie(t,i),t.prototype.getAreaSelectStyle=function(){return Jo([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var n=this.activeIntervals=Ue(e);if(n)for(var r=n.length-1;r>=0;r--)_n(n[r])},t.prototype.getActiveState=function(e){var n=this.activeIntervals;if(!n.length)return"normal";if(null==e||isNaN(+e))return"inactive";if(1===n.length){var r=n[0];if(r[0]<=e&&e<=r[1])return"active"}else for(var o=0,a=n.length;o<a;o++)if(n[o][0]<=e&&e<=n[o][1])return"active";return"inactive"},t}(mt);Qt(N0,lh);var Tl=!0,Nd=Math.min,_h=Math.max,JE=Math.pow,QE={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},eN={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},eT={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},tN=0,z0=function(i){function t(e){var n=i.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=e,n.group=new Ze,n._uid="brushController_"+tN++,G(nN,function(r,o){this._handlers[o]=ke(r,this)},n),n}return ie(t,i),t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var a,n=this._zr;this._enableGlobalPan||(a=this._uid,Hv(n).globalPan=a),G(this._handlers,function(r,o){n.on(o,r)}),this._brushType=e.brushType,this._brushOption=Be(Ue(eT),e,!0)},t.prototype._doDisableBrush=function(){var r,o,a,e=this._zr;r="globalPan",o=this._uid,(a=Hv(e))[r]===o&&(a[r]=null),G(this._handlers,function(n,r){e.off(r,n)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var n=this._panels={};G(e,function(r){n[r.panelId]=Ue(r)})}else this._panels=null;return this},t.prototype.mount=function(e){this._enableGlobalPan=(e=e||{}).enableGlobalPan;var n=this.group;return this._zr.add(n),n.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=n.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=ge(e,function(u){return Be(Ue(eT),u,!0)});var n=this._covers,r=this._covers=[],o=this,a=this._creatingCover;return new ra(n,e,function(u,h){return s(u.__brushOption,h)},s).add(l).update(l).remove(function(u){n[u]!==a&&o.group.remove(n[u])}).execute(),this;function s(u,h){return(null!=u.id?u.id:"\0-brush-index-"+h)+"-"+u.brushType}function l(u,h){var c=e[u];if(null!=h&&n[h]===a)r[u]=n[h];else{var p=r[u]=null!=h?(n[h].__brushOption=c,n[h]):iT(o,tT(o,c));V0(o,p)}}},t.prototype.unmount=function(){return this.enableBrush(!1),G0(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(kn);function tT(i,t){var e=Cg[t.brushType].createCover(i,t);return e.__brushOption=t,rT(e,t),i.group.add(e),e}function iT(i,t){var e=B0(t);return e.endCreating&&(e.endCreating(i,t),rT(t,t.__brushOption)),t}function nT(i,t){var e=t.__brushOption;B0(t).updateCoverShape(i,t,e.range,e)}function rT(i,t){var e=t.z;null==e&&(e=1e4),i.traverse(function(n){n.z=e,n.z2=e})}function V0(i,t){B0(t).updateCommon(i,t),nT(i,t)}function B0(i){return Cg[i.__brushOption.brushType]}function F0(i,t,e){var n,r=i._panels;if(!r)return Tl;var o=i._transform;return G(r,function(a){a.isTargetByCursor(t,e,o)&&(n=a)}),n}function oT(i,t){var e=i._panels;if(!e)return Tl;var n=t.__brushOption.panelId;return null!=n?e[n]:Tl}function G0(i){var t=i._covers,e=t.length;return G(t,function(n){i.group.remove(n)},i),t.length=0,!!e}function Cl(i,t){var e=ge(i._covers,function(n){var r=n.__brushOption,o=Ue(r.range);return{brushType:r.brushType,panelId:r.panelId,range:o}});i.trigger("brush",{areas:e,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function aT(i){var t=i.length-1;return t<0&&(t=0),[i[0],i[t]]}function sT(i,t,e,n){var r=new Ze;return r.add(new St({name:"main",style:H0(e),silent:!0,draggable:!0,cursor:"move",drift:Xe(hT,i,t,r,["n","s","w","e"]),ondragend:Xe(Cl,t,{isEnd:!0})})),G(n,function(o){r.add(new St({name:o.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Xe(hT,i,t,r,o),ondragend:Xe(Cl,t,{isEnd:!0})}))}),r}function lT(i,t,e,n){var r=n.brushStyle.lineWidth||0,o=_h(r,6),a=e[0][0],s=e[1][0],l=a-r/2,u=s-r/2,h=e[0][1],c=e[1][1],p=h-o+r/2,f=c-o+r/2,m=h-a,y=c-s,v=m+r,b=y+r;sa(i,t,"main",a,s,m,y),n.transformable&&(sa(i,t,"w",l,u,o,b),sa(i,t,"e",p,u,o,b),sa(i,t,"n",l,u,v,o),sa(i,t,"s",l,f,v,o),sa(i,t,"nw",l,u,o,o),sa(i,t,"ne",p,u,o,o),sa(i,t,"sw",l,f,o,o),sa(i,t,"se",p,f,o,o))}function W0(i,t){var e=t.__brushOption,n=e.transformable,r=t.childAt(0);r.useStyle(H0(e)),r.attr({silent:!n,cursor:n?"move":"default"}),G([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(o){var l,u,h,a=t.childOfName(o.join("")),s=1===o.length?Y0(i,o[0]):(("e"===(h=[Y0(l=i,(u=o)[0]),Y0(l,u[1])])[0]||"w"===h[0])&&h.reverse(),h.join(""));a&&a.attr({silent:!n,invisible:!n,cursor:n?eN[s]+"-resize":null})})}function sa(i,t,e,n,r,o,a){var l,u,h,s=t.childOfName(e);s&&s.setShape((l=X0(i,t,[[n,r],[n+o,r+a]]),{x:u=Nd(l[0][0],l[1][0]),y:h=Nd(l[0][1],l[1][1]),width:_h(l[0][0],l[1][0])-u,height:_h(l[0][1],l[1][1])-h}))}function H0(i){return Ve({strokeNoScale:!0},i.brushStyle)}function uT(i,t,e,n){var r=[Nd(i,e),Nd(t,n)],o=[_h(i,e),_h(t,n)];return[[r[0],o[0]],[r[1],o[1]]]}function Y0(i,t){return{left:"w",right:"e",top:"n",bottom:"s"}[tf({w:"left",e:"right",n:"top",s:"bottom"}[t],za(i.group))]}function hT(i,t,e,n,r,o){var a=e.__brushOption,s=i.toRectRange(a.range),l=cT(t,r,o);G(n,function(u){var h=QE[u];s[h[0]][h[1]]+=l[h[0]]}),a.range=i.fromRectRange(uT(s[0][0],s[1][0],s[0][1],s[1][1])),V0(t,e),Cl(t,{isEnd:!1})}function iN(i,t,e,n){var r=t.__brushOption.range,o=cT(i,e,n);G(r,function(a){a[0]+=o[0],a[1]+=o[1]}),V0(i,t),Cl(i,{isEnd:!1})}function cT(i,t,e){var n=i.group,r=n.transformCoordToLocal(t,e),o=n.transformCoordToLocal(0,0);return[r[0]-o[0],r[1]-o[1]]}function X0(i,t,e){var n=oT(i,t);return n&&n!==Tl?n.clipPath(e,i._transform):Ue(e)}function U0(i){var t=i.event;t.preventDefault&&t.preventDefault()}function j0(i,t,e){return i.childOfName("main").contain(t,e)}function dT(i,t,e,n){var r,o=i._creatingCover,a=i._creatingPanel,s=i._brushOption;if(i._track.push(e.slice()),function(h){var c=h._track;if(!c.length)return!1;var p=c[c.length-1],f=c[0],m=p[0]-f[0],y=p[1]-f[1];return JE(m*m+y*y,.5)>6}(i)||o){if(a&&!o){"single"===s.brushMode&&G0(i);var l=Ue(s);l.brushType=pT(l.brushType,a),l.panelId=a===Tl?null:a.panelId,o=i._creatingCover=tT(i,l),i._covers.push(o)}if(o){var u=Cg[pT(i._brushType,a)];o.__brushOption.range=u.getCreatingRange(X0(i,o,i._track)),n&&(iT(i,o),u.updateCommon(i,o)),nT(i,o),r={isEnd:n}}}else n&&"single"===s.brushMode&&s.removeOnClick&&F0(i,t,e)&&G0(i)&&(r={isEnd:n,removeOnClick:!0});return r}function pT(i,t){return"auto"===i?t.defaultBrushType:i}var nN={mousedown:function(i){if(this._dragging)fT(this,i);else if(!i.target||!i.target.draggable){U0(i);var t=this.group.transformCoordToLocal(i.offsetX,i.offsetY);this._creatingCover=null,(this._creatingPanel=F0(this,i,t))&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(i){var n=this.group.transformCoordToLocal(i.offsetX,i.offsetY);if(function(o,a,s){if(o._brushType&&(y=a.offsetY,v=o._zr,!((m=a.offsetX)<0||m>v.getWidth()||y<0||y>v.getHeight()))){var l=o._zr,u=o._covers,h=F0(o,a,s);if(!o._dragging)for(var c=0;c<u.length;c++){var p=u[c].__brushOption;if(h&&(h===Tl||p.panelId===h.panelId)&&Cg[p.brushType].contain(u[c],s[0],s[1]))return}h&&l.setCursorStyle("crosshair")}var m,y,v}(this,i,n),this._dragging){U0(i);var r=dT(this,i,n,!1);r&&Cl(this,r)}},mouseup:function(i){fT(this,i)}};function fT(i,t){if(i._dragging){U0(t);var r=i.group.transformCoordToLocal(t.offsetX,t.offsetY),o=dT(i,t,r,!0);i._dragging=!1,i._track=[],i._creatingCover=null,o&&Cl(i,o)}}var Cg={lineX:gT(0),lineY:gT(1),rect:{createCover:function(i,t){function e(n){return n}return sT({toRectRange:e,fromRectRange:e},i,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(i){var t=aT(i);return uT(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(i,t,e,n){lT(i,t,e,n)},updateCommon:W0,contain:j0},polygon:{createCover:function(i,t){var e=new Ze;return e.add(new gn({name:"main",style:H0(t),silent:!0})),e},getCreatingRange:function(i){return i},endCreating:function(i,t){t.remove(t.childAt(0)),t.add(new fn({name:"main",draggable:!0,drift:Xe(iN,i,t),ondragend:Xe(Cl,i,{isEnd:!0})}))},updateCoverShape:function(i,t,e,n){t.childAt(0).setShape({points:X0(i,t,e)})},updateCommon:W0,contain:j0}};function gT(i){return{createCover:function(t,e){return sT({toRectRange:function(n){var r=[n,[0,100]];return i&&r.reverse(),r},fromRectRange:function(n){return n[i]}},t,e,[[["w"],["e"]],[["n"],["s"]]][i])},getCreatingRange:function(t){var e=aT(t);return[Nd(e[0][i],e[1][i]),_h(e[0][i],e[1][i])]},updateCoverShape:function(t,e,n,r){var o,a=oT(t,e);if(a!==Tl&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(i);else{var s=t._zr;o=[0,[s.getWidth(),s.getHeight()][1-i]]}var l=[n,o];i&&l.reverse(),lT(t,e,l,r)},updateCommon:W0,contain:j0}}function mT(i){return i=Z0(i),function(t){return Nm(t,i)}}function yT(i,t){return i=Z0(i),function(e){var n=t??e,o=n?i.x:i.y;return[o,o+((n?i.width:i.height)||0)]}}function vT(i,t,e){var n=Z0(i);return function(r,o){return n.contain(o[0],o[1])&&!dg(r,t,e)}}function Z0(i){return st.create(i)}var rN=["axisLine","axisTickLabel","axisName"],oN=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.init=function(e,n){i.prototype.init.apply(this,arguments),(this._brushController=new z0(n.getZr())).on("brush",ke(this._onBrush,this))},t.prototype.render=function(e,n,r,o){if(m=e,!(v=o)||"axisAreaSelect"!==v.type||n.findComponents({mainType:"parallelAxis",query:v})[0]!==m){this.axisModel=e,this.api=r,this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new Ze,this.group.add(this._axisGroup),e.get("show")){var s=function(m,y){return y.getComponent("parallel",m.get("parallelIndex"))}(e,n),l=s.coordinateSystem,u=e.getAreaSelectStyle(),h=u.width,p=de({strokeContainThreshold:h},l.getAxisLayout(e.axis.dim)),f=new Tn(e,p);G(rN,f.add,f),this._axisGroup.add(f.getGroup()),this._refreshBrushController(p,u,e,s,h,r),Oc(a,this._axisGroup,e)}}var m,v},t.prototype._refreshBrushController=function(e,n,r,o,a,s){var p,f,l=r.axis.getExtent(),u=l[1]-l[0],h=Math.min(30,.1*Math.abs(u)),c=st.create({x:l[0],y:-a/2,width:u,height:a});c.x-=h,c.width+=2*h,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:mT(c),isTargetByCursor:vT(c,s,o),getLinearBrushOtherExtent:yT(c,0)}]).enableBrush({brushType:"lineX",brushStyle:n,removeOnClick:!0}).updateCovers((f=(p=r).axis,ge(p.activeIntervals,function(m){return{brushType:"lineX",panelId:"pl",range:[f.dataToCoord(m[0],!0),f.dataToCoord(m[1],!0)]}})))},t.prototype._onBrush=function(e){var r=this.axisModel,o=r.axis,a=ge(e.areas,function(s){return[o.coordToData(s.range[0],!0),o.coordToData(s.range[1],!0)]});(!r.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:r.id,intervals:a})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(ei),aN={type:"axisAreaSelect",event:"axisAreaSelected"},sN={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function xT(i){i.registerComponentView(WE),i.registerComponentModel(YE),i.registerCoordinateSystem("parallel",KE),i.registerPreprocessor(GE),i.registerComponentModel(N0),i.registerComponentView(oN),fh(i,"parallel",N0,sN),function(t){t.registerAction(aN,function(e,n){n.eachComponent({mainType:"parallelAxis",query:e},function(r){r.axis.model.setActiveIntervals(e.intervals)})}),t.registerAction("parallelAxisExpand",function(e,n){n.eachComponent({mainType:"parallel",query:e},function(r){r.setAxisExpand(e)})})}(i)}var lN=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},uN=function(i){function t(e){return i.call(this,e)||this}return ie(t,i),t.prototype.getDefaultShape=function(){return new lN},t.prototype.buildPath=function(e,n){var r=n.extent;e.moveTo(n.x1,n.y1),e.bezierCurveTo(n.cpx1,n.cpy1,n.cpx2,n.cpy2,n.x2,n.y2),"vertical"===n.orient?(e.lineTo(n.x2+r,n.y2),e.bezierCurveTo(n.cpx2+r,n.cpy2,n.cpx1+r,n.cpy1,n.x1+r,n.y1)):(e.lineTo(n.x2,n.y2+r),e.bezierCurveTo(n.cpx2,n.cpy2+r,n.cpx1,n.cpy1+r,n.x1,n.y1+r)),e.closePath()},t.prototype.highlight=function(){ea(this)},t.prototype.downplay=function(){ta(this)},t}(gt),hN=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e._focusAdjacencyDisabled=!1,e}return ie(t,i),t.prototype.render=function(e,n,r){var m,y,b,o=this,a=e.getGraph(),s=this.group,l=e.layoutInfo,u=l.width,h=l.height,c=e.getData(),p=e.getData("edge"),f=e.get("orient");this._model=e,s.removeAll(),s.x=l.x,s.y=l.y,a.eachEdge(function(m){var y=new uN,v=rt(y);v.dataIndex=m.dataIndex,v.seriesIndex=e.seriesIndex,v.dataType="edge";var b,S,I,T,D,A,L,P,E=m.getModel(),N=E.getModel("lineStyle"),z=N.get("curveness"),B=m.node1.getLayout(),W=m.node1.getModel(),Y=W.get("localX"),j=W.get("localY"),Z=m.node2.getLayout(),q=m.node2.getModel(),K=q.get("localX"),Q=q.get("localY"),te=m.getLayout();switch(y.shape.extent=Math.max(1,te.dy),y.shape.orient=f,"vertical"===f?(D=b=(null!=Y?Y*u:B.x)+te.sy,A=(S=(null!=j?j*h:B.y)+B.dy)*(1-z)+(T=null!=Q?Q*h:Z.y)*z,L=I=(null!=K?K*u:Z.x)+te.ty,P=S*z+T*(1-z)):(D=(b=(null!=Y?Y*u:B.x)+B.dx)*(1-z)+(I=null!=K?K*u:Z.x)*z,A=S=(null!=j?j*h:B.y)+te.sy,L=b*z+I*(1-z),P=T=(null!=Q?Q*h:Z.y)+te.ty),y.setShape({x1:b,y1:S,x2:I,y2:T,cpx1:D,cpy1:A,cpx2:L,cpy2:P}),y.useStyle(N.getItemStyle()),y.style.fill){case"source":y.style.fill=m.node1.getVisual("color"),y.style.decal=m.node1.getVisual("style").decal;break;case"target":y.style.fill=m.node2.getVisual("color"),y.style.decal=m.node2.getVisual("style").decal;break;case"gradient":var ne=m.node1.getVisual("color"),ce=m.node2.getVisual("color");De(ne)&&De(ce)&&(y.style.fill=new Ru(0,0,+("horizontal"===f),+("vertical"===f),[{color:ne,offset:0},{color:ce,offset:1}]))}rn(y,Ei(E,"edgeLabel"),{labelFetcher:e,labelDataIndex:m.dataIndex,defaultText:""+E.get("value")}),y.setTextConfig({position:"inside"});var ye=E.getModel("emphasis");nn(y,E,"lineStyle",function(pe){return pe.getItemStyle()}),s.add(y),p.setItemGraphicEl(m.dataIndex,y);var re=ye.get("focus");hi(y,"adjacency"===re?m.getAdjacentDataIndices():re,ye.get("blurScope"),ye.get("disabled")),rt(y).dataType="edge"}),a.eachNode(function(m){var y=m.getLayout(),v=m.getModel(),b=v.get("localX"),S=v.get("localY"),I=v.getModel("emphasis"),T=new St({shape:{x:null!=b?b*u:y.x,y:null!=S?S*h:y.y,width:y.dx,height:y.dy},style:v.getModel("itemStyle").getItemStyle(),z2:10});rn(T,Ei(v),{labelFetcher:e,labelDataIndex:m.dataIndex,defaultText:m.id}),T.disableLabelAnimation=!0,T.setStyle("fill",m.getVisual("color")),T.setStyle("decal",m.getVisual("style").decal),nn(T,v),s.add(T),c.setItemGraphicEl(m.dataIndex,T),rt(T).dataType="node";var D=I.get("focus");hi(T,"adjacency"===D?m.getAdjacentDataIndices():D,I.get("blurScope"),I.get("disabled"))}),c.eachItemGraphicEl(function(m,y){c.getItemModel(y).get("draggable")&&(m.drift=function(v,b){o._focusAdjacencyDisabled=!0,this.shape.x+=v,this.shape.y+=b,this.dirty(),r.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:c.getRawIndex(y),localX:this.shape.x/u,localY:this.shape.y/h})},m.ondragend=function(){o._focusAdjacencyDisabled=!1},m.draggable=!0,m.cursor="move")}),!this._data&&e.isAnimationEnabled()&&s.setClipPath((m=s.getBoundingRect(),y=e,ni(b=new St({shape:{x:m.x-10,y:m.y-10,width:0,height:m.height+20}}),{shape:{width:m.width+20}},y,function(){s.removeClipPath()}),b)),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(Ht),cN=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.getInitialData=function(e,n){var r=e.edges||e.links,o=e.data||e.nodes,a=e.levels;this.levelModels=[];for(var s=this.levelModels,l=0;l<a.length;l++)null!=a[l].depth&&a[l].depth>=0&&(s[a[l].depth]=new Rt(a[l],this,n));if(o&&r)return X2(o,r,this,!0,function(h,c){h.wrapMethod("getItemModel",function(p,f){var m=p.parentModel,y=m.getData().getItemLayout(f);if(y){var b=m.levelModels[y.depth];b&&(p.parentModel=b)}return p}),c.wrapMethod("getItemModel",function(p,f){var m=p.parentModel,y=m.getGraph().getEdgeByIndex(f).node1.getLayout();if(y){var b=m.levelModels[y.depth];b&&(p.parentModel=b)}return p})}).data},t.prototype.setNodePosition=function(e,n){var r=(this.option.data||this.option.nodes)[e];r.localX=n[0],r.localY=n[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,n,r){function o(c){return isNaN(c)||null==c}if("edge"===r){var a=this.getDataParams(e,r),s=a.data,l=a.value;return Ni("nameValue",{name:s.source+" -- "+s.target,value:l,noValue:o(l)})}var u=this.getGraph().getNodeByIndex(e).getLayout().value,h=this.getDataParams(e,r).data.name;return Ni("nameValue",{name:null!=h?h+"":null,value:u,noValue:o(u)})},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(e,n){var r=i.prototype.getDataParams.call(this,e,n);if(null==r.value&&"node"===n){var o=this.getGraph().getNodeByIndex(e).getLayout().value;r.value=o}return r},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(qt);function dN(i,t){i.eachSeriesByType("sankey",function(e){var p,n=e.get("nodeWidth"),r=e.get("nodeGap"),o=(p=t,wi(e.getBoxLayoutParams(),{width:p.getWidth(),height:p.getHeight()}));e.layoutInfo=o;var a=o.width,s=o.height,l=e.getGraph(),u=l.nodes,h=l.edges;G(u,function(p){var f=Qa(p.outEdges,Dg),m=Qa(p.inEdges,Dg),y=p.getValue()||0,v=Math.max(f,m,y);p.setLayout({value:v},!0)}),function(c,p,f,m,y,v,b,S,I){var T,A;(function(T,D,A,L,P,E,N){for(var z=[],B=[],W=[],Y=[],j=0,Z=0;Z<D.length;Z++)z[Z]=1;for(Z=0;Z<T.length;Z++)B[Z]=T[Z].inEdges.length,0===B[Z]&&W.push(T[Z]);for(var q=-1;W.length;){for(var K=0;K<W.length;K++){var Q=W[K],te=Q.hostGraph.data.getRawDataItem(Q.dataIndex),ne=null!=te.depth&&te.depth>=0;ne&&te.depth>q&&(q=te.depth),Q.setLayout({depth:ne?te.depth:j},!0),Q.setLayout("vertical"===E?{dy:A}:{dx:A},!0);for(var ce=0;ce<Q.outEdges.length;ce++){var ye=Q.outEdges[ce];z[D.indexOf(ye)]=0;var re=ye.node2;0==--B[T.indexOf(re)]&&Y.indexOf(re)<0&&Y.push(re)}}++j,W=Y,Y=[]}for(Z=0;Z<z.length;Z++)if(1===z[Z])throw new Error("Sankey is a DAG, the original data has cycle!");var be,xe,pe=q>j-1?q:j-1;N&&"left"!==N&&function(ve,be,xe,we){if("right"===be){for(var _e=[],Ce=ve,Ne=0;Ce.length;){for(var et=0;et<Ce.length;et++){var ot=Ce[et];ot.setLayout({skNodeHeight:Ne},!0);for(var Bt=0;Bt<ot.inEdges.length;Bt++){var ct=ot.inEdges[Bt];_e.indexOf(ct.node1)<0&&_e.push(ct.node1)}}Ce=_e,_e=[],++Ne}G(ve,function(vt){_T(vt)||vt.setLayout({depth:Math.max(0,we-vt.getLayout().skNodeHeight)},!0)})}else"justify"===be&&(Yt=we,G(ve,function($t){_T($t)||$t.outEdges.length||$t.setLayout({depth:Yt},!0)}));var Yt}(T,N,0,pe),be="vertical"===E?(P-A)/pe:(L-A)/pe,xe=E,G(T,function(we){var _e=we.getLayout().depth*be;we.setLayout("vertical"===xe?{y:_e}:{x:_e},!0)})})(c,p,f,y,v,S,I),function(T,D,A,L,P,E,N){var j,Z,q,z=(j=[],Z="vertical"===N?"y":"x",(q=Fn(T,function(K){return K.getLayout()[Z]})).keys.sort(function(K,Q){return K-Q}),G(q.keys,function(K){j.push(q.buckets.get(K))}),j);(function(W,Y,j,Z,q,K){var Q=1/0;G(W,function(te){var ne=te.length,ce=0;G(te,function(re){ce+=re.getLayout().value});var ye="vertical"===K?(Z-(ne-1)*q)/ce:(j-(ne-1)*q)/ce;ye<Q&&(Q=ye)}),G(W,function(te){G(te,function(ne,ce){var ye=ne.getLayout().value*Q;"vertical"===K?(ne.setLayout({x:ce},!0),ne.setLayout({dx:ye},!0)):(ne.setLayout({y:ce},!0),ne.setLayout({dy:ye},!0))})}),G(Y,function(te){var ne=+te.getValue()*Q;te.setLayout({dy:ne},!0)})})(z,D,A,L,P,N),q0(z,P,A,L,N);for(var B=1;E>0;E--)pN(z,B*=.99,N),q0(z,P,A,L,N),vN(z,B,N),q0(z,P,A,L,N)}(c,p,v,y,m,b,S),A="vertical"===S?"x":"y",G(T=c,function(L){L.outEdges.sort(function(P,E){return P.node2.getLayout()[A]-E.node2.getLayout()[A]}),L.inEdges.sort(function(P,E){return P.node1.getLayout()[A]-E.node1.getLayout()[A]})}),G(T,function(L){var P=0,E=0;G(L.outEdges,function(N){N.setLayout({sy:P},!0),P+=N.getLayout().dy}),G(L.inEdges,function(N){N.setLayout({ty:E},!0),E+=N.getLayout().dy})})}(u,h,n,r,a,s,0!==xt(u,function(c){return 0===c.getLayout().value}).length?0:e.get("layoutIterations"),e.get("orient"),e.get("nodeAlign"))})}function _T(i){var t=i.hostGraph.data.getRawDataItem(i.dataIndex);return null!=t.depth&&t.depth>=0}function q0(i,t,e,n,r){var o="vertical"===r?"x":"y";G(i,function(a){var s,l,u;a.sort(function(m,y){return m.getLayout()[o]-y.getLayout()[o]});for(var h=0,c=a.length,p="vertical"===r?"dx":"dy",f=0;f<c;f++)(u=h-(l=a[f]).getLayout()[o])>0&&(s=l.getLayout()[o]+u,l.setLayout("vertical"===r?{x:s}:{y:s},!0)),h=l.getLayout()[o]+l.getLayout()[p]+t;if((u=h-t-("vertical"===r?n:e))>0)for(s=l.getLayout()[o]-u,l.setLayout("vertical"===r?{x:s}:{y:s},!0),h=s,f=c-2;f>=0;--f)(u=(l=a[f]).getLayout()[o]+l.getLayout()[p]+t-h)>0&&(s=l.getLayout()[o]-u,l.setLayout("vertical"===r?{x:s}:{y:s},!0)),h=l.getLayout()[o]})}function pN(i,t,e){G(i.slice().reverse(),function(n){G(n,function(r){if(r.outEdges.length){var o=Qa(r.outEdges,fN,e)/Qa(r.outEdges,Dg);if(isNaN(o)){var a=r.outEdges.length;o=a?Qa(r.outEdges,gN,e)/a:0}if("vertical"===e){var s=r.getLayout().x+(o-Ja(r,e))*t;r.setLayout({x:s},!0)}else{var l=r.getLayout().y+(o-Ja(r,e))*t;r.setLayout({y:l},!0)}}})})}function fN(i,t){return Ja(i.node2,t)*i.getValue()}function gN(i,t){return Ja(i.node2,t)}function mN(i,t){return Ja(i.node1,t)*i.getValue()}function yN(i,t){return Ja(i.node1,t)}function Ja(i,t){return"vertical"===t?i.getLayout().x+i.getLayout().dx/2:i.getLayout().y+i.getLayout().dy/2}function Dg(i){return i.getValue()}function Qa(i,t,e){for(var n=0,r=i.length,o=-1;++o<r;){var a=+t(i[o],e);isNaN(a)||(n+=a)}return n}function vN(i,t,e){G(i,function(n){G(n,function(r){if(r.inEdges.length){var o=Qa(r.inEdges,mN,e)/Qa(r.inEdges,Dg);if(isNaN(o)){var a=r.inEdges.length;o=a?Qa(r.inEdges,yN,e)/a:0}if("vertical"===e){var s=r.getLayout().x+(o-Ja(r,e))*t;r.setLayout({x:s},!0)}else{var l=r.getLayout().y+(o-Ja(r,e))*t;r.setLayout({y:l},!0)}}})})}function xN(i){i.eachSeriesByType("sankey",function(t){var e=t.getGraph(),n=e.nodes,r=e.edges;if(n.length){var o=1/0,a=-1/0;G(n,function(s){var l=s.getLayout().value;l<o&&(o=l),l>a&&(a=l)}),G(n,function(s){var l=new Vi({type:"color",mappingMethod:"linear",dataExtent:[o,a],visual:t.get("color")}).mapValueToVisual(s.getLayout().value),u=s.getModel().get(["itemStyle","color"]);null!=u?(s.setVisual("color",u),s.setVisual("style",{fill:u})):(s.setVisual("color",l),s.setVisual("style",{fill:l}))})}r.length&&G(r,function(s){var l=s.getModel().get("lineStyle");s.setVisual("style",l)})})}var bT=function(){function i(){}return i.prototype.getInitialData=function(t,e){var n,r,o=e.getComponent("xAxis",this.get("xAxisIndex")),a=e.getComponent("yAxis",this.get("yAxisIndex")),s=o.get("type"),l=a.get("type");"category"===s?(t.layout="horizontal",n=o.getOrdinalMeta(),r=!0):"category"===l?(t.layout="vertical",n=a.getOrdinalMeta(),r=!0):t.layout=t.layout||"horizontal";var u=["x","y"],h="horizontal"===t.layout?0:1,c=this._baseAxisDim=u[h],p=u[1-h],f=[o,a],m=f[h].get("type"),y=f[1-h].get("type"),v=t.data;if(v&&r){var b=[];G(v,function(T,D){var A;fe(T)?(A=T.slice(),T.unshift(D)):fe(T.value)?((A=de({},T)).value=A.value.slice(),T.value.unshift(D)):A=T,b.push(A)}),t.data=b}var S=this.defaultValueDimensions,I=[{name:c,type:zf(m),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:p,type:zf(y),dimsDef:S.slice()}];return ph(this,{coordDimensions:I,dimensionsCount:S.length+1,encodeDefaulter:Xe(Q_,I,this)})},i.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},i}(),wT=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],e.visualDrawType="stroke",e}return ie(t,i),t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(qt);Qt(wT,bT,!0);var _N=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.render=function(e,n,r){var o=e.getData(),a=this.group,s=this._data;this._data||a.removeAll();var l="horizontal"===e.get("layout")?1:0;o.diff(s).add(function(u){if(o.hasValue(u)){var h=ST(o.getItemLayout(u),o,u,l,!0);o.setItemGraphicEl(u,h),a.add(h)}}).update(function(u,h){var c=s.getItemGraphicEl(h);if(o.hasValue(u)){var p=o.getItemLayout(u);c?(Yr(c),MT(p,c,o,u)):c=ST(p,o,u,l),a.add(c),o.setItemGraphicEl(u,c)}else a.remove(c)}).remove(function(u){var h=s.getItemGraphicEl(u);h&&a.remove(h)}).execute(),this._data=o},t.prototype.remove=function(e){var n=this.group,r=this._data;this._data=null,r&&r.eachItemGraphicEl(function(o){o&&n.remove(o)})},t.type="boxplot",t}(Ht),bN=function(){},wN=function(i){function t(e){var n=i.call(this,e)||this;return n.type="boxplotBoxPath",n}return ie(t,i),t.prototype.getDefaultShape=function(){return new bN},t.prototype.buildPath=function(e,n){var r=n.points,o=0;for(e.moveTo(r[o][0],r[o][1]),o++;o<4;o++)e.lineTo(r[o][0],r[o][1]);for(e.closePath();o<r.length;o++)e.moveTo(r[o][0],r[o][1]),o++,e.lineTo(r[o][0],r[o][1])},t}(gt);function ST(i,t,e,n,r){var o=i.ends,a=new wN({shape:{points:r?SN(o,n,i):o}});return MT(i,a,t,e,r),a}function MT(i,t,e,n,r){(0,Ec[r?"initProps":"updateProps"])(t,{shape:{points:i.ends}},e.hostModel,n),t.useStyle(e.getItemVisual(n,"style")),t.style.strokeNoScale=!0,t.z2=100;var a=e.getItemModel(n),s=a.getModel("emphasis");nn(t,a),hi(t,s.get("focus"),s.get("blurScope"),s.get("disabled"))}function SN(i,t,e){return ge(i,function(n){return(n=n.slice())[t]=e.initBaseline,n})}var zd=G;function MN(i){var n,r,t=(n=[],r=[],i.eachSeriesByType("boxplot",function(o){var a=o.getBaseAxis(),s=We(r,a);s<0&&(r[s=r.length]=a,n[s]={axis:a,seriesModels:[]}),n[s].seriesModels.push(o)}),n);zd(t,function(e){var n=e.seriesModels;n.length&&(function(r){var o,a=r.axis,s=r.seriesModels,l=s.length,u=r.boxWidthList=[],h=r.boxOffsetList=[],c=[];if("category"===a.type)o=a.getBandWidth();else{var p=0;zd(s,function(S){p=Math.max(p,S.getData().count())});var f=a.getExtent();o=Math.abs(f[1]-f[0])/p}zd(s,function(S){var I=S.get("boxWidth");fe(I)||(I=[I,I]),c.push([Te(I[0],o)||0,Te(I[1],o)||0])});var m=.8*o-2,y=m/l*.3,v=(m-y*(l-1))/l,b=v/2-m/2;zd(s,function(S,I){h.push(b),b+=y+v,u.push(Math.min(Math.max(v,c[I][0]),c[I][1]))})}(e),zd(n,function(r,o){!function(a,s,l){var u=a.coordinateSystem,h=a.getData(),c=l/2,p="horizontal"===a.get("layout")?0:1,f=1-p,m=["x","y"],y=h.mapDimension(m[p]),v=h.mapDimensionsAll(m[f]);if(!(null==y||v.length<5))for(var b=0;b<h.count();b++){var S=h.get(y,b),I=E(S,v[2],b),T=E(S,v[0],b),D=E(S,v[1],b),A=E(S,v[3],b),L=E(S,v[4],b),P=[];N(P,D,!1),N(P,A,!0),P.push(T,D,L,A),z(P,T),z(P,L),z(P,I),h.setItemLayout(b,{initBaseline:I[f],ends:P})}function E(B,W,Y){var j,Z=h.get(W,Y),q=[];return q[p]=B,q[f]=Z,isNaN(B)||isNaN(Z)?j=[NaN,NaN]:(j=u.dataToPoint(q))[p]+=s,j}function N(B,W,Y){var j=W.slice(),Z=W.slice();j[p]+=c,Z[p]-=c,Y?B.push(j,Z):B.push(Z,j)}function z(B,W){var Y=W.slice(),j=W.slice();Y[p]-=c,j[p]+=c,B.push(Y,j)}}(r,e.boxOffsetList[o],e.boxWidthList[o])}))})}var IN={type:"echarts:boxplot",transform:function(i){var t=i.upstream;t.sourceFormat!==ia&&Ct("");var n=function(r,o){for(var a=[],s=[],l=(o=o||{}).boundIQR,u="none"===l||0===l,h=0;h<r.length;h++){var c=_n(r[h].slice()),p=vu(c,.25),f=vu(c,.5),m=vu(c,.75),y=c[0],v=c[c.length-1],b=(l??1.5)*(m-p),S=u?y:Math.max(y,p-b),I=u?v:Math.min(v,m+b),T=o.itemNameFormatter,D=Ge(T)?T({value:h}):De(T)?T.replace("{value}",h+""):h+"";a.push([D,S,p,f,m,I]);for(var A=0;A<c.length;A++){var L=c[A];(L<S||L>I)&&s.push([D,L])}}return{boxData:a,outliers:s}}(t.getRawData(),i.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:n.boxData},{data:n.outliers}]}},TN=["color","borderColor"],CN=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.render=function(e,n,r){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,n,r){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,n,r,o){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,n):this._incrementalRenderNormal(e,n)},t.prototype.eachRendered=function(e){Va(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var n=e.pipelineContext.large;null!=this._isLargeDraw&&n===this._isLargeDraw||(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(e){var n=e.getData(),r=this._data,o=this.group,a=n.getLayout("isSimpleBox"),s=e.get("clip",!0),l=e.coordinateSystem,u=l.getArea&&l.getArea();this._data||o.removeAll(),n.diff(r).add(function(h){if(n.hasValue(h)){var c=n.getItemLayout(h);if(s&&IT(u,c))return;var p=$0(c,0,!0);ni(p,{shape:{points:c.ends}},e,h),K0(p,n,h,a),o.add(p),n.setItemGraphicEl(h,p)}}).update(function(h,c){var p=r.getItemGraphicEl(c);if(n.hasValue(h)){var f=n.getItemLayout(h);s&&IT(u,f)?o.remove(p):(p?(It(p,{shape:{points:f.ends}},e,h),Yr(p)):p=$0(f),K0(p,n,h,a),o.add(p),n.setItemGraphicEl(h,p))}else o.remove(p)}).remove(function(h){var c=r.getItemGraphicEl(h);c&&o.remove(c)}).execute(),this._data=n},t.prototype._renderLarge=function(e){this._clear(),TT(e,this.group);var n=e.get("clip",!0)?rg(e.coordinateSystem,!1,e):null;n?this.group.setClipPath(n):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,n){for(var r,o=n.getData(),a=o.getLayout("isSimpleBox");null!=(r=e.next());){var s=$0(o.getItemLayout(r));K0(s,o,r,a),s.incremental=!0,this.group.add(s),this._progressiveEls.push(s)}},t.prototype._incrementalRenderLarge=function(e,n){TT(n,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(Ht),DN=function(){},AN=function(i){function t(e){var n=i.call(this,e)||this;return n.type="normalCandlestickBox",n}return ie(t,i),t.prototype.getDefaultShape=function(){return new DN},t.prototype.buildPath=function(e,n){var r=n.points;this.__simpleBox?(e.moveTo(r[4][0],r[4][1]),e.lineTo(r[6][0],r[6][1])):(e.moveTo(r[0][0],r[0][1]),e.lineTo(r[1][0],r[1][1]),e.lineTo(r[2][0],r[2][1]),e.lineTo(r[3][0],r[3][1]),e.closePath(),e.moveTo(r[4][0],r[4][1]),e.lineTo(r[5][0],r[5][1]),e.moveTo(r[6][0],r[6][1]),e.lineTo(r[7][0],r[7][1]))},t}(gt);function $0(i,t,e){var n=i.ends;return new AN({shape:{points:e?kN(n,i):n},z2:100})}function IT(i,t){for(var e=!0,n=0;n<t.ends.length;n++)if(i.contain(t.ends[n][0],t.ends[n][1])){e=!1;break}return e}function K0(i,t,e,n){var r=t.getItemModel(e);i.useStyle(t.getItemVisual(e,"style")),i.style.strokeNoScale=!0,i.__simpleBox=n,nn(i,r)}function kN(i,t){return ge(i,function(e){return(e=e.slice())[1]=t.initBaseline,e})}var LN=function(){},J0=function(i){function t(e){var n=i.call(this,e)||this;return n.type="largeCandlestickBox",n}return ie(t,i),t.prototype.getDefaultShape=function(){return new LN},t.prototype.buildPath=function(e,n){for(var r=n.points,o=0;o<r.length;)if(this.__sign===r[o++]){var a=r[o++];e.moveTo(a,r[o++]),e.lineTo(a,r[o++])}else o+=3},t}(gt);function TT(i,t,e,n){var r=i.getData().getLayout("largePoints"),o=new J0({shape:{points:r},__sign:1,ignoreCoarsePointer:!0});t.add(o);var a=new J0({shape:{points:r},__sign:-1,ignoreCoarsePointer:!0});t.add(a);var s=new J0({shape:{points:r},__sign:0,ignoreCoarsePointer:!0});t.add(s),Q0(1,o,i),Q0(-1,a,i),Q0(0,s,i),n&&(o.incremental=!0,a.incremental=!0),e&&e.push(o,a)}function Q0(i,t,e,n){var r=e.get(["itemStyle",i>0?"borderColor":"borderColor0"])||e.get(["itemStyle",i>0?"color":"color0"]);0===i&&(r=e.get(["itemStyle","borderColorDoji"]));var o=e.getModel("itemStyle").getItemStyle(TN);t.useStyle(o),t.style.fill=null,t.style.stroke=r}var CT=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],e}return ie(t,i),t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,n,r){var o=n.getItemLayout(e);return o&&r.rect(o.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(qt);function PN(i){i&&fe(i.series)&&G(i.series,function(t){le(t)&&"k"===t.type&&(t.type="candlestick")})}Qt(CT,bT,!0);var ON=["itemStyle","borderColor"],RN=["itemStyle","borderColor0"],EN=["itemStyle","borderColorDoji"],NN=["itemStyle","color"],zN=["itemStyle","color0"],VN={seriesType:"candlestick",plan:Qu(),performRawSeries:!0,reset:function(i,t){function e(r,o){return o.get(r>0?NN:zN)}function n(r,o){return o.get(0===r?EN:r>0?ON:RN)}if(!t.isSeriesFiltered(i))return!i.pipelineContext.large&&{progress:function(r,o){for(var a;null!=(a=r.next());){var s=o.getItemModel(a),l=o.getItemLayout(a).sign,u=s.getItemStyle();u.fill=e(l,s),u.stroke=n(l,s)||u.fill,de(o.ensureUniqueItemVisual(a,"style"),u)}}}}},BN={seriesType:"candlestick",plan:Qu(),reset:function(i){var c,p,f,m,y,v,b,S,t=i.coordinateSystem,e=i.getData(),n=(p=e,y="category"===(m=(c=i).getBaseAxis()).type?m.getBandWidth():(f=m.getExtent(),Math.abs(f[1]-f[0])/p.count()),v=Te(He(c.get("barMaxWidth"),y),y),b=Te(He(c.get("barMinWidth"),1),y),null!=(S=c.get("barWidth"))?Te(S,y):Math.max(Math.min(y/2,v),b)),r=["x","y"],o=e.getDimensionIndex(e.mapDimension(r[0])),a=ge(e.mapDimensionsAll(r[1]),e.getDimensionIndex,e),s=a[0],l=a[1],u=a[2],h=a[3];if(e.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),!(o<0||a.length<4))return{progress:i.pipelineContext.large?function(c,p){for(var f,m,y=yo(4*c.count),v=0,b=[],S=[],I=p.getStore(),T=!!i.get(["itemStyle","borderColorDoji"]);null!=(m=c.next());){var D=I.get(o,m),A=I.get(s,m),L=I.get(l,m),P=I.get(u,m),E=I.get(h,m);isNaN(D)||isNaN(P)||isNaN(E)?(y[v++]=NaN,v+=3):(y[v++]=DT(I,m,A,L,l,T),b[0]=D,b[1]=P,f=t.dataToPoint(b,null,S),y[v++]=f?f[0]:NaN,y[v++]=f?f[1]:NaN,b[1]=E,f=t.dataToPoint(b,null,S),y[v++]=f?f[1]:NaN)}p.setLayout("largePoints",y)}:function(c,p){for(var f,m=p.getStore();null!=(f=c.next());){var y=m.get(o,f),v=m.get(s,f),b=m.get(l,f),S=m.get(u,f),I=m.get(h,f),T=Math.min(v,b),D=Math.max(v,b),A=B(T,y),L=B(D,y),P=B(S,y),E=B(I,y),N=[];W(N,L,0),W(N,A,1),N.push(j(E),j(L),j(P),j(A));var z=!!p.getItemModel(f).get(["itemStyle","borderColorDoji"]);p.setItemLayout(f,{sign:DT(m,f,v,b,l,z),initBaseline:v>b?L[1]:A[1],ends:N,brushRect:(Z=S,q=I,K=y,Q=void 0,te=void 0,Q=B(Z,K),te=B(q,K),Q[0]-=n/2,te[0]-=n/2,{x:Q[0],y:Q[1],width:n,height:te[1]-Q[1]})})}var Z,q,K,Q,te;function B(Z,q){var K=[];return K[0]=q,K[1]=Z,isNaN(q)||isNaN(Z)?[NaN,NaN]:t.dataToPoint(K)}function W(Z,q,K){var Q=q.slice(),te=q.slice();Q[0]=ef(Q[0]+n/2,1,!1),te[0]=ef(te[0]-n/2,1,!0),K?Z.push(Q,te):Z.push(te,Q)}function j(Z){return Z[0]=ef(Z[0],1),Z}}}}};function DT(i,t,e,n,r,o){return e>n?-1:e<n?1:o?0:t>0?i.get(r,t-1)<=n?1:-1:1}function AT(i,t){var e=t.rippleEffectColor||t.color;i.eachChild(function(n){n.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?e:null,fill:"fill"===t.brushType?e:null}})})}var FN=function(i){function t(e,n){var r=i.call(this)||this,o=new gd(e,n),a=new Ze;return r.add(o),r.add(a),r.updateData(e,n),r}return ie(t,i),t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var n=e.symbolType,r=e.color,o=e.rippleNumber,a=this.childAt(1),s=0;s<o;s++){var l=gi(n,-1,-1,2,2,r);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-s/o*e.period+e.effectOffset;l.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(u).start(),l.animateStyle(!0).when(e.period,{opacity:0}).delay(u).start(),a.add(l)}AT(a,e)},t.prototype.updateEffectAnimation=function(e){for(var n=this._effectCfg,r=this.childAt(1),o=["symbolType","period","rippleScale","rippleNumber"],a=0;a<o.length;a++){var s=o[a];if(n[s]!==e[s])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}AT(r,e)},t.prototype.highlight=function(){ea(this)},t.prototype.downplay=function(){ta(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,n){var r=this,o=e.hostModel;this.childAt(0).updateData(e,n);var a=this.childAt(1),s=e.getItemModel(n),l=e.getItemVisual(n,"symbol"),u=Kc(e.getItemVisual(n,"symbolSize")),h=e.getItemVisual(n,"style"),c=h&&h.fill,p=s.getModel("emphasis");a.setScale(u),a.traverse(function(v){v.setStyle("fill",c)});var f=ih(e.getItemVisual(n,"symbolOffset"),u);f&&(a.x=f[0],a.y=f[1]);var m=e.getItemVisual(n,"symbolRotate");a.rotation=(m||0)*Math.PI/180||0;var y={};y.showEffectOn=o.get("showEffectOn"),y.rippleScale=s.get(["rippleEffect","scale"]),y.brushType=s.get(["rippleEffect","brushType"]),y.period=1e3*s.get(["rippleEffect","period"]),y.effectOffset=n/e.count(),y.z=o.getShallow("z")||0,y.zlevel=o.getShallow("zlevel")||0,y.symbolType=l,y.color=c,y.rippleEffectColor=s.get(["rippleEffect","color"]),y.rippleNumber=s.get(["rippleEffect","number"]),"render"===y.showEffectOn?(this._effectCfg?this.updateEffectAnimation(y):this.startEffectAnimation(y),this._effectCfg=y):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(v){"emphasis"===v?"render"!==y.showEffectOn&&r.startEffectAnimation(y):"normal"===v&&"render"!==y.showEffectOn&&r.stopEffectAnimation()}),this._effectCfg=y,hi(this,p.get("focus"),p.get("blurScope"),p.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t}(Ze),GN=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.init=function(){this._symbolDraw=new md(FN)},t.prototype.render=function(e,n,r){var o=e.getData(),a=this._symbolDraw;a.updateData(o,{clipShape:this._getClipShape(e)}),this.group.add(a.group)},t.prototype._getClipShape=function(e){var n=e.coordinateSystem,r=n&&n.getArea&&n.getArea();return e.get("clip",!0)?r:null},t.prototype.updateTransform=function(e,n,r){var o=e.getData();this.group.dirty();var a=yd("").reset(e,n,r);a.progress&&a.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var n=e.coordinateSystem;n&&n.getRoamTransform&&(this.group.transform=ko(n.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,n){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(Ht),WN=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return ie(t,i),t.prototype.getInitialData=function(e,n){return go(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,n,r){return r.point(n.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(qt),kT=function(i){function t(e,n,r){var o=i.call(this)||this;return o.add(o.createLine(e,n,r)),o._updateEffectSymbol(e,n),o}return ie(t,i),t.prototype.createLine=function(e,n,r){return new M0(e,n,r)},t.prototype._updateEffectSymbol=function(e,n){var r=e.getItemModel(n).getModel("effect"),o=r.get("symbolSize"),a=r.get("symbol");fe(o)||(o=[o,o]);var s=e.getItemVisual(n,"style"),l=r.get("color")||s&&s.stroke,u=this.childAt(1);this._symbolType!==a&&(this.remove(u),(u=gi(a,-.5,-.5,1,1,l)).z2=100,u.culling=!0,this.add(u)),u&&(u.setStyle("shadowColor",l),u.setStyle(r.getItemStyle(["color"])),u.scaleX=o[0],u.scaleY=o[1],u.setColor(l),this._symbolType=a,this._symbolScale=o,this._updateEffectAnimation(e,r,n))},t.prototype._updateEffectAnimation=function(e,n,r){var o=this.childAt(1);if(o){var a=e.getItemLayout(r),s=1e3*n.get("period"),l=n.get("loop"),u=n.get("roundTrip"),h=n.get("constantSpeed"),c=kt(n.get("delay"),function(f){return f/e.count()*s/3});if(o.ignore=!0,this._updateAnimationPoints(o,a),h>0&&(s=this._getLineLength(o)/h*1e3),s!==this._period||l!==this._loop||u!==this._roundTrip){o.stopAnimation();var p=void 0;p=Ge(c)?c(r):c,o.__t>0&&(p=-s*o.__t),this._animateSymbol(o,s,p,l,u)}this._period=s,this._loop=l,this._roundTrip=u}},t.prototype._animateSymbol=function(e,n,r,o,a){if(n>0){e.__t=0;var s=this,l=e.animate("",o).when(a?2*n:n,{__t:a?2:1}).delay(r).during(function(){s._updateSymbolPosition(e)});o||l.done(function(){s.remove(e)}),l.start()}},t.prototype._getLineLength=function(e){return sr(e.__p1,e.__cp1)+sr(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,n){e.__p1=n[0],e.__p2=n[1],e.__cp1=n[2]||[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]},t.prototype.updateData=function(e,n,r){this.childAt(0).updateData(e,n,r),this._updateEffectSymbol(e,n)},t.prototype._updateSymbolPosition=function(e){var n=e.__p1,r=e.__p2,o=e.__cp1,a=e.__t<1?e.__t:2-e.__t,s=[e.x,e.y],l=s.slice(),u=bi,h=Kl;s[0]=u(n[0],o[0],r[0],a),s[1]=u(n[1],o[1],r[1],a);var c=e.__t<1?h(n[0],o[0],r[0],a):h(r[0],o[0],n[0],1-a),p=e.__t<1?h(n[1],o[1],r[1],a):h(r[1],o[1],n[1],1-a);e.rotation=-Math.atan2(p,c)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==e.__lastT&&e.__lastT<e.__t?(e.scaleY=1.05*sr(l,s),1===a&&(s[0]=l[0]+(s[0]-l[0])/2,s[1]=l[1]+(s[1]-l[1])/2)):e.scaleY=1===e.__lastT?2*sr(n,s):this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=s[0],e.y=s[1]},t.prototype.updateLayout=function(e,n){this.childAt(0).updateLayout(e,n);var r=e.getItemModel(n).getModel("effect");this._updateEffectAnimation(e,r,n)},t}(Ze),LT=function(i){function t(e,n,r){var o=i.call(this)||this;return o._createPolyline(e,n,r),o}return ie(t,i),t.prototype._createPolyline=function(e,n,r){var o=e.getItemLayout(n),a=new gn({shape:{points:o}});this.add(a),this._updateCommonStl(e,n,r)},t.prototype.updateData=function(e,n,r){var o=e.hostModel;It(this.childAt(0),{shape:{points:e.getItemLayout(n)}},o,n),this._updateCommonStl(e,n,r)},t.prototype._updateCommonStl=function(e,n,r){var o=this.childAt(0),a=e.getItemModel(n),s=r&&r.emphasisLineStyle,l=r&&r.focus,u=r&&r.blurScope,h=r&&r.emphasisDisabled;if(!r||e.hasItemOption){var c=a.getModel("emphasis");s=c.getModel("lineStyle").getLineStyle(),h=c.get("disabled"),l=c.get("focus"),u=c.get("blurScope")}o.useStyle(e.getItemVisual(n,"style")),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=s,hi(this,l,u,h)},t.prototype.updateLayout=function(e,n){this.childAt(0).setShape("points",e.getItemLayout(n))},t}(Ze),HN=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return ie(t,i),t.prototype.createLine=function(e,n,r){return new LT(e,n,r)},t.prototype._updateAnimationPoints=function(e,n){this._points=n;for(var r=[0],o=0,a=1;a<n.length;a++)o+=sr(n[a-1],n[a]),r.push(o);if(0!==o){for(a=0;a<r.length;a++)r[a]/=o;this._offsets=r,this._length=o}else this._length=0},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var n=e.__t<1?e.__t:2-e.__t,r=this._points,o=this._offsets,a=r.length;if(o){var s,l=this._lastFrame;if(n<this._lastFramePercent){for(s=Math.min(l+1,a-1);s>=0&&!(o[s]<=n);s--);s=Math.min(s,a-2)}else{for(s=l;s<a&&!(o[s]>n);s++);s=Math.min(s-1,a-2)}var u=(n-o[s])/(o[s+1]-o[s]),h=r[s],c=r[s+1];e.x=h[0]*(1-u)+u*c[0],e.y=h[1]*(1-u)+u*c[1],e.rotation=-Math.atan2(e.__t<1?c[1]-h[1]:h[1]-c[1],e.__t<1?c[0]-h[0]:h[0]-c[0])-Math.PI/2,this._lastFrame=s,this._lastFramePercent=n,e.ignore=!1}},t}(kT),YN=function(){this.polyline=!1,this.curveness=0,this.segs=[]},XN=function(i){function t(e){var n=i.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return ie(t,i),t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new YN},t.prototype.buildPath=function(e,n){var r,o=n.segs,a=n.curveness;if(n.polyline)for(r=this._off;r<o.length;){var s=o[r++];if(s>0){e.moveTo(o[r++],o[r++]);for(var l=1;l<s;l++)e.lineTo(o[r++],o[r++])}}else for(r=this._off;r<o.length;){var u=o[r++],h=o[r++],c=o[r++],p=o[r++];e.moveTo(u,h),a>0?e.quadraticCurveTo((u+c)/2-(h-p)*a,(h+p)/2-(c-u)*a,c,p):e.lineTo(c,p)}this.incremental&&(this._off=r,this.notClear=!0)},t.prototype.findDataIndex=function(e,n){var r=this.shape,o=r.segs,a=r.curveness,s=this.style.lineWidth;if(r.polyline)for(var l=0,u=0;u<o.length;){var h=o[u++];if(h>0)for(var c=o[u++],p=o[u++],f=1;f<h;f++)if(Wt(c,p,m=o[u++],y=o[u++],s,e,n))return l;l++}else for(l=0,u=0;u<o.length;){c=o[u++],p=o[u++];var m=o[u++],y=o[u++];if(a>0){if(pi(c,p,(c+m)/2-(p-y)*a,(p+y)/2-(m-c)*a,m,y,s,e,n))return l}else if(Wt(c,p,m,y,s,e,n))return l;l++}return-1},t.prototype.contain=function(e,n){var r=this.transformCoordToLocal(e,n);return this.getBoundingRect().contain(e=r[0],n=r[1])?(this.hoverDataIdx=this.findDataIndex(e,n))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var n=this.shape.segs,r=1/0,o=1/0,a=-1/0,s=-1/0,l=0;l<n.length;){var u=n[l++],h=n[l++];r=Math.min(u,r),a=Math.max(u,a),o=Math.min(h,o),s=Math.max(h,s)}e=this._rect=new st(r,o,a,s)}return e},t}(gt),UN=function(){function i(){this.group=new Ze}return i.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t)},i.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},i.prototype.incrementalUpdate=function(t,e){var n=this._newAdded[0],r=e.getLayout("linesPoints"),o=n&&n.shape.segs;if(o&&o.length<2e4){var a=o.length,s=new Float32Array(a+r.length);s.set(o),s.set(r,a),n.setShape({segs:s})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:r}),this._setCommon(l,e),l.__startIndex=t.start}},i.prototype.remove=function(){this._clear()},i.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},i.prototype._create=function(){var t=new XN({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},i.prototype._setCommon=function(t,e,n){var r=e.hostModel;t.setShape({polyline:r.get("polyline"),curveness:r.get(["lineStyle","curveness"])}),t.useStyle(r.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var o=e.getVisual("style");o&&o.stroke&&t.setStyle("stroke",o.stroke),t.setStyle("fill",null);var a=rt(t);a.seriesIndex=r.seriesIndex,t.on("mousemove",function(s){a.dataIndex=null;var l=t.hoverDataIdx;l>0&&(a.dataIndex=l+t.__startIndex)})},i.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},i}(),PT={seriesType:"lines",plan:Qu(),reset:function(i){var t=i.coordinateSystem;if(t){var e=i.get("polyline"),n=i.pipelineContext.large;return{progress:function(r,o){var a=[];if(n){var s=void 0,l=r.end-r.start;if(e){for(var u=0,h=r.start;h<r.end;h++)u+=i.getLineCoordsCount(h);s=new Float32Array(l+2*u)}else s=new Float32Array(4*l);var c=0,p=[];for(h=r.start;h<r.end;h++){var f=i.getLineCoords(h,a);e&&(s[c++]=f);for(var m=0;m<f;m++)p=t.dataToPoint(a[m],!1,p),s[c++]=p[0],s[c++]=p[1]}o.setLayout("linesPoints",s)}else for(h=r.start;h<r.end;h++){var y=o.getItemModel(h),v=(f=i.getLineCoords(h,a),[]);if(e)for(var b=0;b<f;b++)v.push(t.dataToPoint(a[b]));else{v[0]=t.dataToPoint(a[0]),v[1]=t.dataToPoint(a[1]);var S=y.get(["lineStyle","curveness"]);+S&&(v[2]=[(v[0][0]+v[1][0])/2-(v[0][1]-v[1][1])*S,(v[0][1]+v[1][1])/2-(v[1][0]-v[0][0])*S])}o.setItemLayout(h,v)}}}}}},jN=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.render=function(e,n,r){var o=e.getData(),a=this._updateLineDraw(o,e),s=e.get("zlevel"),l=e.get(["effect","trailLength"]),u=r.getZr(),h="svg"===u.painter.getType();h||u.painter.getLayer(s).clear(!0),null==this._lastZlevel||h||u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&l>0&&(h||u.configLayer(s,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),a.updateData(o);var c=e.get("clip",!0)&&rg(e.coordinateSystem,!1,e);c?this.group.setClipPath(c):this.group.removeClipPath(),this._lastZlevel=s,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,n,r){var o=e.getData();this._updateLineDraw(o,e).incrementalPrepareUpdate(o),this._clearLayer(r),this._finished=!1},t.prototype.incrementalRender=function(e,n,r){this._lineDraw.incrementalUpdate(e,n.getData()),this._finished=e.end===n.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,n,r){var o=e.getData(),a=e.pipelineContext;if(!this._finished||a.large||a.progressiveRender)return{update:!0};var s=PT.reset(e,n,r);s.progress&&s.progress({start:0,end:o.count(),count:o.count()},o),this._lineDraw.updateLayout(),this._clearLayer(r)},t.prototype._updateLineDraw=function(e,n){var r=this._lineDraw,o=this._showEffect(n),a=!!n.get("polyline"),s=n.pipelineContext.large;return r&&o===this._hasEffet&&a===this._isPolyline&&s===this._isLargeDraw||(r&&r.remove(),r=this._lineDraw=s?new UN:new I0(a?o?HN:LT:o?kT:M0),this._hasEffet=o,this._isPolyline=a,this._isLargeDraw=s),this.group.add(r.group),r},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var n=e.getZr();"svg"===n.painter.getType()||null==this._lastZlevel||n.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,n){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(n)},t.prototype.dispose=function(e,n){this.remove(e,n)},t.type="lines",t}(Ht),ZN=typeof Uint32Array>"u"?Array:Uint32Array,qN=typeof Float64Array>"u"?Array:Float64Array;function OT(i){var t=i.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(i.data=ge(t,function(e){var n={coords:[e[0].coord,e[1].coord]};return e[0].name&&(n.fromName=e[0].name),e[1].name&&(n.toName=e[1].name),Et([n,e[0],e[1]])}))}var $N=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return ie(t,i),t.prototype.init=function(e){e.data=e.data||[],OT(e);var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count)),i.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(e){if(OT(e),e.data){var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count))}i.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var n=this._processFlatCoordsArray(e.data);n.flatCoords&&(this._flatCoords?(this._flatCoords=Or(this._flatCoords,n.flatCoords),this._flatCoordsOffset=Or(this._flatCoordsOffset,n.flatCoordsOffset)):(this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset),e.data=new Float32Array(n.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var n=this.getData().getItemModel(e);return n.option instanceof Array?n.option:n.getShallow("coords")},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,n){if(this._flatCoordsOffset){for(var r=this._flatCoordsOffset[2*e],o=this._flatCoordsOffset[2*e+1],a=0;a<o;a++)n[a]=n[a]||[],n[a][0]=this._flatCoords[r+2*a],n[a][1]=this._flatCoords[r+2*a+1];return o}var s=this._getCoordsFromItemModel(e);for(a=0;a<s.length;a++)n[a]=n[a]||[],n[a][0]=s[a][0],n[a][1]=s[a][1];return s.length},t.prototype._processFlatCoordsArray=function(e){var n=0;if(this._flatCoords&&(n=this._flatCoords.length),oe(e[0])){for(var r=e.length,o=new ZN(r),a=new qN(r),s=0,l=0,u=0,h=0;h<r;){u++;var c=e[h++];o[l++]=s+n,o[l++]=c;for(var p=0;p<c;p++){var f=e[h++],m=e[h++];a[s++]=f,a[s++]=m}}return{flatCoordsOffset:new Uint32Array(o.buffer,0,l),flatCoords:a,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,n){var r=new yn(["value"],this);return r.hasItemOption=!1,r.initData(e.data,[],function(o,a,s,l){if(o instanceof Array)return NaN;r.hasItemOption=!0;var u=o.value;return null!=u?u instanceof Array?u[l]:u:void 0}),r},t.prototype.formatTooltip=function(e,n,r){var o=this.getData().getItemModel(e),a=o.get("name");if(a)return a;var s=o.get("fromName"),l=o.get("toName"),u=[];return null!=s&&u.push(s),null!=l&&u.push(l),Ni("nameValue",{name:u.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){return this.option.progressive??(this.option.large?1e4:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){return this.option.progressiveThreshold??(this.option.large?2e4:this.get("progressiveThreshold"))},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),n=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&n>0?n+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(qt);function Ag(i){return i instanceof Array||(i=[i,i]),i}var KN={seriesType:"lines",reset:function(i){var t=Ag(i.get("symbol")),e=Ag(i.get("symbolSize")),n=i.getData();return n.setVisual("fromSymbol",t&&t[0]),n.setVisual("toSymbol",t&&t[1]),n.setVisual("fromSymbolSize",e&&e[0]),n.setVisual("toSymbolSize",e&&e[1]),{dataEach:n.hasItemOption?function(r,o){var a=r.getItemModel(o),s=Ag(a.getShallow("symbol",!0)),l=Ag(a.getShallow("symbolSize",!0));s[0]&&r.setItemVisual(o,"fromSymbol",s[0]),s[1]&&r.setItemVisual(o,"toSymbol",s[1]),l[0]&&r.setItemVisual(o,"fromSymbolSize",l[0]),l[1]&&r.setItemVisual(o,"toSymbolSize",l[1])}:null}}},JN=function(){function i(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=Qe.createCanvas();this.canvas=t}return i.prototype.update=function(t,e,n,r,o,a){var s=this._getBrush(),l=this._getGradient(o,"inRange"),u=this._getGradient(o,"outOfRange"),h=this.pointSize+this.blurSize,c=this.canvas,p=c.getContext("2d"),f=t.length;c.width=e,c.height=n;for(var m=0;m<f;++m){var y=t[m],v=y[0],b=y[1],S=r(y[2]);p.globalAlpha=S,p.drawImage(s,v-h,b-h)}if(!c.width||!c.height)return c;for(var I=p.getImageData(0,0,c.width,c.height),T=I.data,D=0,A=T.length,L=this.minOpacity,P=this.maxOpacity-L;D<A;){S=T[D+3]/256;var E=4*Math.floor(255*S);if(S>0){var N=a(S)?l:u;S>0&&(S=S*P+L),T[D++]=N[E],T[D++]=N[E+1],T[D++]=N[E+2],T[D++]=N[E+3]*S*256}else D+=4}return p.putImageData(I,0,0),c},i.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=Qe.createCanvas()),e=this.pointSize+this.blurSize,n=2*e;t.width=n,t.height=n;var r=t.getContext("2d");return r.clearRect(0,0,n,n),r.shadowOffsetX=n,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-e,e,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),t},i.prototype._getGradient=function(t,e){for(var n=this._gradientPixels,r=n[e]||(n[e]=new Uint8ClampedArray(1024)),o=[0,0,0,0],a=0,s=0;s<256;s++)t[e](s/255,!0,o),r[a++]=o[0],r[a++]=o[1],r[a++]=o[2],r[a++]=o[3];return r},i}();function RT(i){var t=i.dimensions;return"lng"===t[0]&&"lat"===t[1]}var QN=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.render=function(e,n,r){var o;n.eachComponent("visualMap",function(s){s.eachTargetSeries(function(l){l===e&&(o=s)})}),this._progressiveEls=null,this.group.removeAll();var a=e.coordinateSystem;"cartesian2d"===a.type||"calendar"===a.type?this._renderOnCartesianAndCalendar(e,r,0,e.getData().count()):RT(a)&&this._renderOnGeo(a,e,o,r)},t.prototype.incrementalPrepareRender=function(e,n,r){this.group.removeAll()},t.prototype.incrementalRender=function(e,n,r,o){var a=n.coordinateSystem;a&&(RT(a)?this.render(n,r,o):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(n,o,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){Va(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,n,r,o,a){var s,l,u,h,c=e.coordinateSystem,p=vl(c,"cartesian2d");if(p){var f=c.getAxis("x"),m=c.getAxis("y");s=f.getBandWidth()+.5,l=m.getBandWidth()+.5,u=f.scale.getExtent(),h=m.scale.getExtent()}for(var y=this.group,v=e.getData(),b=e.getModel(["emphasis","itemStyle"]).getItemStyle(),S=e.getModel(["blur","itemStyle"]).getItemStyle(),I=e.getModel(["select","itemStyle"]).getItemStyle(),T=e.get(["itemStyle","borderRadius"]),D=Ei(e),A=e.getModel("emphasis"),L=A.get("focus"),P=A.get("blurScope"),E=A.get("disabled"),N=p?[v.mapDimension("x"),v.mapDimension("y"),v.mapDimension("value")]:[v.mapDimension("time"),v.mapDimension("value")],z=r;z<o;z++){var B=void 0,W=v.getItemVisual(z,"style");if(p){var Y=v.get(N[0],z),j=v.get(N[1],z);if(isNaN(v.get(N[2],z))||isNaN(Y)||isNaN(j)||Y<u[0]||Y>u[1]||j<h[0]||j>h[1])continue;var Z=c.dataToPoint([Y,j]);B=new St({shape:{x:Z[0]-s/2,y:Z[1]-l/2,width:s,height:l},style:W})}else{if(isNaN(v.get(N[1],z)))continue;B=new St({z2:1,shape:c.dataToRect([v.get(N[0],z)]).contentShape,style:W})}if(v.hasItemOption){var q=v.getItemModel(z),K=q.getModel("emphasis");b=K.getModel("itemStyle").getItemStyle(),S=q.getModel(["blur","itemStyle"]).getItemStyle(),I=q.getModel(["select","itemStyle"]).getItemStyle(),T=q.get(["itemStyle","borderRadius"]),L=K.get("focus"),P=K.get("blurScope"),E=K.get("disabled"),D=Ei(q)}B.shape.r=T;var Q=e.getRawValue(z),te="-";Q&&null!=Q[2]&&(te=Q[2]+""),rn(B,D,{labelFetcher:e,labelDataIndex:z,defaultOpacity:W.opacity,defaultText:te}),B.ensureState("emphasis").style=b,B.ensureState("blur").style=S,B.ensureState("select").style=I,hi(B,L,P,E),B.incremental=a,a&&(B.states.emphasis.hoverLayer=!0),y.add(B),v.setItemGraphicEl(z,B),this._progressiveEls&&this._progressiveEls.push(B)}},t.prototype._renderOnGeo=function(e,n,r,o){var a=r.targetVisuals.inRange,s=r.targetVisuals.outOfRange,l=n.getData(),u=this._hmLayer||this._hmLayer||new JN;u.blurSize=n.get("blurSize"),u.pointSize=n.get("pointSize"),u.minOpacity=n.get("minOpacity"),u.maxOpacity=n.get("maxOpacity");var h=e.getViewRect().clone(),c=e.getRoamTransform();h.applyTransform(c);var L,P,E,p=Math.max(h.x,0),f=Math.max(h.y,0),m=Math.min(h.width+h.x,o.getWidth()),y=Math.min(h.height+h.y,o.getHeight()),v=m-p,b=y-f,S=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],I=l.mapArray(S,function(L,P,E){var N=e.dataToPoint([L,P]);return N[0]-=p,N[1]-=f,N.push(E),N}),T=r.getExtent(),D="visualMap.continuous"===r.type?(P=[((P=r.option.range)[0]-(L=T)[0])/(E=L[1]-L[0]),(P[1]-L[0])/E],function(N){return N>=P[0]&&N<=P[1]}):function(L,P,E){var N=L[1]-L[0],z=(P=ge(P,function(W){return{interval:[(W.interval[0]-L[0])/N,(W.interval[1]-L[0])/N]}})).length,B=0;return function(W){var Y;for(Y=B;Y<z;Y++)if((j=P[Y].interval)[0]<=W&&W<=j[1]){B=Y;break}if(Y===z)for(Y=B-1;Y>=0;Y--){var j;if((j=P[Y].interval)[0]<=W&&W<=j[1]){B=Y;break}}return Y>=0&&Y<z&&E[Y]}}(T,r.getPieceList(),r.option.selected);u.update(I,v,b,a.color.getNormalizer(),{inRange:a.color.getColorMapper(),outOfRange:s.color.getColorMapper()},D);var A=new Ri({style:{width:v,height:b,x:p,y:f,image:u.canvas},silent:!0});this.group.add(A)},t.type="heatmap",t}(Ht),ez=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.getInitialData=function(e,n){return go(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=Zu.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(qt),tz=["itemStyle","borderWidth"],ET=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],ex=new xr,iz=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.render=function(e,n,r){var o=this.group,a=e.getData(),s=this._data,l=e.coordinateSystem,u=l.getBaseAxis().isHorizontal(),h=l.master.getRect(),c={ecSize:{width:r.getWidth(),height:r.getHeight()},seriesModel:e,coordSys:l,coordSysExtent:[[h.x,h.x+h.width],[h.y,h.y+h.height]],isHorizontal:u,valueDim:ET[+u],categoryDim:ET[1-+u]};return a.diff(s).add(function(p){if(a.hasValue(p)){var f=WT(a,p),m=NT(a,p,f,c),y=HT(a,c,m);a.setItemGraphicEl(p,y),o.add(y),UT(y,c,m)}}).update(function(p,f){var S,I,T,m=s.getItemGraphicEl(f);if(a.hasValue(p)){var y=WT(a,p),v=NT(a,p,y,c),b=XT(a,v);m&&b!==m.__pictorialShapeStr&&(o.remove(m),a.setItemGraphicEl(p,null),m=null),m?(I=c,It((S=m).__pictorialBundle,{x:(T=v).bundlePosition[0],y:T.bundlePosition[1]},T.animationModel,T.dataIndex),T.symbolRepeat?VT(S,I,T,!0):BT(S,0,T,!0),FT(S,T,!0),GT(S,I,T,!0)):m=HT(a,c,v,!0),a.setItemGraphicEl(p,m),m.__pictorialSymbolMeta=v,o.add(m),UT(m,c,v)}else o.remove(m)}).remove(function(p){var f=s.getItemGraphicEl(p);f&&YT(s,p,f.__pictorialSymbolMeta.animationModel,f)}).execute(),this._data=a,this.group},t.prototype.remove=function(e,n){var r=this.group,o=this._data;e.get("animation")?o&&o.eachItemGraphicEl(function(a){YT(o,rt(a).dataIndex,e,a)}):r.removeAll()},t.type="pictorialBar",t}(Ht);function NT(i,t,e,n){var m,y,b,I,T,D,A,L,P,E,N,z,B,r=i.getItemLayout(t),o=e.get("symbolRepeat"),a=e.get("symbolClip"),s=e.get("symbolPosition")||"start",l=(e.get("symbolRotate")||0)*Math.PI/180||0,u=e.get("symbolPatternSize")||2,h=e.isAnimationEnabled(),c={dataIndex:t,layout:r,itemModel:e,symbolType:i.getItemVisual(t,"symbol")||"circle",style:i.getItemVisual(t,"style"),symbolClip:a,symbolRepeat:o,symbolRepeatDirection:e.get("symbolRepeatDirection"),symbolPatternSize:u,rotation:l,animationModel:h?e:null,hoverScale:h&&e.get(["emphasis","scale"]),z2:e.getShallow("z",!0)||0};(function(m,y,v,b,S){var I,T=b.valueDim,D=m.get("symbolBoundingData"),A=b.coordSys.getOtherAxis(b.coordSys.getBaseAxis()),L=A.toGlobalCoord(A.dataToCoord(0)),P=1-+(v[T.wh]<=0);if(fe(D)){var E=[tx(A,D[0])-L,tx(A,D[1])-L];E[1]<E[0]&&E.reverse(),I=E[P]}else I=null!=D?tx(A,D)-L:y?b.coordSysExtent[T.index][P]-L:v[T.wh];S.boundingLength=I,y&&(S.repeatCutLength=v[T.wh]),S.pxSign=I>0?1:-1})(e,o,r,n,c),m=i,y=t,b=o,I=c.boundingLength,T=c.pxSign,D=u,L=c,E=(A=n).valueDim,N=A.categoryDim,z=Math.abs(r[N.wh]),(P=fe(B=m.getItemVisual(y,"symbolSize"))?B.slice():null==B?["100%","100%"]:[B,B])[N.index]=Te(P[N.index],z),P[E.index]=Te(P[E.index],b?z:Math.abs(I)),L.symbolSize=P,(L.symbolScale=[P[0]/D,P[1]/D])[E.index]*=(A.isHorizontal?-1:1)*T,function(m,y,v,b,S){var I=m.get(tz)||0;I&&(ex.attr({scaleX:y[0],scaleY:y[1],rotation:v}),ex.updateTransform(),I/=ex.getLineScale(),I*=y[b.valueDim.index]),S.valueLineWidth=I||0}(e,c.symbolScale,l,n,c);var p=c.symbolSize,f=ih(e.get("symbolOffset"),p);return function(m,y,v,b,S,I,T,D,A,L,P,E){var N=P.categoryDim,z=P.valueDim,B=E.pxSign,W=Math.max(y[z.index]+D,0),Y=W;if(b){var j=Math.abs(A),Z=kt(m.get("symbolMargin"),"15%")+"",q=!1;Z.lastIndexOf("!")===Z.length-1&&(q=!0,Z=Z.slice(0,Z.length-1));var K=Te(Z,y[z.index]),Q=Math.max(W+2*K,0),te=q?0:2*K,ne=Fs(b),ce=ne?b:jT((j+te)/Q);Q=W+2*(K=(j-ce*W)/2/(q?ce:Math.max(ce-1,1))),te=q?0:2*K,ne||"fixed"===b||(ce=L?jT((Math.abs(L)+te)/Q):0),Y=ce*Q-te,E.repeatTimes=ce,E.symbolMargin=K}var ye=B*(Y/2),re=E.pathPosition=[];re[N.index]=v[N.wh]/2,re[z.index]="start"===T?ye:"end"===T?A-ye:A/2,I&&(re[0]+=I[0],re[1]+=I[1]);var pe=E.bundlePosition=[];pe[N.index]=v[N.xy],pe[z.index]=v[z.xy];var ve=E.barRectShape=de({},v);ve[z.wh]=B*Math.max(Math.abs(v[z.wh]),Math.abs(re[z.index]+ye)),ve[N.wh]=v[N.wh];var be=E.clipShape={};be[N.xy]=-v[N.xy],be[N.wh]=P.ecSize[N.wh],be[z.xy]=0,be[z.wh]=v[z.wh]}(e,p,r,o,0,f,s,c.valueLineWidth,c.boundingLength,c.repeatCutLength,n,c),c}function tx(i,t){return i.toGlobalCoord(i.dataToCoord(i.scale.parse(t)))}function zT(i){var t=i.symbolPatternSize,e=gi(i.symbolType,-t/2,-t/2,t,t);return e.attr({culling:!0}),"image"!==e.type&&e.setStyle({strokeNoScale:!0}),e}function VT(i,t,e,n){var r=i.__pictorialBundle,s=e.pathPosition,l=t.valueDim,u=e.repeatTimes||0,h=0,c=e.symbolSize[t.valueDim.index]+e.valueLineWidth+2*e.symbolMargin;for(ix(i,function(y){y.__pictorialAnimationIndex=h,y.__pictorialRepeatTimes=u,h<u?bh(y,null,m(h),e,n):bh(y,null,{scaleX:0,scaleY:0},e,n,function(){r.remove(y)}),h++});h<u;h++){var p=zT(e);p.__pictorialAnimationIndex=h,p.__pictorialRepeatTimes=u,r.add(p);var f=m(h);bh(p,{x:f.x,y:f.y,scaleX:0,scaleY:0},{scaleX:f.scaleX,scaleY:f.scaleY,rotation:f.rotation},e,n)}function m(y){var v=s.slice(),b=e.pxSign,S=y;return("start"===e.symbolRepeatDirection?b>0:b<0)&&(S=u-1-y),v[l.index]=c*(S-u/2+.5)+s[l.index],{x:v[0],y:v[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation}}}function BT(i,t,e,n){var r=i.__pictorialBundle,o=i.__pictorialMainPath;o?bh(o,null,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation},e,n):(o=i.__pictorialMainPath=zT(e),r.add(o),bh(o,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:0,scaleY:0,rotation:e.rotation},{scaleX:e.symbolScale[0],scaleY:e.symbolScale[1]},e,n))}function FT(i,t,e){var n=de({},t.barRectShape),r=i.__pictorialBarRect;r?bh(r,null,{shape:n},t,e):((r=i.__pictorialBarRect=new St({z2:2,shape:n,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,i.add(r))}function GT(i,t,e,n){if(e.symbolClip){var r=i.__pictorialClipPath,o=de({},e.clipShape),a=t.valueDim,s=e.animationModel,l=e.dataIndex;if(r)It(r,{shape:o},s,l);else{o[a.wh]=0,r=new St({shape:o}),i.__pictorialBundle.setClipPath(r),i.__pictorialClipPath=r;var u={};u[a.wh]=e.clipShape[a.wh],Ec[n?"updateProps":"initProps"](r,{shape:u},s,l)}}}function WT(i,t){var e=i.getItemModel(t);return e.getAnimationDelayParams=nz,e.isAnimationEnabled=rz,e}function nz(i){return{index:i.__pictorialAnimationIndex,count:i.__pictorialRepeatTimes}}function rz(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function HT(i,t,e,n){var r=new Ze,o=new Ze;return r.add(o),r.__pictorialBundle=o,o.x=e.bundlePosition[0],o.y=e.bundlePosition[1],e.symbolRepeat?VT(r,t,e):BT(r,0,e),FT(r,e,n),GT(r,t,e,n),r.__pictorialShapeStr=XT(i,e),r.__pictorialSymbolMeta=e,r}function YT(i,t,e,n){var r=n.__pictorialBarRect;r&&r.removeTextContent();var o=[];ix(n,function(a){o.push(a)}),n.__pictorialMainPath&&o.push(n.__pictorialMainPath),n.__pictorialClipPath&&(e=null),G(o,function(a){Na(a,{scaleX:0,scaleY:0},e,t,function(){n.parent&&n.parent.remove(n)})}),i.setItemGraphicEl(t,null)}function XT(i,t){return[i.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function ix(i,t,e){G(i.__pictorialBundle.children(),function(n){n!==i.__pictorialBarRect&&t.call(e,n)})}function bh(i,t,e,n,r,o){t&&i.attr(t),n.symbolClip&&!r?e&&i.attr(e):e&&Ec[r?"updateProps":"initProps"](i,e,n.animationModel,n.dataIndex,o)}function UT(i,t,e){var n=e.dataIndex,r=e.itemModel,o=r.getModel("emphasis"),a=o.getModel("itemStyle").getItemStyle(),s=r.getModel(["blur","itemStyle"]).getItemStyle(),l=r.getModel(["select","itemStyle"]).getItemStyle(),u=r.getShallow("cursor"),h=o.get("focus"),c=o.get("blurScope"),p=o.get("scale");ix(i,function(m){if(m instanceof Ri){var y=m.style;m.useStyle(de({image:y.image,x:y.x,y:y.y,width:y.width,height:y.height},e.style))}else m.useStyle(e.style);var v=m.ensureState("emphasis");v.style=a,p&&(v.scaleX=1.1*m.scaleX,v.scaleY=1.1*m.scaleY),m.ensureState("blur").style=s,m.ensureState("select").style=l,u&&(m.cursor=u),m.z2=e.z2});var f=t.valueDim.posDesc[+(e.boundingLength>0)];rn(i.__pictorialBarRect,Ei(r),{labelFetcher:t.seriesModel,labelDataIndex:n,defaultText:ch(t.seriesModel.getData(),n),inheritColor:e.style.fill,defaultOpacity:e.style.opacity,defaultOutsidePosition:f}),hi(i,h,c,o.get("disabled"))}function jT(i){var t=Math.round(i);return Math.abs(i-t)<1e-4?t:Math.ceil(i)}var oz=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e.defaultSymbol="roundRect",e}return ie(t,i),t.prototype.getInitialData=function(e){return e.stack=null,i.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=Ba(vd.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(vd),az=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e._layers=[],e}return ie(t,i),t.prototype.render=function(e,n,r){var o=e.getData(),a=this,s=this.group,l=e.getLayerSeries(),u=o.getLayout("layoutInfo"),h=u.rect,c=u.boundaryGap;function p(v){return v.name}s.x=0,s.y=h.y+c[0];var f=new ra(this._layersSeries||[],l,p,p),m=[];function y(v,b,S){var Q,te,ce,I=a._layers;if("remove"!==v){for(var T,D,A=[],L=[],P=l[b].indices,E=0;E<P.length;E++){var N=o.getItemLayout(P[E]),z=N.x,B=N.y0,W=N.y;A.push(z,B),L.push(z,B+W),T=o.getItemVisual(P[E],"style")}var Y=o.getItemLayout(P[0]),j=e.getModel("label").get("margin"),Z=e.getModel("emphasis");if("add"===v){var q=m[b]=new Ze;D=new kM({shape:{points:A,stackedOnPoints:L,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),q.add(D),s.add(q),e.isAnimationEnabled()&&D.setClipPath((Q=D.getBoundingRect(),te=e,ni(ce=new St({shape:{x:Q.x-10,y:Q.y-10,width:0,height:Q.height+20}}),{shape:{x:Q.x-50,width:Q.width+100,height:Q.height+20}},te,function(){D.removeClipPath()}),ce))}else D=(q=I[S]).childAt(0),s.add(q),m[b]=q,It(D,{shape:{points:A,stackedOnPoints:L}},e),Yr(D);rn(D,Ei(e),{labelDataIndex:P[E-1],defaultText:o.getName(P[E-1]),inheritColor:T.fill},{normal:{verticalAlign:"middle"}}),D.setTextConfig({position:null,local:!0});var K=D.getTextContent();K&&(K.x=Y.x-j,K.y=Y.y0+Y.y/2),D.useStyle(T),o.setItemGraphicEl(b,D),nn(D,e),hi(D,Z.get("focus"),Z.get("blurScope"),Z.get("disabled"))}else s.remove(I[b])}f.add(ke(y,this,"add")).update(ke(y,this,"update")).remove(ke(y,this,"remove")).execute(),this._layersSeries=l,this._layers=m},t.type="themeRiver",t}(Ht),sz=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.init=function(e){i.prototype.init.apply(this,arguments),this.legendVisualProvider=new _d(ke(this.getData,this),ke(this.getRawData,this))},t.prototype.fixData=function(e){var n=e.length,r={},o=Fn(e,function(p){return r.hasOwnProperty(p[0]+"")||(r[p[0]+""]=-1),p[2]}),a=[];o.buckets.each(function(p,f){a.push({name:f,dataList:p})});for(var s=a.length,l=0;l<s;++l){for(var u=a[l].name,h=0;h<a[l].dataList.length;++h)r[c=a[l].dataList[h][0]+""]=l;for(var c in r)r.hasOwnProperty(c)&&r[c]!==l&&(r[c]=l,e[n]=[c,0,u],n++)}return e},t.prototype.getInitialData=function(e,n){for(var r=this.getReferringComponents("singleAxis",di).models[0].get("type"),o=xt(e.data,function(f){return void 0!==f[2]}),a=this.fixData(o||[]),s=[],l=this.nameMap=ze(),u=0,h=0;h<a.length;++h)s.push(a[h][2]),l.get(a[h][2])||(l.set(a[h][2],u),u++);var c=ah(a,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:zf(r)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,p=new yn(c,this);return p.initData(a),p},t.prototype.getLayerSeries=function(){for(var e=this.getData(),n=e.count(),r=[],o=0;o<n;++o)r[o]=o;var a=e.mapDimension("single"),s=Fn(r,function(u){return e.get("name",u)}),l=[];return s.buckets.each(function(u,h){u.sort(function(c,p){return e.get(a,c)-e.get(a,p)}),l.push({name:h,indices:u})}),l},t.prototype.getAxisTooltipData=function(e,n,r){fe(e)||(e=e?[e]:[]);for(var o,a=this.getData(),s=this.getLayerSeries(),l=[],u=s.length,h=0;h<u;++h){for(var c=Number.MAX_VALUE,p=-1,f=s[h].indices.length,m=0;m<f;++m){var y=a.get(e[0],s[h].indices[m]),v=Math.abs(y-n);v<=c&&(o=y,c=v,p=s[h].indices[m])}l.push(p)}return{dataIndices:l,nestestValue:o}},t.prototype.formatTooltip=function(e,n,r){var o=this.getData();return Ni("nameValue",{name:o.getName(e),value:o.get(o.mapDimension("value"),e)})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(qt);function lz(i,t){i.eachSeriesByType("themeRiver",function(e){var n=e.getData(),r=e.coordinateSystem,o={},a=r.getRect();o.rect=a;var s=e.get("boundaryGap"),l=r.getAxis();o.boundaryGap=s,"horizontal"===l.orient?(s[0]=Te(s[0],a.height),s[1]=Te(s[1],a.height),ZT(n,e,a.height-s[0]-s[1])):(s[0]=Te(s[0],a.width),s[1]=Te(s[1],a.width),ZT(n,e,a.width-s[0]-s[1])),n.setLayout("layoutInfo",o)})}function ZT(i,t,e){if(i.count())for(var n,r=t.coordinateSystem,o=t.getLayerSeries(),a=i.mapDimension("single"),s=i.mapDimension("value"),l=ge(o,function(v){return ge(v.indices,function(b){var S=r.dataToPoint(i.get(a,b));return S[1]=i.get(s,b),S})}),u=function(v){for(var b=v.length,S=v[0].length,I=[],T=[],D=0,A=0;A<S;++A){for(var L=0,P=0;P<b;++P)L+=v[P][A][1];L>D&&(D=L),I.push(L)}for(var E=0;E<S;++E)T[E]=(D-I[E])/2;D=0;for(var N=0;N<S;++N){var z=I[N]+T[N];z>D&&(D=z)}return{y0:T,max:D}}(l),h=u.y0,c=e/u.max,p=o.length,f=o[0].indices.length,m=0;m<f;++m){i.setItemLayout(o[0].indices[m],{layerIndex:0,x:l[0][m][0],y0:n=h[m]*c,y:l[0][m][1]*c});for(var y=1;y<p;++y)i.setItemLayout(o[y].indices[m],{layerIndex:y,x:l[y][m][0],y0:n+=l[y-1][m][1]*c,y:l[y][m][1]*c})}}var qT=function(i){function t(e,n,r,o){var a=i.call(this)||this;a.z2=2,a.textConfig={inside:!0},rt(a).seriesIndex=n.seriesIndex;var s=new Mt({z2:4,silent:e.getModel().get(["label","silent"])});return a.setTextContent(s),a.updateData(!0,e,n,r,o),a}return ie(t,i),t.prototype.updateData=function(e,n,r,o,a){this.node=n,n.piece=this,r=r||this._seriesModel,o=o||this._ecModel;var s=this;rt(s).dataIndex=n.dataIndex;var l=n.getModel(),u=l.getModel("emphasis"),h=n.getLayout(),c=de({},h);c.label=null;var p=n.getVisual("style");p.lineJoin="bevel";var f=n.getVisual("decal");f&&(p.decal=rh(f,a));var m=dh(l.getModel("itemStyle"),c,!0);de(c,m),G(Sn,function(b){var S=s.ensureState(b),I=l.getModel([b,"itemStyle"]);S.style=I.getItemStyle();var T=dh(I,c);T&&(S.shape=T)}),e?(s.setShape(c),s.shape.r=h.r0,It(s,{shape:{r:h.r}},r,n.dataIndex)):(It(s,{shape:c},r),Yr(s)),s.useStyle(p),this._updateLabel(r);var y=l.getShallow("cursor");y&&s.attr("cursor",y),this._seriesModel=r||this._seriesModel,this._ecModel=o||this._ecModel;var v=u.get("focus");hi(this,"ancestor"===v?n.getAncestorsIndices():"descendant"===v?n.getDescendantIndices():v,u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e){var n=this,r=this.node.getModel(),o=r.getModel("label"),a=this.node.getLayout(),s=a.endAngle-a.startAngle,l=(a.startAngle+a.endAngle)/2,u=Math.cos(l),h=Math.sin(l),c=this,p=c.getTextContent(),f=this.node.dataIndex,m=o.get("minAngle")/180*Math.PI,y=o.get("show")&&!(null!=m&&Math.abs(s)<m);function v(b,S){return b.get(S)??o.get(S)}p.ignore=!y,G(wc,function(b){var S=r.getModel("normal"===b?"label":[b,"label"]),I="normal"===b,T=I?p:p.ensureState(b),D=e.getFormattedLabel(f,b);I&&(D=D||n.node.name),T.style=Kt(S,{},null,"normal"!==b,!0),D&&(T.style.text=D);var A=S.get("show");null==A||I||(T.ignore=!A);var L,P=v(S,"position"),E=I?c:c.states[b],N=E.style.fill;E.textConfig={outsideFill:"inherit"===S.get("color")?N:null,inside:"outside"!==P};var z=v(S,"distance")||0,B=v(S,"align");"outside"===P?(L=a.r+z,B=l>Math.PI/2?"right":"left"):B&&"center"!==B?"left"===B?(L=a.r0+z,l>Math.PI/2&&(B="right")):"right"===B&&(L=a.r-z,l>Math.PI/2&&(B="left")):(L=s===2*Math.PI&&0===a.r0?0:(a.r+a.r0)/2,B="center"),T.style.align=B,T.style.verticalAlign=v(S,"verticalAlign")||"middle",T.x=L*u+a.cx,T.y=L*h+a.cy;var W=v(S,"rotate"),Y=0;"radial"===W?(Y=-l)<-Math.PI/2&&(Y+=Math.PI):"tangential"===W?(Y=Math.PI/2-l)>Math.PI/2?Y-=Math.PI:Y<-Math.PI/2&&(Y+=Math.PI):oe(W)&&(Y=W*Math.PI/180),T.rotation=Y}),p.dirtyStyle()},t}(pn),nx="sunburstRootToNode",$T="sunburstHighlight",uz=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.render=function(e,n,r,o){var a=this;this.seriesModel=e,this.api=r,this.ecModel=n;var m,y,s=e.getData(),l=s.tree.root,u=e.getViewRoot(),h=this.group,c=e.get("renderLabelForZeroData"),p=[];u.eachNode(function(m){p.push(m)}),function(m,y){function v(S){return S.getId()}function b(S,I){!function(T,D){if(c||!T||T.getValue()||(T=null),T!==l&&D!==l)if(D&&D.piece)T?(D.piece.updateData(!1,T,e,n,r),s.setItemGraphicEl(T.dataIndex,D.piece)):!(L=D)||L.piece&&(h.remove(L.piece),L.piece=null);else if(T){var A=new qT(T,e,n,r);h.add(A),s.setItemGraphicEl(T.dataIndex,A)}var L}(null==S?null:m[S],null==I?null:y[I])}0===m.length&&0===y.length||new ra(y,m,v,v).add(b).update(b).remove(Xe(b,null)).execute()}(p,this._oldChildren||[]),m=l,(y=u).depth>0?(a.virtualPiece?a.virtualPiece.updateData(!1,m,e,n,r):(a.virtualPiece=new qT(m,e,n,r),h.add(a.virtualPiece)),y.piece.off("click"),a.virtualPiece.on("click",function(v){a._rootToNode(y.parentNode)})):a.virtualPiece&&(h.remove(a.virtualPiece),a.virtualPiece=null),this._initEvents(),this._oldChildren=p},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(n){var r=!1;e.seriesModel.getViewRoot().eachNode(function(o){if(!r&&o.piece&&o.piece===n.target){var a=o.getModel().get("nodeClick");if("rootToNode"===a)e._rootToNode(o);else if("link"===a){var s=o.getModel(),l=s.get("link");l&&cf(l,s.get("target",!0)||"_blank")}r=!0}})})},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:nx,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,n){var r=n.getData().getItemLayout(0);if(r){var o=e[0]-r.cx,a=e[1]-r.cy,s=Math.sqrt(o*o+a*a);return s<=r.r&&s>=r.r0}},t.type="sunburst",t}(Ht),hz=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.ignoreStyleOnData=!0,e}return ie(t,i),t.prototype.getInitialData=function(e,n){var r={name:e.name,children:e.data};KT(r);var o=this._levelModels=ge(e.levels||[],function(s){return new Rt(s,this,n)},this),a=r0.createTree(r,this,function(s){s.wrapMethod("getItemModel",function(l,u){var h=a.getNodeByDataIndex(u),c=o[h.depth];return c&&(l.parentModel=c),l})});return a.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(e){var n=i.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(e);return n.treePathInfo=vg(r,this),n},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var n=this.getRawData().tree.root;e&&(e===n||n.contains(e))||(this._viewRoot=n)},t.prototype.enableAriaDecal=function(){d2(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(qt);function KT(i){var t=0;G(i.children,function(n){KT(n);var r=n.value;fe(r)&&(r=r[0]),t+=r});var e=i.value;fe(e)&&(e=e[0]),(null==e||isNaN(e))&&(e=t),e<0&&(e=0),fe(i.value)?i.value[0]=e:i.value=e}var JT=Math.PI/180;function cz(i,t,e){t.eachSeriesByType(i,function(n){var r=n.get("center"),o=n.get("radius");fe(o)||(o=[0,o]),fe(r)||(r=[r,r]);var a=e.getWidth(),s=e.getHeight(),l=Math.min(a,s),u=Te(r[0],a),h=Te(r[1],s),c=Te(o[0],l/2),p=Te(o[1],l/2),f=-n.get("startAngle")*JT,m=n.get("minAngle")*JT,y=n.getData().tree.root,v=n.getViewRoot(),b=v.depth,S=n.get("sort");null!=S&&QT(v,S);var I=0;G(v.children,function(Z){!isNaN(Z.getValue())&&I++});var T=v.getValue(),D=Math.PI/(T||I)*2,A=v.depth>0,P=(p-c)/(v.height-(A?-1:1)||1),E=n.get("clockwise"),N=n.get("stillShowZeroSum"),z=E?1:-1,B=function(Z,q){if(Z){var K=q;if(Z!==y){var Q=Z.getValue(),te=0===T&&N?D:Q*D;te<m&&(te=m),K=q+z*te;var ne=Z.depth-b-(A?-1:1),ce=c+P*ne,ye=c+P*(ne+1),re=n.getLevelModel(Z);if(re){var pe=re.get("r0",!0),ve=re.get("r",!0),be=re.get("radius",!0);null!=be&&(pe=be[0],ve=be[1]),null!=pe&&(ce=Te(pe,l/2)),null!=ve&&(ye=Te(ve,l/2))}Z.setLayout({angle:te,startAngle:q,endAngle:K,clockwise:E,cx:u,cy:h,r0:ce,r:ye})}if(Z.children&&Z.children.length){var xe=0;G(Z.children,function(we){xe+=B(we,q+xe)})}return K-q}};if(A){var j=2*Math.PI;y.setLayout({angle:j,startAngle:f,endAngle:f+j,clockwise:E,cx:u,cy:h,r0:c,r:c+P})}B(v,f)})}function QT(i,t){var e=i.children||[];i.children=function(n,r){if(Ge(r)){var o=ge(n,function(s,l){var u=s.getValue();return{params:{depth:s.depth,height:s.height,dataIndex:s.dataIndex,getValue:function(){return u}},index:l}});return o.sort(function(s,l){return r(s.params,l.params)}),ge(o,function(s){return n[s.index]})}var a="asc"===r;return n.sort(function(s,l){var u=(s.getValue()-l.getValue())*(a?1:-1);return 0===u?(s.dataIndex-l.dataIndex)*(a?-1:1):u})}(e,t),e.length&&G(i.children,function(n){QT(n,t)})}function dz(i){var t={};i.eachSeriesByType("sunburst",function(e){var n=e.getData(),r=n.tree;r.eachNode(function(o){var a=o.getModel().getModel("itemStyle").getItemStyle();a.fill||(a.fill=function(s,l,u){for(var h=s;h&&h.depth>1;)h=h.parentNode;var c=l.getColorFromPalette(h.name||h.dataIndex+"",t);return s.depth>1&&De(c)&&(c=Go(c,(s.depth-1)/(u-1)*.5)),c}(o,e,r.root.height)),de(n.ensureUniqueItemVisual(o.dataIndex,"style"),a)})})}var eC={color:"fill",borderColor:"stroke"},pz={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},la=_t(),fz=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,n){return go(null,this)},t.prototype.getDataParams=function(e,n,r){var o=i.prototype.getDataParams.call(this,e,n);return r&&(o.info=la(r).info),o},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(qt);function gz(i,t){return t=t||[0,0],ge(["x","y"],function(e,n){var r=this.getAxis(e),o=t[n],a=i[n]/2;return"category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a))},this)}function mz(i,t){return t=t||[0,0],ge([0,1],function(e){var n=t[e],r=i[e]/2,o=[],a=[];return o[e]=n-r,a[e]=n+r,o[1-e]=a[1-e]=t[1-e],Math.abs(this.dataToPoint(o)[e]-this.dataToPoint(a)[e])},this)}function yz(i,t){var e=this.getAxis(),n=t instanceof Array?t[0]:t,r=(i instanceof Array?i[0]:i)/2;return"category"===e.type?e.getBandWidth():Math.abs(e.dataToCoord(n-r)-e.dataToCoord(n+r))}function vz(i,t){return t=t||[0,0],ge(["Radius","Angle"],function(e,n){var r=this["get"+e+"Axis"](),o=t[n],a=i[n]/2,s="category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a));return"Angle"===e&&(s=s*Math.PI/180),s},this)}function tC(i,t,e,n){return i&&(i.legacy||!1!==i.legacy&&!e&&!n&&"tspan"!==t&&("text"===t||Le(i,"text")))}function iC(i,t,e){var n,r,o,a=i;if("text"===t)o=a;else{o={},Le(a,"text")&&(o.text=a.text),Le(a,"rich")&&(o.rich=a.rich),Le(a,"textFill")&&(o.fill=a.textFill),Le(a,"textStroke")&&(o.stroke=a.textStroke),Le(a,"fontFamily")&&(o.fontFamily=a.fontFamily),Le(a,"fontSize")&&(o.fontSize=a.fontSize),Le(a,"fontStyle")&&(o.fontStyle=a.fontStyle),Le(a,"fontWeight")&&(o.fontWeight=a.fontWeight),r={type:"text",style:o,silent:!0},n={};var s=Le(a,"textPosition");e?n.position=s?a.textPosition:"inside":s&&(n.position=a.textPosition),Le(a,"textPosition")&&(n.position=a.textPosition),Le(a,"textOffset")&&(n.offset=a.textOffset),Le(a,"textRotation")&&(n.rotation=a.textRotation),Le(a,"textDistance")&&(n.distance=a.textDistance)}return nC(o,i),G(o.rich,function(l){nC(l,l)}),{textConfig:n,textContent:r}}function nC(i,t){t&&(t.font=t.textFont||t.font,Le(t,"textStrokeWidth")&&(i.lineWidth=t.textStrokeWidth),Le(t,"textAlign")&&(i.align=t.textAlign),Le(t,"textVerticalAlign")&&(i.verticalAlign=t.textVerticalAlign),Le(t,"textLineHeight")&&(i.lineHeight=t.textLineHeight),Le(t,"textWidth")&&(i.width=t.textWidth),Le(t,"textHeight")&&(i.height=t.textHeight),Le(t,"textBackgroundColor")&&(i.backgroundColor=t.textBackgroundColor),Le(t,"textPadding")&&(i.padding=t.textPadding),Le(t,"textBorderColor")&&(i.borderColor=t.textBorderColor),Le(t,"textBorderWidth")&&(i.borderWidth=t.textBorderWidth),Le(t,"textBorderRadius")&&(i.borderRadius=t.textBorderRadius),Le(t,"textBoxShadowColor")&&(i.shadowColor=t.textBoxShadowColor),Le(t,"textBoxShadowBlur")&&(i.shadowBlur=t.textBoxShadowBlur),Le(t,"textBoxShadowOffsetX")&&(i.shadowOffsetX=t.textBoxShadowOffsetX),Le(t,"textBoxShadowOffsetY")&&(i.shadowOffsetY=t.textBoxShadowOffsetY))}function rC(i,t,e){var n=i;n.textPosition=n.textPosition||e.position||"inside",null!=e.offset&&(n.textOffset=e.offset),null!=e.rotation&&(n.textRotation=e.rotation),null!=e.distance&&(n.textDistance=e.distance);var r=n.textPosition.indexOf("inside")>=0,o=i.fill||"#000";oC(n,t);var a=null==n.textFill;return r?a&&(n.textFill=e.insideFill||"#fff",!n.textStroke&&e.insideStroke&&(n.textStroke=e.insideStroke),!n.textStroke&&(n.textStroke=o),null==n.textStrokeWidth&&(n.textStrokeWidth=2)):(a&&(n.textFill=i.fill||e.outsideFill||"#000"),!n.textStroke&&e.outsideStroke&&(n.textStroke=e.outsideStroke)),n.text=t.text,n.rich=t.rich,G(t.rich,function(s){oC(s,s)}),n}function oC(i,t){t&&(Le(t,"fill")&&(i.textFill=t.fill),Le(t,"stroke")&&(i.textStroke=t.fill),Le(t,"lineWidth")&&(i.textStrokeWidth=t.lineWidth),Le(t,"font")&&(i.font=t.font),Le(t,"fontStyle")&&(i.fontStyle=t.fontStyle),Le(t,"fontWeight")&&(i.fontWeight=t.fontWeight),Le(t,"fontSize")&&(i.fontSize=t.fontSize),Le(t,"fontFamily")&&(i.fontFamily=t.fontFamily),Le(t,"align")&&(i.textAlign=t.align),Le(t,"verticalAlign")&&(i.textVerticalAlign=t.verticalAlign),Le(t,"lineHeight")&&(i.textLineHeight=t.lineHeight),Le(t,"width")&&(i.textWidth=t.width),Le(t,"height")&&(i.textHeight=t.height),Le(t,"backgroundColor")&&(i.textBackgroundColor=t.backgroundColor),Le(t,"padding")&&(i.textPadding=t.padding),Le(t,"borderColor")&&(i.textBorderColor=t.borderColor),Le(t,"borderWidth")&&(i.textBorderWidth=t.borderWidth),Le(t,"borderRadius")&&(i.textBorderRadius=t.borderRadius),Le(t,"shadowColor")&&(i.textBoxShadowColor=t.shadowColor),Le(t,"shadowBlur")&&(i.textBoxShadowBlur=t.shadowBlur),Le(t,"shadowOffsetX")&&(i.textBoxShadowOffsetX=t.shadowOffsetX),Le(t,"shadowOffsetY")&&(i.textBoxShadowOffsetY=t.shadowOffsetY),Le(t,"textShadowColor")&&(i.textShadowColor=t.textShadowColor),Le(t,"textShadowBlur")&&(i.textShadowBlur=t.textShadowBlur),Le(t,"textShadowOffsetX")&&(i.textShadowOffsetX=t.textShadowOffsetX),Le(t,"textShadowOffsetY")&&(i.textShadowOffsetY=t.textShadowOffsetY))}var aC={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},sC=dt(aC),kg=(Zi(Jn,function(i,t){return i[t]=1,i},{}),Jn.join(", "),["","style","shape","extra"]),wh=_t();function rx(i,t,e,n,r){var o=i+"Animation",a=Eu(i,n,r)||{},s=wh(t).userDuring;return a.duration>0&&(a.during=s?ke(_z,{el:t,userDuring:s}):null,a.setToFinal=!0,a.scope=i),de(a,e[o]),a}function Lg(i,t,e,n){var r=(n=n||{}).dataIndex,o=n.isInit,a=n.clearStyle,s=e.isAnimationEnabled(),l=wh(i),u=t.style;l.userDuring=t.during;var m,y,h={},c={};if(function(m,y,v){for(var b=0;b<sC.length;b++){var S=sC[b],I=aC[S],T=y[S];T&&(v[I[0]]=T[0],v[I[1]]=T[1])}for(b=0;b<Jn.length;b++){var D=Jn[b];null!=y[D]&&(v[D]=y[D])}}(0,t,c),hC("shape",t,c),hC("extra",t,c),!o&&s&&(function(m,y,v){for(var b=y.transition,S=Dl(b)?Jn:Gt(b||[]),I=0;I<S.length;I++){var T=S[I];"style"!==T&&"shape"!==T&&"extra"!==T&&(v[T]=m[T])}}(i,t,h),uC("shape",i,t,h),uC("extra",i,t,h),function(m,y,v,b){if(v){var S,I=m.style;if(I){var T=v.transition,D=y.transition;if(T&&!Dl(T)){var A=Gt(T);!S&&(S=b.style={});for(var L=0;L<A.length;L++){var P=I[B=A[L]];S[B]=P}}else if(m.getAnimationStyleProps&&(Dl(D)||Dl(T)||We(D,"style")>=0)){var E=m.getAnimationStyleProps(),N=E?E.style:null;if(N){!S&&(S=b.style={});var z=dt(v);for(L=0;L<z.length;L++){var B;N[B=z[L]]&&(S[B]=P=I[B])}}}}}}(i,t,u,h)),c.style=u,function(m,y,v){var b=y.style;if(!m.isGroup&&b){if(v){m.useStyle({});for(var S=m.animators,I=0;I<S.length;I++){var T=S[I];"style"===T.targetName&&T.changeTarget(m.style)}}m.setStyle(b)}y&&(y.style=null,y&&m.attr(y),y.style=b)}(i,c,a),m=i,Le(y=t,"silent")&&(m.silent=y.silent),Le(y,"ignore")&&(m.ignore=y.ignore),m instanceof Yi&&Le(y,"invisible")&&(m.invisible=y.invisible),m instanceof gt&&Le(y,"autoBatch")&&(m.autoBatch=y.autoBatch),s)if(o){var p={};G(kg,function(m){var y=m?t[m]:t;y&&y.enterFrom&&(m&&(p[m]=p[m]||{}),de(m?p[m]:p,y.enterFrom))});var f=rx("enter",i,t,e,r);f.duration>0&&i.animateFrom(p,f)}else!function(m,y,v,b,S){if(S){var I=rx("update",m,y,b,v);I.duration>0&&m.animateFrom(S,I)}}(i,t,r||0,e,h);lC(i,t),u?i.dirty():i.markRedraw()}function lC(i,t){for(var e=wh(i).leaveToProps,n=0;n<kg.length;n++){var r=kg[n],o=r?t[r]:t;o&&o.leaveTo&&(e||(e=wh(i).leaveToProps={}),r&&(e[r]=e[r]||{}),de(r?e[r]:e,o.leaveTo))}}function Pg(i,t,e,n){if(i){var r=i.parent,o=wh(i).leaveToProps;if(o){var a=rx("update",i,t,e,0);a.done=function(){r.remove(i),n&&n()},i.animateTo(o,a)}else r.remove(i),n&&n()}}function Dl(i){return"all"===i}var bo={},xz={setTransform:function(i,t){return bo.el[i]=t,this},getTransform:function(i){return bo.el[i]},setShape:function(i,t){var e=bo.el;return(e.shape||(e.shape={}))[i]=t,e.dirtyShape&&e.dirtyShape(),this},getShape:function(i){var t=bo.el.shape;if(t)return t[i]},setStyle:function(i,t){var e=bo.el,n=e.style;return n&&(n[i]=t,e.dirtyStyle&&e.dirtyStyle()),this},getStyle:function(i){var t=bo.el.style;if(t)return t[i]},setExtra:function(i,t){return(bo.el.extra||(bo.el.extra={}))[i]=t,this},getExtra:function(i){var t=bo.el.extra;if(t)return t[i]}};function _z(){var i=this,t=i.el;if(t){var e=wh(t).userDuring,n=i.userDuring;e===n?(bo.el=t,n(xz)):i.el=i.userDuring=null}}function uC(i,t,e,n){var r=e[i];if(r){var o,a=t[i];if(a){var s=e.transition,l=r.transition;if(l)if(!o&&(o=n[i]={}),Dl(l))de(o,a);else for(var u=Gt(l),h=0;h<u.length;h++){var c=a[f=u[h]];o[f]=c}else if(Dl(s)||We(s,i)>=0){!o&&(o=n[i]={});var p=dt(a);for(h=0;h<p.length;h++){var f;c=a[f=p[h]],bz(r[f],c)&&(o[f]=c)}}}}}function hC(i,t,e){var n=t[i];if(n)for(var r=e[i]={},o=dt(n),a=0;a<o.length;a++){var s=o[a];r[s]=Wo(n[s])}}function bz(i,t){return Ft(i)?i!==t:null!=i&&isFinite(i)}var cC=_t(),wz=["percent","easing","shape","style","extra"];function dC(i){i.stopAnimation("keyframe"),i.attr(cC(i))}function Og(i,t,e){if(e.isAnimationEnabled()&&t)if(fe(t))G(t,function(s){Og(i,s,e)});else{var n=t.keyframes,r=t.duration;if(e&&null==r){var o=Eu("enter",e,0);r=o&&o.duration}if(n&&r){var a=cC(i);G(kg,function(s){var l;s&&!i[s]||(n.sort(function(u,h){return u.percent-h.percent}),G(n,function(u){var h=i.animators,c=s?u[s]:u;if(c){var p=dt(c);if(s||(p=xt(p,function(y){return We(wz,y)<0})),p.length){l||((l=i.animate(s,t.loop,!0)).scope="keyframe");for(var f=0;f<h.length;f++)h[f]!==l&&h[f].targetName===l.targetName&&h[f].stopTracks(p);s&&(a[s]=a[s]||{});var m=s?a[s]:a;G(p,function(y){m[y]=((s?i[s]:i)||{})[y]}),l.whenWithKeys(r*u.percent,c,p,u.easing)}}}),l&&l.delay(t.delay||0).duration(r).start(t.easing))})}}}var ua="emphasis",es="normal",ox="blur",ax="select",ts=[es,ua,ox,ax],sx={normal:["itemStyle"],emphasis:[ua,"itemStyle"],blur:[ox,"itemStyle"],select:[ax,"itemStyle"]},lx={normal:["label"],emphasis:[ua,"label"],blur:[ox,"label"],select:[ax,"label"]},Sz=["x","y"],Cr={normal:{},emphasis:{},blur:{},select:{}},Mz={cartesian2d:function(i){var t=i.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return i.dataToPoint(e)},size:ke(gz,i)}}},geo:function(i){var t=i.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:i.getZoom()},api:{coord:function(e){return i.dataToPoint(e)},size:ke(mz,i)}}},single:function(i){var t=i.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return i.dataToPoint(e)},size:ke(yz,i)}}},polar:function(i){var t=i.getRadiusAxis(),e=i.getAngleAxis(),n=t.getExtent();return n[0]>n[1]&&n.reverse(),{coordSys:{type:"polar",cx:i.cx,cy:i.cy,r:n[1],r0:n[0]},api:{coord:function(r){var o=t.dataToRadius(r[0]),a=e.dataToAngle(r[1]),s=i.coordToPoint([o,a]);return s.push(o,a*Math.PI/180),s},size:ke(vz,i)}}},calendar:function(i){var t=i.getRect(),e=i.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:i.getCellWidth(),cellHeight:i.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(n,r){return i.dataToPoint(n,r)}}}}};function ux(i){return i instanceof gt}function hx(i){return i instanceof Yi}var Iz=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.render=function(e,n,r,o){this._progressiveEls=null;var a=this._data,s=e.getData(),l=this.group,u=fC(e,s,n,r);a||l.removeAll(),s.diff(a).add(function(c){px(r,null,c,u(c,o),e,l,s)}).remove(function(c){var p=a.getItemGraphicEl(c);p&&Pg(p,la(p).option,e)}).update(function(c,p){var f=a.getItemGraphicEl(p);px(r,f,c,u(c,o),e,l,s)}).execute();var h=e.get("clip",!0)?rg(e.coordinateSystem,!1,e):null;h?l.setClipPath(h):l.removeClipPath(),this._data=s},t.prototype.incrementalPrepareRender=function(e,n,r){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,n,r,o,a){var s=n.getData(),l=fC(n,s,r,o),u=this._progressiveEls=[];function h(f){f.isGroup||(f.incremental=!0,f.ensureState("emphasis").hoverLayer=!0)}for(var c=e.start;c<e.end;c++){var p=px(null,null,c,l(c,a),n,this.group,s);p&&(p.traverse(h),u.push(p))}},t.prototype.eachRendered=function(e){Va(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,n,r,o){var a=n.element;if(null==a||r.name===a)return!0;for(;(r=r.__hostTarget||r.parent)&&r!==this.group;)if(r.name===a)return!0;return!1},t.type="custom",t}(Ht);function cx(i){var t,e=i.type;if("path"===e){var n=i.shape,r=null!=n.width&&null!=n.height?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,o=xC(n);t=Pc(o,null,r,n.layout||"center"),la(t).customPathData=o}else if("image"===e)t=new Ri({}),la(t).customImagePath=i.style.image;else if("text"===e)t=new Mt({});else if("group"===e)t=new Ze;else{if("compoundPath"===e)throw new Error('"compoundPath" is not supported yet.');var a=Qp(e);a||Ct(""),t=new a}return la(t).customGraphicType=e,t.name=i.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function dx(i,t,e,n,r,o,a){dC(t);var s=r&&r.normal.cfg;s&&t.setTextConfig(s),n&&null==n.transition&&(n.transition=Sz);var l=n&&n.style;if(l){if("text"===t.type){var u=l;Le(u,"textFill")&&(u.fill=u.textFill),Le(u,"textStroke")&&(u.stroke=u.textStroke)}var h=void 0,c=ux(t)?l.decal:null;i&&c&&(c.dirty=!0,h=rh(c,i)),l.__decalPattern=h}hx(t)&&l&&(h=l.__decalPattern)&&(l.decal=h),Lg(t,n,o,{dataIndex:e,isInit:a,clearStyle:!0}),Og(t,n.keyframeAnimation,o)}function pC(i,t,e,n,r){var o=t.isGroup?null:t,a=r&&r[i].cfg;if(o){var s=o.ensureState(i);if(!1===n){var l=o.getState(i);l&&(l.style=null)}else s.style=n||null;a&&(s.textConfig=a),Ks(o)}}function Tz(i,t,e){var n=e===es,r=n?t:Rg(t,e),o=r?r.z2:null;null!=o&&((n?i:i.ensureState(e)).z2=o||0)}function fC(i,t,e,n){var r=i.get("renderItem"),o=i.coordinateSystem,a={};o&&(a=o.prepareCustoms?o.prepareCustoms(o):Mz[o.type](o));for(var s,l,u=Ve({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:function(A,L){return null==L&&(L=s),t.getStore().get(t.getDimensionIndex(A||0),L)},style:function(A,L){null==L&&(L=s);var P=t.getItemVisual(L,"style"),E=P&&P.fill,N=P&&P.opacity,z=S(L,es).getItemStyle();null!=E&&(z.fill=E),null!=N&&(z.opacity=N);var B={inheritColor:De(E)?E:"#000"},W=I(L,es),Y=Kt(W,null,B,!1,!0);Y.text=W.getShallow("show")?He(i.getFormattedLabel(L,es),ch(t,L)):null;var j=rf(W,B,!1);return D(A,z),z=rC(z,Y,j),A&&T(z,A),z.legacy=!0,z},ordinalRawValue:function(A,L){null==L&&(L=s);var P=t.getDimensionInfo(A=A||0);if(!P){var E=t.getDimensionIndex(A);return E>=0?t.getStore().get(E,L):void 0}var N=t.get(P.name,L),z=P&&P.ordinalMeta;return z?z.categories[N]:N},styleEmphasis:function(A,L){null==L&&(L=s);var P=S(L,ua).getItemStyle(),E=I(L,ua),N=Kt(E,null,null,!0,!0);N.text=E.getShallow("show")?ft(i.getFormattedLabel(L,ua),i.getFormattedLabel(L,es),ch(t,L)):null;var z=rf(E,null,!0);return D(A,P),P=rC(P,N,z),A&&T(P,A),P.legacy=!0,P},visual:function(A,L){if(null==L&&(L=s),Le(eC,A)){var P=t.getItemVisual(L,"style");return P?P[eC[A]]:null}if(Le(pz,A))return t.getItemVisual(L,A)},barLayout:function(A){if("cartesian2d"===o.type)return function(L){var P=[],E=L.axis;if("category"===E.type){for(var z=E.getBandWidth(),B=0;B<L.count;B++)P.push(Ve({bandWidth:z,axisKey:"axis0",stackId:iv+B},L));var W=fS(P),Y=[];for(B=0;B<L.count;B++){var j=W.axis0[iv+B];j.offsetCenter=j.offset+j.width/2,Y.push(j)}return Y}}(Ve({axis:o.getBaseAxis()},A))},currentSeriesIndices:function(){return e.getCurrentSeriesIndices()},font:function(A){return M_(A,e)}},a.api||{}),h={context:{},seriesId:i.id,seriesName:i.name,seriesIndex:i.seriesIndex,coordSys:a.coordSys,dataInsideLength:t.count(),encode:Cz(i.getData())},c={},p={},f={},m={},y=0;y<ts.length;y++){var v=ts[y];f[v]=i.getModel(sx[v]),m[v]=i.getModel(lx[v])}function b(A){return A===s?l||(l=t.getItemModel(A)):t.getItemModel(A)}function S(A,L){return t.hasItemOption?A===s?c[L]||(c[L]=b(A).getModel(sx[L])):b(A).getModel(sx[L]):f[L]}function I(A,L){return t.hasItemOption?A===s?p[L]||(p[L]=b(A).getModel(lx[L])):b(A).getModel(lx[L]):m[L]}return function(A,L){return s=A,l=null,c={},p={},r&&r(Ve({dataIndexInside:A,dataIndex:t.getRawIndex(A),actionType:L?L.type:null},h),u)};function T(A,L){for(var P in L)Le(L,P)&&(A[P]=L[P])}function D(A,L){A&&(A.textFill&&(L.textFill=A.textFill),A.textPosition&&(L.textPosition=A.textPosition))}}function Cz(i){var t={};return G(i.dimensions,function(e){var n=i.getDimensionInfo(e);if(!n.isExtraCoord){var r=n.coordDim;(t[r]=t[r]||[])[n.coordDimIndex]=i.getDimensionIndex(e)}}),t}function px(i,t,e,n,r,o,a){if(n){var s=fx(i,t,e,n,r,o);return s&&a.setItemGraphicEl(e,s),s&&hi(s,n.focus,n.blurScope,n.emphasisDisabled),s}o.remove(t)}function fx(i,t,e,n,r,o){var a=-1,s=t;t&&gC(t,n,r)&&(a=We(o.childrenRef(),t),t=null);var l,u,h=!t,c=t;c?c.clearStates():(c=cx(n),s&&((u=c).copyTransform(l=s),hx(u)&&hx(l)&&(u.setStyle(l.style),u.z=l.z,u.z2=l.z2,u.zlevel=l.zlevel,u.invisible=l.invisible,u.ignore=l.ignore,ux(u)&&ux(l)&&u.setShape(l.shape)))),!1===n.morph?c.disableMorphing=!0:c.disableMorphing&&(c.disableMorphing=!1),Cr.normal.cfg=Cr.normal.conOpt=Cr.emphasis.cfg=Cr.emphasis.conOpt=Cr.blur.cfg=Cr.blur.conOpt=Cr.select.cfg=Cr.select.conOpt=null,Cr.isLegacy=!1,function(y,v,b,S,I,T){if(!y.isGroup){mC(b,null,T),mC(b,ua,T);var D=T.normal.conOpt;if(null!=D||null!=T.emphasis.conOpt||null!=T.select.conOpt||null!=T.blur.conOpt){var E=y.getTextContent();if(!1===D)E&&y.removeTextContent();else{D=T.normal.conOpt=D||{type:"text"},E?E.clearStates():(E=cx(D),y.setTextContent(E)),dx(null,E,v,D,null,S,I);for(var N=D&&D.style,z=0;z<ts.length;z++){var B=ts[z];B!==es&&pC(B,E,0,gx(D,T[B].conOpt,B),null)}N?E.dirty():E.markRedraw()}}}}(c,e,n,r,h,Cr),function(y,v,b,S,I){var T=b.clipPath;if(!1===T)y&&y.getClipPath()&&y.removeClipPath();else if(T){var D=y.getClipPath();D&&gC(D,T,S)&&(D=null),D||(D=cx(T),y.setClipPath(D)),dx(null,D,v,T,null,S,I)}}(c,e,n,r,h),dx(i,c,e,n,Cr,r,h),Le(n,"info")&&(la(c).info=n.info);for(var p=0;p<ts.length;p++){var f=ts[p];f!==es&&pC(f,c,0,gx(n,Rg(n,f),f),Cr)}return function(y,v,b){if(!y.isGroup){var S=y,T=b.currentZLevel;S.z=b.currentZ,S.zlevel=T;var D=v.z2;null!=D&&(S.z2=D||0);for(var A=0;A<ts.length;A++)Tz(S,v,ts[A])}}(c,n,r),"group"===n.type&&function(y,v,b,S,I){var T=S.children,D=T?T.length:0,A=S.$mergeChildren,L="byName"===A||S.diffChildrenByName,P=!1===A;if(D||L||P){if(L)return E={api:y,oldChildren:v.children()||[],newChildren:T||[],dataIndex:b,seriesModel:I,group:v},void new ra(E.oldChildren,E.newChildren,yC,yC,E).add(vC).update(vC).remove(Az).execute();var E;P&&v.removeAll();for(var N=0;N<D;N++){var z=T[N],B=v.childAt(N);z?(null==z.ignore&&(z.ignore=!1),fx(y,B,b,z,I,v)):B.ignore=!0}for(var W=v.childCount()-1;W>=N;W--){var Y=v.childAt(W);Dz(v,Y,I)}}}(i,c,e,n,r),a>=0?o.replaceAt(c,a):o.add(c),c}function gC(i,t,e){var n,r=la(i),o=t.type,a=t.shape,s=t.style;return e.isUniversalTransitionEnabled()||null!=o&&o!==r.customGraphicType||"path"===o&&(n=a)&&(Le(n,"pathData")||Le(n,"d"))&&xC(a)!==r.customPathData||"image"===o&&Le(s,"image")&&s.image!==r.customImagePath}function mC(i,t,e){var n=t?Rg(i,t):i,r=t?gx(i,n,ua):i.style,o=i.type,a=n?n.textConfig:null,s=i.textContent,l=s?t?Rg(s,t):s:null;if(r&&(e.isLegacy||tC(r,o,!!a,!!l))){e.isLegacy=!0;var u=iC(r,o,!t);!a&&u.textConfig&&(a=u.textConfig),!l&&u.textContent&&(l=u.textContent)}!t&&l&&!l.type&&(l.type="text");var c=t?e[t]:e.normal;c.cfg=a,c.conOpt=l}function Rg(i,t){return t?i?i[t]:null:i}function gx(i,t,e){var n=t&&t.style;return null==n&&e===ua&&i&&(n=i.styleEmphasis),n}function Dz(i,t,e){t&&Pg(t,la(i).option,e)}function yC(i,t){return(i&&i.name)??"e\0\0"+t}function vC(i,t){var e=this.context;fx(e.api,null!=t?e.oldChildren[t]:null,e.dataIndex,null!=i?e.newChildren[i]:null,e.seriesModel,e.group)}function Az(i){var t=this.context,e=t.oldChildren[i];e&&Pg(e,la(e).option,t.seriesModel)}function xC(i){return i&&(i.pathData||i.d)}var Al=_t(),_C=Ue,mx=ke,yx=function(){function i(){this._dragging=!1,this.animationThreshold=15}return i.prototype.render=function(t,e,n,r){var o=e.get("value"),a=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,r||this._lastValue!==o||this._lastStatus!==a){this._lastValue=o,this._lastStatus=a;var s=this._group,l=this._handle;if(!a||"hide"===a)return s&&s.hide(),void(l&&l.hide());s&&s.show(),l&&l.show();var u={};this.makeElOption(u,o,t,e,n);var h=u.graphicKey;h!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=h;var c=this._moveAnimation=this.determineAnimation(t,e);if(s){var p=Xe(bC,e,c);this.updatePointerEl(s,u,p),this.updateLabelEl(s,u,p,e)}else s=this._group=new Ze,this.createPointerEl(s,u,t,e),this.createLabelEl(s,u,t,e),n.getZr().add(s);MC(s,e,!0),this._renderHandle(o)}},i.prototype.remove=function(t){this.clear(t)},i.prototype.dispose=function(t){this.clear(t)},i.prototype.determineAnimation=function(t,e){var n=e.get("animation"),r=t.axis,o="category"===r.type,a=e.get("snap");if(!a&&!o)return!1;if("auto"===n||null==n){var s=this.animationThreshold;if(o&&r.getBandWidth()>s)return!0;if(a){var l=Fv(t).seriesDataCount,u=r.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return!0===n},i.prototype.makeElOption=function(t,e,n,r,o){},i.prototype.createPointerEl=function(t,e,n,r){var o=e.pointer;if(o){var a=Al(t).pointerEl=new Ec[o.type](_C(e.pointer));t.add(a)}},i.prototype.createLabelEl=function(t,e,n,r){if(e.label){var o=Al(t).labelEl=new Mt(_C(e.label));t.add(o),SC(o,r)}},i.prototype.updatePointerEl=function(t,e,n){var r=Al(t).pointerEl;r&&e.pointer&&(r.setStyle(e.pointer.style),n(r,{shape:e.pointer.shape}))},i.prototype.updateLabelEl=function(t,e,n,r){var o=Al(t).labelEl;o&&(o.setStyle(e.label.style),n(o,{x:e.label.x,y:e.label.y}),SC(o,r))},i.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var e,n=this._axisPointerModel,r=this._api.getZr(),o=this._handle,a=n.getModel("handle"),s=n.get("status");if(!a.get("show")||!s||"hide"===s)return o&&r.remove(o),void(this._handle=null);this._handle||(e=!0,o=this._handle=Vu(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Gi(u.event)},onmousedown:mx(this._onHandleDragMove,this,0,0),drift:mx(this._onHandleDragMove,this),ondragend:mx(this._onHandleDragEnd,this)}),r.add(o)),MC(o,n,!1),o.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");fe(l)||(l=[l,l]),o.scaleX=l[0]/2,o.scaleY=l[1]/2,eh(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},i.prototype._moveHandleToValue=function(t,e){bC(this._axisPointerModel,!e&&this._moveAnimation,this._handle,vx(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},i.prototype._onHandleDragMove=function(t,e){var n=this._handle;if(n){this._dragging=!0;var r=this.updateHandleTransform(vx(n),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=r,n.stopAnimation(),n.attr(vx(r)),Al(n).lastProp=null,this._doDispatchAxisPointer()}},i.prototype._doDispatchAxisPointer=function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},i.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},i.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,r=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),r&&e.remove(r),this._group=null,this._handle=null,this._payloadInfo=null),jc(this,"_doDispatchAxisPointer")},i.prototype.doClear=function(){},i.prototype.buildLabel=function(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}},i}();function bC(i,t,e,n){wC(Al(e).lastProp,n)||(Al(e).lastProp=n,t?It(e,n,i):(e.stopAnimation(),e.attr(n)))}function wC(i,t){if(le(i)&&le(t)){var e=!0;return G(t,function(n,r){e=e&&wC(i[r],n)}),!!e}return i===t}function SC(i,t){i[t.get(["label","show"])?"show":"hide"]()}function vx(i){return{x:i.x||0,y:i.y||0,rotation:i.rotation||0}}function MC(i,t,e){var n=t.get("z"),r=t.get("zlevel");i&&i.traverse(function(o){"group"!==o.type&&(null!=n&&(o.z=n),null!=r&&(o.zlevel=r),o.silent=e)})}function xx(i){var t,e=i.get("type"),n=i.getModel(e+"Style");return"line"===e?(t=n.getLineStyle()).fill=null:"shadow"===e&&((t=n.getAreaStyle()).stroke=null),t}function IC(i,t,e,n,r){var o=TC(e.get("value"),t.axis,t.ecModel,e.get("seriesDataIndices"),{precision:e.get(["label","precision"]),formatter:e.get(["label","formatter"])}),a=e.getModel("label"),s=il(a.get("padding")||0),l=a.getFont(),u=Qn(o,l),h=r.position,c=u.width+s[1]+s[3],p=u.height+s[0]+s[2],f=r.align;"right"===f&&(h[0]-=c),"center"===f&&(h[0]-=c/2);var v,b,S,I,T,D,m=r.verticalAlign;"bottom"===m&&(h[1]-=p),"middle"===m&&(h[1]-=p/2),v=h,b=c,S=p,T=(I=n).getWidth(),D=I.getHeight(),v[0]=Math.min(v[0]+b,T)-b,v[1]=Math.min(v[1]+S,D)-S,v[0]=Math.max(v[0],0),v[1]=Math.max(v[1],0);var y=a.get("backgroundColor");y&&"auto"!==y||(y=t.get(["axisLine","lineStyle","color"])),i.label={x:h[0],y:h[1],style:Kt(a,{text:o,font:l,fill:a.getTextColor(),padding:s,backgroundColor:y}),z2:10}}function TC(i,t,e,n,r){i=t.scale.parse(i);var o=t.scale.getLabel({value:i},{precision:r.precision}),a=r.formatter;if(a){var s={value:sv(t,{value:i}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};G(n,function(l){var u=e.getSeriesByIndex(l.seriesIndex),c=u&&u.getDataParams(l.dataIndexInside);c&&s.seriesData.push(c)}),De(a)?o=a.replace("{value}",o):Ge(a)&&(o=a(s))}return o}function _x(i,t,e){var n=[1,0,0,1,0,0];return lr(n,n,e.rotation),Di(n,n,e.position),Xr([i.dataToCoord(t),(e.labelOffset||0)+(e.labelDirection||1)*(e.labelMargin||0)],n)}function CC(i,t,e,n,r,o){var a=Tn.innerTextLayout(e.rotation,0,e.labelDirection);e.labelMargin=r.get(["label","margin"]),IC(t,n,r,o,{position:_x(n.axis,i,e),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function bx(i,t,e){return{x1:i[e=e||0],y1:i[1-e],x2:t[e],y2:t[1-e]}}function DC(i,t,e){return{x:i[e=e||0],y:i[1-e],width:t[e],height:t[1-e]}}function AC(i,t,e,n,r,o){return{cx:i,cy:t,r0:e,r:n,startAngle:r,endAngle:o,clockwise:!0}}var kz=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return ie(t,i),t.prototype.makeElOption=function(e,n,r,o,a){var s=r.axis,l=s.grid,u=o.get("type"),h=kC(l,s).getOtherAxis(s).getGlobalExtent(),c=s.toGlobalCoord(s.dataToCoord(n,!0));if(u&&"none"!==u){var p=xx(o),f=Lz[u](s,c,h);f.style=p,e.graphicKey=f.type,e.pointer=f}CC(n,e,Nv(l.model,r),r,o,a)},t.prototype.getHandleTransform=function(e,n,r){var o=Nv(n.axis.grid.model,n,{labelInside:!1});o.labelMargin=r.get(["handle","margin"]);var a=_x(n.axis,e,o);return{x:a[0],y:a[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,n,r,o){var a=r.axis,s=a.grid,l=a.getGlobalExtent(!0),u=kC(s,a).getOtherAxis(a).getGlobalExtent(),h="x"===a.dim?0:1,c=[e.x,e.y];c[h]+=n[h],c[h]=Math.min(l[1],c[h]),c[h]=Math.max(l[0],c[h]);var p=(u[1]+u[0])/2,f=[p,p];return f[h]=c[h],{x:c[0],y:c[1],rotation:e.rotation,cursorPoint:f,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][h]}},t}(yx);function kC(i,t){var e={};return e[t.dim+"AxisIndex"]=t.index,i.getCartesian(e)}var Lz={line:function(i,t,e){return{type:"Line",subPixelOptimize:!0,shape:bx([t,e[0]],[t,e[1]],LC(i))}},shadow:function(i,t,e){var n=Math.max(1,i.getBandWidth());return{type:"Rect",shape:DC([t-n/2,e[0]],[n,e[1]-e[0]],LC(i))}}};function LC(i){return"x"===i.dim?0:1}var Pz=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(mt),ha=_t(),Oz=G;function PC(i,t,e){if(!Ee.node){var n=t.getZr();ha(n).records||(ha(n).records={}),function(r,o){function a(s,l){r.on(s,function(u){var c,p,f,h=(c=o,{dispatchAction:f=function(m){var y=p[m.type];y?y.push(m):(m.dispatchAction=f,c.dispatchAction(m))},pendings:p={showTip:[],hideTip:[]}});Oz(ha(r).records,function(c){c&&l(c,u,h.dispatchAction)}),function(c,p){var f,m=c.showTip.length,y=c.hideTip.length;m?f=c.showTip[m-1]:y&&(f=c.hideTip[y-1]),f&&(f.dispatchAction=null,p.dispatchAction(f))}(h.pendings,o)})}ha(r).initialized||(ha(r).initialized=!0,a("click",Xe(OC,"click")),a("mousemove",Xe(OC,"mousemove")),a("globalout",Rz))}(n,t),(ha(n).records[i]||(ha(n).records[i]={})).handler=e}}function Rz(i,t,e){i.handler("leave",null,e)}function OC(i,t,e,n){t.handler(i,e,n)}function Sx(i,t){if(!Ee.node){var e=t.getZr();(ha(e).records||{})[i]&&(ha(e).records[i]=null)}}var Ez=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.render=function(e,n,r){var o=n.getComponent("tooltip"),a=e.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";PC("axisPointer",r,function(s,l,u){"none"!==a&&("leave"===s||a.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},t.prototype.remove=function(e,n){Sx("axisPointer",n)},t.prototype.dispose=function(e,n){Sx("axisPointer",n)},t.type="axisPointer",t}(ei);function RC(i,t){var e,n=[],r=i.seriesIndex;if(null==r||!(e=t.getSeriesByIndex(r)))return{point:[]};var o=e.getData(),a=$o(o,i);if(null==a||a<0||fe(a))return{point:[]};var s=o.getItemGraphicEl(a),l=e.coordinateSystem;if(e.getTooltipPosition)n=e.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)if(i.isStacked){var u=l.getBaseAxis(),h=l.getOtherAxis(u).dim,p="x"===h||"radius"===h?1:0,f=o.mapDimension(u.dim),m=[];m[p]=o.get(f,a),m[1-p]=o.get(o.getCalculationInfo("stackResultDimension"),a),n=l.dataToPoint(m)||[]}else n=l.dataToPoint(o.getValues(ge(l.dimensions,function(v){return o.mapDimension(v)}),a))||[];else if(s){var y=s.getBoundingRect().clone();y.applyTransform(s.transform),n=[y.x+y.width/2,y.y+y.height/2]}return{point:n,el:s}}var EC=_t();function Nz(i,t,e){var b,S,T,n=i.currTrigger,r=[i.x,i.y],o=i,a=i.dispatchAction||ke(e.dispatchAction,e),s=t.getComponent("axisPointer").coordSysAxesInfo;if(s){Eg(r)&&(r=RC({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},t).point);var l=Eg(r),u=o.axesInfo,h=s.axesInfo,c="leave"===n||Eg(r),p={},f={},m={list:[],map:{}},y={showPointer:Xe(zz,f),showTooltip:Xe(Vz,m)};G(s.coordSysMap,function(b,S){var I=l||b.containPoint(r);G(s.coordSysAxesInfo[S],function(T,D){var A=T.axis,L=function(E,N){for(var z=0;z<(E||[]).length;z++){var B=E[z];if(N.axis.dim===B.axisDim&&N.axis.model.componentIndex===B.axisIndex)return B}}(u,T);if(!c&&I&&(!u||L)){var P=L&&L.value;null!=P||l||(P=A.pointToData(r)),null!=P&&NC(T,P,y,!1,p)}})});var v={};return G(h,function(b,S){var I=b.linkGroup;I&&!f[S]&&G(I.axesInfo,function(T,D){var A=f[D];if(T!==b&&A){var L=A.value;I.mapper&&(L=b.axis.scale.parse(I.mapper(L,zC(T),zC(b)))),v[b.key]=L}})}),G(v,function(b,S){NC(h[S],b,y,!0,p)}),b=f,S=h,T=p.axesInfo=[],G(S,function(D,A){var L=D.axisPointerModel.option,P=b[A];P?(!D.useHandle&&(L.status="show"),L.value=P.value,L.seriesDataIndices=(P.payloadBatch||[]).slice()):!D.useHandle&&(L.status="hide"),"show"===L.status&&T.push({axisDim:D.axis.dim,axisIndex:D.axis.model.componentIndex,value:L.value})}),function(b,S,I,T){if(!Eg(S)&&b.list.length){var D=((b.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};T({type:"showTip",escapeConnect:!0,x:S[0],y:S[1],tooltipOption:I.tooltipOption,position:I.position,dataIndexInside:D.dataIndexInside,dataIndex:D.dataIndex,seriesIndex:D.seriesIndex,dataByCoordSys:b.list})}else T({type:"hideTip"})}(m,r,i,a),function(b,S,I){var T=I.getZr(),D="axisPointerLastHighlights",A=EC(T)[D]||{},L=EC(T)[D]={};G(b,function(N,z){var B=N.axisPointerModel.option;"show"===B.status&&G(B.seriesDataIndices,function(W){L[W.seriesIndex+" | "+W.dataIndex]=W})});var P=[],E=[];G(A,function(N,z){!L[z]&&E.push(N)}),G(L,function(N,z){!A[z]&&P.push(N)}),E.length&&I.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:E}),P.length&&I.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:P})}(h,0,e),p}}function NC(i,t,e,n,r){var u,h,c,p,f,m,y,v,o=i.axis;if(!o.scale.isBlank()&&o.containData(t))if(i.involveSeries){var a=(p=(c=(h=i).axis).dim,f=u=t,m=[],y=Number.MAX_VALUE,v=-1,G(h.seriesModels,function(b,S){var I,T,D=b.getData().mapDimensionsAll(p);if(b.getAxisTooltipData){var A=b.getAxisTooltipData(D,u,c);T=A.dataIndices,I=A.nestestValue}else{if(!(T=b.getData().indicesOfNearest(D[0],u,"category"===c.type?.5:null)).length)return;I=b.getData().get(D[0],T[0])}if(null!=I&&isFinite(I)){var L=u-I,P=Math.abs(L);P<=y&&((P<y||L>=0&&v<0)&&(y=P,v=L,f=I,m.length=0),G(T,function(E){m.push({seriesIndex:b.seriesIndex,dataIndexInside:E,dataIndex:b.getData().getRawIndex(E)})}))}}),{payloadBatch:m,snapToValue:f}),s=a.payloadBatch,l=a.snapToValue;s[0]&&null==r.seriesIndex&&de(r,s[0]),!n&&i.snap&&o.containData(l)&&null!=l&&(t=l),e.showPointer(i,t,s),e.showTooltip(i,a,l)}else e.showPointer(i,t)}function zz(i,t,e,n){i[t.key]={value:e,payloadBatch:n}}function Vz(i,t,e,n){var r=e.payloadBatch,o=t.axis,a=o.model,s=t.axisPointerModel;if(t.triggerTooltip&&r.length){var l=t.coordSys.model,u=bd(l),h=i.map[u];h||(h=i.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},i.list.push(h)),h.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:n,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function zC(i){var t=i.axis.model,e={},n=e.axisDim=i.axis.dim;return e.axisIndex=e[n+"AxisIndex"]=t.componentIndex,e.axisName=e[n+"AxisName"]=t.name,e.axisId=e[n+"AxisId"]=t.id,e}function Eg(i){return!i||null==i[0]||isNaN(i[0])||null==i[1]||isNaN(i[1])}function Vd(i){xl.registerAxisPointerClass("CartesianAxisPointer",kz),i.registerComponentModel(Pz),i.registerComponentView(Ez),i.registerPreprocessor(function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!fe(e)&&(t.axisPointer.link=[e])}}),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=function qO(i,t){var n,r,o,a,s,l,u,e={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return n=e,o=t,a=(r=i).getComponent("tooltip"),s=r.getComponent("axisPointer"),l=s.get("link",!0)||[],u=[],G(o.getCoordinateSystems(),function(h){if(h.axisPointerEnabled){var c=bd(h.model),p=n.coordSysAxesInfo[c]={};n.coordSysMap[c]=h;var f=h.model.getModel("tooltip",a);if(G(h.getAxes(),Xe(b,!1,null)),h.getTooltipAxes&&a&&f.get("show")){var m="axis"===f.get("trigger"),y="cross"===f.get(["axisPointer","type"]),v=h.getTooltipAxes(f.get(["axisPointer","axis"]));(m||y)&&G(v.baseAxes,Xe(b,!y||"cross",m)),y&&G(v.otherAxes,Xe(b,"cross",!1))}}function b(S,I,T){var D=T.model.getModel("axisPointer",s),A=D.get("show");if(A&&("auto"!==A||S||Gv(D))){null==I&&(I=D.get("triggerTooltip"));var L=(D=S?function(W,Y,j,Z,q,K){var Q=Y.getModel("axisPointer"),te={};G(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(re){te[re]=Ue(Q.get(re))}),te.snap="category"!==W.type&&!!K,"cross"===Q.get("type")&&(te.type="line");var ne=te.label||(te.label={});if(null==ne.show&&(ne.show=!1),"cross"===q){var ce=Q.get(["label","show"]);if(ne.show=null==ce||ce,!K){var ye=te.lineStyle=Q.get("crossStyle");ye&&Ve(ne,ye.textStyle)}}return W.model.getModel("axisPointer",new Rt(te,j,Z))}(T,f,s,r,S,I):D).get("snap"),P=bd(T.model),E=I||L||"category"===T.type,N=n.axesInfo[P]={key:P,axis:T,coordSys:h,axisPointerModel:D,triggerTooltip:I,involveSeries:E,snap:L,useHandle:Gv(D),seriesModels:[],linkGroup:null};p[P]=N,n.seriesInvolved=n.seriesInvolved||E;var z=function(W,Y){for(var j=Y.model,Z=Y.dim,q=0;q<W.length;q++){var K=W[q]||{};if(Bv(K[Z+"AxisId"],j.id)||Bv(K[Z+"AxisIndex"],j.componentIndex)||Bv(K[Z+"AxisName"],j.name))return q}}(l,T);if(null!=z){var B=u[z]||(u[z]={axesInfo:{}});B.axesInfo[P]=N,B.mapper=l[z].mapper,N.linkGroup=B}}}}),e.seriesInvolved&&function(n,r){r.eachSeries(function(o){var a=o.coordinateSystem,s=o.get(["tooltip","trigger"],!0),l=o.get(["tooltip","show"],!0);a&&"none"!==s&&!1!==s&&"item"!==s&&!1!==l&&!1!==o.get(["axisPointer","show"],!0)&&G(n.coordSysAxesInfo[bd(a.model)],function(u){var h=u.axis;a.getAxis(h.dim)===h&&(u.seriesModels.push(o),null==u.seriesDataCount&&(u.seriesDataCount=0),u.seriesDataCount+=o.getData().count())})})}(e,i),e}(t,e)}),i.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Nz)}var Bz=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return ie(t,i),t.prototype.makeElOption=function(e,n,r,o,a){var s=r.axis;"angle"===s.dim&&(this.animationThreshold=Math.PI/18);var l=s.polar,u=l.getOtherAxis(s).getExtent(),h=s.dataToCoord(n),c=o.get("type");if(c&&"none"!==c){var p=xx(o),f=Fz[c](s,l,h,u);f.style=p,e.graphicKey=f.type,e.pointer=f}var m=function(y,v,b,S,I){var T=v.axis,D=T.dataToCoord(y),A=S.getAngleAxis().getExtent()[0];A=A/180*Math.PI;var L,P,E,N=S.getRadiusAxis().getExtent();if("radius"===T.dim){var z=[1,0,0,1,0,0];lr(z,z,A),Di(z,z,[S.cx,S.cy]),L=Xr([D,-I],z);var B=v.getModel("axisLabel").get("rotate")||0,W=Tn.innerTextLayout(A,B*Math.PI/180,-1);P=W.textAlign,E=W.textVerticalAlign}else{var Y=N[1];L=S.coordToPoint([Y+I,D]);var j=S.cx,Z=S.cy;P=Math.abs(L[0]-j)/Y<.3?"center":L[0]>j?"left":"right",E=Math.abs(L[1]-Z)/Y<.3?"middle":L[1]>Z?"top":"bottom"}return{position:L,align:P,verticalAlign:E}}(n,r,0,l,o.get(["label","margin"]));IC(e,r,o,a,m)},t}(yx),Fz={line:function(i,t,e,n){return"angle"===i.dim?{type:"Line",shape:bx(t.coordToPoint([n[0],e]),t.coordToPoint([n[1],e]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:e}}},shadow:function(i,t,e,n){var r=Math.max(1,i.getBandWidth()),o=Math.PI/180;return"angle"===i.dim?{type:"Sector",shape:AC(t.cx,t.cy,n[0],n[1],(-e-r/2)*o,(r/2-e)*o)}:{type:"Sector",shape:AC(t.cx,t.cy,e-r/2,e+r/2,0,2*Math.PI)}}},Gz=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.findAxisModel=function(e){var n;return this.ecModel.eachComponent(e,function(r){r.getCoordSysModel()===this&&(n=r)},this),n},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t}(mt),Mx=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return ie(t,i),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",di).models[0]},t.type="polarAxis",t}(mt);Qt(Mx,lh);var Wz=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.type="angleAxis",t}(Mx),Hz=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.type="radiusAxis",t}(Mx),Ix=function(i){function t(e,n){return i.call(this,"radius",e,n)||this}return ie(t,i),t.prototype.pointToData=function(e,n){return this.polar.pointToData(e,n)["radius"===this.dim?0:1]},t}(Sr);Ix.prototype.dataToRadius=Sr.prototype.dataToCoord,Ix.prototype.radiusToData=Sr.prototype.coordToData;var Yz=_t(),Tx=function(i){function t(e,n){return i.call(this,"angle",e,n||[0,360])||this}return ie(t,i),t.prototype.pointToData=function(e,n){return this.polar.pointToData(e,n)["radius"===this.dim?0:1]},t.prototype.calculateCategoryInterval=function(){var e=this,n=e.getLabelModel(),r=e.scale,o=r.getExtent(),a=r.count();if(o[1]-o[0]<1)return 0;var s=o[0],l=e.dataToCoord(s+1)-e.dataToCoord(s),u=Math.abs(l),h=Qn(null==s?"":s+"",n.getFont(),"center","top"),c=Math.max(h.height,7)/u;isNaN(c)&&(c=1/0);var p=Math.max(0,Math.floor(c)),f=Yz(e.model),m=f.lastAutoInterval,y=f.lastTickCount;return null!=m&&null!=y&&Math.abs(m-p)<=1&&Math.abs(y-a)<=1&&m>p?p=m:(f.lastTickCount=a,f.lastAutoInterval=p),p},t}(Sr);Tx.prototype.dataToAngle=Sr.prototype.dataToCoord,Tx.prototype.angleToData=Sr.prototype.coordToData;var VC=["radius","angle"],Xz=function(){function i(t){this.dimensions=VC,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new Ix,this._angleAxis=new Tx,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return i.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},i.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},i.prototype.getAxis=function(t){return this["_"+t+"Axis"]},i.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},i.prototype.getAxesByScale=function(t){var e=[],n=this._angleAxis,r=this._radiusAxis;return n.scale.type===t&&e.push(n),r.scale.type===t&&e.push(r),e},i.prototype.getAngleAxis=function(){return this._angleAxis},i.prototype.getRadiusAxis=function(){return this._radiusAxis},i.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},i.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},i.prototype.getTooltipAxes=function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},i.prototype.dataToPoint=function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},i.prototype.pointToData=function(t,e){var n=this.pointToCoord(t);return[this._radiusAxis.radiusToData(n[0],e),this._angleAxis.angleToData(n[1],e)]},i.prototype.pointToCoord=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,r=this.getAngleAxis(),o=r.getExtent(),a=Math.min(o[0],o[1]),s=Math.max(o[0],o[1]);r.inverse?a=s-360:s=a+360;var l=Math.sqrt(e*e+n*n);e/=l,n/=l;for(var u=Math.atan2(-n,e)/Math.PI*180,h=u<a?1:-1;u<a||u>s;)u+=360*h;return[l,u]},i.prototype.coordToPoint=function(t){var e=t[0],n=t[1]/180*Math.PI;return[Math.cos(n)*e+this.cx,-Math.sin(n)*e+this.cy]},i.prototype.getArea=function(){var t=this.getAngleAxis(),e=this.getRadiusAxis().getExtent().slice();e[0]>e[1]&&e.reverse();var n=t.getExtent(),r=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:e[0],r:e[1],startAngle:-n[0]*r,endAngle:-n[1]*r,clockwise:t.inverse,contain:function(o,a){var s=o-this.cx,l=a-this.cy,u=s*s+l*l-1e-4,h=this.r,c=this.r0;return u<=h*h&&u>=c*c}}},i.prototype.convertToPixel=function(t,e,n){return BC(e)===this?this.dataToPoint(n):null},i.prototype.convertFromPixel=function(t,e,n){return BC(e)===this?this.pointToData(n):null},i}();function BC(i){var t=i.seriesModel,e=i.polarModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}function Uz(i,t){var e=this,n=e.getAngleAxis(),r=e.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),i.eachSeries(function(s){if(s.coordinateSystem===e){var l=s.getData();G(qf(l,"radius"),function(u){r.scale.unionExtentFromData(l,u)}),G(qf(l,"angle"),function(u){n.scale.unionExtentFromData(l,u)})}}),dl(n.scale,n.model),dl(r.scale,r.model),"category"===n.type&&!n.onBand){var o=n.getExtent(),a=360/n.scale.count();n.inverse?o[1]+=a:o[1]-=a,n.setExtent(o[0],o[1])}}function FC(i,t){if(i.type=t.get("type"),i.scale=sd(t),i.onBand=t.get("boundaryGap")&&"category"===i.type,i.inverse=t.get("inverse"),"angleAxis"===t.mainType){i.inverse=i.inverse!==t.get("clockwise");var e=t.get("startAngle");i.setExtent(e,e+(i.inverse?-360:360))}t.axis=i,i.model=t}var jz={dimensions:VC,create:function(i,t){var e=[];return i.eachComponent("polar",function(n,r){var o=new Xz(r+"");o.update=Uz;var a=o.getRadiusAxis(),s=o.getAngleAxis(),l=n.findAxisModel("radiusAxis"),u=n.findAxisModel("angleAxis");FC(a,l),FC(s,u),function(h,c,p){var f=c.get("center"),m=p.getWidth(),y=p.getHeight();h.cx=Te(f[0],m),h.cy=Te(f[1],y);var v=h.getRadiusAxis(),b=Math.min(m,y)/2,S=c.get("radius");null==S?S=[0,"100%"]:fe(S)||(S=[0,S]);var I=[Te(S[0],b),Te(S[1],b)];v.inverse?v.setExtent(I[1],I[0]):v.setExtent(I[0],I[1])}(o,n,t),e.push(o),n.coordinateSystem=o,o.model=n}),i.eachSeries(function(n){if("polar"===n.get("coordinateSystem")){var r=n.getReferringComponents("polar",di).models[0];n.coordinateSystem=r.coordinateSystem}}),e}},Zz=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function Ng(i,t,e){t[1]>t[0]&&(t=t.slice().reverse());var n=i.coordToPoint([t[0],e]),r=i.coordToPoint([t[1],e]);return{x1:n[0],y1:n[1],x2:r[0],y2:r[1]}}function zg(i){return i.getRadiusAxis().inverse?0:1}function GC(i){var t=i[0],e=i[i.length-1];t&&e&&Math.abs(Math.abs(t.coord-e.coord)-360)<1e-4&&i.pop()}var qz=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return ie(t,i),t.prototype.render=function(e,n){if(this.group.removeAll(),e.get("show")){var r=e.axis,o=r.polar,a=o.getRadiusAxis().getExtent(),s=r.getTicksCoords(),l=r.getMinorTicksCoords(),u=ge(r.getViewLabels(),function(h){h=Ue(h);var c=r.scale,p="ordinal"===c.type?c.getRawOrdinalNumber(h.tickValue):h.tickValue;return h.coord=r.dataToCoord(p),h});GC(u),GC(s),G(Zz,function(h){!e.get([h,"show"])||r.scale.isBlank()&&"axisLine"!==h||$z[h](this.group,e,o,s,l,a,u)},this)}},t.type="angleAxis",t}(xl),$z={axisLine:function(i,t,e,n,r,o){var a,s=t.getModel(["axisLine","lineStyle"]),l=zg(e),u=l?0:1;(a=0===o[u]?new xr({shape:{cx:e.cx,cy:e.cy,r:o[l]},style:s.getLineStyle(),z2:1,silent:!0}):new Pu({shape:{cx:e.cx,cy:e.cy,r:o[l],r0:o[u]},style:s.getLineStyle(),z2:1,silent:!0})).style.fill=null,i.add(a)},axisTick:function(i,t,e,n,r,o){var a=t.getModel("axisTick"),s=(a.get("inside")?-1:1)*a.get("length"),l=o[zg(e)],u=ge(n,function(h){return new ki({shape:Ng(e,[l,l+s],h.coord)})});i.add(er(u,{style:Ve(a.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(i,t,e,n,r,o){if(r.length){for(var a=t.getModel("axisTick"),s=t.getModel("minorTick"),l=(a.get("inside")?-1:1)*s.get("length"),u=o[zg(e)],h=[],c=0;c<r.length;c++)for(var p=0;p<r[c].length;p++)h.push(new ki({shape:Ng(e,[u,u+l],r[c][p].coord)}));i.add(er(h,{style:Ve(s.getModel("lineStyle").getLineStyle(),Ve(a.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(i,t,e,n,r,o,a){var s=t.getCategories(!0),l=t.getModel("axisLabel"),u=l.get("margin"),h=t.get("triggerEvent");G(a,function(c,p){var f=l,m=c.tickValue,y=o[zg(e)],v=e.coordToPoint([y+u,c.coord]),b=e.cx,S=e.cy,I=Math.abs(v[0]-b)/y<.3?"center":v[0]>b?"left":"right",T=Math.abs(v[1]-S)/y<.3?"middle":v[1]>S?"top":"bottom";if(s&&s[m]){var D=s[m];le(D)&&D.textStyle&&(f=new Rt(D.textStyle,l,l.ecModel))}var A=new Mt({silent:Tn.isLabelSilent(t),style:Kt(f,{x:v[0],y:v[1],fill:f.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:c.formattedLabel,align:I,verticalAlign:T})});if(i.add(A),h){var L=Tn.makeAxisEventDataBase(t);L.targetType="axisLabel",L.value=c.rawLabel,rt(A).eventData=L}},this)},splitLine:function(i,t,e,n,r,o){var a=t.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=0;h<n.length;h++){var c=l++%s.length;u[c]=u[c]||[],u[c].push(new ki({shape:Ng(e,o,n[h].coord)}))}for(h=0;h<u.length;h++)i.add(er(u[h],{style:Ve({stroke:s[h%s.length]},a.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(i,t,e,n,r,o){if(r.length){for(var a=t.getModel("minorSplitLine").getModel("lineStyle"),s=[],l=0;l<r.length;l++)for(var u=0;u<r[l].length;u++)s.push(new ki({shape:Ng(e,o,r[l][u].coord)}));i.add(er(s,{style:a.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(i,t,e,n,r,o){if(n.length){var a=t.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=Math.PI/180,c=-n[0].coord*h,p=Math.min(o[0],o[1]),f=Math.max(o[0],o[1]),m=t.get("clockwise"),y=1,v=n.length;y<=v;y++){var b=y===v?n[0].coord:n[y].coord,S=l++%s.length;u[S]=u[S]||[],u[S].push(new pn({shape:{cx:e.cx,cy:e.cy,r0:p,r:f,startAngle:c,endAngle:-b*h,clockwise:m},silent:!0})),c=-b*h}for(y=0;y<u.length;y++)i.add(er(u[y],{style:Ve({fill:s[y%s.length]},a.getAreaStyle()),silent:!0}))}}},Kz=["axisLine","axisTickLabel","axisName"],Jz=["splitLine","splitArea","minorSplitLine"],Qz=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return ie(t,i),t.prototype.render=function(e,n){if(this.group.removeAll(),e.get("show")){var r=this._axisGroup,o=this._axisGroup=new Ze;this.group.add(o);var a=e.axis,s=a.polar,l=s.getAngleAxis(),u=a.getTicksCoords(),h=a.getMinorTicksCoords(),c=l.getExtent()[0],p=a.getExtent(),f={position:[(y=s).cx,y.cy],rotation:c/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1},m=new Tn(e,f);G(Kz,m.add,m),o.add(m.getGroup()),Oc(r,o,e),G(Jz,function(y){e.get([y,"show"])&&!a.scale.isBlank()&&e5[y](this.group,e,s,c,p,u,h)},this)}var y},t.type="radiusAxis",t}(xl),e5={splitLine:function(i,t,e,n,r,o){var a=t.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=0;h<o.length;h++){var c=l++%s.length;u[c]=u[c]||[],u[c].push(new xr({shape:{cx:e.cx,cy:e.cy,r:Math.max(o[h].coord,0)}}))}for(h=0;h<u.length;h++)i.add(er(u[h],{style:Ve({stroke:s[h%s.length],fill:null},a.getLineStyle()),silent:!0}))},minorSplitLine:function(i,t,e,n,r,o,a){if(a.length){for(var s=t.getModel("minorSplitLine").getModel("lineStyle"),l=[],u=0;u<a.length;u++)for(var h=0;h<a[u].length;h++)l.push(new xr({shape:{cx:e.cx,cy:e.cy,r:a[u][h].coord}}));i.add(er(l,{style:Ve({fill:null},s.getLineStyle()),silent:!0}))}},splitArea:function(i,t,e,n,r,o){if(o.length){var a=t.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=o[0].coord,c=1;c<o.length;c++){var p=l++%s.length;u[p]=u[p]||[],u[p].push(new pn({shape:{cx:e.cx,cy:e.cy,r0:h,r:o[c].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),h=o[c].coord}for(c=0;c<u.length;c++)i.add(er(u[c],{style:Ve({fill:s[c%s.length]},a.getAreaStyle()),silent:!0}))}}};function WC(i){return i.get("stack")||"__ec_stack_"+i.seriesIndex}function HC(i,t){return t.dim+i.model.componentIndex}function t5(i,t,e){var n={},r=function(o){var a={};G(o,function(l,u){var h=l.getData(),c=l.coordinateSystem,p=c.getBaseAxis(),f=HC(c,p),m=p.getExtent(),y="category"===p.type?p.getBandWidth():Math.abs(m[1]-m[0])/h.count(),v=a[f]||{bandWidth:y,remainedWidth:y,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},b=v.stacks;a[f]=v;var S=WC(l);b[S]||v.autoWidthCount++,b[S]=b[S]||{width:0,maxWidth:0};var I=Te(l.get("barWidth"),y),T=Te(l.get("barMaxWidth"),y),D=l.get("barGap"),A=l.get("barCategoryGap");I&&!b[S].width&&(I=Math.min(v.remainedWidth,I),b[S].width=I,v.remainedWidth-=I),T&&(b[S].maxWidth=T),null!=D&&(v.gap=D),null!=A&&(v.categoryGap=A)});var s={};return G(a,function(l,u){s[u]={};var h=l.stacks,p=Te(l.categoryGap,l.bandWidth),f=Te(l.gap,1),m=l.remainedWidth,y=l.autoWidthCount,v=(m-p)/(y+(y-1)*f);v=Math.max(v,0),G(h,function(T,D){var A=T.maxWidth;A&&A<v&&(A=Math.min(A,m),T.width&&(A=Math.min(A,T.width)),m-=A,T.width=A,y--)}),v=(m-p)/(y+(y-1)*f),v=Math.max(v,0);var b,S=0;G(h,function(T,D){T.width||(T.width=v),b=T,S+=T.width*(1+f)}),b&&(S-=b.width*f);var I=-S/2;G(h,function(T,D){s[u][D]=s[u][D]||{offset:I,width:T.width},I+=T.width*(1+f)})}),s}(xt(t.getSeriesByType(i),function(o){return!t.isSeriesFiltered(o)&&o.coordinateSystem&&"polar"===o.coordinateSystem.type}));t.eachSeriesByType(i,function(o){if("polar"===o.coordinateSystem.type){var a=o.getData(),s=o.coordinateSystem,l=s.getBaseAxis(),u=HC(s,l),h=WC(o),c=r[u][h],p=c.offset,f=c.width,m=s.getOtherAxis(l),y=o.coordinateSystem.cx,v=o.coordinateSystem.cy,b=o.get("barMinHeight")||0,S=o.get("barMinAngle")||0;n[h]=n[h]||[];for(var I=a.mapDimension(m.dim),T=a.mapDimension(l.dim),D=oa(a,I),A="radius"!==l.dim||!o.get("roundCap",!0),L=m.dataToCoord(0),P=0,E=a.count();P<E;P++){var N=a.get(I,P),z=a.get(T,P),B=N>=0?"p":"n",W=L;D&&(n[h][z]||(n[h][z]={p:L,n:L}),W=n[h][z][B]);var Y=void 0,j=void 0,Z=void 0,q=void 0;if("radius"===m.dim){var K=m.dataToCoord(N)-L,Q=l.dataToCoord(z);Math.abs(K)<b&&(K=(K<0?-1:1)*b),Y=W,j=W+K,q=(Z=Q-p)-f,D&&(n[h][z][B]=j)}else{var te=m.dataToCoord(N,A)-L,ne=l.dataToCoord(z);Math.abs(te)<S&&(te=(te<0?-1:1)*S),j=(Y=ne+p)+f,Z=W,q=W+te,D&&(n[h][z][B]=q)}a.setItemLayout(P,{cx:y,cy:v,r0:Y,r:j,startAngle:-Z*Math.PI/180,endAngle:-q*Math.PI/180,clockwise:Z>=q})}}})}var i5={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},n5={splitNumber:5},r5=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.type="polar",t}(ei);function Cx(i,t){t=t||{};var n=i.axis,r={},o=n.position,a=n.orient,s=i.coordinateSystem.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};r.position=["vertical"===a?u.vertical[o]:l[0],"horizontal"===a?u.horizontal[o]:l[3]],r.rotation=Math.PI/2*{horizontal:0,vertical:1}[a],r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,right:1,left:-1}[o],i.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),kt(t.labelInside,i.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);var h=t.rotate;return null==h&&(h=i.get(["axisLabel","rotate"])),r.labelRotation="top"===o?-h:h,r.z2=1,r}var o5=["axisLine","axisTickLabel","axisName"],a5=["splitArea","splitLine"],s5=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="SingleAxisPointer",e}return ie(t,i),t.prototype.render=function(e,n,r,o){var a=this.group;a.removeAll();var s=this._axisGroup;this._axisGroup=new Ze;var l=Cx(e),u=new Tn(e,l);G(o5,u.add,u),a.add(this._axisGroup),a.add(u.getGroup()),G(a5,function(h){e.get([h,"show"])&&l5[h](this,this.group,this._axisGroup,e)},this),Oc(s,this._axisGroup,e),i.prototype.render.call(this,e,n,r,o)},t.prototype.remove=function(){yI(this)},t.type="singleAxis",t}(xl),l5={splitLine:function(i,t,e,n){var r=n.axis;if(!r.scale.isBlank()){var o=n.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color");s=s instanceof Array?s:[s];for(var l=a.get("width"),u=n.coordinateSystem.getRect(),h=r.isHorizontal(),c=[],p=0,f=r.getTicksCoords({tickModel:o}),m=[],y=[],v=0;v<f.length;++v){var b=r.toGlobalCoord(f[v].coord);h?(m[0]=b,m[1]=u.y,y[0]=b,y[1]=u.y+u.height):(m[0]=u.x,m[1]=b,y[0]=u.x+u.width,y[1]=b);var S=new ki({shape:{x1:m[0],y1:m[1],x2:y[0],y2:y[1]},silent:!0});zu(S.shape,l);var I=p++%s.length;c[I]=c[I]||[],c[I].push(S)}var T=a.getLineStyle(["color"]);for(v=0;v<c.length;++v)t.add(er(c[v],{style:Ve({stroke:s[v%s.length]},T),silent:!0}))}},splitArea:function(i,t,e,n){mI(i,e,n,n)}},Vg=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(mt);Qt(Vg,lh.prototype);var u5=function(i){function t(e,n,r,o,a){var s=i.call(this,e,n,r)||this;return s.type=o||"value",s.position=a||"bottom",s}return ie(t,i),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.pointToData=function(e,n){return this.coordinateSystem.pointToData(e)[0]},t}(Sr),YC=["single"],h5=function(){function i(t,e,n){this.type="single",this.dimension="single",this.dimensions=YC,this.axisPointerEnabled=!0,this.model=t,this._init(t,e,n)}return i.prototype._init=function(t,e,n){var o=new u5(this.dimension,sd(t),[0,0],t.get("type"),t.get("position"));o.onBand="category"===o.type&&t.get("boundaryGap"),o.inverse=t.get("inverse"),o.orient=t.get("orient"),t.axis=o,o.model=t,o.coordinateSystem=this,this._axis=o},i.prototype.update=function(t,e){t.eachSeries(function(n){if(n.coordinateSystem===this){var r=n.getData();G(r.mapDimensionsAll(this.dimension),function(o){this._axis.scale.unionExtentFromData(r,o)},this),dl(this._axis.scale,this._axis.model)}},this)},i.prototype.resize=function(t,e){this._rect=wi({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},i.prototype.getRect=function(){return this._rect},i.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,n=e.isHorizontal(),r=n?[0,t.width]:[0,t.height],o=e.inverse?1:0;e.setExtent(r[o],r[1-o]),this._updateAxisTransform(e,n?t.x:t.y)},i.prototype._updateAxisTransform=function(t,e){var n=t.getExtent(),r=n[0]+n[1],o=t.isHorizontal();t.toGlobalCoord=o?function(a){return a+e}:function(a){return r-a+e},t.toLocalCoord=o?function(a){return a-e}:function(a){return r-a+e}},i.prototype.getAxis=function(){return this._axis},i.prototype.getBaseAxis=function(){return this._axis},i.prototype.getAxes=function(){return[this._axis]},i.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},i.prototype.containPoint=function(t){var e=this.getRect(),n=this.getAxis();return"horizontal"===n.orient?n.contain(n.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},i.prototype.pointToData=function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},i.prototype.dataToPoint=function(t){var e=this.getAxis(),n=this.getRect(),r=[],o="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),r[o]=e.toGlobalCoord(e.dataToCoord(+t)),r[1-o]=0===o?n.y+n.height/2:n.x+n.width/2,r},i.prototype.convertToPixel=function(t,e,n){return XC(e)===this?this.dataToPoint(n):null},i.prototype.convertFromPixel=function(t,e,n){return XC(e)===this?this.pointToData(n):null},i}();function XC(i){var t=i.seriesModel,e=i.singleAxisModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}var c5={create:function(i,t){var e=[];return i.eachComponent("singleAxis",function(n,r){var o=new h5(n,i,t);o.name="single_"+r,o.resize(n,t),n.coordinateSystem=o,e.push(o)}),i.eachSeries(function(n){if("singleAxis"===n.get("coordinateSystem")){var r=n.getReferringComponents("singleAxis",di).models[0];n.coordinateSystem=r&&r.coordinateSystem}}),e},dimensions:YC},UC=["x","y"],d5=["width","height"],p5=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return ie(t,i),t.prototype.makeElOption=function(e,n,r,o,a){var s=r.axis,l=s.coordinateSystem,u=Dx(l,1-Bg(s)),h=l.dataToPoint(n)[0],c=o.get("type");if(c&&"none"!==c){var p=xx(o),f=f5[c](s,h,u);f.style=p,e.graphicKey=f.type,e.pointer=f}CC(n,e,Cx(r),r,o,a)},t.prototype.getHandleTransform=function(e,n,r){var o=Cx(n,{labelInside:!1});o.labelMargin=r.get(["handle","margin"]);var a=_x(n.axis,e,o);return{x:a[0],y:a[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,n,r,o){var a=r.axis,s=a.coordinateSystem,l=Bg(a),u=Dx(s,l),h=[e.x,e.y];h[l]+=n[l],h[l]=Math.min(u[1],h[l]),h[l]=Math.max(u[0],h[l]);var c=Dx(s,1-l),p=(c[1]+c[0])/2,f=[p,p];return f[l]=h[l],{x:h[0],y:h[1],rotation:e.rotation,cursorPoint:f,tooltipOption:{verticalAlign:"middle"}}},t}(yx),f5={line:function(i,t,e){return{type:"Line",subPixelOptimize:!0,shape:bx([t,e[0]],[t,e[1]],Bg(i))}},shadow:function(i,t,e){var n=i.getBandWidth();return{type:"Rect",shape:DC([t-n/2,e[0]],[n,e[1]-e[0]],Bg(i))}}};function Bg(i){return i.isHorizontal()?0:1}function Dx(i,t){var e=i.getRect();return[e[UC[t]],e[UC[t]]+e[d5[t]]]}var g5=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.type="single",t}(ei),m5=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.init=function(e,n,r){var o=Yu(e);i.prototype.init.apply(this,arguments),jC(e,o)},t.prototype.mergeOption=function(e){i.prototype.mergeOption.apply(this,arguments),jC(this.option,e)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(mt);function jC(i,t){var e,n=i.cellSize;1===(e=fe(n)?n:i.cellSize=[n,n]).length&&(e[1]=e[0]);var r=ge([0,1],function(o){return(null!=(a=t)[rl[s=o][0]]||null!=a[rl[s][1]]&&null!=a[rl[s][2]])&&(e[o]="auto"),null!=e[o]&&"auto"!==e[o];var a,s});Fa(i,t,{type:"box",ignoreSize:r})}var y5=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.render=function(e,n,r){var o=this.group;o.removeAll();var a=e.coordinateSystem,s=a.getRangeInfo(),l=a.getOrient(),u=n.getLocaleModel();this._renderDayRect(e,s,o),this._renderLines(e,s,l,o),this._renderYearText(e,s,l,o),this._renderMonthText(e,u,l,o),this._renderWeekText(e,u,s,l,o)},t.prototype._renderDayRect=function(e,n,r){for(var o=e.coordinateSystem,a=e.getModel("itemStyle").getItemStyle(),s=o.getCellWidth(),l=o.getCellHeight(),u=n.start.time;u<=n.end.time;u=o.getNextNDay(u,1).time){var h=o.dataToRect([u],!1).tl,c=new St({shape:{x:h[0],y:h[1],width:s,height:l},cursor:"default",style:a});r.add(c)}},t.prototype._renderLines=function(e,n,r,o){var a=this,s=e.coordinateSystem,l=e.getModel(["splitLine","lineStyle"]).getLineStyle(),u=e.get(["splitLine","show"]),h=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var c=n.start,p=0;c.time<=n.end.time;p++){m(c.formatedDate),0===p&&(c=s.getDateInfo(n.start.y+"-"+n.start.m));var f=c.date;f.setMonth(f.getMonth()+1),c=s.getDateInfo(f)}function m(y){a._firstDayOfMonth.push(s.getDateInfo(y)),a._firstDayPoints.push(s.dataToRect([y],!1).tl);var v=a._getLinePointsOfOneWeek(e,y,r);a._tlpoints.push(v[0]),a._blpoints.push(v[v.length-1]),u&&a._drawSplitline(v,l,o)}m(s.getNextNDay(n.end.time,1).formatedDate),u&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,h,r),l,o),u&&this._drawSplitline(a._getEdgesPoints(a._blpoints,h,r),l,o)},t.prototype._getEdgesPoints=function(e,n,r){var o=[e[0].slice(),e[e.length-1].slice()],a="horizontal"===r?0:1;return o[0][a]=o[0][a]-n/2,o[1][a]=o[1][a]+n/2,o},t.prototype._drawSplitline=function(e,n,r){var o=new gn({z2:20,shape:{points:e},style:n});r.add(o)},t.prototype._getLinePointsOfOneWeek=function(e,n,r){for(var o=e.coordinateSystem,a=o.getDateInfo(n),s=[],l=0;l<7;l++){var u=o.getNextNDay(a.time,l),h=o.dataToRect([u.time],!1);s[2*u.day]=h.tl,s[2*u.day+1]=h["horizontal"===r?"bl":"tr"]}return s},t.prototype._formatterLabel=function(e,n){return De(e)&&e?(r=e,G(n,function(a,s){r=r.replace("{"+s+"}",a)}),r):Ge(e)?e(n):n.nameMap;var r},t.prototype._yearTextPositionControl=function(e,n,r,o,a){var s=n[0],l=n[1],u=["center","bottom"];"bottom"===o?(l+=a,u=["center","top"]):"left"===o?s-=a:"right"===o?(s+=a,u=["center","top"]):l-=a;var h=0;return"left"!==o&&"right"!==o||(h=Math.PI/2),{rotation:h,x:s,y:l,style:{align:u[0],verticalAlign:u[1]}}},t.prototype._renderYearText=function(e,n,r,o){var a=e.getModel("yearLabel");if(a.get("show")){var s=a.get("margin"),l=a.get("position");l||(l="horizontal"!==r?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],h=(u[0][0]+u[1][0])/2,c=(u[0][1]+u[1][1])/2,p="horizontal"===r?0:1,f={top:[h,u[p][1]],bottom:[h,u[1-p][1]],left:[u[1-p][0],c],right:[u[p][0],c]},m=n.start.y;+n.end.y>+n.start.y&&(m=m+"-"+n.end.y);var y=a.get("formatter"),b=this._formatterLabel(y,{start:n.start.y,end:n.end.y,nameMap:m}),S=new Mt({z2:30,style:Kt(a,{text:b})});S.attr(this._yearTextPositionControl(S,f[l],r,l,s)),o.add(S)}},t.prototype._monthTextPositionControl=function(e,n,r,o,a){var s="left",l="top",u=e[0],h=e[1];return"horizontal"===r?(h+=a,n&&(s="center"),"start"===o&&(l="bottom")):(u+=a,n&&(l="middle"),"start"===o&&(s="right")),{x:u,y:h,align:s,verticalAlign:l}},t.prototype._renderMonthText=function(e,n,r,o){var a=e.getModel("monthLabel");if(a.get("show")){var s=a.get("nameMap"),l=a.get("margin"),u=a.get("position"),h=a.get("align"),c=[this._tlpoints,this._blpoints];s&&!De(s)||(s&&(n=Um(s)||n),s=n.get(["time","monthAbbr"])||[]);var p="start"===u?0:1,f="horizontal"===r?0:1;l="start"===u?-l:l;for(var m="center"===h,y=0;y<c[p].length-1;y++){var v=c[p][y].slice(),b=this._firstDayOfMonth[y];m&&(v[f]=(this._firstDayPoints[y][f]+c[0][y+1][f])/2);var I=a.get("formatter"),T=s[+b.m-1],D={yyyy:b.y,yy:(b.y+"").slice(2),MM:b.m,M:+b.m,nameMap:T},A=this._formatterLabel(I,D),L=new Mt({z2:30,style:de(Kt(a,{text:A}),this._monthTextPositionControl(v,m,r,u,l))});o.add(L)}}},t.prototype._weekTextPositionControl=function(e,n,r,o,a){var s="center",l="middle",u=e[0],h=e[1],c="start"===r;return"horizontal"===n?(u=u+o+(c?1:-1)*a[0]/2,s=c?"right":"left"):(h=h+o+(c?1:-1)*a[1]/2,l=c?"bottom":"top"),{x:u,y:h,align:s,verticalAlign:l}},t.prototype._renderWeekText=function(e,n,r,o,a){var s=e.getModel("dayLabel");if(s.get("show")){var l=e.coordinateSystem,u=s.get("position"),h=s.get("nameMap"),c=s.get("margin"),p=l.getFirstDayOfWeek();(!h||De(h))&&(h&&(n=Um(h)||n),h=n.get(["time","dayOfWeekShort"])||ge(n.get(["time","dayOfWeekAbbr"]),function(T){return T[0]}));var f=l.getNextNDay(r.end.time,7-r.lweek).time,m=[l.getCellWidth(),l.getCellHeight()];c=Te(c,Math.min(m[1],m[0])),"start"===u&&(f=l.getNextNDay(r.start.time,-(7+r.fweek)).time,c=-c);for(var y=0;y<7;y++){var v,b=l.getNextNDay(f,y),S=l.dataToRect([b.time],!1).center;v=Math.abs((y+p)%7);var I=new Mt({z2:30,style:de(Kt(s,{text:h[v]}),this._weekTextPositionControl(S,o,u,c,m))});a.add(I)}}},t.type="calendar",t}(ei),Ax=864e5,v5=function(){function i(t,e,n){this.type="calendar",this.dimensions=i.dimensions,this.getDimensionsInfo=i.getDimensionsInfo,this._model=t}return i.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},i.prototype.getRangeInfo=function(){return this._rangeInfo},i.prototype.getModel=function(){return this._model},i.prototype.getRect=function(){return this._rect},i.prototype.getCellWidth=function(){return this._sw},i.prototype.getCellHeight=function(){return this._sh},i.prototype.getOrient=function(){return this._orient},i.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},i.prototype.getDateInfo=function(t){var e=(t=hn(t)).getFullYear(),n=t.getMonth()+1,r=n<10?"0"+n:""+n,o=t.getDate(),a=o<10?"0"+o:""+o,s=t.getDay();return{y:e+"",m:r,d:a,day:s=Math.abs((s+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+r+"-"+a,date:t}},i.prototype.getNextNDay=function(t,e){return 0===(e=e||0)||(t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t)},i.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,r=["width","height"],o=this._model.getCellSize().slice(),a=this._model.getBoxLayoutParams(),s="horizontal"===this._orient?[n,7]:[7,n];G([0,1],function(c){h(o,c)&&(a[r[c]]=o[c]*s[c])});var l={width:e.getWidth(),height:e.getHeight()},u=this._rect=wi(a,l);function h(c,p){return null!=c[p]&&"auto"!==c[p]}G([0,1],function(c){h(o,c)||(o[c]=u[r[c]]/s[c])}),this._sw=o[0],this._sh=o[1]},i.prototype.dataToPoint=function(t,e){fe(t)&&(t=t[0]),null==e&&(e=!0);var n=this.getDateInfo(t),r=this._rangeInfo;if(e&&!(n.time>=r.start.time&&n.time<r.end.time+Ax))return[NaN,NaN];var a=n.day,s=this._getRangeInfo([r.start.time,n.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+a*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]},i.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},i.prototype.dataToRect=function(t,e){var n=this.dataToPoint(t,e);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},i.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,e-1,r):this._getDateByWeeksAndDay(e,n-1,r)},i.prototype.convertToPixel=function(t,e,n){var r=ZC(e);return r===this?r.dataToPoint(n):null},i.prototype.convertFromPixel=function(t,e,n){var r=ZC(e);return r===this?r.pointToData(n):null},i.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},i.prototype._initRangeOption=function(){var t,e=this._model.get("range");if(fe(e)&&1===e.length&&(e=e[0]),fe(e))t=e;else{var n=e.toString();if(/^\d{4}$/.test(n)&&(t=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var r=this.getDateInfo(n),o=r.date;o.setMonth(o.getMonth()+1);var a=this.getNextNDay(o,-1);t=[r.formatedDate,a.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(t=[n,n])}if(!t)return e;var s=this._getRangeInfo(t);return s.start.time>s.end.time&&t.reverse(),t},i.prototype._getRangeInfo=function(t){var e,n=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];n[0].time>n[1].time&&(e=!0,n.reverse());var r=Math.floor(n[1].time/Ax)-Math.floor(n[0].time/Ax)+1,o=new Date(n[0].time),a=o.getDate(),s=n[1].date.getDate();o.setDate(a+r-1);var l=o.getDate();if(l!==s)for(var u=o.getTime()-n[1].time>0?1:-1;(l=o.getDate())!==s&&(o.getTime()-n[1].time)*u>0;)r-=u,o.setDate(l-u);var h=Math.floor((r+n[0].day+6)/7),c=e?1-h:h-1;return e&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:r,weeks:h,nthWeek:c,fweek:n[0].day,lweek:n[1].day}},i.prototype._getDateByWeeksAndDay=function(t,e,n){var r=this._getRangeInfo(n);if(t>r.weeks||0===t&&e<r.fweek||t===r.weeks&&e>r.lweek)return null;var o=7*(t-1)-r.fweek+e,a=new Date(r.start.time);return a.setDate(+r.start.d+o),this.getDateInfo(a)},i.create=function(t,e){var n=[];return t.eachComponent("calendar",function(r){var o=new i(r,t,e);n.push(o),r.coordinateSystem=o}),t.eachSeries(function(r){"calendar"===r.get("coordinateSystem")&&(r.coordinateSystem=n[r.get("calendarIndex")||0])}),n},i.dimensions=["time","value"],i}();function ZC(i){var t=i.calendarModel,e=i.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem:null}function qC(i,t){var e;return G(t,function(n){null!=i[n]&&"auto"!==i[n]&&(e=!0)}),e}var $C=["transition","enterFrom","leaveTo"],x5=$C.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function Fg(i,t,e){if(e&&(!i[e]&&t[e]&&(i[e]={}),i=i[e],t=t[e]),i&&t)for(var n=e?$C:x5,r=0;r<n.length;r++){var o=n[r];null==i[o]&&null!=t[o]&&(i[o]=t[o])}}var _5=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.preventAutoZ=!0,e}return ie(t,i),t.prototype.mergeOption=function(e,n){var r=this.option.elements;this.option.elements=null,i.prototype.mergeOption.call(this,e,n),this.option.elements=r},t.prototype.optionUpdated=function(e,n){var r=this.option,o=(n?r:e).elements,a=r.elements=n?[]:r.elements,s=[];this._flatten(o,s,null);var l=kp(a,s,"normalMerge"),u=this._elOptionsToUpdate=[];G(l,function(h,c){var f,m,y,v,b,S,p=h.newOption;p&&(u.push(p),function(f,m){var y=f.existing;if(m.id=f.keyInfo.id,!m.type&&y&&(m.type=y.type),null==m.parentId){var v=m.parentOption;v?m.parentId=v.id:y&&(m.parentId=y.parentId)}m.parentOption=null}(h,p),f=a,m=c,v=de({},y=p),b=f[m],"merge"===(S=y.$action||"merge")?b?(Be(b,v,!0),Fa(b,v,{ignoreSize:!0}),j_(y,b),Fg(y,b),Fg(y,b,"shape"),Fg(y,b,"style"),Fg(y,b,"extra"),y.clipPath=b.clipPath):f[m]=v:"replace"===S?f[m]=v:"remove"===S&&b&&(f[m]=null),function(f,m){if(f&&(f.hv=m.hv=[qC(m,["left","right"]),qC(m,["top","bottom"])],"group"===f.type)){var y=f,v=m;null==y.width&&(y.width=v.width=0),null==y.height&&(y.height=v.height=0)}}(a[c],p))},this),r.elements=xt(a,function(h){return h&&delete h.$action,null!=h})},t.prototype._flatten=function(e,n,r){G(e,function(o){if(o){r&&(o.parentOption=r),n.push(o);var a=o.children;a&&a.length&&this._flatten(a,n,o),delete o.children}},this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t}(mt),KC={path:null,compoundPath:null,group:Ze,image:Ri,text:Mt},Dr=_t(),b5=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.init=function(){this._elMap=ze()},t.prototype.render=function(e,n,r){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,r)},t.prototype._updateElements=function(e){var n=e.useElOptionsToUpdate();if(n){var r=this._elMap,o=this.group,a=e.get("z"),s=e.get("zlevel");G(n,function(l){var u=ci(l.id,null),h=null!=u?r.get(u):null,c=ci(l.parentId,null),p=null!=c?r.get(c):o,f=l.type,m=l.style;"text"===f&&m&&l.hv&&l.hv[1]&&(m.textVerticalAlign=m.textBaseline=m.verticalAlign=m.align=null);var y=l.textContent,v=l.textConfig;if(m&&tC(m,f,!!v,!!y)){var b=iC(m,f,!0);!v&&b.textConfig&&(v=l.textConfig=b.textConfig),!y&&b.textContent&&(y=b.textContent)}var Z,S=(Z=de({},Z=l),G(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(U_),function(q){delete Z[q]}),Z),I=l.$action||"merge",T="merge"===I,D="replace"===I;if(T){var A=h;(W=!h)?A=JC(u,p,l.type,r):(A&&(Dr(A).isNew=!1),dC(A)),A&&(Lg(A,S,e,{isInit:W}),QC(A,l,a,s))}else if(D){Gg(h,l,r,e);var L=JC(u,p,l.type,r);L&&(Lg(L,S,e,{isInit:!0}),QC(L,l,a,s))}else"remove"===I&&(lC(h,l),Gg(h,l,r,e));var P=r.get(u);if(P&&y)if(T){var E=P.getTextContent();E?E.attr(y):P.setTextContent(new Mt(y))}else D&&P.setTextContent(new Mt(y));if(P){var N=l.clipPath;if(N){var z=N.type,B=void 0,W=!1;if(T){var Y=P.getClipPath();B=(W=!Y||Dr(Y).type!==z)?kx(z):Y}else D&&(W=!0,B=kx(z));P.setClipPath(B),Lg(B,N,e,{isInit:W}),Og(B,N.keyframeAnimation,e)}var j=Dr(P);P.setTextConfig(v),j.option=l,function(Z,q,K){var Q=rt(Z).eventData;Z.silent||Z.ignore||Q||(Q=rt(Z).eventData={componentType:"graphic",componentIndex:q.componentIndex,name:Z.name}),Q&&(Q.info=K.info)}(P,e,l),Bu({el:P,componentModel:e,itemName:P.name,itemTooltipOption:l.tooltip}),Og(P,l.keyframeAnimation,e)}})}},t.prototype._relocate=function(e,n){for(var r=e.option.elements,o=this.group,a=this._elMap,s=n.getWidth(),l=n.getHeight(),u=["x","y"],h=0;h<r.length;h++)if((v=null!=(y=ci((m=r[h]).id,null))?a.get(y):null)&&v.isGroup){var c=(b=v.parent)===o,p=Dr(v),f=Dr(b);p.width=Te(p.option.width,c?s:f.width)||0,p.height=Te(p.option.height,c?l:f.height)||0}for(h=r.length-1;h>=0;h--){var m,y,v;if(v=null!=(y=ci((m=r[h]).id,null))?a.get(y):null){var b=v.parent,S=(f=Dr(b),{}),I=pf(v,m,b===o?{width:s,height:l}:{width:f.width,height:f.height},null,{hv:m.hv,boundingMode:m.bounding},S);if(!Dr(v).isNew&&I){for(var T=m.transition,D={},A=0;A<u.length;A++){var L=u[A],P=S[L];T&&(Dl(T)||We(T,L)>=0)?D[L]=P:v[L]=P}It(v,D,e,0)}else v.attr(S)}}},t.prototype._clear=function(){var e=this,n=this._elMap;n.each(function(r){Gg(r,Dr(r).option,n,e._lastGraphicModel)}),this._elMap=ze()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(ei);function kx(i){var e=new(Le(KC,i)?KC[i]:Qp(i))({});return Dr(e).type=i,e}function JC(i,t,e,n){var r=kx(e);return t.add(r),n.set(i,r),Dr(r).id=i,Dr(r).isNew=!0,r}function Gg(i,t,e,n){i&&i.parent&&("group"===i.type&&i.traverse(function(r){Gg(r,t,e,n)}),Pg(i,t,n),e.removeKey(Dr(i).id))}function QC(i,t,e,n){i.isGroup||G([["cursor",Yi.prototype.cursor],["zlevel",n||0],["z",e||0],["z2",0]],function(r){var o=r[0];Le(t,o)?i[o]=He(t[o],r[1]):null==i[o]&&(i[o]=r[1])}),G(dt(t),function(r){if(0===r.indexOf("on")){var o=t[r];i[r]=Ge(o)?o:null}}),Le(t,"draggable")&&(i.draggable=t.draggable),null!=t.name&&(i.name=t.name),null!=t.id&&(i.id=t.id)}var eD=["x","y","radius","angle","single"],w5=["cartesian2d","polar","singleAxis"];function is(i){return i+"Axis"}function tD(i){var t=i.ecModel,e={infoList:[],infoMap:ze()};return i.eachTargetAxis(function(n,r){var o=t.getComponent(is(n),r);if(o){var a=o.getCoordSysModel();if(a){var s=a.uid,l=e.infoMap.get(s);l||(e.infoList.push(l={model:a,axisModels:[]}),e.infoMap.set(s,l)),l.axisModels.push(o)}}}),e}var Lx=function(){function i(){this.indexList=[],this.indexMap=[]}return i.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},i}(),Bd=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return ie(t,i),t.prototype.init=function(e,n,r){var o=iD(e);this.settledOption=o,this.mergeDefaultAndTheme(e,r),this._doInit(o)},t.prototype.mergeOption=function(e){var n=iD(e);Be(this.option,e,!0),Be(this.settledOption,n,!0),this._doInit(n)},t.prototype._doInit=function(e){var n=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var r=this.settledOption;G([["start","startValue"],["end","endValue"]],function(o,a){"value"===this._rangePropMode[a]&&(n[o[0]]=r[o[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),n=this._targetAxisInfoMap=ze();this._fillSpecifiedTargetAxis(n)?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(r){r.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var n=!1;return G(eD,function(r){var o=this.getReferringComponents(is(r),_u);if(o.specified){n=!0;var a=new Lx;G(o.models,function(s){a.add(s.componentIndex)}),e.set(r,a)}},this),n},t.prototype._fillAutoTargetAxisByOrient=function(e,n){var r=this.ecModel,o=!0;if(o){var a="vertical"===n?"y":"x";s(r.findComponents({mainType:a+"Axis"}),a)}function s(l,u){var h=l[0];if(h){var c=new Lx;if(c.add(h.componentIndex),e.set(u,c),o=!1,"x"===u||"y"===u){var p=h.getReferringComponents("grid",di).models[0];p&&G(l,function(f){h.componentIndex!==f.componentIndex&&p===f.getReferringComponents("grid",di).models[0]&&c.add(f.componentIndex)})}}}o&&s(r.findComponents({mainType:"singleAxis",filter:function(l){return l.get("orient",!0)===n}}),"single"),o&&G(eD,function(l){if(o){var u=r.findComponents({mainType:is(l),filter:function(c){return"category"===c.get("type",!0)}});if(u[0]){var h=new Lx;h.add(u[0].componentIndex),e.set(l,h),o=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(n){!e&&(e=n)},this),"y"===e?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var n=this._rangePropMode,r=this.get("rangeMode");G([["start","startValue"],["end","endValue"]],function(o,a){var s=null!=e[o[0]],l=null!=e[o[1]];s&&!l?n[a]="percent":!s&&l?n[a]="value":r?n[a]=r[a]:s&&(n[a]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(n,r){null==e&&(e=this.ecModel.getComponent(is(n),r))},this),e},t.prototype.eachTargetAxis=function(e,n){this._targetAxisInfoMap.each(function(r,o){G(r.indexList,function(a){e.call(n,o,a)})})},t.prototype.getAxisProxy=function(e,n){var r=this.getAxisModel(e,n);if(r)return r.__dzAxisProxy},t.prototype.getAxisModel=function(e,n){var r=this._targetAxisInfoMap.get(e);if(r&&r.indexMap[n])return this.ecModel.getComponent(is(e),n)},t.prototype.setRawRange=function(e){var n=this.option,r=this.settledOption;G([["start","startValue"],["end","endValue"]],function(o){null==e[o[0]]&&null==e[o[1]]||(n[o[0]]=r[o[0]]=e[o[0]],n[o[1]]=r[o[1]]=e[o[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var n=this.option;G(["start","startValue","end","endValue"],function(r){n[r]=e[r]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,n){if(null!=e||null!=n)return this.getAxisProxy(e,n).getDataValueWindow();var r=this.findRepresentativeAxisProxy();return r?r.getDataValueWindow():void 0},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var n,r=this._targetAxisInfoMap.keys(),o=0;o<r.length;o++)for(var a=r[o],s=this._targetAxisInfoMap.get(a),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(a,s.indexList[l]);if(u.hostedBy(this))return u;n||(n=u)}return n},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(mt);function iD(i){var t={};return G(["start","end","startValue","endValue","throttle"],function(e){i.hasOwnProperty(e)&&(t[e]=i[e])}),t}var M5=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.type="dataZoom.select",t}(Bd),Px=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.render=function(e,n,r,o){this.dataZoomModel=e,this.ecModel=n,this.api=r},t.type="dataZoom",t}(ei),I5=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.type="dataZoom.select",t}(Px),Sh=G,nD=_n,T5=function(){function i(t,e,n,r){this._dimName=t,this._axisIndex=e,this.ecModel=r,this._dataZoomModel=n}return i.prototype.hostedBy=function(t){return this._dataZoomModel===t},i.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},i.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},i.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(a=e.get("coordinateSystem"),We(w5,a)>=0){var n=is(this._dimName),r=e.getReferringComponents(n,di).models[0];r&&this._axisIndex===r.componentIndex&&t.push(e)}var a},this),t},i.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},i.prototype.getMinMaxSpan=function(){return Ue(this._minMaxSpan)},i.prototype.calculateDataWindow=function(t){var e,n=this._dataExtent,r=this.getAxisModel().axis.scale,o=this._dataZoomModel.getRangePropMode(),a=[0,100],s=[],l=[];Sh(["start","end"],function(c,p){var f=t[c],m=t[c+"Value"];"percent"===o[p]?(null==f&&(f=a[p]),m=r.parse(zt(f,a,n))):(e=!0,f=zt(m=null==m?n[p]:r.parse(m),n,a)),l[p]=null==m||isNaN(m)?n[p]:m,s[p]=null==f||isNaN(f)?a[p]:f}),nD(l),nD(s);var u=this._minMaxSpan;function h(c,p,f,m,y){var v=y?"Span":"ValueSpan";Il(0,c,f,"all",u["min"+v],u["max"+v]);for(var b=0;b<2;b++)p[b]=zt(c[b],f,m,!0),y&&(p[b]=r.parse(p[b]))}return e?h(l,s,n,a,!1):h(s,l,a,n,!0),{valueWindow:l,percentWindow:s}},i.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function(r,o,a){var s=[1/0,-1/0];Sh(a,function(h){var c,p;c=s,(p=h.getData())&&G(qf(p,o),function(m){var y=p.getApproximateExtent(m);y[0]<c[0]&&(c[0]=y[0]),y[1]>c[1]&&(c[1]=y[1])})});var l=r.getAxisModel(),u=wS(l.axis.scale,l,s).calculate();return[u.min,u.max]}(this,this._dimName,e),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},i.prototype.filterData=function(t,e){if(t===this._dataZoomModel){var n=this._dimName,r=this.getTargetSeriesModels(),o=t.get("filterMode"),a=this._valueWindow;"none"!==o&&Sh(r,function(s){var l=s.getData(),u=l.mapDimensionsAll(n);if(u.length){if("weakFilter"===o){var h=l.getStore(),c=ge(u,function(p){return l.getDimensionIndex(p)},l);l.filterSelf(function(p){for(var f,m,y,v=0;v<u.length;v++){var b=h.get(c[v],p),S=!isNaN(b),I=b<a[0],T=b>a[1];if(S&&!I&&!T)return!0;S&&(y=!0),I&&(f=!0),T&&(m=!0)}return y&&f&&m})}else Sh(u,function(p){if("empty"===o)s.setData(l=l.map(p,function(m){return(y=m)>=a[0]&&y<=a[1]?m:NaN;var y}));else{var f={};f[p]=a,l.selectRange(f)}});Sh(u,function(p){l.setApproximateExtent(a,p)})}})}},i.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,n=this._dataExtent;Sh(["min","max"],function(r){var o=e.get(r+"Span"),a=e.get(r+"ValueSpan");null!=a&&(a=this.getAxisModel().axis.scale.parse(a)),null!=a?o=zt(n[0]+a,n,[0,100],!0):null!=o&&(a=zt(o,[0,100],n,!0)-n[0]),t[r+"Span"]=o,t[r+"ValueSpan"]=a},this)},i.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,n=this._valueWindow;if(e){var r=uc(n,[0,500]);r=Math.min(r,20);var o=t.axis.scale.rawExtentInfo;0!==e[0]&&o.setDeterminedMinMax("min",+n[0].toFixed(r)),100!==e[1]&&o.setDeterminedMinMax("max",+n[1].toFixed(r)),o.freeze()}},i}(),C5={getTargetSeries:function(i){function t(r){i.eachComponent("dataZoom",function(o){o.eachTargetAxis(function(a,s){var l=i.getComponent(is(a),s);r(a,s,l,o)})})}t(function(r,o,a,s){a.__dzAxisProxy=null});var e=[];t(function(r,o,a,s){a.__dzAxisProxy||(a.__dzAxisProxy=new T5(r,o,s,i),e.push(a.__dzAxisProxy))});var n=ze();return G(e,function(r){G(r.getTargetSeriesModels(),function(o){n.set(o.uid,o)})}),n},overallReset:function(i,t){i.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(n,r){e.getAxisProxy(n,r).reset(e)}),e.eachTargetAxis(function(n,r){e.getAxisProxy(n,r).filterData(e,t)})}),i.eachComponent("dataZoom",function(e){var n=e.findRepresentativeAxisProxy();if(n){var r=n.getDataPercentWindow(),o=n.getDataValueWindow();e.setCalculatedRange({start:r[0],end:r[1],startValue:o[0],endValue:o[1]})}})}},rD=!1;function Ox(i){rD||(rD=!0,i.registerProcessor(i.PRIORITY.PROCESSOR.FILTER,C5),function(t){t.registerAction("dataZoom",function(e,n){G(function S5(i,t){var e,n=ze(),r=[],o=ze();i.eachComponent({mainType:"dataZoom",query:t},function(l){o.get(l.uid)||s(l)});do{e=!1,i.eachComponent("dataZoom",a)}while(e);function a(l){var h;!o.get(l.uid)&&(h=!1,l.eachTargetAxis(function(c,p){var f=n.get(c);f&&f[p]&&(h=!0)}),h)&&(s(l),e=!0)}function s(l){o.set(l.uid,!0),r.push(l),l.eachTargetAxis(function(u,h){(n.get(u)||n.set(u,[]))[h]=!0})}return r}(n,e),function(r){r.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}(i),i.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function D5(i){i.registerComponentModel(M5),i.registerComponentView(I5),Ox(i)}var Ar=function(){},oD={};function Mh(i,t){oD[i]=t}function aD(i){return oD[i]}var A5=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.optionUpdated=function(){i.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;G(this.option.feature,function(n,r){var o=aD(r);o&&(o.getDefaultOption&&(o.defaultOption=o.getDefaultOption(e)),Be(n,o.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(mt);function sD(i,t){var e=il(t.get("padding")),n=t.getItemStyle(["color","opacity"]);return n.fill=t.get("backgroundColor"),new St({shape:{x:i.x-e[3],y:i.y-e[0],width:i.width+e[1]+e[3],height:i.height+e[0]+e[2],r:t.get("borderRadius")},style:n,silent:!0,z2:-1})}var k5=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return ie(t,i),t.prototype.render=function(e,n,r,o){var f,m,y,v,b,S,I,a=this.group;if(a.removeAll(),e.get("show")){var s=+e.get("itemSize"),l="vertical"===e.get("orient"),u=e.get("feature")||{},h=this._features||(this._features={}),c=[];G(u,function(f,m){c.push(m)}),new ra(this._featureNames||[],c).add(p).update(p).remove(Xe(p,null)).execute(),this._featureNames=c,f=a,y=r,v=(m=e).getBoxLayoutParams(),b=m.get("padding"),I=wi(v,S={width:y.getWidth(),height:y.getHeight()},b),ol(m.get("orient"),f,m.get("itemGap"),I.width,I.height),pf(f,v,S,b),a.add(sD(a.getBoundingRect(),e)),l||a.eachChild(function(f){var m=f.__title,y=f.ensureState("emphasis"),v=y.textConfig||(y.textConfig={}),b=f.getTextContent(),S=b&&b.ensureState("emphasis");if(S&&!Ge(S)&&m){var I=S.style||(S.style={}),T=Qn(m,Mt.makeFont(I)),D=f.x+a.x,A=!1;f.y+a.y+s+T.height>r.getHeight()&&(v.position="top",A=!0);var L=A?-5-T.height:s+10;D+T.width/2>r.getWidth()?(v.position=["100%",L],I.align="right"):D-T.width/2<0&&(v.position=[0,L],I.align="left")}})}function p(f,m){var y,v=c[f],b=c[m],S=u[v],I=new Rt(S,e,e.ecModel);if(o&&null!=o.newTitle&&o.featureName===v&&(S.title=o.newTitle),v&&!b){if(0===v.indexOf("my"))y={onclick:I.option.onclick,featureName:v};else{var T=aD(v);if(!T)return;y=new T}h[v]=y}else if(!(y=h[b]))return;y.uid=Gu("toolbox-feature"),y.model=I,y.ecModel=n,y.api=r;var D=y instanceof Ar;v||!b?!I.get("show")||D&&y.unusable?D&&y.remove&&y.remove(n,r):(function(A,L,P){var E,N,z=A.getModel("iconStyle"),B=A.getModel(["emphasis","iconStyle"]),W=L instanceof Ar&&L.getIcons?L.getIcons():A.get("icon"),Y=A.get("title")||{};De(W)?(E={})[P]=W:E=W,De(Y)?(N={})[P]=Y:N=Y;var j=A.iconPaths={};G(E,function(Z,q){var K=Vu(Z,{},{x:-s/2,y:-s/2,width:s,height:s});K.setStyle(z.getItemStyle()),K.ensureState("emphasis").style=B.getItemStyle();var Q=new Mt({style:{text:N[q],align:B.get("textAlign"),borderRadius:B.get("textBorderRadius"),padding:B.get("textPadding"),fill:null},ignore:!0});K.setTextContent(Q),Bu({el:K,componentModel:e,itemName:q,formatterParamsExtra:{title:N[q]}}),K.__title=N[q],K.on("mouseover",function(){var te=B.getItemStyle(),ne=l?null==e.get("right")&&"right"!==e.get("left")?"right":"left":null==e.get("bottom")&&"bottom"!==e.get("top")?"bottom":"top";Q.setStyle({fill:B.get("textFill")||te.fill||te.stroke||"#000",backgroundColor:B.get("textBackgroundColor")}),K.setTextConfig({position:B.get("textPosition")||ne}),Q.ignore=!e.get("showTitle"),r.enterEmphasis(this)}).on("mouseout",function(){"emphasis"!==A.get(["iconStatus",q])&&r.leaveEmphasis(this),Q.hide()}),("emphasis"===A.get(["iconStatus",q])?ea:ta)(K),a.add(K),K.on("click",ke(L.onclick,L,n,r,q)),j[q]=K})}(I,y,v),I.setIconStatus=function(A,L){var P=this.option,E=this.iconPaths;P.iconStatus=P.iconStatus||{},P.iconStatus[A]=L,E[A]&&("emphasis"===L?ea:ta)(E[A])},y instanceof Ar&&y.render&&y.render(I,n,r,o)):D&&y.dispose&&y.dispose(n,r)}},t.prototype.updateView=function(e,n,r,o){G(this._features,function(a){a instanceof Ar&&a.updateView&&a.updateView(a.model,n,r,o)})},t.prototype.remove=function(e,n){G(this._features,function(r){r instanceof Ar&&r.remove&&r.remove(e,n)}),this.group.removeAll()},t.prototype.dispose=function(e,n){G(this._features,function(r){r instanceof Ar&&r.dispose&&r.dispose(e,n)})},t.type="toolbox",t}(ei),L5=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return ie(t,i),t.prototype.onclick=function(e,n){var r=this.model,o=r.get("name")||e.get("title.0.text")||"echarts",a="svg"===n.getZr().painter.getType(),s=a?"svg":r.get("type",!0)||"png",l=n.getConnectedDataURL({type:s,backgroundColor:r.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:r.get("connectedBackgroundColor"),excludeComponents:r.get("excludeComponents"),pixelRatio:r.get("pixelRatio")}),u=Ee.browser;if(Ge(MouseEvent)&&(u.newEdge||!u.ie&&!u.edge)){var h=document.createElement("a");h.download=o+"."+s,h.target="_blank",h.href=l;var c=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});h.dispatchEvent(c)}else if(window.navigator.msSaveOrOpenBlob||a){var p=l.split(","),f=p[0].indexOf("base64")>-1,m=a?decodeURIComponent(p[1]):p[1];f&&(m=window.atob(m));var y=o+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var v=m.length,b=new Uint8Array(v);v--;)b[v]=m.charCodeAt(v);var S=new Blob([b]);window.navigator.msSaveOrOpenBlob(S,y)}else{var I=document.createElement("iframe");document.body.appendChild(I);var T=I.contentWindow,D=T.document;D.open("image/svg+xml","replace"),D.write(m),D.close(),T.focus(),D.execCommand("SaveAs",!0,y),document.body.removeChild(I)}}else{var A=r.get("lang"),L='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(A&&A[0]||"")+'" /></body>',P=window.open();P.document.write(L),P.document.title=o}},t.getDefaultOption=function(e){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},t}(Ar),lD="__ec_magicType_stack__",P5=[["line","bar"],["stack"]],O5=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return ie(t,i),t.prototype.getIcons=function(){var e=this.model,n=e.get("icon"),r={};return G(e.get("type"),function(o){n[o]&&(r[o]=n[o])}),r},t.getDefaultOption=function(e){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},t.prototype.onclick=function(e,n,r){var o=this.model,a=o.get(["seriesIndex",r]);if(uD[r]){var s,l={series:[]};G(P5,function(h){We(h,r)>=0&&G(h,function(c){o.setIconStatus(c,"normal")})}),o.setIconStatus(r,"emphasis"),e.eachComponent({mainType:"series",query:null==a?null:{seriesIndex:a}},function(h){var f=uD[r](h.subType,h.id,h,o);f&&(Ve(f,h.option),l.series.push(f));var m=h.coordinateSystem;if(m&&"cartesian2d"===m.type&&("line"===r||"bar"===r)){var y=m.getAxesByScale("ordinal")[0];if(y){var v=y.dim+"Axis",b=h.getReferringComponents(v,di).models[0].componentIndex;l[v]=l[v]||[];for(var S=0;S<=b;S++)l[v][b]=l[v][b]||{};l[v][b].boundaryGap="bar"===r}}});var u=r;"stack"===r&&(s=Be({stack:o.option.title.tiled,tiled:o.option.title.stack},o.option.title),"emphasis"!==o.get(["iconStatus",r])&&(u="tiled")),n.dispatchAction({type:"changeMagicType",currentType:u,newOption:l,newTitle:s,featureName:"magicType"})}},t}(Ar),uD={line:function(i,t,e,n){if("bar"===i)return Be({id:t,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(i,t,e,n){if("line"===i)return Be({id:t,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(i,t,e,n){var r=e.get("stack")===lD;if("line"===i||"bar"===i)return n.setIconStatus("stack",r?"normal":"emphasis"),Be({id:t,stack:r?"":lD},n.get(["option","stack"])||{},!0)}};qr({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(i,t){t.mergeOption(i.newOption)});var Wg=new Array(60).join("-");function Hg(i){return i.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var Rx=new RegExp("[\t]+","g"),E5=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return ie(t,i),t.prototype.onclick=function(e,n){setTimeout(function(){n.dispatchAction({type:"hideTip"})});var r=n.getDom(),o=this.model;this._dom&&r.removeChild(this._dom);var a=document.createElement("div");a.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",a.style.backgroundColor=o.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=o.get("lang")||[];s.innerHTML=l[0]||o.get("title"),s.style.cssText="margin:10px 20px",s.style.color=o.get("textColor");var u=document.createElement("div"),h=document.createElement("textarea");u.style.cssText="overflow:auto";var P,E,N,W,Y,j,z,c=o.get("optionToContent"),p=o.get("contentToOption"),f=(W={},Y=[],j=[],e.eachRawSeries(function(Z){var q=Z.coordinateSystem;if(!q||"cartesian2d"!==q.type&&"polar"!==q.type)Y.push(Z);else{var K=q.getBaseAxis();if("category"===K.type){var Q=K.dim+"_"+K.index;W[Q]||(W[Q]={categoryAxis:K,valueAxis:q.getOtherAxis(K),series:[]},j.push({axisDim:K.dim,axisIndex:K.index})),W[Q].series.push(Z)}else Y.push(Z)}}),{value:xt([(E=(z={seriesGroupByCategoryAxis:W,other:Y,meta:j}).seriesGroupByCategoryAxis,N=[],G(E,function(B,W){var Y=B.categoryAxis,j=B.valueAxis.dim,Z=[" "].concat(ge(B.series,function(ce){return ce.name})),q=[Y.model.getCategories()];G(B.series,function(ce){var ye=ce.getRawData();q.push(ce.getRawData().mapArray(ye.mapDimension(j),function(re){return re}))});for(var K=[Z.join("\t")],Q=0;Q<q[0].length;Q++){for(var te=[],ne=0;ne<q.length;ne++)te.push(q[ne][Q]);K.push(te.join("\t"))}N.push(K.join("\n"))}),N.join("\n\n"+Wg+"\n\n")),(P=z.other,ge(P,function(B){var W=B.getRawData(),Y=[B.name],j=[];return W.each(W.dimensions,function(){for(var Z=arguments.length,q=arguments[Z-1],K=W.getName(q),Q=0;Q<Z-1;Q++)j[Q]=arguments[Q];Y.push((K?K+"\t":"")+j.join("\t"))}),Y.join("\n")}).join("\n\n"+Wg+"\n\n"))],function(B){return!!B.replace(/[\n\t\s]/g,"")}).join("\n\n"+Wg+"\n\n"),meta:z.meta});if(Ge(c)){var m=c(n.getOption());De(m)?u.innerHTML=m:at(m)&&u.appendChild(m)}else{h.readOnly=o.get("readOnly");var y=h.style;y.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",y.color=o.get("textColor"),y.borderColor=o.get("textareaBorderColor"),y.backgroundColor=o.get("textareaColor"),h.value=f.value,u.appendChild(h)}var v=f.meta,b=document.createElement("div");b.style.cssText="position:absolute;bottom:5px;left:0;right:0";var S="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",I=document.createElement("div"),T=document.createElement("div");S+=";background-color:"+o.get("buttonColor"),S+=";color:"+o.get("buttonTextColor");var D=this;function A(){r.removeChild(a),D._dom=null}Er(I,"click",A),Er(T,"click",function(){if(null==p&&null!=c||null!=p&&null==c)A();else{var L;try{L=Ge(p)?p(u,n.getOption()):function R5(i,t){var e=i.split(new RegExp("\n*"+Wg+"\n*","g")),n={series:[]};return G(e,function(r,o){if(function(u){if(u.slice(0,u.indexOf("\n")).indexOf("\t")>=0)return!0}(r)){var a=function(u){for(var h=u.split(/\n+/g),c=[],p=ge(Hg(h.shift()).split(Rx),function(v){return{name:v,data:[]}}),f=0;f<h.length;f++){var m=Hg(h[f]).split(Rx);c.push(m.shift());for(var y=0;y<m.length;y++)p[y]&&(p[y].data[f]=m[y])}return{series:p,categories:c}}(r),s=t[o],l=s.axisDim+"Axis";s&&(n[l]=n[l]||[],n[l][s.axisIndex]={data:a.categories},n.series=n.series.concat(a.series))}else a=function(u){for(var h=u.split(/\n+/g),c=Hg(h.shift()),p=[],f=0;f<h.length;f++){var m=Hg(h[f]);if(m){var y=m.split(Rx),v="",b=void 0,S=!1;isNaN(y[0])?(S=!0,v=y[0],y=y.slice(1),p[f]={name:v,value:[]},b=p[f].value):b=p[f]=[];for(var I=0;I<y.length;I++)b.push(+y[I]);1===b.length&&(S?p[f].value=b[0]:p[f]=b[0])}}return{name:c,data:p}}(r),n.series.push(a)}),n}(h.value,v)}catch(P){throw A(),new Error("Data view format error "+P)}L&&n.dispatchAction({type:"changeDataView",newOption:L}),A()}}),I.innerHTML=l[1],T.innerHTML=l[2],T.style.cssText=I.style.cssText=S,!o.get("readOnly")&&b.appendChild(T),b.appendChild(I),a.appendChild(s),a.appendChild(u),a.appendChild(b),u.style.height=r.clientHeight-80+"px",r.appendChild(a),this._dom=a},t.prototype.remove=function(e,n){this._dom&&n.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,n){this.remove(e,n)},t.getDefaultOption=function(e){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},t}(Ar);function N5(i,t){return ge(i,function(e,n){var r=t&&t[n];if(le(r)&&!fe(r)){le(e)&&!fe(e)||(e={value:e});var o=null!=r.name&&null==e.name;return e=Ve(e,r),o&&delete e.name,e}return e})}qr({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(i,t){var e=[];G(i.newOption.series,function(n){var r=t.getSeriesByName(n.name)[0];if(r){var o=r.get("data");e.push({name:n.name,data:N5(n.data,o)})}else e.push(de({type:"scatter"},n))}),t.mergeOption(Ve({series:e},i.newOption))});var hD=G,cD=_t();function Ex(i){var t=cD(i);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var z5=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return ie(t,i),t.prototype.onclick=function(e,n){cD(e).snapshots=null,n.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])}},t}(Ar);qr({type:"restore",event:"restore",update:"prepareAndUpdate"},function(i,t){t.resetOption("recreate")});var V5=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],Nx=function(){function i(t,e,n){var r=this;this._targetInfoList=[];var o=dD(e,t);G(B5,function(a,s){(!n||!n.include||We(n.include,s)>=0)&&a(o,r._targetInfoList)})}return i.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(n,r,o){if((n.coordRanges||(n.coordRanges=[])).push(r),!n.coordRange){n.coordRange=r;var a=Vx[n.brushType](0,o,r);n.__rangeOffset={offset:mD[n.brushType](a.values,n.range,[1,1]),xyMinMax:a.xyMinMax}}}),t},i.prototype.matchOutputRanges=function(t,e,n){G(t,function(r){var o=this.findTargetInfo(r,e);o&&!0!==o&&G(o.coordSyses,function(a){var s=Vx[r.brushType](1,a,r.range,!0);n(r,s.values,a,e)})},this)},i.prototype.setInputRanges=function(t,e){G(t,function(n){var o,a,s,l,u=this.findTargetInfo(n,e);if(n.range=n.range||[],u&&!0!==u){n.panelId=u.panelId;var h=Vx[n.brushType](0,u.coordSys,n.coordRange),c=n.__rangeOffset;n.range=c?mD[n.brushType](h.values,c.offset,(o=c.xyMinMax,a=vD(h.xyMinMax),s=vD(o),l=[a[0]/s[0],a[1]/s[1]],isNaN(l[0])&&(l[0]=1),isNaN(l[1])&&(l[1]=1),l)):h.values}},this)},i.prototype.makePanelOpts=function(t,e){return ge(this._targetInfoList,function(n){var r=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:e?e(n):null,clipPath:mT(r),isTargetByCursor:vT(r,t,n.coordSysModel),getLinearBrushOtherExtent:yT(r)}})},i.prototype.controlSeries=function(t,e,n){var r=this.findTargetInfo(t,n);return!0===r||r&&We(r.coordSyses,e.coordinateSystem)>=0},i.prototype.findTargetInfo=function(t,e){for(var n=this._targetInfoList,r=dD(e,t),o=0;o<n.length;o++){var a=n[o],s=t.panelId;if(s){if(a.panelId===s)return a}else for(var l=0;l<pD.length;l++)if(pD[l](r,a))return a}return!0},i}();function zx(i){return i[0]>i[1]&&i.reverse(),i}function dD(i,t){return Gs(i,t,{includeMainTypes:V5})}var B5={grid:function(i,t){var e=i.xAxisModels,n=i.yAxisModels,r=i.gridModels,o=ze(),a={},s={};(e||n||r)&&(G(e,function(l){var u=l.axis.grid.model;o.set(u.id,u),a[u.id]=!0}),G(n,function(l){var u=l.axis.grid.model;o.set(u.id,u),s[u.id]=!0}),G(r,function(l){o.set(l.id,l),a[l.id]=!0,s[l.id]=!0}),o.each(function(l){var h=[];G(l.coordinateSystem.getCartesians(),function(c,p){(We(e,c.getAxis("x").model)>=0||We(n,c.getAxis("y").model)>=0)&&h.push(c)}),t.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:h[0],coordSyses:h,getPanelRect:fD.grid,xAxisDeclared:a[l.id],yAxisDeclared:s[l.id]})}))},geo:function(i,t){G(i.geoModels,function(e){var n=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:n,coordSyses:[n],getPanelRect:fD.geo})})}},pD=[function(i,t){var e=i.xAxisModel,n=i.yAxisModel,r=i.gridModel;return!r&&e&&(r=e.axis.grid.model),!r&&n&&(r=n.axis.grid.model),r&&r===t.gridModel},function(i,t){var e=i.geoModel;return e&&e===t.geoModel}],fD={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var i=this.coordSys,t=i.getBoundingRect().clone();return t.applyTransform(za(i)),t}},Vx={lineX:Xe(gD,0),lineY:Xe(gD,1),rect:function(i,t,e,n){var r=i?t.pointToData([e[0][0],e[1][0]],n):t.dataToPoint([e[0][0],e[1][0]],n),o=i?t.pointToData([e[0][1],e[1][1]],n):t.dataToPoint([e[0][1],e[1][1]],n),a=[zx([r[0],o[0]]),zx([r[1],o[1]])];return{values:a,xyMinMax:a}},polygon:function(i,t,e,n){var r=[[1/0,-1/0],[1/0,-1/0]];return{values:ge(e,function(o){var a=i?t.pointToData(o,n):t.dataToPoint(o,n);return r[0][0]=Math.min(r[0][0],a[0]),r[1][0]=Math.min(r[1][0],a[1]),r[0][1]=Math.max(r[0][1],a[0]),r[1][1]=Math.max(r[1][1],a[1]),a}),xyMinMax:r}}};function gD(i,t,e,n){var r=e.getAxis(["x","y"][i]),o=zx(ge([0,1],function(s){return t?r.coordToData(r.toLocalCoord(n[s]),!0):r.toGlobalCoord(r.dataToCoord(n[s]))})),a=[];return a[i]=o,a[1-i]=[NaN,NaN],{values:o,xyMinMax:a}}var mD={lineX:Xe(yD,0),lineY:Xe(yD,1),rect:function(i,t,e){return[[i[0][0]-e[0]*t[0][0],i[0][1]-e[0]*t[0][1]],[i[1][0]-e[1]*t[1][0],i[1][1]-e[1]*t[1][1]]]},polygon:function(i,t,e){return ge(i,function(n,r){return[n[0]-e[0]*t[r][0],n[1]-e[1]*t[r][1]]})}};function yD(i,t,e,n){return[t[0]-n[i]*e[0],t[1]-n[i]*e[1]]}function vD(i){return i?[i[0][1]-i[0][0],i[1][1]-i[1][0]]:[NaN,NaN]}var Fx,Gx=G,G5=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return ie(t,i),t.prototype.render=function(e,n,r,o){this._brushController||(this._brushController=new z0(r.getZr()),this._brushController.on("brush",ke(this._onBrush,this)).mount()),function(a,s,l,u,h){var c=l._isZoomActive;u&&"takeGlobalCursor"===u.type&&(c="dataZoomSelect"===u.key&&u.dataZoomSelectActive),l._isZoomActive=c,a.setIconStatus("zoom",c?"emphasis":"normal");var p=new Nx(Wx(a),s,{include:["grid"]}).makePanelOpts(h,function(f){return f.xAxisDeclared&&!f.yAxisDeclared?"lineX":!f.xAxisDeclared&&f.yAxisDeclared?"lineY":"rect"});l._brushController.setPanels(p).enableBrush(!(!c||!p.length)&&{brushType:"auto",brushStyle:a.getModel("brushStyle").getItemStyle()})}(e,n,this,o,r),e.setIconStatus("back",Ex(n).length>1?"emphasis":"normal")},t.prototype.onclick=function(e,n,r){W5[r].call(this)},t.prototype.remove=function(e,n){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,n){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var s,l,u,n=e.areas;if(e.isEnd&&n.length){var r={},o=this.ecModel;this._brushController.updateCovers([]),new Nx(Wx(this.model),o,{include:["grid"]}).matchOutputRanges(n,o,function(s,l,u){if("cartesian2d"===u.type){var h=s.brushType;"rect"===h?(a("x",u,l[0]),a("y",u,l[1])):a({lineX:"x",lineY:"y"}[h],u,l)}}),l=r,u=Ex(s=o),hD(l,function(h,c){for(var p=u.length-1;p>=0&&!u[p][c];p--);if(p<0){var f=s.queryComponents({mainType:"dataZoom",subType:"select",id:c})[0];if(f){var m=f.getPercentRange();u[0][c]={dataZoomId:c,start:m[0],end:m[1]}}}}),u.push(l),this._dispatchZoomAction(r)}function a(s,l,u){var m,y,b,h=l.getAxis(s),c=h.model,p=(m=s,y=c,o.eachComponent({mainType:"dataZoom",subType:"select"},function(S){S.getAxisModel(m,y.componentIndex)&&(b=S)}),b),f=p.findRepresentativeAxisProxy(c).getMinMaxSpan();null==f.minValueSpan&&null==f.maxValueSpan||(u=Il(0,u.slice(),h.scale.getExtent(),0,f.minValueSpan,f.maxValueSpan)),p&&(r[p.id]={dataZoomId:p.id,startValue:u[0],endValue:u[1]})}},t.prototype._dispatchZoomAction=function(e){var n=[];Gx(e,function(r,o){n.push(Ue(r))}),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},t.getDefaultOption=function(e){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},t}(Ar),W5={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(function(i){var t=Ex(i),e=t[t.length-1];t.length>1&&t.pop();var n={};return hD(e,function(r,o){for(var a=t.length-1;a>=0;a--)if(r=t[a][o]){n[o]=r;break}}),n}(this.ecModel))}};function Wx(i){var t={xAxisIndex:i.get("xAxisIndex",!0),yAxisIndex:i.get("yAxisIndex",!0),xAxisId:i.get("xAxisId",!0),yAxisId:i.get("yAxisId",!0)};return null==t.xAxisIndex&&null==t.xAxisId&&(t.xAxisIndex="all"),null==t.yAxisIndex&&null==t.yAxisId&&(t.yAxisIndex="all"),t}Fx=function(i){var t=i.getComponent("toolbox",0),e=["feature","dataZoom"];if(t&&null!=t.get(e)){var n=t.getModel(e),r=[],o=Gs(i,Wx(n));return Gx(o.xAxisModels,function(s){return a(s,"xAxis","xAxisIndex")}),Gx(o.yAxisModels,function(s){return a(s,"yAxis","yAxisIndex")}),r}function a(s,l,u){var h=s.componentIndex,c={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:"\0_ec_\0toolbox-dataZoom_"+l+h};c[u]=h,r.push(c)}},Vt(null==ry.get("dataZoom")&&Fx),ry.set("dataZoom",Fx);var H5=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(mt);function xD(i){var t=i.get("confine");return null!=t?!!t:"richText"===i.get("renderMode")}function _D(i){if(Ee.domSupported)for(var t=document.documentElement.style,e=0,n=i.length;e<n;e++)if(i[e]in t)return i[e]}var bD=_D(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function wD(i,t){if(!i)return t;t=$m(t,!0);var e=i.indexOf(t);return(i=-1===e?t:"-"+i.slice(0,e)+"-"+t).toLowerCase()}var Y5=wD(_D(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),Hx=wD(bD,"transform"),X5="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Ee.transform3dSupported?"will-change:transform;":"");function SD(i,t,e){var n=i.toFixed(0)+"px",r=t.toFixed(0)+"px";if(!Ee.transformSupported)return e?"top:"+r+";left:"+n+";":[["top",r],["left",n]];var o=Ee.transform3dSupported,a="translate"+(o?"3d":"")+"("+n+","+r+(o?",0":"")+")";return e?"top:0;left:0;"+Hx+":"+a+";":[["top",0],["left",0],[bD,a]]}function MD(i,t,e,n,r){var l,h,o=t&&t.painter;if(e){var a=o&&o.getViewportRoot();a&&(l=i,h=document.body,fa(cs,a,n,r,!0)&&fa(l,h,cs[0],cs[1]))}else{i[0]=n,i[1]=r;var s=o&&o.getViewportRootOffset();s&&(i[0]+=s.offsetLeft,i[1]+=s.offsetTop)}i[2]=i[0]/t.getWidth(),i[3]=i[1]/t.getHeight()}var j5=function(){function i(t,e,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,Ee.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var o=this._zr=e.getZr(),a=this._appendToBody=n&&n.appendToBody;MD(this._styleCoord,o,a,e.getWidth()/2,e.getHeight()/2),a?document.body.appendChild(r):t.appendChild(r),this._container=t;var s=this;r.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},r.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=o.handler;Ln(o.painter.getViewportRoot(),l,!0),u.dispatch("mousemove",l)}},r.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return i.prototype.update=function(t){var e,r,o=this._container,a=("position",(r=(e=o).currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e))?r.position:null),s=o.style;"absolute"!==s.position&&"absolute"!==a&&(s.position="relative"),t.get("alwaysShowContent")&&this._moveIfResized(),this.el.className=t.get("className")||""},i.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,r=n.style,o=this._styleCoord;n.innerHTML?r.cssText=X5+function U5(i,t,e){var f,v,b,n=[],r=i.get("transitionDuration"),o=i.get("backgroundColor"),a=i.get("shadowBlur"),s=i.get("shadowColor"),l=i.get("shadowOffsetX"),u=i.get("shadowOffsetY"),h=i.getModel("textStyle"),c=jb(i,"html");return n.push("box-shadow:"+l+"px "+u+"px "+a+"px "+s),t&&r&&n.push((b="opacity"+(v=" "+(f=r)/2+"s "+"cubic-bezier(0.23,1,0.32,1)")+",visibility"+v,e||(v=" "+f+"s cubic-bezier(0.23,1,0.32,1)",b+=Ee.transformSupported?","+Hx+v:",left"+v+",top"+v),Y5+":"+b)),o&&n.push("background-color:"+o),G(["width","color","radius"],function(f){var m="border-"+f,y=$m(m),v=i.get(y);null!=v&&n.push(m+":"+v+("color"===f?"":"px"))}),n.push(function(f){var m=[],y=f.get("fontSize"),v=f.getTextColor();v&&m.push("color:"+v),m.push("font:"+f.getFont()),y&&m.push("line-height:"+Math.round(3*y/2)+"px");var b=f.get("textShadowColor"),S=f.get("textShadowBlur")||0,I=f.get("textShadowOffsetX")||0,T=f.get("textShadowOffsetY")||0;return b&&S&&m.push("text-shadow:"+I+"px "+T+"px "+S+"px "+b),G(["decoration","align"],function(D){var A=f.get(D);A&&m.push("text-"+D+":"+A)}),m.join(";")}(h)),null!=c&&n.push("padding:"+il(c).join("px ")+"px"),n.join(";")+";"}(t,!this._firstShow,this._longHide)+SD(o[0],o[1],!0)+"border-color:"+nl(e)+";"+(t.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):r.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},i.prototype.setContent=function(t,e,n,r,o){var a=this.el;if(null!=t){var s="";if(De(o)&&"item"===n.get("trigger")&&!xD(n)&&(s=function(h,c,p){if(!De(p)||"inside"===p)return"";var f=h.get("backgroundColor"),m=h.get("borderWidth");c=nl(c);var y,v,b="left"===(y=p)?"right":"right"===y?"left":"top"===y?"bottom":"top",S=Math.max(1.5*Math.round(m),6),I="",T=Hx+":";We(["left","right"],b)>-1?(I+="top:50%",T+="translateY(-50%) rotate("+(v="left"===b?-225:-45)+"deg)"):(I+="left:50%",T+="translateX(-50%) rotate("+(v="top"===b?225:45)+"deg)");var D=v*Math.PI/180,A=S+m,L=A*Math.abs(Math.cos(D))+A*Math.abs(Math.sin(D)),P=c+" solid "+m+"px;";return'<div style="'+["position:absolute;width:"+S+"px;height:"+S+"px;z-index:-1;",(I+=";"+b+":-"+Math.round(100*((L-Math.SQRT2*m)/2+Math.SQRT2*m-(L-A)/2))/100+"px")+";"+T+";","border-bottom:"+P,"border-right:"+P,"background-color:"+f+";"].join("")+'"></div>'}(n,r,o)),De(t))a.innerHTML=t+s;else if(t){a.innerHTML="",fe(t)||(t=[t]);for(var l=0;l<t.length;l++)at(t[l])&&t[l].parentNode!==a&&a.appendChild(t[l]);if(s&&a.childNodes.length){var u=document.createElement("div");u.innerHTML=s,a.appendChild(u)}}}else a.innerHTML=""},i.prototype.setEnterable=function(t){this._enterable=t},i.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},i.prototype.moveTo=function(t,e){var n=this._styleCoord;if(MD(n,this._zr,this._appendToBody,t,e),null!=n[0]&&null!=n[1]){var r=this.el.style;G(SD(n[0],n[1]),function(o){r[o[0]]=o[1]})}},i.prototype._moveIfResized=function(){var e=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),e*this._zr.getHeight())},i.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",Ee.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},i.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(ke(this.hide,this),t)):this.hide())},i.prototype.isShow=function(){return this._show},i.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},i}(),Z5=function(){function i(t){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=t.getZr(),TD(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return i.prototype.update=function(t){t.get("alwaysShowContent")&&this._moveIfResized()},i.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},i.prototype.setContent=function(t,e,n,r,o){var a=this;le(t)&&Ct(""),this.el&&this._zr.remove(this.el);var s=n.getModel("textStyle");this.el=new Mt({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:r,textShadowColor:s.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:jb(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),G(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){a.el.style[u]=n.get(u)}),G(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){a.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},i.prototype.setEnterable=function(t){this._enterable=t},i.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),n=ID(t.style);return[e.width+n.left+n.right,e.height+n.top+n.bottom]},i.prototype.moveTo=function(t,e){var n=this.el;if(n){var r=this._styleCoord;TD(r,this._zr,t,e),t=r[0],e=r[1];var o=n.style,a=ns(o.borderWidth||0),s=ID(o);n.x=t+a+s.left,n.y=e+a+s.top,n.markRedraw()}},i.prototype._moveIfResized=function(){var e=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),e*this._zr.getHeight())},i.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},i.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(ke(this.hide,this),t)):this.hide())},i.prototype.isShow=function(){return this._show},i.prototype.dispose=function(){this._zr.remove(this.el)},i}();function ns(i){return Math.max(0,i)}function ID(i){var t=ns(i.shadowBlur||0),e=ns(i.shadowOffsetX||0),n=ns(i.shadowOffsetY||0);return{left:ns(t-e),right:ns(t+e),top:ns(t-n),bottom:ns(t+n)}}function TD(i,t,e,n){i[0]=e,i[1]=n,i[2]=i[0]/t.getWidth(),i[3]=i[1]/t.getHeight()}var q5=new St({shape:{x:-1,y:-1,width:2,height:2}}),$5=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.init=function(e,n){if(!Ee.node&&n.getDom()){var r,o=e.getComponent("tooltip"),a=this._renderMode="auto"===(r=o.get("renderMode"))?Ee.domSupported?"html":"richText":r||"html";this._tooltipContent="richText"===a?new Z5(n):new j5(n.getDom(),n,{appendToBody:o.get("appendToBody",!0)})}},t.prototype.render=function(e,n,r){if(!Ee.node&&r.getDom()){this.group.removeAll(),this._tooltipModel=e,this._ecModel=n,this._api=r,this._alwaysShowContent=e.get("alwaysShowContent");var o=this._tooltipContent;o.update(e),o.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&e.get("transitionDuration")?eh(this,"_updatePosition",50,"fixRate"):jc(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel.get("triggerOn");PC("itemTooltip",this._api,ke(function(n,r,o){"none"!==e&&(e.indexOf(n)>=0?this._tryShow(r,o):"leave"===n&&this._hide(o))},this))},t.prototype._keepShow=function(){var e=this._tooltipModel,n=this._ecModel,r=this._api,o=e.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==o&&"click"!==o){var a=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!r.isDisposed()&&a.manuallyShowTip(e,n,r,{x:a._lastX,y:a._lastY,dataByCoordSys:a._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(e,n,r,o){if(o.from!==this.uid&&!Ee.node&&r.getDom()){var a=CD(o,r);this._ticket="";var s=o.dataByCoordSys,l=function(m,y,v){var b=Ws(m).queryOptionMap,S=b.keys()[0];if(S&&"series"!==S){var I,T=Hs(y,S,b.get(S),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(T&&(v.getViewOfComponentModel(T).group.traverse(function(D){var A=rt(D).tooltipConfig;if(A&&A.name===m.name)return I=D,!0}),I))return{componentMainType:S,componentIndex:T.componentIndex,el:I}}}(o,n,r);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:o.position,positionDefault:"bottom"},a)}else if(o.tooltip&&null!=o.x&&null!=o.y){var h=q5;h.x=o.x,h.y=o.y,h.update(),rt(h).tooltipConfig={name:null,option:o.tooltip},this._tryShow({offsetX:o.x,offsetY:o.y,target:h},a)}else if(s)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:s,tooltipOption:o.tooltipOption},a);else if(null!=o.seriesIndex){if(this._manuallyAxisShowTip(e,n,r,o))return;var c=RC(o,n),p=c.point[0],f=c.point[1];null!=p&&null!=f&&this._tryShow({offsetX:p,offsetY:f,target:c.el,position:o.position,positionDefault:"bottom"},a)}else null!=o.x&&null!=o.y&&(r.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:r.getZr().findHover(o.x,o.y).target},a))}},t.prototype.manuallyHideTip=function(e,n,r,o){!this._alwaysShowContent&&this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,o.from!==this.uid&&this._hide(CD(o,r))},t.prototype._manuallyAxisShowTip=function(e,n,r,o){var a=o.seriesIndex,s=o.dataIndex,l=n.getComponent("axisPointer").coordSysAxesInfo;if(null!=a&&null!=s&&null!=l){var u=n.getSeriesByIndex(a);if(u&&"axis"===Gd([u.getData().getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return r.dispatchAction({type:"updateAxisPointer",seriesIndex:a,dataIndex:s,position:o.position}),!0}},t.prototype._tryShow=function(e,n){var r=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var o=e.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,e);else if(r){var a,s;this._lastDataByCoordSys=null,sl(r,function(l){return null!=rt(l).dataIndex?(a=l,!0):null!=rt(l).tooltipConfig?(s=l,!0):void 0},!0),a?this._showSeriesItemTooltip(e,a,n):s?this._showComponentItemTooltip(e,s,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},t.prototype._showOrMove=function(e,n){var r=e.get("showDelay");n=ke(n,this),clearTimeout(this._showTimout),r>0?this._showTimout=setTimeout(n,r):n()},t.prototype._showAxisTooltip=function(e,n){var r=this._ecModel,o=this._tooltipModel,a=[n.offsetX,n.offsetY],s=Gd([n.tooltipOption],o),l=this._renderMode,u=[],h=Ni("section",{blocks:[],noHeader:!0}),c=[],p=new wy;G(e,function(S){G(S.dataByAxis,function(I){var T=r.getComponent(I.axisDim+"Axis",I.axisIndex),D=I.value;if(T&&null!=D){var A=TC(D,T.axis,r,I.seriesDataIndices,I.valueLabelOpt),L=Ni("section",{header:A,noHeader:!Ut(A),sortBlocks:!0,blocks:[]});h.blocks.push(L),G(I.seriesDataIndices,function(P){var E=r.getSeriesByIndex(P.seriesIndex),N=P.dataIndexInside,z=E.getDataParams(N);if(!(z.dataIndex<0)){z.axisDim=I.axisDim,z.axisIndex=I.axisIndex,z.axisType=I.axisType,z.axisId=I.axisId,z.axisValue=sv(T.axis,{value:D}),z.axisValueLabel=A,z.marker=p.makeTooltipMarker("item",nl(z.color),l);var B=Db(E.formatTooltip(N,!0,null)),W=B.frag;if(W){var Y=Gd([E],o).get("valueFormatter");L.blocks.push(Y?de({valueFormatter:Y},W):W)}B.text&&c.push(B.text),u.push(z)}})}})}),h.blocks.reverse(),c.reverse();var f=n.position,m=s.get("order"),y=Yb(h,p,l,m,r.get("useUTC"),s.get("textStyle"));y&&c.unshift(y);var b=c.join("richText"===l?"\n\n":"<br/>");this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(e,u)?this._updatePosition(s,f,a[0],a[1],this._tooltipContent,u):this._showTooltipContent(s,b,u,Math.random()+"",a[0],a[1],f,null,p)})},t.prototype._showSeriesItemTooltip=function(e,n,r){var o=this._ecModel,a=rt(n),s=a.seriesIndex,l=o.getSeriesByIndex(s),u=a.dataModel||l,h=a.dataIndex,c=a.dataType,p=u.getData(c),f=this._renderMode,m=e.positionDefault,y=Gd([p.getItemModel(h),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,m?{position:m}:null),v=y.get("trigger");if(null==v||"item"===v){var b=u.getDataParams(h,c),S=new wy;b.marker=S.makeTooltipMarker("item",nl(b.color),f);var I=Db(u.formatTooltip(h,!1,c)),T=y.get("order"),D=y.get("valueFormatter"),A=I.frag,L=A?Yb(D?de({valueFormatter:D},A):A,S,f,T,o.get("useUTC"),y.get("textStyle")):I.text,P="item_"+u.name+"_"+h;this._showOrMove(y,function(){this._showTooltipContent(y,L,b,P,e.offsetX,e.offsetY,e.position,e.target,S)}),r({type:"showTip",dataIndexInside:h,dataIndex:p.getRawIndex(h),seriesIndex:s,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,n,r){var o=rt(n),a=o.tooltipConfig.option||{};De(a)&&(a={content:a,formatter:a});var s=[a],l=this._ecModel.getComponent(o.componentMainType,o.componentIndex);l&&s.push(l),s.push({formatter:a.content});var u=e.positionDefault,h=Gd(s,this._tooltipModel,u?{position:u}:null),c=h.get("content"),p=Math.random()+"",f=new wy;this._showOrMove(h,function(){var m=Ue(h.get("formatterParams")||{});this._showTooltipContent(h,c,m,p,e.offsetX,e.offsetY,e.position,n,f)}),r({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,n,r,o,a,s,l,u,h){if(this._ticket="",e.get("showContent")&&e.get("show")){var c=this._tooltipContent;c.setEnterable(e.get("enterable"));var p=e.get("formatter");l=l||e.get("position");var f=n,m=this._getNearestPoint([a,s],r,e.get("trigger"),e.get("borderColor")).color;if(p)if(De(p)){var y=e.ecModel.get("useUTC"),v=fe(r)?r[0]:r;f=p,v&&v.axisType&&v.axisType.indexOf("time")>=0&&(f=Vc(v.axisValue,f,y)),f=Qm(f,r,!0)}else if(Ge(p)){var b=ke(function(S,I){S===this._ticket&&(c.setContent(I,h,e,m,l),this._updatePosition(e,l,a,s,c,r,u))},this);this._ticket=o,f=p(r,o,b)}else f=p;c.setContent(f,h,e,m,l),c.show(e,m),this._updatePosition(e,l,a,s,c,r,u)}},t.prototype._getNearestPoint=function(e,n,r,o){return"axis"===r||fe(n)?{color:o||("html"===this._renderMode?"#fff":"none")}:fe(n)?void 0:{color:o||n.color||n.borderColor}},t.prototype._updatePosition=function(e,n,r,o,a,s,l){var u=this._api.getWidth(),h=this._api.getHeight();n=n||e.get("position");var S,I,D,A,L,P,E,N,z,c=a.getSize(),p=e.get("align"),f=e.get("verticalAlign"),m=l&&l.getBoundingRect().clone();if(l&&m.applyTransform(l.transform),Ge(n)&&(n=n([r,o],s,a.el,m,{viewSize:[u,h],contentSize:c.slice()})),fe(n))r=Te(n[0],u),o=Te(n[1],h);else if(le(n)){var y=n;y.width=c[0],y.height=c[1];var v=wi(y,{width:u,height:h});r=v.x,o=v.y,p=null,f=null}else if(De(n)&&l){var b=function(S,I,T,D){var A=T[0],L=T[1],P=Math.ceil(Math.SQRT2*D)+8,E=0,N=0,z=I.width,B=I.height;switch(S){case"inside":E=I.x+z/2-A/2,N=I.y+B/2-L/2;break;case"top":E=I.x+z/2-A/2,N=I.y-L-P;break;case"bottom":E=I.x+z/2-A/2,N=I.y+B+P;break;case"left":E=I.x-A-P,N=I.y+B/2-L/2;break;case"right":E=I.x+z+P,N=I.y+B/2-L/2}return[E,N]}(n,m,c,e.get("borderWidth"));r=b[0],o=b[1]}else S=r,I=o,D=u,A=h,L=p?null:20,P=f?null:20,N=(E=a.getSize())[0],z=E[1],null!=L&&(S+N+L+2>D?S-=N+L:S+=L),null!=P&&(I+z+P>A?I-=z+P:I+=P),r=(b=[S,I])[0],o=b[1];p&&(r-=DD(p)?c[0]/2:"right"===p?c[0]:0),f&&(o-=DD(f)?c[1]/2:"bottom"===f?c[1]:0),xD(e)&&(b=function(S,I,T,D,A){var L=T.getSize(),P=L[0],E=L[1];return S=Math.min(S+P,D)-P,I=Math.min(I+E,A)-E,[S=Math.max(S,0),I=Math.max(I,0)]}(r,o,a,u,h),r=b[0],o=b[1]),a.moveTo(r,o)},t.prototype._updateContentNotChangedOnAxis=function(e,n){var r=this._lastDataByCoordSys,o=this._cbParamsList,a=!!r&&r.length===e.length;return a&&G(r,function(s,l){var u=s.dataByAxis||[],h=(e[l]||{}).dataByAxis||[];(a=a&&u.length===h.length)&&G(u,function(c,p){var f=h[p]||{},m=c.seriesDataIndices||[],y=f.seriesDataIndices||[];(a=a&&c.value===f.value&&c.axisType===f.axisType&&c.axisId===f.axisId&&m.length===y.length)&&G(m,function(v,b){var S=y[b];a=a&&v.seriesIndex===S.seriesIndex&&v.dataIndex===S.dataIndex}),o&&G(c.seriesDataIndices,function(v){var b=v.seriesIndex,S=n[b],I=o[b];S&&I&&I.data!==S.data&&(a=!1)})})}),this._lastDataByCoordSys=e,this._cbParamsList=n,!!a},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,n){!Ee.node&&n.getDom()&&(jc(this,"_updatePosition"),this._tooltipContent.dispose(),Sx("itemTooltip",n))},t.type="tooltip",t}(ei);function Gd(i,t,e){var n,r=t.ecModel;e?(n=new Rt(e,r,r),n=new Rt(t.option,n,r)):n=t;for(var o=i.length-1;o>=0;o--){var a=i[o];a&&(a instanceof Rt&&(a=a.get("tooltip",!0)),De(a)&&(a={formatter:a}),a&&(n=new Rt(a,n,r)))}return n}function CD(i,t){return i.dispatchAction||ke(t.dispatchAction,t)}function DD(i){return"center"===i||"middle"===i}var K5=["rect","polygon","keep","clear"];function J5(i,t){var l,u,e=Gt(i?i.brush:[]);if(e.length){var n=[];G(e,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(n=n.concat(u))});var r=i&&i.toolbox;fe(r)&&(r=r[0]),r||(i.toolbox=[r={feature:{}}]);var o=r.feature||(r.feature={}),a=o.brush||(o.brush={}),s=a.type||(a.type=[]);s.push.apply(s,n),u={},G(l=s,function(h){u[h]=1}),l.length=0,G(u,function(h,c){l.push(c)}),t&&!s.length&&s.push.apply(s,K5)}}var AD=G;function kD(i){if(i)for(var t in i)if(i.hasOwnProperty(t))return!0}function Yx(i,t,e){var n={};return AD(t,function(r){var o,a=n[r]=((o=function(){}).prototype.__hidden=o.prototype,new o);AD(i[r],function(s,l){if(Vi.isValidType(l)){var u={type:l,visual:s};e&&e(u,r),a[l]=new Vi(u),"opacity"===l&&((u=Ue(u)).type="colorAlpha",a.__hidden.__alphaForOpacity=new Vi(u))}})}),n}function LD(i,t,e){var n;G(e,function(r){t.hasOwnProperty(r)&&kD(t[r])&&(n=!0)}),n&&G(e,function(r){t.hasOwnProperty(r)&&kD(t[r])?i[r]=Ue(t[r]):delete i[r]})}var PD={lineX:OD(0),lineY:OD(1),rect:{point:function(i,t,e){return i&&e.boundingRect.contain(i[0],i[1])},rect:function(i,t,e){return i&&e.boundingRect.intersect(i)}},polygon:{point:function(i,t,e){return i&&e.boundingRect.contain(i[0],i[1])&&pl(e.range,i[0],i[1])},rect:function(i,t,e){var n=e.range;if(!i||n.length<=1)return!1;var r=i.x,o=i.y,a=i.width,s=i.height,l=n[0];return!!(pl(n,r,o)||pl(n,r+a,o)||pl(n,r,o+s)||pl(n,r+a,o+s)||st.create(i).contain(l[0],l[1])||Rc(r,o,r+a,o,n)||Rc(r,o,r,o+s,n)||Rc(r+a,o,r+a,o+s,n)||Rc(r,o+s,r+a,o+s,n))||void 0}}};function OD(i){var t=["x","y"],e=["width","height"];return{point:function(n,r,o){if(n)return Wd(n[i],o.range)},rect:function(n,r,o){if(n){var a=o.range,s=[n[t[i]],n[t[i]]+n[e[i]]];return s[1]<s[0]&&s.reverse(),Wd(s[0],a)||Wd(s[1],a)||Wd(a[0],s)||Wd(a[1],s)}}}}function Wd(i,t){return t[0]<=i&&i<=t[1]}var RD=["inBrush","outOfBrush"],Xx="__ecInBrushSelectEvent";function ED(i){i.eachComponent({mainType:"brush"},function(t){(t.brushTargetManager=new Nx(t.option,i)).setInputRanges(t.areas,i)})}function eV(i,t,e){var n,r,o=[];i.eachComponent({mainType:"brush"},function(a){e&&"takeGlobalCursor"===e.type&&a.setBrushOption("brush"===e.key?e.brushOption:{brushType:!1})}),ED(i),i.eachComponent({mainType:"brush"},function(a,s){var l={brushId:a.id,brushIndex:s,brushName:a.name,areas:Ue(a.areas),selected:[]};o.push(l);var u=a.option,h=u.brushLink,c=[],p=[],f=[],m=!1;s||(n=u.throttleType,r=u.throttleDelay);var y=ge(a.areas,function(I){var A,L,P,T=iV[I.brushType],D=Ve({boundingRect:T?T(I):void 0},I);return D.selectors=(L=(A=D).brushType,P={point:function(E){return PD[L].point(E,P,A)},rect:function(E){return PD[L].rect(E,P,A)}}),D}),v=Yx(a.option,RD,function(I){I.mappingMethod="fixed"});function b(I){return"all"===h||!!c[I]}function S(I){return!!I.length}fe(h)&&G(h,function(I){c[I]=1}),i.eachSeries(function(I,T){var A,L,P,D=f[T]=[];"parallel"===I.subType?(L=T,P=(A=I).coordinateSystem,m=m||P.hasAxisBrushed(),b(L)&&P.eachActiveState(A.getData(),function(E,N){"active"===E&&(p[N]=1)})):function(A,L,P){if(A.brushSelector&&(z=L,null==(B=a.option.seriesIndex)||"all"===B||!(fe(B)?We(B,z)<0:z!==B))&&(G(y,function(N){a.brushTargetManager.controlSeries(N,A,i)&&P.push(N),m=m||S(P)}),b(L)&&S(P))){var E=A.getData();E.each(function(N){ND(A,P,E,N)&&(p[N]=1)})}var z,B}(I,T,D)}),i.eachSeries(function(I,T){var D={seriesId:I.id,seriesIndex:T,seriesName:I.name,dataIndex:[]};l.selected.push(D);var A=f[T],L=I.getData(),P=b(T)?function(E){return p[E]?(D.dataIndex.push(L.getRawIndex(E)),"inBrush"):"outOfBrush"}:function(E){return ND(I,A,L,E)?(D.dataIndex.push(L.getRawIndex(E)),"inBrush"):"outOfBrush"};(b(T)?m:S(A))&&function(E,N,z,B,W,Y){var j,Z={};function q(te){return Iy(z,j,te)}function K(te,ne){gw(z,j,te,ne)}G(E,function(te){var ne=Vi.prepareVisualTypes(N[te]);Z[te]=ne}),z.each(function Q(te,ne){var ce=z.getRawDataItem(j=te);if(!ce||!1!==ce.visualMap)for(var ye=B.call(void 0,te),re=N[ye],pe=Z[ye],ve=0,be=pe.length;ve<be;ve++){var xe=pe[ve];re[xe]&&re[xe].applyVisual(te,q,K)}})}(RD,v,L,P)})}),function(a,s,l,u,h){if(h){var c=a.getZr();c[Xx]||(c.__ecBrushSelect||(c.__ecBrushSelect=tV),eh(c,"__ecBrushSelect",l,s)(a,u))}}(t,n,r,o,e)}function tV(i,t){if(!i.isDisposed()){var e=i.getZr();e[Xx]=!0,i.dispatchAction({type:"brushSelect",batch:t}),e[Xx]=!1}}function ND(i,t,e,n){for(var r=0,o=t.length;r<o;r++){var a=t[r];if(i.brushSelector(n,e,a.selectors,a))return!0}}var iV={rect:function(i){return zD(i.range)},polygon:function(i){for(var t,e=i.range,n=0,r=e.length;n<r;n++){var o=e[n];o[0]<(t=t||[[1/0,-1/0],[1/0,-1/0]])[0][0]&&(t[0][0]=o[0]),o[0]>t[0][1]&&(t[0][1]=o[0]),o[1]<t[1][0]&&(t[1][0]=o[1]),o[1]>t[1][1]&&(t[1][1]=o[1])}return t&&zD(t)}};function zD(i){return new st(i[0][0],i[1][0],i[0][1]-i[0][0],i[1][1]-i[1][0])}var nV=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.init=function(e,n){this.ecModel=e,this.api=n,(this._brushController=new z0(n.getZr())).on("brush",ke(this._onBrush,this)).mount()},t.prototype.render=function(e,n,r,o){this.model=e,this._updateController(e,n,r,o)},t.prototype.updateTransform=function(e,n,r,o){ED(n),this._updateController(e,n,r,o)},t.prototype.updateVisual=function(e,n,r,o){this.updateTransform(e,n,r,o)},t.prototype.updateView=function(e,n,r,o){this._updateController(e,n,r,o)},t.prototype._updateController=function(e,n,r,o){(!o||o.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(r)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var n=this.model.id,r=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:Ue(r),$from:n}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:Ue(r),$from:n})},t.type="brush",t}(ei),rV=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.areas=[],e.brushOption={},e}return ie(t,i),t.prototype.optionUpdated=function(e,n){var r=this.option;!n&&LD(r,e,["inBrush","outOfBrush"]);var o=r.inBrush=r.inBrush||{};r.outOfBrush=r.outOfBrush||{color:"#ddd"},o.hasOwnProperty("liftZ")||(o.liftZ=5)},t.prototype.setAreas=function(e){e&&(this.areas=ge(e,function(n){return VD(this.option,n)},this))},t.prototype.setBrushOption=function(e){this.brushOption=VD(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(mt);function VD(i,t){return Be({brushType:i.brushType,brushMode:i.brushMode,transformable:i.transformable,brushStyle:new Rt(i.brushStyle).getItemStyle(),removeOnClick:i.removeOnClick,z:i.z},t,!0)}var oV=["rect","polygon","lineX","lineY","keep","clear"],aV=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return ie(t,i),t.prototype.render=function(e,n,r){var o,a,s;n.eachComponent({mainType:"brush"},function(l){o=l.brushType,a=l.brushOption.brushMode||"single",s=s||!!l.areas.length}),this._brushType=o,this._brushMode=a,G(e.get("type",!0),function(l){e.setIconStatus(l,("keep"===l?"multiple"===a:"clear"===l?s:l===o)?"emphasis":"normal")})},t.prototype.updateView=function(e,n,r){this.render(e,n,r)},t.prototype.getIcons=function(){var e=this.model,n=e.get("icon",!0),r={};return G(e.get("type",!0),function(o){n[o]&&(r[o]=n[o])}),r},t.prototype.onclick=function(e,n,r){var o=this._brushType,a=this._brushMode;"clear"===r?(n.dispatchAction({type:"axisAreaSelect",intervals:[]}),n.dispatchAction({type:"brush",command:"clear",areas:[]})):n.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===r?o:o!==r&&r,brushMode:"keep"===r?"multiple"===a?"single":"multiple":a}})},t.getDefaultOption=function(e){return{show:!0,type:oV.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])}},t}(Ar),sV=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return ie(t,i),t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(mt),lV=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.render=function(e,n,r){if(this.group.removeAll(),e.get("show")){var o=this.group,a=e.getModel("textStyle"),s=e.getModel("subtextStyle"),l=e.get("textAlign"),u=He(e.get("textBaseline"),e.get("textVerticalAlign")),h=new Mt({style:Kt(a,{text:e.get("text"),fill:a.getTextColor()},{disableBox:!0}),z2:10}),c=h.getBoundingRect(),p=e.get("subtext"),f=new Mt({style:Kt(s,{text:p,fill:s.getTextColor(),y:c.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),m=e.get("link"),y=e.get("sublink"),v=e.get("triggerEvent",!0);h.silent=!m&&!v,f.silent=!y&&!v,m&&h.on("click",function(){cf(m,"_"+e.get("target"))}),y&&f.on("click",function(){cf(y,"_"+e.get("subtarget"))}),rt(h).eventData=rt(f).eventData=v?{componentType:"title",componentIndex:e.componentIndex}:null,o.add(h),p&&o.add(f);var b=o.getBoundingRect(),S=e.getBoxLayoutParams();S.width=b.width,S.height=b.height;var I=wi(S,{width:r.getWidth(),height:r.getHeight()},e.get("padding"));l||("middle"===(l=e.get("left")||e.get("right"))&&(l="center"),"right"===l?I.x+=I.width:"center"===l&&(I.x+=I.width/2)),u||("center"===(u=e.get("top")||e.get("bottom"))&&(u="middle"),"bottom"===u?I.y+=I.height:"middle"===u&&(I.y+=I.height/2),u=u||"top"),o.x=I.x,o.y=I.y,o.markRedraw();var T={align:l,verticalAlign:u};h.setStyle(T),f.setStyle(T),b=o.getBoundingRect();var D=I.margin,A=e.getItemStyle(["color","opacity"]);A.fill=e.get("backgroundColor");var L=new St({shape:{x:b.x-D[3],y:b.y-D[0],width:b.width+D[1]+D[3],height:b.height+D[0]+D[2],r:e.get("borderRadius")},style:A,subPixelOptimize:!0,silent:!0});o.add(L)}},t.type="title",t}(ei),BD=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.layoutMode="box",e}return ie(t,i),t.prototype.init=function(e,n,r){this.mergeDefaultAndTheme(e,r),this._initData()},t.prototype.mergeOption=function(e){i.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){null==e&&(e=this.option.currentIndex);var n=this._data.count();this.option.loop?e=(e%n+n)%n:(e>=n&&(e=n-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var e,n=this.option,r=n.data||[],o=n.axisType,a=this._names=[];"category"===o?(e=[],G(r,function(l,u){var h,c=ci(Ca(l),"");le(l)?(h=Ue(l)).value=u:h=u,e.push(h),a.push(c)})):e=r,(this._data=new yn([{name:"value",type:{category:"ordinal",time:"time",value:"number"}[o]||"number"}],this)).initData(e,a)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(mt),FD=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.type="timeline.slider",t.defaultOption=Ba(BD.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(BD);Qt(FD,my.prototype);var uV=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.type="timeline",t}(ei),hV=function(i){function t(e,n,r,o){var a=i.call(this,e,n,r)||this;return a.type=o||"value",a}return ie(t,i),t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},t}(Sr),Ux=Math.PI,GD=_t(),cV=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.init=function(e,n){this.api=n},t.prototype.render=function(e,n,r){if(this.model=e,this.api=r,this.ecModel=n,this.group.removeAll(),e.get("show",!0)){var o=this._layout(e,r),a=this._createGroup("_mainGroup"),s=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(o,e);e.formatTooltip=function(u){return Ni("nameValue",{noName:!0,value:l.scale.getLabel({value:u})})},G(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](o,a,l,e)},this),this._renderAxisLabel(o,s,l,e),this._position(o,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,n){var r,o,a,s,B,W,l=e.get(["label","position"]),u=e.get("orient"),h=(W=n,wi((B=e).getBoxLayoutParams(),{width:W.getWidth(),height:W.getHeight()},B.get("padding"))),c={horizontal:"center",vertical:(r=null==l||"auto"===l?"horizontal"===u?h.y+h.height/2<n.getHeight()/2?"-":"+":h.x+h.width/2<n.getWidth()/2?"+":"-":De(l)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[u][l]:l)>=0||"+"===r?"left":"right"},p={horizontal:r>=0||"+"===r?"top":"bottom",vertical:"middle"},f={horizontal:0,vertical:Ux/2},m="vertical"===u?h.height:h.width,y=e.getModel("controlStyle"),v=y.get("show",!0),b=v?y.get("itemSize"):0,S=v?y.get("itemGap"):0,I=b+S,T=e.get(["label","rotate"])||0;T=T*Ux/180;var D=y.get("position",!0),A=v&&y.get("showPlayBtn",!0),L=v&&y.get("showPrevBtn",!0),P=v&&y.get("showNextBtn",!0),E=0,N=m;"left"===D||"bottom"===D?(A&&(o=[0,0],E+=I),L&&(a=[E,0],E+=I),P&&(s=[N-b,0],N-=I)):(A&&(o=[N-b,0],N-=I),L&&(a=[0,0],E+=I),P&&(s=[N-b,0],N-=I));var z=[E,N];return e.get("inverse")&&z.reverse(),{viewRect:h,mainLength:m,orient:u,rotation:f[u],labelRotation:T,labelPosOpt:r,labelAlign:e.get(["label","align"])||c[u],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||p[u],playPosition:o,prevBtnPosition:a,nextBtnPosition:s,axisExtent:z,controlSize:b,controlGap:S}},t.prototype._position=function(e,n){var r=this._mainGroup,o=this._labelGroup,a=e.viewRect;if("vertical"===e.orient){var s=[1,0,0,1,0,0],l=a.x,u=a.y+a.height;Di(s,s,[-l,-u]),lr(s,s,-Ux/2),Di(s,s,[l,u]),(a=a.clone()).applyTransform(s)}var h=S(a),c=S(r.getBoundingRect()),p=S(o.getBoundingRect()),f=[r.x,r.y],m=[o.x,o.y];m[0]=f[0]=h[0][0];var y,v=e.labelPosOpt;function b(T){T.originX=h[0][0]-T.x,T.originY=h[1][0]-T.y}function S(T){return[[T.x,T.x+T.width],[T.y,T.y+T.height]]}function I(T,D,A,L,P){T[L]+=A[L][P]-D[L][P]}null==v||De(v)?(I(f,c,h,1,y="+"===v?0:1),I(m,p,h,1,1-y)):(I(f,c,h,1,y=v>=0?0:1),m[1]=f[1]+v),r.setPosition(f),o.setPosition(m),r.rotation=o.rotation=e.rotation,b(r),b(o)},t.prototype._createAxis=function(e,n){var r=n.getData(),o=n.get("axisType"),a=function(u,h){if(h=h||u.get("type"))switch(h){case"category":return new Yf({ordinalMeta:u.getCategories(),extent:[1/0,-1/0]});case"time":return new ov({locale:u.ecModel.getLocaleModel(),useUTC:u.ecModel.get("useUTC")});default:return new aa}}(n,o);a.getTicks=function(){return r.mapArray(["value"],function(u){return{value:u}})};var s=r.getDataExtent("value");a.setExtent(s[0],s[1]),a.calcNiceTicks();var l=new hV("value",a,e.axisExtent,o);return l.model=n,l},t.prototype._createGroup=function(e){var n=this[e]=new Ze;return this.group.add(n),n},t.prototype._renderAxisLine=function(e,n,r,o){var a=r.getExtent();if(o.get(["lineStyle","show"])){var s=new ki({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:de({lineCap:"round"},o.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});n.add(s);var l=this._progressLine=new ki({shape:{x1:a[0],x2:this._currentPointer?this._currentPointer.x:a[0],y1:0,y2:0},style:Ve({lineCap:"round",lineWidth:s.style.lineWidth},o.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});n.add(l)}},t.prototype._renderAxisTick=function(e,n,r,o){var a=this,s=o.getData(),l=r.scale.getTicks();this._tickSymbols=[],G(l,function(u){var h=r.dataToCoord(u.value),c=s.getItemModel(u.value),p=c.getModel("itemStyle"),f=c.getModel(["emphasis","itemStyle"]),m=c.getModel(["progress","itemStyle"]),y={x:h,y:0,onclick:ke(a._changeTimeline,a,u.value)},v=WD(c,p,n,y);v.ensureState("emphasis").style=f.getItemStyle(),v.ensureState("progress").style=m.getItemStyle(),Ea(v);var b=rt(v);c.get("tooltip")?(b.dataIndex=u.value,b.dataModel=o):b.dataIndex=b.dataModel=null,a._tickSymbols.push(v)})},t.prototype._renderAxisLabel=function(e,n,r,o){var a=this;if(r.getLabelModel().get("show")){var s=o.getData(),l=r.getViewLabels();this._tickLabels=[],G(l,function(u){var h=u.tickValue,c=s.getItemModel(h),p=c.getModel("label"),f=c.getModel(["emphasis","label"]),m=c.getModel(["progress","label"]),y=r.dataToCoord(u.tickValue),v=new Mt({x:y,y:0,rotation:e.labelRotation-e.rotation,onclick:ke(a._changeTimeline,a,h),silent:!1,style:Kt(p,{text:u.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});v.ensureState("emphasis").style=Kt(f),v.ensureState("progress").style=Kt(m),n.add(v),Ea(v),GD(v).dataIndex=h,a._tickLabels.push(v)})}},t.prototype._renderControl=function(e,n,r,o){var a=e.controlSize,s=e.rotation,l=o.getModel("controlStyle").getItemStyle(),u=o.getModel(["emphasis","controlStyle"]).getItemStyle(),h=o.getPlayState(),c=o.get("inverse",!0);function p(f,m,y,v){if(f){var b=Vn(He(o.get(["controlStyle",m+"BtnSize"]),a),a),S=(D=[0,-b/2,b,b],L=(A={x:f[0],y:f[1],originX:a/2,originY:0,rotation:v?-s:0,rectHover:!0,style:l,onclick:y}).style,P=Vu(o.get(["controlStyle",m+"Icon"]),A||{},new st(D[0],D[1],D[2],D[3])),L&&P.setStyle(L),P);S.ensureState("emphasis").style=u,n.add(S),Ea(S)}var D,A,L,P}p(e.nextBtnPosition,"next",ke(this._changeTimeline,this,c?"-":"+")),p(e.prevBtnPosition,"prev",ke(this._changeTimeline,this,c?"+":"-")),p(e.playPosition,h?"stop":"play",ke(this._handlePlayClick,this,!h),!0)},t.prototype._renderCurrentPointer=function(e,n,r,o){var a=o.getData(),s=o.getCurrentIndex(),l=a.getItemModel(s).getModel("checkpointStyle"),u=this;this._currentPointer=WD(l,l,this._mainGroup,{},this._currentPointer,{onCreate:function(c){c.draggable=!0,c.drift=ke(u._handlePointerDrag,u),c.ondragend=ke(u._handlePointerDragend,u),HD(c,u._progressLine,s,r,o,!0)},onUpdate:function(c){HD(c,u._progressLine,s,r,o)}})},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,n,r){this._clearTimer(),this._pointerChangeTimeline([r.offsetX,r.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,n){var r=this._toAxisCoord(e)[0],o=_n(this._axis.getExtent().slice());r>o[1]&&(r=o[1]),r<o[0]&&(r=o[0]),this._currentPointer.x=r,this._currentPointer.markRedraw();var a=this._progressLine;a&&(a.shape.x2=r,a.dirty());var s=this._findNearestTick(r),l=this.model;(n||s!==l.getCurrentIndex()&&l.get("realtime"))&&this._changeTimeline(s)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var n=e.model;e._changeTimeline(n.getCurrentIndex()+(n.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){return Xr(e,this._mainGroup.getLocalTransform(),!0)},t.prototype._findNearestTick=function(e){var n,r=this.model.getData(),o=1/0,a=this._axis;return r.each(["value"],function(s,l){var u=a.dataToCoord(s),h=Math.abs(u-e);h<o&&(o=h,n=l)}),n},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var n=this.model.getCurrentIndex();"+"===e?e=n+1:"-"===e&&(e=n-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),n=this._tickSymbols,r=this._tickLabels;if(n)for(var o=0;o<n.length;o++)n&&n[o]&&n[o].toggleState("progress",o<e);if(r)for(o=0;o<r.length;o++)r&&r[o]&&r[o].toggleState("progress",GD(r[o]).dataIndex<=e)},t.type="timeline.slider",t}(uV);function WD(i,t,e,n,r,o){var a=t.get("color");r?(r.setColor(a),e.add(r),o&&o.onUpdate(r)):((r=gi(i.get("symbol"),-1,-1,2,2,a)).setStyle("strokeNoScale",!0),e.add(r),o&&o.onCreate(r));var s=t.getItemStyle(["color"]);r.setStyle(s),n=Be({rectHover:!0,z2:100},n,!0);var l=Kc(i.get("symbolSize"));n.scaleX=l[0]/2,n.scaleY=l[1]/2;var u=ih(i.get("symbolOffset"),l);u&&(n.x=(n.x||0)+u[0],n.y=(n.y||0)+u[1]);var h=i.get("symbolRotate");return n.rotation=(h||0)*Math.PI/180||0,r.attr(n),r.updateTransform(),r}function HD(i,t,e,n,r,o){if(!i.dragging){var a=r.getModel("checkpointStyle"),s=n.dataToCoord(r.getData().get("value",e));if(o||!a.get("animation",!0))i.attr({x:s,y:0}),t&&t.attr({shape:{x2:s}});else{var l={duration:a.get("animationDuration",!0),easing:a.get("animationEasing",!0)};i.stopAnimation(null,!0),i.animateTo({x:s,y:0},l),t&&t.animateTo({shape:{x2:s}},l)}}}function dV(i){var t=i&&i.timeline;fe(t)||(t=t?[t]:[]),G(t,function(e){e&&function(n){var r=n.type,o={number:"value",time:"time"};if(o[r]&&(n.axisType=o[r],delete n.type),YD(n),kl(n,"controlPosition")){var a=n.controlStyle||(n.controlStyle={});kl(a,"position")||(a.position=n.controlPosition),"none"!==a.position||kl(a,"show")||(a.show=!1,delete a.position),delete n.controlPosition}G(n.data||[],function(s){le(s)&&!fe(s)&&(!kl(s,"value")&&kl(s,"name")&&(s.value=s.name),YD(s))})}(e)})}function YD(i){var t=i.itemStyle||(i.itemStyle={}),e=t.emphasis||(t.emphasis={}),n=i.label||i.label||{},r=n.normal||(n.normal={}),o={normal:1,emphasis:1};G(n,function(a,s){o[s]||kl(r,s)||(r[s]=a)}),e.label&&!kl(n,"emphasis")&&(n.emphasis=e.label,delete e.label)}function kl(i,t){return i.hasOwnProperty(t)}function jx(i,t){if(!i)return!1;for(var e=fe(i)?i:[i],n=0;n<e.length;n++)if(e[n]&&e[n][t])return!0;return!1}function Yg(i){qo(i,"label",["show"])}var Xg=_t(),ca=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.createdBySelf=!1,e}return ie(t,i),t.prototype.init=function(e,n,r){this.mergeDefaultAndTheme(e,r),this._mergeOption(e,r,!1,!0)},t.prototype.isAnimationEnabled=function(){if(Ee.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,n){this._mergeOption(e,n,!1,!1)},t.prototype._mergeOption=function(e,n,r,o){var a=this.mainType;r||n.eachSeries(function(s){var l=s.get(this.mainType,!0),u=Xg(s)[a];l&&l.data?(u?u._mergeOption(l,n,!0):(o&&Yg(l),G(l.data,function(h){h instanceof Array?(Yg(h[0]),Yg(h[1])):Yg(h)}),de(u=this.createMarkerModelFromSeries(l,this,n),{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),u.__hostSeries=s),Xg(s)[a]=u):Xg(s)[a]=null},this)},t.prototype.formatTooltip=function(e,n,r){var o=this.getData(),a=this.getRawValue(e),s=o.getName(e);return Ni("section",{header:this.name,blocks:[Ni("nameValue",{name:s,value:a,noName:!s,noValue:null==a})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.getMarkerModelFromSeries=function(e,n){return Xg(e)[n]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(mt);Qt(ca,my.prototype);var pV=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.createMarkerModelFromSeries=function(e,n,r){return new t(e,n,r)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(ca);function Zx(i){return!(isNaN(parseFloat(i.x))&&isNaN(parseFloat(i.y)))}function Ug(i,t,e,n,r,o){var a=[],s=oa(t,n)?t.getCalculationInfo("stackResultDimension"):n,l=$x(t,s,i),u=t.indicesOfNearest(s,l)[0];a[r]=t.get(e,u),a[o]=t.get(s,u);var h=t.get(n,u),c=Bn(t.get(n,u));return(c=Math.min(c,20))>=0&&(a[o]=+a[o].toFixed(c)),[a,h]}var qx={min:Xe(Ug,"min"),max:Xe(Ug,"max"),average:Xe(Ug,"average"),median:Xe(Ug,"median")};function Hd(i,t){if(t){var e=i.getData(),n=i.coordinateSystem,r=n.dimensions;if(c=t,(isNaN(parseFloat(c.x))||isNaN(parseFloat(c.y)))&&!fe(t.coord)&&n){var o=XD(t,e,n,i);if((t=Ue(t)).type&&qx[t.type]&&o.baseAxis&&o.valueAxis){var a=We(r,o.baseAxis.dim),s=We(r,o.valueAxis.dim),l=qx[t.type](e,o.baseDataDim,o.valueDataDim,a,s);t.coord=l[0],t.value=l[1]}else t.coord=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis]}if(null==t.coord)t.coord=[];else for(var u=t.coord,h=0;h<2;h++)qx[u[h]]&&(u[h]=$x(e,e.mapDimension(r[h]),u[h]));return t}var c}function XD(i,t,e,n){var a,s,r={};return null!=i.valueIndex||null!=i.valueDim?(r.valueDataDim=null!=i.valueIndex?t.getDimension(i.valueIndex):i.valueDim,r.valueAxis=e.getAxis((a=r.valueDataDim,(s=n.getData().getDimensionInfo(a))&&s.coordDim)),r.baseAxis=e.getOtherAxis(r.valueAxis),r.baseDataDim=t.mapDimension(r.baseAxis.dim)):(r.baseAxis=n.getBaseAxis(),r.valueAxis=e.getOtherAxis(r.baseAxis),r.baseDataDim=t.mapDimension(r.baseAxis.dim),r.valueDataDim=t.mapDimension(r.valueAxis.dim)),r}function Yd(i,t){return!(i&&i.containData&&t.coord&&!Zx(t))||i.containData(t.coord)}function UD(i,t){return i?function(e,n,r,o){return Ha(o<2?e.coord&&e.coord[o]:e.value,t[o])}:function(e,n,r,o){return Ha(e.value,t[o])}}function $x(i,t,e){if("average"===e){var n=0,r=0;return i.each(t,function(o,a){isNaN(o)||(n+=o,r++)}),n/r}return"median"===e?i.getMedian(t):i.getDataExtent(t)["max"===e?1:0]}var Kx=_t(),Jx=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.init=function(){this.markerGroupMap=ze()},t.prototype.render=function(e,n,r){var o=this,a=this.markerGroupMap;a.each(function(s){Kx(s).keep=!1}),n.eachSeries(function(s){var l=ca.getMarkerModelFromSeries(s,o.type);l&&o.renderSeries(s,l,n,r)}),a.each(function(s){!Kx(s).keep&&o.group.remove(s.group)})},t.prototype.markKeep=function(e){Kx(e).keep=!0},t.prototype.toggleBlurSeries=function(e,n){var r=this;G(e,function(o){var a=ca.getMarkerModelFromSeries(o,r.type);a&&a.getData().eachItemGraphicEl(function(s){s&&(n?G1(s):bm(s))})})},t.type="marker",t}(ei);function jD(i,t,e){var n=t.coordinateSystem;i.each(function(r){var o,a=i.getItemModel(r),s=Te(a.get("x"),e.getWidth()),l=Te(a.get("y"),e.getHeight());if(isNaN(s)||isNaN(l)){if(t.getMarkerPosition)o=t.getMarkerPosition(i.getValues(i.dimensions,r));else if(n){var u=i.get(n.dimensions[0],r),h=i.get(n.dimensions[1],r);o=n.dataToPoint([u,h])}}else o=[s,l];isNaN(s)||(o[0]=s),isNaN(l)||(o[1]=l),i.setItemLayout(r,o)})}var fV=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.updateTransform=function(e,n,r){n.eachSeries(function(o){var a=ca.getMarkerModelFromSeries(o,"markPoint");a&&(jD(a.getData(),o,r),this.markerGroupMap.get(o.id).updateLayout())},this)},t.prototype.renderSeries=function(e,n,r,o){var a=e.coordinateSystem,s=e.id,l=e.getData(),u=this.markerGroupMap,h=u.get(s)||u.set(s,new md),c=function(p,f,m){var y;y=p?ge(p&&p.dimensions,function(I){return de(de({},f.getData().getDimensionInfo(f.getData().mapDimension(I))||{}),{name:I,ordinalMeta:null})}):[{name:"value",type:"float"}];var v=new yn(y,m),b=ge(m.get("data"),Xe(Hd,f));p&&(b=xt(b,Xe(Yd,p)));var S=UD(!!p,y);return v.initData(b,null,S),v}(a,e,n);n.setData(c),jD(n.getData(),e,o),c.each(function(p){var f=c.getItemModel(p),m=f.getShallow("symbol"),y=f.getShallow("symbolSize"),v=f.getShallow("symbolRotate"),b=f.getShallow("symbolOffset"),S=f.getShallow("symbolKeepAspect");if(Ge(m)||Ge(y)||Ge(v)||Ge(b)){var I=n.getRawValue(p),T=n.getDataParams(p);Ge(m)&&(m=m(I,T)),Ge(y)&&(y=y(I,T)),Ge(v)&&(v=v(I,T)),Ge(b)&&(b=b(I,T))}var D=f.getModel("itemStyle").getItemStyle(),A=$c(l,"color");D.fill||(D.fill=A),c.setItemVisual(p,{symbol:m,symbolSize:y,symbolRotate:v,symbolOffset:b,symbolKeepAspect:S,style:D})}),h.updateData(c),this.group.add(h.group),c.eachItemGraphicEl(function(p){p.traverse(function(f){rt(f).dataModel=n})}),this.markKeep(h),h.group.silent=n.get("silent")||e.get("silent")},t.type="markPoint",t}(Jx),gV=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.createMarkerModelFromSeries=function(e,n,r){return new t(e,n,r)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(ca),jg=_t(),mV=function(i,t,e,n){var r,o=i.getData();if(fe(n))r=n;else{var a=n.type;if("min"===a||"max"===a||"average"===a||"median"===a||null!=n.xAxis||null!=n.yAxis){var s=void 0,l=void 0;if(null!=n.yAxis||null!=n.xAxis)s=t.getAxis(null!=n.yAxis?"y":"x"),l=kt(n.yAxis,n.xAxis);else{var u=XD(n,o,t,i);s=u.valueAxis,l=$x(o,Jy(o,u.valueDataDim),a)}var h="x"===s.dim?0:1,c=1-h,p=Ue(n),f={coord:[]};p.type=null,p.coord=[],p.coord[c]=-1/0,f.coord[c]=1/0;var m=e.get("precision");m>=0&&oe(l)&&(l=+l.toFixed(Math.min(m,20))),p.coord[h]=f.coord[h]=l,r=[p,f,{type:a,valueIndex:n.valueIndex,value:l}]}else r=[]}var y=[Hd(i,r[0]),Hd(i,r[1]),de({},r[2])];return y[2].type=y[2].type||null,Be(y[2],y[0]),Be(y[2],y[1]),y};function Zg(i){return!isNaN(i)&&!isFinite(i)}function ZD(i,t,e,n){var r=1-i,o=n.dimensions[i];return Zg(t[r])&&Zg(e[r])&&t[i]===e[i]&&n.getAxis(o).containData(t[i])}function yV(i,t){if("cartesian2d"===i.type){var e=t[0].coord,n=t[1].coord;if(e&&n&&(ZD(1,e,n,i)||ZD(0,e,n,i)))return!0}return Yd(i,t[0])&&Yd(i,t[1])}function Qx(i,t,e,n,r){var o,a=n.coordinateSystem,s=i.getItemModel(t),l=Te(s.get("x"),r.getWidth()),u=Te(s.get("y"),r.getHeight());if(isNaN(l)||isNaN(u)){if(n.getMarkerPosition)o=n.getMarkerPosition(i.getValues(i.dimensions,t));else{var h=a.dimensions,c=i.get(h[0],t),p=i.get(h[1],t);o=a.dataToPoint([c,p])}if(vl(a,"cartesian2d")){var f=a.getAxis("x"),m=a.getAxis("y");Zg(i.get((h=a.dimensions)[0],t))?o[0]=f.toGlobalCoord(f.getExtent()[e?0:1]):Zg(i.get(h[1],t))&&(o[1]=m.toGlobalCoord(m.getExtent()[e?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}else o=[l,u];i.setItemLayout(t,o)}var vV=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.updateTransform=function(e,n,r){n.eachSeries(function(o){var a=ca.getMarkerModelFromSeries(o,"markLine");if(a){var s=a.getData(),l=jg(a).from,u=jg(a).to;l.each(function(h){Qx(l,h,!0,o,r),Qx(u,h,!1,o,r)}),s.each(function(h){s.setItemLayout(h,[l.getItemLayout(h),u.getItemLayout(h)])}),this.markerGroupMap.get(o.id).updateLayout()}},this)},t.prototype.renderSeries=function(e,n,r,o){var a=e.coordinateSystem,s=e.id,l=e.getData(),u=this.markerGroupMap,h=u.get(s)||u.set(s,new I0);this.group.add(h.group);var c=function(T,D,A){var L;L=T?ge(T&&T.dimensions,function(W){return de(de({},D.getData().getDimensionInfo(D.getData().mapDimension(W))||{}),{name:W,ordinalMeta:null})}):[{name:"value",type:"float"}];var P=new yn(L,A),E=new yn(L,A),N=new yn([],A),z=ge(A.get("data"),Xe(mV,D,T,A));T&&(z=xt(z,Xe(yV,T)));var B=UD(!!T,L);return P.initData(ge(z,function(W){return W[0]}),null,B),E.initData(ge(z,function(W){return W[1]}),null,B),N.initData(ge(z,function(W){return W[2]})),N.hasItemOption=!0,{from:P,to:E,line:N}}(a,e,n),p=c.from,f=c.to,m=c.line;jg(n).from=p,jg(n).to=f,n.setData(m);var y=n.get("symbol"),v=n.get("symbolSize"),b=n.get("symbolRotate"),S=n.get("symbolOffset");function I(T,D,A){var L=T.getItemModel(D);Qx(T,D,A,e,o);var P=L.getModel("itemStyle").getItemStyle();null==P.fill&&(P.fill=$c(l,"color")),T.setItemVisual(D,{symbolKeepAspect:L.get("symbolKeepAspect"),symbolOffset:He(L.get("symbolOffset",!0),S[A?0:1]),symbolRotate:He(L.get("symbolRotate",!0),b[A?0:1]),symbolSize:He(L.get("symbolSize"),v[A?0:1]),symbol:He(L.get("symbol",!0),y[A?0:1]),style:P})}fe(y)||(y=[y,y]),fe(v)||(v=[v,v]),fe(b)||(b=[b,b]),fe(S)||(S=[S,S]),c.from.each(function(T){I(p,T,!0),I(f,T,!1)}),m.each(function(T){var D=m.getItemModel(T).getModel("lineStyle").getLineStyle();m.setItemLayout(T,[p.getItemLayout(T),f.getItemLayout(T)]),null==D.stroke&&(D.stroke=p.getItemVisual(T,"style").fill),m.setItemVisual(T,{fromSymbolKeepAspect:p.getItemVisual(T,"symbolKeepAspect"),fromSymbolOffset:p.getItemVisual(T,"symbolOffset"),fromSymbolRotate:p.getItemVisual(T,"symbolRotate"),fromSymbolSize:p.getItemVisual(T,"symbolSize"),fromSymbol:p.getItemVisual(T,"symbol"),toSymbolKeepAspect:f.getItemVisual(T,"symbolKeepAspect"),toSymbolOffset:f.getItemVisual(T,"symbolOffset"),toSymbolRotate:f.getItemVisual(T,"symbolRotate"),toSymbolSize:f.getItemVisual(T,"symbolSize"),toSymbol:f.getItemVisual(T,"symbol"),style:D})}),h.updateData(m),c.line.eachItemGraphicEl(function(T){rt(T).dataModel=n,T.traverse(function(D){rt(D).dataModel=n})}),this.markKeep(h),h.group.silent=n.get("silent")||e.get("silent")},t.type="markLine",t}(Jx),xV=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.createMarkerModelFromSeries=function(e,n,r){return new t(e,n,r)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(ca),qg=_t(),_V=function(i,t,e,n){var r=n[0],o=n[1];if(r&&o){var a=Hd(i,r),s=Hd(i,o),l=a.coord,u=s.coord;l[0]=kt(l[0],-1/0),l[1]=kt(l[1],-1/0),u[0]=kt(u[0],1/0),u[1]=kt(u[1],1/0);var h=Et([{},a,s]);return h.coord=[a.coord,s.coord],h.x0=a.x,h.y0=a.y,h.x1=s.x,h.y1=s.y,h}};function $g(i){return!isNaN(i)&&!isFinite(i)}function qD(i,t,e,n){var r=1-i;return $g(t[r])&&$g(e[r])}function bV(i,t){var a,s,l,e=t.coord[0],n=t.coord[1],r={coord:e,x:t.x0,y:t.y0},o={coord:n,x:t.x1,y:t.y1};return vl(i,"cartesian2d")?!(!e||!n||!qD(1,e,n)&&!qD(0,e,n))||(s=r,l=o,!((a=i)&&a.containZone&&s.coord&&l.coord&&!Zx(s)&&!Zx(l))||a.containZone(s.coord,l.coord)):Yd(i,r)||Yd(i,o)}function $D(i,t,e,n,r){var o,a=n.coordinateSystem,s=i.getItemModel(t),l=Te(s.get(e[0]),r.getWidth()),u=Te(s.get(e[1]),r.getHeight());if(isNaN(l)||isNaN(u)){if(n.getMarkerPosition){var h=i.getValues(["x0","y0"],t),c=i.getValues(["x1","y1"],t),p=a.clampData(h),f=a.clampData(c),m=[];m[0]="x0"===e[0]?p[0]>f[0]?c[0]:h[0]:p[0]>f[0]?h[0]:c[0],m[1]="y0"===e[1]?p[1]>f[1]?c[1]:h[1]:p[1]>f[1]?h[1]:c[1],o=n.getMarkerPosition(m,e,!0)}else{var y=[S=i.get(e[0],t),I=i.get(e[1],t)];a.clampData&&a.clampData(y,y),o=a.dataToPoint(y,!0)}if(vl(a,"cartesian2d")){var v=a.getAxis("x"),b=a.getAxis("y"),S=i.get(e[0],t),I=i.get(e[1],t);$g(S)?o[0]=v.toGlobalCoord(v.getExtent()["x0"===e[0]?0:1]):$g(I)&&(o[1]=b.toGlobalCoord(b.getExtent()["y0"===e[1]?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}else o=[l,u];return o}var KD=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],wV=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.updateTransform=function(e,n,r){n.eachSeries(function(o){var a=ca.getMarkerModelFromSeries(o,"markArea");if(a){var s=a.getData();s.each(function(l){var u=ge(KD,function(h){return $D(s,l,h,o,r)});s.setItemLayout(l,u),s.getItemGraphicEl(l).setShape("points",u)})}},this)},t.prototype.renderSeries=function(e,n,r,o){var a=e.coordinateSystem,s=e.id,l=e.getData(),u=this.markerGroupMap,h=u.get(s)||u.set(s,{group:new Ze});this.group.add(h.group),this.markKeep(h);var c=function(p,f,m){var y,v;if(p){var S=ge(p&&p.dimensions,function(D){var A=f.getData();return de(de({},A.getDimensionInfo(A.mapDimension(D))||{}),{name:D,ordinalMeta:null})});v=ge(["x0","y0","x1","y1"],function(D,A){return{name:D,type:S[A%2].type}}),y=new yn(v,m)}else y=new yn(v=[{name:"value",type:"float"}],m);var I=ge(m.get("data"),Xe(_V,f,p,m));return p&&(I=xt(I,Xe(bV,p))),y.initData(I,null,p?function(D,A,L,P){return Ha(D.coord[Math.floor(P/2)][P%2],v[P])}:function(D,A,L,P){return Ha(D.value,v[P])}),y.hasItemOption=!0,y}(a,e,n);n.setData(c),c.each(function(p){var f=ge(KD,function(L){return $D(c,p,L,e,o)}),m=a.getAxis("x").scale,y=a.getAxis("y").scale,v=m.getExtent(),b=y.getExtent(),S=[m.parse(c.get("x0",p)),m.parse(c.get("x1",p))],I=[y.parse(c.get("y0",p)),y.parse(c.get("y1",p))];_n(S),_n(I),c.setItemLayout(p,{points:f,allClipped:v[0]>S[1]||v[1]<S[0]||b[0]>I[1]||b[1]<I[0]});var D=c.getItemModel(p).getModel("itemStyle").getItemStyle(),A=$c(l,"color");D.fill||(D.fill=A,De(D.fill)&&(D.fill=wa(D.fill,.4))),D.stroke||(D.stroke=A),c.setItemVisual(p,"style",D)}),c.diff(qg(h).data).add(function(p){var f=c.getItemLayout(p);if(!f.allClipped){var m=new fn({shape:{points:f.points}});c.setItemGraphicEl(p,m),h.group.add(m)}}).update(function(p,f){var m=qg(h).data.getItemGraphicEl(f),y=c.getItemLayout(p);y.allClipped?m&&h.group.remove(m):(m?It(m,{shape:{points:y.points}},n,p):m=new fn({shape:{points:y.points}}),c.setItemGraphicEl(p,m),h.group.add(m))}).remove(function(p){var f=qg(h).data.getItemGraphicEl(p);h.group.remove(f)}).execute(),c.eachItemGraphicEl(function(p,f){var m=c.getItemModel(f),y=c.getItemVisual(f,"style");p.useStyle(c.getItemVisual(f,"style")),rn(p,Ei(m),{labelFetcher:n,labelDataIndex:f,defaultText:c.getName(f)||"",inheritColor:De(y.fill)?wa(y.fill,1):"#000"}),nn(p,m),hi(p,null,null,m.get(["emphasis","disabled"])),rt(p).dataModel=n}),qg(h).data=c,h.group.silent=n.get("silent")||e.get("silent")},t.type="markArea",t}(Jx),e1=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return ie(t,i),t.prototype.init=function(e,n,r){this.mergeDefaultAndTheme(e,r),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(e,n){i.prototype.mergeOption.call(this,e,n),this._updateSelector(e)},t.prototype._updateSelector=function(e){var n=e.selector,r=this.ecModel;!0===n&&(n=e.selector=["all","inverse"]),fe(n)&&G(n,function(o,a){var s,l;De(o)&&(o={type:o}),n[a]=Be(o,(s=r,"all"===(l=o.type)?{type:"all",title:s.getLocaleModel().get(["legend","selector","all"])}:"inverse"===l?{type:"inverse",title:s.getLocaleModel().get(["legend","selector","inverse"])}:void 0))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var n=!1,r=0;r<e.length;r++){var o=e[r].get("name");if(this.isSelected(o)){this.select(o),n=!0;break}}!n&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var n=[],r=[];e.eachRawSeries(function(l){var u;if(r.push(l.name),l.legendVisualProvider){var c=l.legendVisualProvider.getAllNames();e.isSeriesFiltered(l)||(r=r.concat(c)),c.length?n=n.concat(c):u=!0}else u=!0;u&&mc(l)&&n.push(l.name)}),this._availableNames=r;var o=this.get("data")||n,a=ze(),s=ge(o,function(l){return(De(l)||oe(l))&&(l={name:l}),a.get(l.name)?null:(a.set(l.name,!0),new Rt(l,this,this.ecModel))},this);this._data=xt(s,function(l){return!!l})},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var n=this.option.selected;"single"===this.get("selectedMode")&&G(this._data,function(r){n[r.get("name")]=!1}),n[e]=!0},t.prototype.unSelect=function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var n=this.option.selected;n.hasOwnProperty(e)||(n[e]=!0),this[n[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var n=this.option.selected;G(this._data,function(r){n[r.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var n=this.option.selected;G(this._data,function(r){var o=r.get("name",!0);n.hasOwnProperty(o)||(n[o]=!0),n[o]=!n[o]})},t.prototype.isSelected=function(e){var n=this.option.selected;return!(n.hasOwnProperty(e)&&!n[e])&&We(this._availableNames,e)>=0},t.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(mt),Ih=Xe,t1=G,Kg=Ze,JD=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!1,e}return ie(t,i),t.prototype.init=function(){this.group.add(this._contentGroup=new Kg),this.group.add(this._selectorGroup=new Kg),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,n,r){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var a=e.get("align"),s=e.get("orient");a&&"auto"!==a||(a="right"===e.get("left")&&"vertical"===s?"right":"left");var l=e.get("selector",!0),u=e.get("selectorPosition",!0);!l||u&&"auto"!==u||(u="horizontal"===s?"end":"start"),this.renderInner(a,e,n,r,l,s,u);var h=e.getBoxLayoutParams(),c={width:r.getWidth(),height:r.getHeight()},p=e.get("padding"),f=wi(h,c,p),m=this.layoutInner(e,a,f,o,l,u),y=wi(Ve({width:m.width,height:m.height},h),c,p);this.group.x=y.x-m.x,this.group.y=y.y-m.y,this.group.markRedraw(),this.group.add(this._backgroundEl=sD(m,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,n,r,o,a,s,l){var u=this.getContentGroup(),h=ze(),c=n.get("selectedMode"),p=[];r.eachRawSeries(function(f){!f.get("legendHoverLink")&&p.push(f.id)}),t1(n.getData(),function(f,m){var y=f.get("name");if(!this.newlineDisabled&&(""===y||"\n"===y)){var v=new Kg;return v.newline=!0,void u.add(v)}var b=r.getSeriesByName(y)[0];if(!h.get(y))if(b){var S=b.getData(),I=S.getVisual("legendLineStyle")||{},T=S.getVisual("legendIcon"),D=S.getVisual("style");this._createItem(b,y,m,f,n,e,I,D,T,c,o).on("click",Ih(QD,y,null,o,p)).on("mouseover",Ih(i1,b.name,null,o,p)).on("mouseout",Ih(n1,b.name,null,o,p)),h.set(y,!0)}else r.eachRawSeries(function(A){if(!h.get(y)&&A.legendVisualProvider){var L=A.legendVisualProvider;if(!L.containName(y))return;var P=L.indexOfName(y),E=L.getItemVisual(P,"style"),N=L.getItemVisual(P,"legendIcon"),z=Ki(E.fill);z&&0===z[3]&&(z[3]=.2,E=de(de({},E),{fill:Rn(z,"rgba")})),this._createItem(A,y,m,f,n,e,{},E,N,c,o).on("click",Ih(QD,null,y,o,p)).on("mouseover",Ih(i1,null,y,o,p)).on("mouseout",Ih(n1,null,y,o,p)),h.set(y,!0)}},this)},this),a&&this._createSelector(a,n,o,s,l)},t.prototype._createSelector=function(e,n,r,o,a){var s=this.getSelectorGroup();t1(e,function(l){var u=l.type,h=new Mt({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){r.dispatchAction({type:"all"===u?"legendAllSelect":"legendInverseSelect"})}});s.add(h),rn(h,{normal:n.getModel("selectorLabel"),emphasis:n.getModel(["emphasis","selectorLabel"])},{defaultText:l.title}),Ea(h)})},t.prototype._createItem=function(e,n,r,o,a,s,l,u,h,c,p){var j,Z,q,f=e.visualDrawType,m=a.get("itemWidth"),y=a.get("itemHeight"),v=a.isSelected(n),b=o.get("symbolRotate"),S=o.get("symbolKeepAspect"),I=o.get("icon"),T=function(j,Z,q,K,Q,te,ne){function ce(Ce,Ne){"auto"===Ce.lineWidth&&(Ce.lineWidth=Ne.lineWidth>0?2:0),t1(Ce,function(et,ot){"inherit"===Ce[ot]&&(Ce[ot]=Ne[ot])})}var ye=Z.getModel("itemStyle"),re=ye.getItemStyle(),pe=0===j.lastIndexOf("empty",0)?"fill":"stroke",ve=ye.getShallow("decal");re.decal=ve&&"inherit"!==ve?rh(ve,ne):K.decal,"inherit"===re.fill&&(re.fill=K[Q]),"inherit"===re.stroke&&(re.stroke=K[pe]),"inherit"===re.opacity&&(re.opacity=("fill"===Q?K:q).opacity),ce(re,K);var be=Z.getModel("lineStyle"),xe=be.getLineStyle();if(ce(xe,q),"auto"===re.fill&&(re.fill=K.fill),"auto"===re.stroke&&(re.stroke=K.fill),"auto"===xe.stroke&&(xe.stroke=K.fill),!te){var we=Z.get("inactiveBorderWidth");re.lineWidth="auto"===we?K.lineWidth>0&&re[pe]?2:0:re.lineWidth,re.fill=Z.get("inactiveColor"),re.stroke=Z.get("inactiveBorderColor"),xe.stroke=be.get("inactiveColor"),xe.lineWidth=be.get("inactiveWidth")}return{itemStyle:re,lineStyle:xe}}(h=I||h||"roundRect",o,l,u,f,v,p),D=new Kg,A=o.getModel("textStyle");if(!Ge(e.getLegendIcon)||I&&"inherit"!==I){var L="inherit"===I&&e.getData().getVisual("symbol")?"inherit"===b?e.getData().getVisual("symbolRotate"):b:0;D.add(((q=gi(Z=(j={itemWidth:m,itemHeight:y,icon:h,iconRotate:L,itemStyle:T.itemStyle,lineStyle:T.lineStyle,symbolKeepAspect:S}).icon||"roundRect",0,0,j.itemWidth,j.itemHeight,j.itemStyle.fill,j.symbolKeepAspect)).setStyle(j.itemStyle),q.rotation=(j.iconRotate||0)*Math.PI/180,q.setOrigin([j.itemWidth/2,j.itemHeight/2]),Z.indexOf("empty")>-1&&(q.style.stroke=q.style.fill,q.style.fill="#fff",q.style.lineWidth=2),q))}else D.add(e.getLegendIcon({itemWidth:m,itemHeight:y,icon:h,iconRotate:b,itemStyle:T.itemStyle,lineStyle:T.lineStyle,symbolKeepAspect:S}));var P="left"===s?m+5:-5,E=s,N=a.get("formatter"),z=n;De(N)&&N?z=N.replace("{name}",n??""):Ge(N)&&(z=N(n));var B=o.get("inactiveColor");D.add(new Mt({style:Kt(A,{text:z,x:P,y:y/2,fill:v?A.getTextColor():B,align:E,verticalAlign:"middle"})}));var W=new St({shape:D.getBoundingRect(),invisible:!0}),Y=o.getModel("tooltip");return Y.get("show")&&Bu({el:W,componentModel:a,itemName:n,itemTooltipOption:Y.option}),D.add(W),D.eachChild(function(j){j.silent=!0}),W.silent=!c,this.getContentGroup().add(D),Ea(D),D.__legendDataIndex=r,D},t.prototype.layoutInner=function(e,n,r,o,a,s){var l=this.getContentGroup(),u=this.getSelectorGroup();ol(e.get("orient"),l,e.get("itemGap"),r.width,r.height);var h=l.getBoundingRect(),c=[-h.x,-h.y];if(u.markRedraw(),l.markRedraw(),a){ol("horizontal",u,e.get("selectorItemGap",!0));var p=u.getBoundingRect(),f=[-p.x,-p.y],m=e.get("selectorButtonGap",!0),y=e.getOrient().index,v=0===y?"width":"height",b=0===y?"height":"width",S=0===y?"y":"x";"end"===s?f[y]+=h[v]+m:c[y]+=p[v]+m,f[1-y]+=h[b]/2-p[b]/2,u.x=f[0],u.y=f[1],l.x=c[0],l.y=c[1];var I={x:0,y:0};return I[v]=h[v]+m+p[v],I[b]=Math.max(h[b],p[b]),I[S]=Math.min(0,p[S]+f[1-y]),I}return l.x=c[0],l.y=c[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(ei);function QD(i,t,e,n){n1(i,t,e,n),e.dispatchAction({type:"legendToggleSelect",name:i??t}),i1(i,t,e,n)}function eA(i){for(var t,e=i.getZr().storage.getDisplayList(),n=0,r=e.length;n<r&&!(t=e[n].states.emphasis);)n++;return t&&t.hoverLayer}function i1(i,t,e,n){eA(e)||e.dispatchAction({type:"highlight",seriesName:i,name:t,excludeSeriesId:n})}function n1(i,t,e,n){eA(e)||e.dispatchAction({type:"downplay",seriesName:i,name:t,excludeSeriesId:n})}function SV(i){var t=i.findComponents({mainType:"legend"});t&&t.length&&i.filterSeries(function(e){for(var n=0;n<t.length;n++)if(!t[n].isSelected(e.name))return!1;return!0})}function Xd(i,t,e){var n,r={},o="toggleSelected"===i;return e.eachComponent("legend",function(a){o&&null!=n?a[n?"select":"unSelect"](t.name):"allSelect"===i||"inverseSelect"===i?a[i]():(a[i](t.name),n=a.isSelected(t.name)),G(a.getData(),function(s){var l=s.get("name");if("\n"!==l&&""!==l){var u=a.isSelected(l);r[l]=r.hasOwnProperty(l)?r[l]&&u:u}})}),"allSelect"===i||"inverseSelect"===i?{selected:r}:{name:t.name,selected:r}}function tA(i){i.registerComponentModel(e1),i.registerComponentView(JD),i.registerProcessor(i.PRIORITY.PROCESSOR.SERIES_FILTER,SV),i.registerSubTypeDefaulter("legend",function(){return"plain"}),function(t){t.registerAction("legendToggleSelect","legendselectchanged",Xe(Xd,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",Xe(Xd,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",Xe(Xd,"inverseSelect")),t.registerAction("legendSelect","legendselected",Xe(Xd,"select")),t.registerAction("legendUnSelect","legendunselected",Xe(Xd,"unSelect"))}(i)}var MV=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(e,n,r){var o=Yu(e);i.prototype.init.call(this,e,n,r),iA(this,e,o)},t.prototype.mergeOption=function(e,n){i.prototype.mergeOption.call(this,e,n),iA(this,this.option,e)},t.type="legend.scroll",t.defaultOption=Ba(e1.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(e1);function iA(i,t,e){var n=[1,1];n[i.getOrient().index]=0,Fa(t,e,{type:"box",ignoreSize:!!n})}var nA=Ze,r1=["width","height"],o1=["x","y"],IV=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!0,e._currentIndex=0,e}return ie(t,i),t.prototype.init=function(){i.prototype.init.call(this),this.group.add(this._containerGroup=new nA),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new nA)},t.prototype.resetInner=function(){i.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(e,n,r,o,a,s,l){var u=this;i.prototype.renderInner.call(this,e,n,r,o,a,s,l);var h=this._controllerGroup,c=n.get("pageIconSize",!0),p=fe(c)?c:[c,c];m("pagePrev",0);var f=n.getModel("pageTextStyle");function m(y,v){var b=y+"DataIndex",S=Vu(n.get("pageIcons",!0)[n.getOrient().name][v],{onclick:ke(u._pageGo,u,b,n,o)},{x:-p[0]/2,y:-p[1]/2,width:p[0],height:p[1]});S.name=y,h.add(S)}h.add(new Mt({name:"pageText",style:{text:"xx/xx",fill:f.getTextColor(),font:f.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),m("pageNext",1)},t.prototype.layoutInner=function(e,n,r,o,a,s){var l=this.getSelectorGroup(),u=e.getOrient().index,h=r1[u],c=o1[u],p=r1[1-u],f=o1[1-u];a&&ol("horizontal",l,e.get("selectorItemGap",!0));var m=e.get("selectorButtonGap",!0),y=l.getBoundingRect(),v=[-y.x,-y.y],b=Ue(r);a&&(b[h]=r[h]-y[h]-m);var S=this._layoutContentAndController(e,o,b,u,h,p,f,c);if(a){if("end"===s)v[u]+=S[h]+m;else{var I=y[h]+m;v[u]-=I,S[c]-=I}S[h]+=y[h]+m,v[1-u]+=S[f]+S[p]/2-y[p]/2,S[p]=Math.max(S[p],y[p]),S[f]=Math.min(S[f],y[f]+v[1-u]),l.x=v[0],l.y=v[1],l.markRedraw()}return S},t.prototype._layoutContentAndController=function(e,n,r,o,a,s,l,u){var h=this.getContentGroup(),c=this._containerGroup,p=this._controllerGroup;ol(e.get("orient"),h,e.get("itemGap"),o?r.width:null,o?null:r.height),ol("horizontal",p,e.get("pageButtonItemGap",!0));var f=h.getBoundingRect(),m=p.getBoundingRect(),y=this._showController=f[a]>r[a],v=[-f.x,-f.y];n||(v[o]=h[u]);var b=[0,0],S=[-m.x,-m.y],I=He(e.get("pageButtonGap",!0),e.get("itemGap",!0));y&&("end"===e.get("pageButtonPosition",!0)?S[o]+=r[a]-m[a]:b[o]+=m[a]+I),S[1-o]+=f[s]/2-m[s]/2,h.setPosition(v),c.setPosition(b),p.setPosition(S);var T={x:0,y:0};if(T[a]=y?r[a]:f[a],T[s]=Math.max(f[s],m[s]),T[l]=Math.min(0,m[l]+S[1-o]),c.__rectSize=r[a],y){var D={x:0,y:0};D[a]=Math.max(r[a]-m[a]-I,0),D[s]=T[s],c.setClipPath(new St({shape:D})),c.__rectSize=D[a]}else p.eachChild(function(L){L.attr({invisible:!0,silent:!0})});var A=this._getPageInfo(e);return null!=A.pageIndex&&It(h,{x:A.contentPosition[0],y:A.contentPosition[1]},y?e:null),this._updatePageInfoView(e,A),T},t.prototype._pageGo=function(e,n,r){var o=this._getPageInfo(n)[e];null!=o&&r.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:n.id})},t.prototype._updatePageInfoView=function(e,n){var r=this._controllerGroup;G(["pagePrev","pageNext"],function(h){var c=null!=n[h+"DataIndex"],p=r.childOfName(h);p&&(p.setStyle("fill",e.get(c?"pageIconColor":"pageIconInactiveColor",!0)),p.cursor=c?"pointer":"default")});var o=r.childOfName("pageText"),a=e.get("pageFormatter"),s=n.pageIndex,l=null!=s?s+1:0,u=n.pageCount;o&&a&&o.setStyle("text",De(a)?a.replace("{current}",null==l?"":l+"").replace("{total}",null==u?"":u+""):a({current:l,total:u}))},t.prototype._getPageInfo=function(e){var n=e.get("scrollDataIndex",!0),r=this.getContentGroup(),o=this._containerGroup.__rectSize,a=e.getOrient().index,s=r1[a],l=o1[a],u=this._findTargetItemIndex(n),h=r.children(),c=h[u],p=h.length,f=p?1:0,m={contentPosition:[r.x,r.y],pageCount:f,pageIndex:f-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return m;var y=T(c);m.contentPosition[a]=-y.s;for(var v=u+1,b=y,S=y,I=null;v<=p;++v)(!(I=T(h[v]))&&S.e>b.s+o||I&&!D(I,b.s))&&(b=S.i>b.i?S:I)&&(null==m.pageNextDataIndex&&(m.pageNextDataIndex=b.i),++m.pageCount),S=I;for(v=u-1,b=y,S=y,I=null;v>=-1;--v)(I=T(h[v]))&&D(S,I.s)||!(b.i<S.i)||(S=b,null==m.pagePrevDataIndex&&(m.pagePrevDataIndex=b.i),++m.pageCount,++m.pageIndex),b=I;return m;function T(A){if(A){var L=A.getBoundingRect(),P=L[l]+A[l];return{s:P,e:P+L[s],i:A.__legendDataIndex}}}function D(A,L){return A.e>=L&&A.s<=L+o}},t.prototype._findTargetItemIndex=function(e){return this._showController?(this.getContentGroup().eachChild(function(o,a){var s=o.__legendDataIndex;null==r&&null!=s&&(r=a),s===e&&(n=a)}),n??r):0;var n,r},t.type="legend.scroll",t}(JD);function TV(i){pt(tA),i.registerComponentModel(MV),i.registerComponentView(IV),function(t){t.registerAction("legendScroll","legendscroll",function(e,n){var r=e.scrollDataIndex;null!=r&&n.eachComponent({mainType:"legend",subType:"scroll",query:e},function(o){o.setScrollDataIndex(r)})})}(i)}var CV=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.type="dataZoom.inside",t.defaultOption=Ba(Bd.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(Bd),a1=_t();function DV(i,t,e){a1(i).coordSysRecordMap.each(function(n){var r=n.dataZoomInfoMap.get(t.uid);r&&(r.getRange=e)})}function rA(i,t){if(t){i.removeKey(t.model.uid);var e=t.controller;e&&e.dispose()}}function AV(i,t){i.isDisposed()||i.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function kV(i,t,e,n){return i.coordinateSystem.containPoint([e,n])}var PV=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return ie(t,i),t.prototype.render=function(e,n,r){i.prototype.render.apply(this,arguments),e.noTarget()?this._clear():(this.range=e.getPercentRange(),DV(r,e,{pan:ke(s1.pan,this),zoom:ke(s1.zoom,this),scrollMove:ke(s1.scrollMove,this)}))},t.prototype.dispose=function(){this._clear(),i.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){(function(e,n){for(var r=a1(e).coordSysRecordMap,o=r.keys(),a=0;a<o.length;a++){var l=r.get(o[a]),u=l.dataZoomInfoMap;if(u){var h=n.uid;u.get(h)&&(u.removeKey(h),u.keys().length||rA(r,l))}}})(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(Px),s1={zoom:function(i,t,e,n){var r=this.range,o=r.slice(),a=i.axisModels[0];if(a){var s=l1[t](null,[n.originX,n.originY],a,e,i),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(o[1]-o[0])+o[0],u=Math.max(1/n.scale,0);o[0]=(o[0]-l)*u+l,o[1]=(o[1]-l)*u+l;var h=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return Il(0,o,[0,100],0,h.minSpan,h.maxSpan),this.range=o,r[0]!==o[0]||r[1]!==o[1]?o:void 0}},pan:oA(function(i,t,e,n,r,o){var a=l1[n]([o.oldX,o.oldY],[o.newX,o.newY],t,r,e);return a.signal*(i[1]-i[0])*a.pixel/a.pixelLength}),scrollMove:oA(function(i,t,e,n,r,o){return l1[n]([0,0],[o.scrollDelta,o.scrollDelta],t,r,e).signal*(i[1]-i[0])*o.scrollDelta})};function oA(i){return function(t,e,n,r){var o=this.range,a=o.slice(),s=t.axisModels[0];if(s)return Il(i(a,s,t,e,n,r),a,[0,100],"all"),this.range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}}var l1={grid:function(i,t,e,n,r){var o=e.axis,a={},s=r.model.coordinateSystem.getRect();return i=i||[0,0],"x"===o.dim?(a.pixel=t[0]-i[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=t[1]-i[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a},polar:function(i,t,e,n,r){var o=e.axis,a={},s=r.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return i=i?s.pointToCoord(i):[0,0],t=s.pointToCoord(t),"radiusAxis"===e.mainType?(a.pixel=t[0]-i[0],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=o.inverse?1:-1):(a.pixel=t[1]-i[1],a.pixelLength=u[1]-u[0],a.pixelStart=u[0],a.signal=o.inverse?-1:1),a},singleAxis:function(i,t,e,n,r){var o=e.axis,a=r.model.coordinateSystem.getRect(),s={};return i=i||[0,0],"horizontal"===o.orient?(s.pixel=t[0]-i[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=o.inverse?1:-1):(s.pixel=t[1]-i[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=o.inverse?-1:1),s}};function aA(i){Ox(i),i.registerComponentModel(CV),i.registerComponentView(PV),function LV(i){i.registerProcessor(i.PRIORITY.PROCESSOR.FILTER,function(t,e){var n=a1(e),r=n.coordSysRecordMap||(n.coordSysRecordMap=ze());r.each(function(o){o.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(o){G(tD(o).infoList,function(a){var u,h,c,p,s=a.model.uid,l=r.get(s)||r.set(s,(u=e,c={model:h=a.model,containsPoint:Xe(kV,h),dispatchAction:Xe(AV,u),dataZoomInfoMap:null,controller:null},p=c.controller=new Sd(u.getZr()),G(["pan","zoom","scrollMove"],function(f){p.on(f,function(m){var y=[];c.dataZoomInfoMap.each(function(v){if(m.isAvailableBehavior(v.model.option)){var b=(v.getRange||{})[f],S=b&&b(v.dzReferCoordSysInfo,c.model.mainType,c.controller,m);!v.model.get("disabled",!0)&&S&&y.push({dataZoomId:v.model.id,start:S[0],end:S[1]})}}),y.length&&c.dispatchAction(y)})}),c));(l.dataZoomInfoMap||(l.dataZoomInfoMap=ze())).set(o.uid,{dzReferCoordSysInfo:a,model:o,getRange:null})})}),r.each(function(o){var a,p,f,m,y,s=o.controller,l=o.dataZoomInfoMap;if(l){var u=l.keys()[0];null!=u&&(a=l.get(u))}if(a){var h=(f="type_",m={type_true:2,type_move:1,type_false:0,type_undefined:-1},y=!0,l.each(function(v){var b=v.model,S=!b.get("disabled",!0)&&(!b.get("zoomLock",!0)||"move");m[f+S]>m[f+p]&&(p=S),y=y&&b.get("preventDefaultMouseMove",!0)}),{controlType:p,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!y}});s.enable(h.controlType,h.opt),s.setPointerChecker(o.containsPoint),eh(o,"dispatchAction",a.model.get("throttle",!0),"fixRate")}else rA(r,o)})})}(i)}var OV=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=Ba(Bd.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(Bd),Ud=St,jd="horizontal",sA="vertical",RV=["line","bar","candlestick","scatter"],EV={easing:"cubicOut",duration:100,delay:0},NV=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e._displayables={},e}return ie(t,i),t.prototype.init=function(e,n){this.api=n,this._onBrush=ke(this._onBrush,this),this._onBrushEnd=ke(this._onBrushEnd,this)},t.prototype.render=function(e,n,r,o){if(i.prototype.render.apply(this,arguments),eh(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),!1!==e.get("show")){if(e.noTarget())return this._clear(),void this.group.removeAll();o&&"dataZoom"===o.type&&o.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},t.prototype.dispose=function(){this._clear(),i.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){jc(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var n=this._displayables.sliderGroup=new Ze;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(n),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,n=this.api,r=e.get("brushSelect")?7:0,o=this._findCoordRect(),a={width:n.getWidth(),height:n.getHeight()},s=this._orient===jd?{right:a.width-o.x-o.width,top:a.height-30-7-r,width:o.width,height:30}:{right:7,top:o.y,width:30,height:o.height},l=Yu(e.option);G(["right","top","width","height"],function(h){"ph"===l[h]&&(l[h]=s[h])});var u=wi(l,a);this._location={x:u.x,y:u.y},this._size=[u.width,u.height],this._orient===sA&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,n=this._location,r=this._orient,o=this.dataZoomModel.getFirstTargetAxisModel(),a=o&&o.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(r!==jd||a?r===jd&&a?{scaleY:l?1:-1,scaleX:-1}:r!==sA||a?{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?1:-1,scaleX:1});var u=e.getBoundingRect([s]);e.x=n.x-u.x,e.y=n.y-u.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,n=this._size,r=this._displayables.sliderGroup,o=e.get("brushSelect");r.add(new Ud({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var a=new Ud({shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:"transparent"},z2:0,onclick:ke(this._onClickPanel,this)}),s=this.api.getZr();o?(a.on("mousedown",this._onBrushStart,this),a.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),r.add(a)},t.prototype._renderDataShadow=function(){var N,z,B,W,e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],e){var n=this._size,r=this._shadowSize||[],o=e.series,a=o.getRawData(),s=o.getShadowDim&&o.getShadowDim(),l=s&&a.getDimensionInfo(s)?o.getShadowDim():e.otherDim;if(null!=l){var u=this._shadowPolygonPts,h=this._shadowPolylinePts;if(a!==this._shadowData||l!==this._shadowDim||n[0]!==r[0]||n[1]!==r[1]){var c=a.getDataExtent(l),p=.3*(c[1]-c[0]);c=[c[0]-p,c[1]+p];var f,m=[0,n[1]],v=[[n[0],0],[0,0]],b=[],S=n[0]/(a.count()-1),I=0,T=Math.round(a.count()/n[0]);a.each([l],function(E,N){if(T>0&&N%T)I+=S;else{var z=null==E||isNaN(E)||""===E,B=z?0:zt(E,c,m,!0);z&&!f&&N?(v.push([v[v.length-1][0],0]),b.push([b[b.length-1][0],0])):!z&&f&&(v.push([I,0]),b.push([I,0])),v.push([I,B]),b.push([I,B]),I+=S,f=z}}),u=this._shadowPolygonPts=v,h=this._shadowPolylinePts=b}this._shadowData=a,this._shadowDim=l,this._shadowSize=[n[0],n[1]];for(var D=this.dataZoomModel,A=0;A<3;A++){var L=(N=void 0,z=void 0,void 0,void 0,N=D.getModel(1===A?"selectedDataBackground":"dataBackground"),z=new Ze,B=new fn({shape:{points:u},segmentIgnoreThreshold:1,style:N.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),W=new gn({shape:{points:h},segmentIgnoreThreshold:1,style:N.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19}),z.add(B),z.add(W),z);this._displayables.sliderGroup.add(L),this._displayables.dataShadowSegs.push(L)}}}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,n=e.get("showDataShadow");if(!1!==n){var r,o=this.ecModel;return e.eachTargetAxis(function(a,s){G(e.getAxisProxy(a,s).getTargetSeriesModels(),function(l){if(!(r||!0!==n&&We(RV,l.get("type"))<0)){var u,h=o.getComponent(is(a),s).axis,c={x:"y",y:"x",radius:"angle",angle:"radius"}[a],p=l.coordinateSystem;null!=c&&p.getOtherAxis&&(u=p.getOtherAxis(h).inverse),c=l.getData().mapDimension(c),r={thisAxis:h,series:l,thisDim:a,otherDim:c,otherAxisInverse:u}}},this)},this),r}},t.prototype._renderHandle=function(){var e=this.group,n=this._displayables,r=n.handles=[null,null],o=n.handleLabels=[null,null],a=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,h=l.get("borderRadius")||0,c=l.get("brushSelect"),p=n.filler=new Ud({silent:c,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});a.add(p),a.add(new Ud({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:h},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),G([0,1],function(I){var T=l.get("handleIcon");!If[T]&&T.indexOf("path://")<0&&T.indexOf("image://")<0&&(T="path://"+T);var D=gi(T,-1,0,2,2,null,!0);D.attr({cursor:lA(this._orient),draggable:!0,drift:ke(this._onDragMove,this,I),ondragend:ke(this._onDragEnd,this),onmouseover:ke(this._showDataInfo,this,!0),onmouseout:ke(this._showDataInfo,this,!1),z2:5});var A=D.getBoundingRect(),L=l.get("handleSize");this._handleHeight=Te(L,this._size[1]),this._handleWidth=A.width/A.height*this._handleHeight,D.setStyle(l.getModel("handleStyle").getItemStyle()),D.style.strokeNoScale=!0,D.rectHover=!0,D.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),Ea(D);var P=l.get("handleColor");null!=P&&(D.style.fill=P),a.add(r[I]=D);var E=l.getModel("textStyle");e.add(o[I]=new Mt({silent:!0,invisible:!0,style:Kt(E,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:E.getTextColor(),font:E.getFont()}),z2:10}))},this);var f=p;if(c){var m=Te(l.get("moveHandleSize"),s[1]),y=n.moveHandle=new St({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:m}}),v=.8*m,b=n.moveHandleIcon=gi(l.get("moveHandleIcon"),-v/2,-v/2,v,v,"#fff",!0);b.silent=!0,b.y=s[1]+m/2-.5,y.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var S=Math.min(s[1]/2,Math.max(m,10));(f=n.moveZone=new St({invisible:!0,shape:{y:s[1]-S,height:m+S}})).on("mouseover",function(){u.enterEmphasis(y)}).on("mouseout",function(){u.leaveEmphasis(y)}),a.add(y),a.add(b),a.add(f)}f.attr({draggable:!0,cursor:lA(this._orient),drift:ke(this._onDragMove,this,"all"),ondragstart:ke(this._showDataInfo,this,!0),ondragend:ke(this._onDragEnd,this),onmouseover:ke(this._showDataInfo,this,!0),onmouseout:ke(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),n=this._getViewExtent();this._handleEnds=[zt(e[0],[0,100],n,!0),zt(e[1],[0,100],n,!0)]},t.prototype._updateInterval=function(e,n){var r=this.dataZoomModel,o=this._handleEnds,a=this._getViewExtent(),s=r.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];Il(n,o,a,r.get("zoomLock")?"all":e,null!=s.minSpan?zt(s.minSpan,l,a,!0):null,null!=s.maxSpan?zt(s.maxSpan,l,a,!0):null);var u=this._range,h=this._range=_n([zt(o[0],a,l,!0),zt(o[1],a,l,!0)]);return!u||u[0]!==h[0]||u[1]!==h[1]},t.prototype._updateView=function(e){var n=this._displayables,r=this._handleEnds,o=_n(r.slice()),a=this._size;G([0,1],function(f){var y=this._handleHeight;n.handles[f].attr({scaleX:y/2,scaleY:y/2,x:r[f]+(f?-1:1),y:a[1]/2-y/2})},this),n.filler.setShape({x:o[0],y:0,width:o[1]-o[0],height:a[1]});var s={x:o[0],width:o[1]-o[0]};n.moveHandle&&(n.moveHandle.setShape(s),n.moveZone.setShape(s),n.moveZone.getBoundingRect(),n.moveHandleIcon&&n.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=n.dataShadowSegs,u=[0,o[0],o[1],a[0]],h=0;h<l.length;h++){var c=l[h],p=c.getClipPath();p||(p=new St,c.setClipPath(p)),p.setShape({x:u[h],y:0,width:u[h+1]-u[h],height:a[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var n=this.dataZoomModel,r=this._displayables,o=r.handleLabels,a=this._orient,s=["",""];if(n.get("showDetail")){var l=n.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,h=this._range,c=e?l.calculateDataWindow({start:h[0],end:h[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(c[0],u),this._formatLabel(c[1],u)]}}var p=_n(this._handleEnds.slice());function f(m){var y=za(r.handles[m].parent,this.group),v=tf(0===m?"right":"left",y),b=this._handleWidth/2+5,S=Xr([p[m]+(0===m?-b:b),this._size[1]/2],y);o[m].setStyle({x:S[0],y:S[1],verticalAlign:a===jd?"middle":v,align:a===jd?v:"center",text:s[m]})}f.call(this,0),f.call(this,1)},t.prototype._formatLabel=function(e,n){var r=this.dataZoomModel,o=r.get("labelFormatter"),a=r.get("labelPrecision");null!=a&&"auto"!==a||(a=n.getPixelPrecision());var s=null==e||isNaN(e)?"":"category"===n.type||"time"===n.type?n.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(a,20));return Ge(o)?o(e,s):De(o)?o.replace("{value}",s):s},t.prototype._showDataInfo=function(e){var n=this._displayables,r=n.handleLabels;r[0].attr("invisible",!(e=this._dragging||e)),r[1].attr("invisible",!e),n.moveHandle&&this.api[e?"enterEmphasis":"leaveEmphasis"](n.moveHandle,1)},t.prototype._onDragMove=function(e,n,r,o){this._dragging=!0,Gi(o.event);var a=Xr([n,r],this._displayables.sliderGroup.getLocalTransform(),!0),s=this._updateInterval(e,a[0]),l=this.dataZoomModel.get("realtime");this._updateView(!l),s&&l&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var n=this._size,r=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(r[0]<0||r[0]>n[0]||r[1]<0||r[1]>n[1])){var o=this._handleEnds,s=this._updateInterval("all",r[0]-(o[0]+o[1])/2);this._updateView(),s&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){this._brushStart=new nt(e.offsetX,e.offsetY),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var n=this._displayables.brushRect;if(this._brushing=!1,n){n.attr("ignore",!0);var r=n.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(r.width)<5)){var o=this._getViewExtent(),a=[0,100];this._range=_n([zt(r.x,o,a,!0),zt(r.x+r.width,o,a,!0)]),this._handleEnds=[r.x,r.x+r.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(Gi(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,n){var r=this._displayables,a=r.brushRect;a||(a=r.brushRect=new Ud({silent:!0,style:this.dataZoomModel.getModel("brushStyle").getItemStyle()}),r.sliderGroup.add(a)),a.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(e,n),h=l.transformCoordToLocal(s.x,s.y),c=this._size;u[0]=Math.max(Math.min(c[0],u[0]),0),a.setShape({x:h[0],y:0,width:u[0]-h[0],height:c[1]})},t.prototype._dispatchZoomAction=function(e){var n=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?EV:null,start:n[0],end:n[1]})},t.prototype._findCoordRect=function(){var e,n=tD(this.dataZoomModel).infoList;if(!e&&n.length){var r=n[0].model.coordinateSystem;e=r.getRect&&r.getRect()}if(!e){var o=this.api.getWidth(),a=this.api.getHeight();e={x:.2*o,y:.2*a,width:.6*o,height:.6*a}}return e},t.type="dataZoom.slider",t}(Px);function lA(i){return"vertical"===i?"ns-resize":"ew-resize"}function uA(i){i.registerComponentModel(OV),i.registerComponentView(NV),Ox(i)}var hA=function(i,t,e){var n=Ue((zV[i]||{})[t]);return e&&fe(n)?n[n.length-1]:n},zV={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},cA=Vi.mapVisual,VV=Vi.eachVisual,BV=fe,dA=G,FV=_n,GV=zt,Jg=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.stateList=["inRange","outOfRange"],e.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],e.layoutMode={type:"box",ignoreSize:!0},e.dataBound=[-1/0,1/0],e.targetVisuals={},e.controllerVisuals={},e}return ie(t,i),t.prototype.init=function(e,n,r){this.mergeDefaultAndTheme(e,r)},t.prototype.optionUpdated=function(e,n){!n&&LD(this.option,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var n=this.stateList;e=ke(e,this),this.controllerVisuals=Yx(this.option.controller,n,e),this.targetVisuals=Yx(this.option.target,n,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,n=[];return null==e||"all"===e?this.ecModel.eachSeries(function(r,o){n.push(o)}):n=Gt(e),n},t.prototype.eachTargetSeries=function(e,n){G(this.getTargetSeriesIndices(),function(r){var o=this.ecModel.getSeriesByIndex(r);o&&e.call(n,o)},this)},t.prototype.isTargetSeries=function(e){var n=!1;return this.eachTargetSeries(function(r){r===e&&(n=!0)}),n},t.prototype.formatValueText=function(e,n,r){var o,a=this.option,s=a.precision,l=this.dataBound,u=a.formatter;r=r||["<",">"],fe(e)&&(e=e.slice(),o=!0);var h=n?e:o?[c(e[0]),c(e[1])]:c(e);return De(u)?u.replace("{value}",o?h[0]:h).replace("{value2}",o?h[1]:h):Ge(u)?o?u(e[0],e[1]):u(e):o?e[0]===l[0]?r[0]+" "+h[1]:e[1]===l[1]?r[1]+" "+h[0]:h[0]+" - "+h[1]:h;function c(p){return p===l[0]?"min":p===l[1]?"max":(+p).toFixed(Math.min(s,20))}},t.prototype.resetExtent=function(){var e=this.option,n=FV([e.min,e.max]);this._dataExtent=n},t.prototype.getDataDimensionIndex=function(e){var n=this.option.dimension;if(null!=n)return e.getDimensionIndex(n);for(var r=e.dimensions,o=r.length-1;o>=0;o--){var s=e.getDimensionInfo(r[o]);if(!s.isCalculationCoord)return s.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,n=this.option,r={inRange:n.inRange,outOfRange:n.outOfRange},o=n.target||(n.target={}),a=n.controller||(n.controller={});Be(o,r),Be(a,r);var s=this.isCategory();function l(u){BV(n.color)&&!u.inRange&&(u.inRange={color:n.color.slice().reverse()}),u.inRange=u.inRange||{color:e.get("gradientColor")}}l.call(this,o),l.call(this,a),function(u,h,c){var p=u[h],f=u[c];p&&!f&&(f=u[c]={},dA(p,function(m,y){if(Vi.isValidType(y)){var v=hA(y,"inactive",s);null!=v&&(f[y]=v,"color"!==y||f.hasOwnProperty("opacity")||f.hasOwnProperty("colorAlpha")||(f.opacity=[0,0]))}}))}.call(this,o,"inRange","outOfRange"),function(u){var h=(u.inRange||{}).symbol||(u.outOfRange||{}).symbol,c=(u.inRange||{}).symbolSize||(u.outOfRange||{}).symbolSize,p=this.get("inactiveColor"),f=this.getItemSymbol()||"roundRect";dA(this.stateList,function(m){var y=this.itemSize,v=u[m];v||(v=u[m]={color:s?p:[p]}),null==v.symbol&&(v.symbol=h&&Ue(h)||(s?f:[f])),null==v.symbolSize&&(v.symbolSize=c&&Ue(c)||(s?y[0]:[y[0],y[0]])),v.symbol=cA(v.symbol,function(I){return"none"===I?f:I});var b=v.symbolSize;if(null!=b){var S=-1/0;VV(b,function(I){I>S&&(S=I)}),v.symbolSize=cA(b,function(I){return GV(I,[0,S],[0,y[0]],!0)})}},this)}.call(this,a)},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(mt),pA=[20,140],WV=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.optionUpdated=function(e,n){i.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(r){r.mappingMethod="linear",r.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){i.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(null==e[0]||isNaN(e[0]))&&(e[0]=pA[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=pA[1])},t.prototype._resetRange=function(){var e=this.getExtent(),n=this.option.range;!n||n.auto?(e.auto=1,this.option.range=e):fe(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],e[0]),n[1]=Math.min(n[1],e[1]))},t.prototype.completeVisualOption=function(){i.prototype.completeVisualOption.apply(this,arguments),G(this.stateList,function(e){var n=this.option.controller[e].symbolSize;n&&n[0]!==n[1]&&(n[0]=n[1]/3)},this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),n=_n((this.get("range")||[]).slice());return n[0]>e[1]&&(n[0]=e[1]),n[1]>e[1]&&(n[1]=e[1]),n[0]<e[0]&&(n[0]=e[0]),n[1]<e[0]&&(n[1]=e[0]),n},t.prototype.getValueState=function(e){var n=this.option.range,r=this.getExtent();return(n[0]<=r[0]||n[0]<=e)&&(n[1]>=r[1]||e<=n[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var n=[];return this.eachTargetSeries(function(r){var o=[],a=r.getData();a.each(this.getDataDimensionIndex(a),function(s,l){e[0]<=s&&s<=e[1]&&o.push(l)},this),n.push({seriesId:r.id,dataIndex:o})},this),n},t.prototype.getVisualMeta=function(e){var n=fA(0,0,this.getExtent()),r=fA(0,0,this.option.range.slice()),o=[];function a(f,m){o.push({value:f,color:e(f,m)})}for(var s=0,l=0,u=r.length,h=n.length;l<h&&(!r.length||n[l]<=r[0]);l++)n[l]<r[s]&&a(n[l],"outOfRange");for(var c=1;s<u;s++,c=0)c&&o.length&&a(r[s],"outOfRange"),a(r[s],"inRange");for(c=1;l<h;l++)(!r.length||r[r.length-1]<n[l])&&(c&&(o.length&&a(o[o.length-1].value,"outOfRange"),c=0),a(n[l],"outOfRange"));var p=o.length;return{stops:o,outerColors:[p?o[0].color:"transparent",p?o[p-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=Ba(Jg.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(Jg);function fA(i,t,e){if(e[0]===e[1])return e.slice();for(var n=(e[1]-e[0])/200,r=e[0],o=[],a=0;a<=200&&r<e[1];a++)o.push(r),r+=n;return o.push(e[1]),o}var gA=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.autoPositionValues={left:1,right:1,top:1,bottom:1},e}return ie(t,i),t.prototype.init=function(e,n){this.ecModel=e,this.api=n},t.prototype.render=function(e,n,r,o){this.visualMapModel=e,!1!==e.get("show")?this.doRender(e,n,r,o):this.group.removeAll()},t.prototype.renderBackground=function(e){var n=this.visualMapModel,r=il(n.get("padding")||0),o=e.getBoundingRect();e.add(new St({z2:-1,silent:!0,shape:{x:o.x-r[3],y:o.y-r[0],width:o.width+r[3]+r[1],height:o.height+r[0]+r[2]},style:{fill:n.get("backgroundColor"),stroke:n.get("borderColor"),lineWidth:n.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,n,r){var o=(r=r||{}).forceState,a=this.visualMapModel,s={};if("color"===n){var l=a.get("contentColor");s.color=l}function u(p){return s[p]}function h(p,f){s[p]=f}var c=a.controllerVisuals[o||a.getValueState(e)];return G(Vi.prepareVisualTypes(c),function(p){var f=c[p];r.convertOpacityToAlpha&&"opacity"===p&&(p="colorAlpha",f=c.__alphaForOpacity),Vi.dependsOn(p,n)&&f&&f.applyVisual(e,u,h)}),s[n]},t.prototype.positionGroup=function(e){var r=this.api;pf(e,this.visualMapModel.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})},t.prototype.doRender=function(e,n,r,o){},t.type="visualMap",t}(ei),mA=[["left","right","width"],["top","bottom","height"]];function yA(i,t,e){var n=i.option,r=n.align;if(null!=r&&"auto"!==r)return r;for(var o={width:t.getWidth(),height:t.getHeight()},a="horizontal"===n.orient?1:0,s=mA[a],l=[0,null,10],u={},h=0;h<3;h++)u[mA[1-a][h]]=l[h],u[s[h]]=2===h?e[0]:n[s[h]];var c=[["x","width",3],["y","height",0]][a],p=wi(u,o,n.padding);return s[(p.margin[c[2]]||0)+p[c[0]]+.5*p[c[1]]<.5*o[c[1]]?0:1]}function Qg(i,t){return G(i||[],function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")}),i}var wo=zt,HV=G,vA=Math.min,u1=Math.max,YV=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e._shapes={},e._dataInterval=[],e._handleEnds=[],e._hoverLinkDataIndices=[],e}return ie(t,i),t.prototype.doRender=function(e,n,r,o){this._api=r,o&&"selectDataRange"===o.type&&o.from===this.uid||this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,n=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(n);var r=e.get("text");this._renderEndsText(n,r,0),this._renderEndsText(n,r,1),this._updateView(!0),this.renderBackground(n),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(n)},t.prototype._renderEndsText=function(e,n,r){if(n){var o=n[1-r];o=null!=o?o+"":"";var a=this.visualMapModel,s=a.get("textGap"),l=a.itemSize,u=this._shapes.mainGroup,h=this._applyTransform([l[0]/2,0===r?-s:l[1]+s],u),c=this._applyTransform(0===r?"bottom":"top",u),p=this._orient;this.group.add(new Mt({style:Kt(this.visualMapModel.textStyleModel,{x:h[0],y:h[1],verticalAlign:"horizontal"===p?"middle":c,align:"horizontal"===p?c:"center",text:o})}))}},t.prototype._renderBar=function(e){var n=this.visualMapModel,r=this._shapes,o=n.itemSize,a=this._orient,s=this._useHandle,l=yA(n,this.api,o),u=r.mainGroup=this._createBarGroup(l),h=new Ze;u.add(h),h.add(r.outOfRange=xA()),h.add(r.inRange=xA(null,s?bA(this._orient):null,ke(this._dragHandle,this,"all",!1),ke(this._dragHandle,this,"all",!0))),h.setClipPath(new St({shape:{x:0,y:0,width:o[0],height:o[1],r:3}}));var c=n.textStyleModel.getTextRect("\u56fd"),p=u1(c.width,c.height);s&&(r.handleThumbs=[],r.handleLabels=[],r.handleLabelPoints=[],this._createHandle(n,u,0,o,p,a),this._createHandle(n,u,1,o,p,a)),this._createIndicator(n,u,o,p,a),e.add(u)},t.prototype._createHandle=function(e,n,r,o,a,s){var l=ke(this._dragHandle,this,r,!1),u=ke(this._dragHandle,this,r,!0),h=Vn(e.get("handleSize"),o[0]),c=gi(e.get("handleIcon"),-h/2,-h/2,h,h,null,!0),p=bA(this._orient);c.attr({cursor:p,draggable:!0,drift:l,ondragend:u,onmousemove:function(b){Gi(b.event)}}),c.x=o[0]/2,c.useStyle(e.getModel("handleStyle").getItemStyle()),c.setStyle({strokeNoScale:!0,strokeFirst:!0}),c.style.lineWidth*=2,c.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),Js(c,!0),n.add(c);var m=new Mt({cursor:p,draggable:!0,drift:l,onmousemove:function(b){Gi(b.event)},ondragend:u,style:Kt(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});m.ensureState("blur").style={opacity:.1},m.stateTransition={duration:200},this.group.add(m);var y=[h,0],v=this._shapes;v.handleThumbs[r]=c,v.handleLabelPoints[r]=y,v.handleLabels[r]=m},t.prototype._createIndicator=function(e,n,r,o,a){var s=Vn(e.get("indicatorSize"),r[0]),l=gi(e.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:r[0]/2});var u=e.getModel("indicatorStyle").getItemStyle();if(l instanceof Ri){var h=l.style;l.useStyle(de({image:h.image,x:h.x,y:h.y,width:h.width,height:h.height},u))}else l.useStyle(u);n.add(l);var p=new Mt({silent:!0,invisible:!0,style:Kt(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});this.group.add(p);var f=[("horizontal"===a?o/2:6)+r[0]/2,0],m=this._shapes;m.indicator=l,m.indicatorLabel=p,m.indicatorLabelPoint=f,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,n,r,o){if(this._useHandle){if(this._dragging=!n,!n){var a=this._applyTransform([r,o],this._shapes.mainGroup,!0);this._updateInterval(e,a[1]),this._hideIndicator(),this._updateView()}n===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),n?!this._hovering&&this._clearHoverLinkToSeries():_A(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,n=this._dataInterval=e.getSelected(),r=e.getExtent(),o=[0,e.itemSize[1]];this._handleEnds=[wo(n[0],r,o,!0),wo(n[1],r,o,!0)]},t.prototype._updateInterval=function(e,n){var r=this.visualMapModel,o=this._handleEnds,a=[0,r.itemSize[1]];Il(n=n||0,o,a,e,0);var s=r.getExtent();this._dataInterval=[wo(o[0],a,s,!0),wo(o[1],a,s,!0)]},t.prototype._updateView=function(e){var n=this.visualMapModel,r=n.getExtent(),o=this._shapes,a=[0,n.itemSize[1]],s=e?a:this._handleEnds,l=this._createBarVisual(this._dataInterval,r,s,"inRange"),u=this._createBarVisual(r,r,a,"outOfRange");o.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),o.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(s,l)},t.prototype._createBarVisual=function(e,n,r,o){var a={forceState:o,convertOpacityToAlpha:!0},s=this._makeColorGradient(e,a),l=[this.getControllerVisual(e[0],"symbolSize",a),this.getControllerVisual(e[1],"symbolSize",a)],u=this._createBarPoints(r,l);return{barColor:new Ru(0,0,0,1,s),barPoints:u,handlesColor:[s[0].color,s[s.length-1].color]}},t.prototype._makeColorGradient=function(e,n){var r=[],o=(e[1]-e[0])/100;r.push({color:this.getControllerVisual(e[0],"color",n),offset:0});for(var a=1;a<100;a++){var s=e[0]+o*a;if(s>e[1])break;r.push({color:this.getControllerVisual(s,"color",n),offset:a/100})}return r.push({color:this.getControllerVisual(e[1],"color",n),offset:1}),r},t.prototype._createBarPoints=function(e,n){var r=this.visualMapModel.itemSize;return[[r[0]-n[0],e[0]],[r[0],e[0]],[r[0],e[1]],[r[0]-n[1],e[1]]]},t.prototype._createBarGroup=function(e){var n=this._orient,r=this.visualMapModel.get("inverse");return new Ze("horizontal"!==n||r?"horizontal"===n&&r?{scaleX:"bottom"===e?-1:1,rotation:-Math.PI/2}:"vertical"!==n||r?{scaleX:"left"===e?1:-1}:{scaleX:"left"===e?1:-1,scaleY:-1}:{scaleX:"bottom"===e?1:-1,rotation:Math.PI/2})},t.prototype._updateHandle=function(e,n){if(this._useHandle){var r=this._shapes,o=this.visualMapModel,a=r.handleThumbs,s=r.handleLabels,l=o.itemSize,u=o.getExtent();HV([0,1],function(h){var c=a[h];c.setStyle("fill",n.handlesColor[h]),c.y=e[h];var p=wo(e[h],[0,l[1]],u,!0),f=this.getControllerVisual(p,"symbolSize");c.scaleX=c.scaleY=f/l[0],c.x=l[0]-f/2;var m=Xr(r.handleLabelPoints[h],za(c,this.group));s[h].setStyle({x:m[0],y:m[1],text:o.formatValueText(this._dataInterval[h]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",r.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(e,n,r,o){var a=this.visualMapModel,s=a.getExtent(),l=a.itemSize,u=[0,l[1]],h=this._shapes,c=h.indicator;if(c){c.attr("invisible",!1);var p=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0}),f=this.getControllerVisual(e,"symbolSize"),m=wo(e,s,u,!0),y=l[0]-f/2,v={x:c.x,y:c.y};c.y=m,c.x=y;var b=Xr(h.indicatorLabelPoint,za(c,this.group)),S=h.indicatorLabel;S.attr("invisible",!1);var I=this._applyTransform("left",h.mainGroup),T="horizontal"===this._orient;S.setStyle({text:(r||"")+a.formatValueText(n),verticalAlign:T?I:"middle",align:T?"center":I});var D={x:y,y:m,style:{fill:p}},A={style:{x:b[0],y:b[1]}};if(a.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var L={duration:100,easing:"cubicInOut",additive:!0};c.x=v.x,c.y=v.y,c.animateTo(D,L),S.animateTo(A,L)}else c.attr(D),S.attr(A);this._firstShowIndicator=!1;var P=this._shapes.handleLabels;if(P)for(var E=0;E<P.length;E++)this._api.enterBlur(P[E])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(n){if(e._hovering=!0,!e._dragging){var r=e.visualMapModel.itemSize,o=e._applyTransform([n.offsetX,n.offsetY],e._shapes.mainGroup,!0,!0);o[1]=vA(u1(0,o[1]),r[1]),e._doHoverLinkToSeries(o[1],0<=o[0]&&o[0]<=r[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,n){var v,b,S,I,r=this.visualMapModel;if(r.option.hoverLink){var a=[0,r.itemSize[1]],s=r.getExtent();e=vA(u1(a[0],e),a[1]);var l=(v=s,b=a,S=6,(I=r.get("hoverLinkDataSize"))&&(S=wo(I,v,b,!0)/2),S),u=[e-l,e+l],h=wo(e,a,s,!0),c=[wo(u[0],a,s,!0),wo(u[1],a,s,!0)];u[0]<a[0]&&(c[0]=-1/0),u[1]>a[1]&&(c[1]=1/0),n&&(c[0]===-1/0?this._showIndicator(h,c[1],"< ",l):c[1]===1/0?this._showIndicator(h,c[0],"> ",l):this._showIndicator(h,h,"\u2248 ",l));var p=this._hoverLinkDataIndices,f=[];(n||_A(r))&&(f=this._hoverLinkDataIndices=r.findTargetDataIndices(c));var m=function(y,v){var b={},S={};return I(y||[],b),I(v||[],S,b),[T(b),T(S)];function I(D,A,L){for(var P=0,E=D.length;P<E;P++){var N=ci(D[P].seriesId,null);if(null==N)return;for(var z=Gt(D[P].dataIndex),B=L&&L[N],W=0,Y=z.length;W<Y;W++){var j=z[W];B&&B[j]?B[j]=null:(A[N]||(A[N]={}))[j]=1}}}function T(D,A){var L=[];for(var P in D)if(D.hasOwnProperty(P)&&null!=D[P])if(A)L.push(+P);else{var E=T(D[P],!0);E.length&&L.push({seriesId:P,dataIndex:E})}return L}}(p,f);this._dispatchHighDown("downplay",Qg(m[0],r)),this._dispatchHighDown("highlight",Qg(m[1],r))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var n;if(sl(e.target,function(l){var u=rt(l);if(null!=u.dataIndex)return n=u,!0},!0),n){var r=this.ecModel.getSeriesByIndex(n.seriesIndex),o=this.visualMapModel;if(o.isTargetSeries(r)){var a=r.getData(n.dataType),s=a.getStore().get(o.getDataDimensionIndex(a),n.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var n=this._shapes.handleLabels;if(n)for(var r=0;r<n.length;r++)this._api.leaveBlur(n[r])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Qg(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,n,r,o){var a=za(n,o?null:this.group);return fe(e)?Xr(e,a,r):tf(e,a,r)},t.prototype._dispatchHighDown=function(e,n){n&&n.length&&this.api.dispatchAction({type:e,batch:n})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(gA);function xA(i,t,e,n){return new fn({shape:{points:i},draggable:!!e,cursor:t,drift:e,onmousemove:function(r){Gi(r.event)},ondragend:n})}function _A(i){return!!(i.get("hoverLinkOnHandle")??i.get("realtime"))}function bA(i){return"vertical"===i?"ns-resize":"ew-resize"}var XV={type:"selectDataRange",event:"dataRangeSelected",update:"update"},UV=function(i,t){t.eachComponent({mainType:"visualMap",query:i},function(e){e.setSelected(i.selected)})},jV=[{createOnAllSeries:!0,reset:function(i,t){var e=[];return t.eachComponent("visualMap",function(n){var r,o,a,s,l,u=i.pipelineContext;!n.isTargetSeries(i)||u&&u.large||e.push((r=n.stateList,o=n.targetVisuals,a=ke(n.getValueState,n),s=n.getDataDimensionIndex(i.getData()),l={},G(r,function(h){var c=Vi.prepareVisualTypes(o[h]);l[h]=c}),{progress:function(h,c){var p,f;function m(E){return Iy(c,f,E)}function y(E,N){gw(c,f,E,N)}null!=s&&(p=c.getDimensionIndex(s));for(var v=c.getStore();null!=(f=h.next());){var b=c.getRawDataItem(f);if(!b||!1!==b.visualMap)for(var S=null!=s?v.get(p,f):f,I=a(S),T=o[I],D=l[I],A=0,L=D.length;A<L;A++){var P=D[A];T[P]&&T[P].applyVisual(S,m,y)}}}}))}),e}},{createOnAllSeries:!0,reset:function(i,t){var e=i.getData(),n=[];t.eachComponent("visualMap",function(r){if(r.isTargetSeries(i)){var o=r.getVisualMeta(ke(ZV,null,i,r))||{stops:[],outerColors:[]},a=r.getDataDimensionIndex(e);a>=0&&(o.dimension=a,n.push(o))}}),i.getData().setVisual("visualMeta",n)}}];function ZV(i,t,e,n){for(var r=t.targetVisuals[n],o=Vi.prepareVisualTypes(r),a={color:$c(i.getData(),"color")},s=0,l=o.length;s<l;s++){var u=o[s],h=r["opacity"===u?"__alphaForOpacity":u];h&&h.applyVisual(e,c,p)}return a.color;function c(f){return a[f]}function p(f,m){a[f]=m}}var wA=G;function qV(i){var t=i&&i.visualMap;fe(t)||(t=t?[t]:[]),wA(t,function(e){if(e){Th(e,"splitList")&&!Th(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var n=e.pieces;n&&fe(n)&&wA(n,function(r){le(r)&&(Th(r,"start")&&!Th(r,"min")&&(r.min=r.start),Th(r,"end")&&!Th(r,"max")&&(r.max=r.end))})}})}function Th(i,t){return i&&i.hasOwnProperty&&i.hasOwnProperty(t)}var SA=!1;function MA(i){SA||(SA=!0,i.registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"}),i.registerAction(XV,UV),G(jV,function(t){i.registerVisual(i.PRIORITY.VISUAL.COMPONENT,t)}),i.registerPreprocessor(qV))}function IA(i){i.registerComponentModel(WV),i.registerComponentView(YV),MA(i)}var $V=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e._pieceList=[],e}return ie(t,i),t.prototype.optionUpdated=function(e,n){i.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this._mode=this._determineMode();this._pieceList=[],KV[this._mode].call(this,this._pieceList),this._resetSelected(e,n);var o=this.option.categories;this.resetVisual(function(a,s){"categories"===r?(a.mappingMethod="category",a.categories=Ue(o)):(a.dataExtent=this.getExtent(),a.mappingMethod="piecewise",a.pieceList=ge(this._pieceList,function(l){return l=Ue(l),"inRange"!==s&&(l.visual=null),l}))})},t.prototype.completeVisualOption=function(){var e=this.option,n={},r=Vi.listVisualTypes(),o=this.isCategory();function a(s,l,u){return s&&s[l]&&s[l].hasOwnProperty(u)}G(e.pieces,function(s){G(r,function(l){s.hasOwnProperty(l)&&(n[l]=1)})}),G(n,function(s,l){var u=!1;G(this.stateList,function(h){u=u||a(e,h,l)||a(e.target,h,l)},this),!u&&G(this.stateList,function(h){(e[h]||(e[h]={}))[l]=hA(l,"inRange"===h?"active":"inactive",o)})},this),i.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,n){var r=this.option,o=this._pieceList,a=(n?r:e).selected||{};if(r.selected=a,G(o,function(l,u){var h=this.getSelectedMapKey(l);a.hasOwnProperty(h)||(a[h]=!0)},this),"single"===r.selectedMode){var s=!1;G(o,function(l,u){var h=this.getSelectedMapKey(l);a[h]&&(s?a[h]=!1:s=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return"categories"===this._mode?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=Ue(e)},t.prototype.getValueState=function(e){var n=Vi.findPieceIndex(e,this._pieceList);return null!=n&&this.option.selected[this.getSelectedMapKey(this._pieceList[n])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var n=[],r=this._pieceList;return this.eachTargetSeries(function(o){var a=[],s=o.getData();s.each(this.getDataDimensionIndex(s),function(l,u){Vi.findPieceIndex(l,r)===e&&a.push(u)},this),n.push({seriesId:o.id,dataIndex:a})},this),n},t.prototype.getRepresentValue=function(e){var n;if(this.isCategory())n=e.value;else if(null!=e.value)n=e.value;else{var r=e.interval||[];n=r[0]===-1/0&&r[1]===1/0?0:(r[0]+r[1])/2}return n},t.prototype.getVisualMeta=function(e){if(!this.isCategory()){var n=[],r=["",""],o=this,a=this._pieceList.slice();if(a.length){var s=a[0].interval[0];s!==-1/0&&a.unshift({interval:[-1/0,s]}),(s=a[a.length-1].interval[1])!==1/0&&a.push({interval:[s,1/0]})}else a.push({interval:[-1/0,1/0]});var l=-1/0;return G(a,function(h){var c=h.interval;c&&(c[0]>l&&u([l,c[0]],"outOfRange"),u(c.slice()),l=c[1])},this),{stops:n,outerColors:r}}function u(h,c){var p=o.getRepresentValue({interval:h});c||(c=o.getValueState(p));var f=e(p,c);h[0]===-1/0?r[0]=f:h[1]===1/0?r[1]=f:n.push({value:h[0],color:f},{value:h[1],color:f})}},t.type="visualMap.piecewise",t.defaultOption=Ba(Jg.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(Jg),KV={splitNumber:function(i){var t=this.option,e=Math.min(t.precision,20),n=this.getExtent(),r=t.splitNumber;r=Math.max(parseInt(r,10),1),t.splitNumber=r;for(var o=(n[1]-n[0])/r;+o.toFixed(e)!==o&&e<5;)e++;t.precision=e,o=+o.toFixed(e),t.minOpen&&i.push({interval:[-1/0,n[0]],close:[0,0]});for(var a=0,s=n[0];a<r;s+=o,a++)i.push({interval:[s,a===r-1?n[1]:s+o],close:[1,1]});t.maxOpen&&i.push({interval:[n[1],1/0],close:[0,0]}),Bs(i),G(i,function(u,h){u.index=h,u.text=this.formatValueText(u.interval)},this)},categories:function(i){var t=this.option;G(t.categories,function(e){i.push({text:this.formatValueText(e,!0),value:e})},this),TA(t,i)},pieces:function(i){var t=this.option;G(t.pieces,function(e,n){le(e)||(e={value:e});var r={text:"",index:n};if(null!=e.label&&(r.text=e.label),e.hasOwnProperty("value")){var o=r.value=e.value;r.interval=[o,o],r.close=[1,1]}else{for(var a=r.interval=[],s=r.close=[0,0],l=[1,0,1],u=[-1/0,1/0],h=[],c=0;c<2;c++){for(var p=[["gte","gt","min"],["lte","lt","max"]][c],f=0;f<3&&null==a[c];f++)a[c]=e[p[f]],s[c]=l[f],h[c]=2===f;null==a[c]&&(a[c]=u[c])}h[0]&&a[1]===1/0&&(s[0]=0),h[1]&&a[0]===-1/0&&(s[1]=0),a[0]===a[1]&&s[0]&&s[1]&&(r.value=a[0])}r.visual=Vi.retrieveVisuals(e),i.push(r)},this),TA(t,i),Bs(i),G(i,function(e){var n=e.close;e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,[["<","\u2264"][n[1]],[">","\u2265"][n[0]]])},this)}};function TA(i,t){var e=i.inverse;("vertical"===i.orient?!e:e)&&t.reverse()}var JV=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return ie(t,i),t.prototype.doRender=function(){var e=this.group;e.removeAll();var n=this.visualMapModel,r=n.get("textGap"),o=n.textStyleModel,a=o.getFont(),s=o.getTextColor(),l=this._getItemAlign(),u=n.itemSize,h=this._getViewData(),c=h.endsText,p=kt(n.get("showLabel",!0),!c);c&&this._renderEndsText(e,c[0],u,p,l),G(h.viewPieceList,function(f){var m=f.piece,y=new Ze;y.onclick=ke(this._onItemClick,this,m),this._enableHoverLink(y,f.indexInModelPieceList);var v=n.getRepresentValue(m);if(this._createItemSymbol(y,v,[0,0,u[0],u[1]]),p){var b=this.visualMapModel.getValueState(v);y.add(new Mt({style:{x:"right"===l?-r:u[0]+r,y:u[1]/2,text:m.text,verticalAlign:"middle",align:l,font:a,fill:s,opacity:"outOfRange"===b?.5:1}}))}e.add(y)},this),c&&this._renderEndsText(e,c[1],u,p,l),ol(n.get("orient"),e,n.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,n){var r=this;e.on("mouseover",function(){return o("highlight")}).on("mouseout",function(){return o("downplay")});var o=function(a){var s=r.visualMapModel;s.option.hoverLink&&r.api.dispatchAction({type:a,batch:Qg(s.findTargetDataIndices(n),s)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,n=e.option;if("vertical"===n.orient)return yA(e,this.api,e.itemSize);var r=n.align;return r&&"auto"!==r||(r="left"),r},t.prototype._renderEndsText=function(e,n,r,o,a){if(n){var s=new Ze;s.add(new Mt({style:Kt(this.visualMapModel.textStyleModel,{x:o?"right"===a?r[0]:0:r[0]/2,y:r[1]/2,verticalAlign:"middle",align:o?a:"center",text:n})})),e.add(s)}},t.prototype._getViewData=function(){var e=this.visualMapModel,n=ge(e.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),r=e.get("text"),o=e.get("orient"),a=e.get("inverse");return("horizontal"===o?a:!a)?n.reverse():r&&(r=r.slice().reverse()),{viewPieceList:n,endsText:r}},t.prototype._createItemSymbol=function(e,n,r){e.add(gi(this.getControllerVisual(n,"symbol"),r[0],r[1],r[2],r[3],this.getControllerVisual(n,"color")))},t.prototype._onItemClick=function(e){var n=this.visualMapModel,r=n.option,o=r.selectedMode;if(o){var a=Ue(r.selected),s=n.getSelectedMapKey(e);"single"===o||!0===o?(a[s]=!0,G(a,function(l,u){a[u]=u===s})):a[s]=!a[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:a})}},t.type="visualMap.piecewise",t}(gA);function CA(i){i.registerComponentModel($V),i.registerComponentView(JV),MA(i)}var QV={label:{enabled:!0},decal:{show:!1}},DA=_t(),eB={};function tB(i,t){var e=i.getModel("aria");if(e.get("enabled")){var n=Ue(QV);Be(n.label,i.getLocaleModel().get("aria"),!1),Be(e.option,n,!1),function(){if(e.getModel("decal").get("show")){var o=ze();i.eachSeries(function(a){if(!a.isColorBySeries()){var s=o.get(a.type);s||o.set(a.type,s={}),DA(a).scope=s}}),i.eachRawSeries(function(a){if(!i.isSeriesFiltered(a))if(Ge(a.enableAriaDecal))a.enableAriaDecal();else{var s=a.getData();if(a.isColorBySeries()){var l=ay(a.ecModel,a.name,eB,i.getSeriesCount()),u=s.getVisual("decal");s.setVisual("decal",m(u,l))}else{var h=a.getRawData(),c={},p=DA(a).scope;s.each(function(y){var v=s.getRawIndex(y);c[v]=y});var f=h.count();h.each(function(y){var v=c[y],b=h.getName(y)||y+"",S=ay(a.ecModel,b,p,f),I=s.getItemVisual(v,"decal");s.setItemVisual(v,"decal",m(I,S))})}}function m(y,v){var b=y?de(de({},v),y):v;return b.dirty=!0,b}})}}(),function(){var T,o=i.getLocaleModel().get("aria"),a=e.getModel("label");if(a.option=Ve(a.option,o),a.get("enabled")){var s=t.getZr().dom;if(a.get("description"))return void s.setAttribute("aria-label",a.get("description"));var l,u=i.getSeriesCount(),h=a.get(["data","maxCount"])||10,c=a.get(["series","maxCount"])||10,p=Math.min(u,c);if(!(u<1)){var f=((T=i.get("title"))&&T.length&&(T=T[0]),T&&T.text);l=f?r(a.get(["general","withTitle"]),{title:f}):a.get(["general","withoutTitle"]);var y=[];l+=r(a.get(u>1?["series","multiple","prefix"]:["series","single","prefix"]),{seriesCount:u}),i.eachSeries(function(T,D){if(D<p){var A=void 0,L=T.get("name")?"withName":"withoutName";A=r(A=a.get(u>1?["series","multiple",L]:["series","single",L]),{seriesId:T.seriesIndex,seriesName:T.get("name"),seriesType:(Z=T.subType,i.getLocaleModel().get(["series","typeNames"])[Z]||"\u81ea\u5b9a\u4e49\u56fe")});var P=T.getData();P.count()>h?A+=r(a.get(["data","partialData"]),{displayCnt:h}):A+=a.get(["data","allData"]);for(var E=a.get(["data","separator","middle"]),N=a.get(["data","separator","end"]),z=[],B=0;B<P.count();B++)if(B<h){var W=P.getName(B),Y=P.getValues(B),j=a.get(["data",W?"withName":"withoutName"]);z.push(r(j,{name:W,value:Y.join(E)}))}A+=z.join(E)+N,y.push(A)}var Z});var b=a.getModel(["series","multiple","separator"]),S=b.get("middle"),I=b.get("end");l+=y.join(S)+I,s.setAttribute("aria-label",l)}}}()}function r(o,a){if(!De(o))return o;var s=o;return G(a,function(l,u){s=s.replace(new RegExp("\\{\\s*"+u+"\\s*\\}","g"),l)}),s}}function iB(i){if(i&&i.aria){var t=i.aria;null!=t.show&&(t.enabled=t.show),t.label=t.label||{},G(["description","general","series","data"],function(e){null!=t[e]&&(t.label[e]=t[e])})}}var AA={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},nB=function(){function i(t){null==(this._condVal=De(t)?new RegExp(t):wt(t)?t:null)&&Ct("")}return i.prototype.evaluate=function(t){var e=typeof t;return De(e)?this._condVal.test(t):!!oe(e)&&this._condVal.test(t+"")},i}(),rB=function(){function i(){}return i.prototype.evaluate=function(){return this.value},i}(),oB=function(){function i(){}return i.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},i}(),aB=function(){function i(){}return i.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},i}(),sB=function(){function i(){}return i.prototype.evaluate=function(){return!this.child.evaluate()},i}(),lB=function(){function i(){}return i.prototype.evaluate=function(){for(var t=!!this.valueParser,e=(0,this.getValue)(this.valueGetterParam),n=t?this.valueParser(e):null,r=0;r<this.subCondList.length;r++)if(!this.subCondList[r].evaluate(t?n:e))return!1;return!0},i}();function h1(i,t){if(!0===i||!1===i){var e=new rB;return e.value=i,e}return LA(i)||Ct(""),i.and?kA("and",i,t):i.or?kA("or",i,t):i.not?function(r,o){var a=r.not;LA(a)||Ct("");var l=new sB;return l.child=h1(a,o),l.child||Ct(""),l}(i,t):function(r,o){for(var s=o.prepareGetValue(r),l=[],u=dt(r),h=r.parser,c=h?kb(h):null,p=0;p<u.length;p++){var f=u[p];if("parser"!==f&&!o.valueGetterAttrMap.get(f)){var m=Le(AA,f)?AA[f]:f,y=r[f],v=c?c(y):y,b=lL(m,v)||"reg"===m&&new nB(v);b||Ct(""),l.push(b)}}l.length||Ct("");var S=new lB;return S.valueGetterParam=s,S.valueParser=c,S.getValue=o.getValue,S.subCondList=l,S}(i,t)}function kA(i,t,e){var n=t[i];fe(n)||Ct(""),n.length||Ct("");var o="and"===i?new oB:new aB;return o.children=ge(n,function(a){return h1(a,e)}),o.children.length||Ct(""),o}function LA(i){return le(i)&&!Ft(i)}var uB=function(){function i(t,e){this._cond=h1(t,e)}return i.prototype.evaluate=function(){return this._cond.evaluate()},i}(),hB={type:"echarts:filter",transform:function(i){for(var t,e,n,r=i.upstream,o=(e=i.config,n={valueGetterAttrMap:ze({dimension:!0}),prepareGetValue:function(u){var c=u.dimension;Le(u,"dimension")||Ct("");var p=r.getDimensionInfo(c);return p||Ct(""),{dimIdx:p.index}},getValue:function(u){return r.retrieveValueFromItem(t,u.dimIdx)}},new uB(e,n)),a=[],s=0,l=r.count();s<l;s++)t=r.getRawDataItem(s),o.evaluate()&&a.push(t);return{data:a}}},cB={type:"echarts:sort",transform:function(i){var t=i.upstream,n="",r=Gt(i.config);r.length||Ct(n);var o=[];G(r,function(h){var c=h.dimension,p=h.order,f=h.parser,m=h.incomparable;null==c&&Ct(n),"asc"!==p&&"desc"!==p&&Ct(n),m&&"min"!==m&&"max"!==m&&Ct(""),"asc"!==p&&"desc"!==p&&Ct("");var b=t.getDimensionInfo(c);b||Ct(n);var S=f?kb(f):null;f&&!S&&Ct(n),o.push({dimIdx:b.index,parser:S,comparator:new Pb(p,m)})});var a=t.sourceFormat;a!==ia&&a!==Wa&&Ct(n);for(var s=[],l=0,u=t.count();l<u;l++)s.push(t.getRawDataItem(l));return s.sort(function(h,c){for(var p=0;p<o.length;p++){var f=o[p],m=t.retrieveValueFromItem(h,f.dimIdx),y=t.retrieveValueFromItem(c,f.dimIdx);f.parser&&(m=f.parser(m),y=f.parser(y));var v=f.comparator.evaluate(m,y);if(0!==v)return v}return 0}),{data:s}}},dB=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type="dataset",e}return ie(t,i),t.prototype.init=function(e,n,r){i.prototype.init.call(this,e,n,r),this._sourceManager=new Vb(this),Bb(this)},t.prototype.mergeOption=function(e,n){i.prototype.mergeOption.call(this,e,n),Bb(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:al},t}(mt),pB=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type="dataset",e}return ie(t,i),t.type="dataset",t}(ei),So=ht.CMD;function Ch(i,t){return Math.abs(i-t)<1e-5}function c1(i){var t,e,n,r,o,B,W,Y,j,Z,q,K,Q,te,ne,ce,ye,re,be,xe,we,_e,a=i.data,s=i.len(),l=[],u=0,h=0,c=0,p=0;function f(B,W){t&&t.length>2&&l.push(t),t=[B,W]}function m(B,W,Y,j){Ch(B,Y)&&Ch(W,j)||t.push(B,W,Y,j,Y,j)}for(var v=0;v<s;){var b=a[v++],S=1===v;switch(S&&(c=u=a[v],p=h=a[v+1],b!==So.L&&b!==So.C&&b!==So.Q||(t=[c,p])),b){case So.M:u=c=a[v++],h=p=a[v++],f(c,p);break;case So.L:m(u,h,e=a[v++],n=a[v++]),u=e,h=n;break;case So.C:t.push(a[v++],a[v++],a[v++],a[v++],u=a[v++],h=a[v++]);break;case So.Q:e=a[v++],n=a[v++],r=a[v++],o=a[v++],t.push(u+2/3*(e-u),h+2/3*(n-h),r+2/3*(e-r),o+2/3*(n-o),r,o),u=r,h=o;break;case So.A:var I=a[v++],T=a[v++],D=a[v++],A=a[v++],L=a[v++],P=a[v++]+L;v+=1;var E=!a[v++];e=Math.cos(L)*D+I,n=Math.sin(L)*A+T,S?f(c=e,p=n):m(u,h,e,n),u=Math.cos(P)*D+I,h=Math.sin(P)*A+T;for(var N=(E?-1:1)*Math.PI/2,z=L;E?z>P:z<P;z+=N)B=z,W=E?Math.max(z+N,P):Math.min(z+N,P),Y=I,j=T,Z=D,q=A,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,K=Math.abs(W-B),Q=4*Math.tan(K/4)/3,te=W<B?-1:1,ne=Math.cos(B),ce=Math.sin(B),ye=Math.cos(W),re=Math.sin(W),t.push(ne*Z+Y-(we=Z*Q*te)*ce,ce*q+j+(_e=q*Q*te)*ne,(be=ye*Z+Y)+we*re,(xe=re*q+j)-_e*ye,be,xe);break;case So.R:c=u=a[v++],p=h=a[v++],e=c+a[v++],n=p+a[v++],f(e,p),m(e,p,e,n),m(e,n,c,n),m(c,n,c,p),m(c,p,e,p);break;case So.Z:t&&m(u,h,c,p),u=c,h=p}}return t&&t.length>2&&l.push(t),l}function d1(i,t,e,n,r,o,a,s,l,u){if(Ch(i,e)&&Ch(t,n)&&Ch(r,a)&&Ch(o,s))l.push(a,s);else{var h=2/u,c=h*h,p=a-i,f=s-t,m=Math.sqrt(p*p+f*f);p/=m,f/=m;var y=e-i,v=n-t,b=r-a,S=o-s,I=y*y+v*v,T=b*b+S*S;if(I<c&&T<c)l.push(a,s);else{var D=p*y+f*v,A=-p*b-f*S;if(I-D*D<c&&D>=0&&T-A*A<c&&A>=0)l.push(a,s);else{var L=[],P=[];ln(i,e,r,a,.5,L),ln(t,n,o,s,.5,P),d1(L[0],P[0],L[1],P[1],L[2],P[2],L[3],P[3],l,u),d1(L[4],P[4],L[5],P[5],L[6],P[6],L[7],P[7],l,u)}}}}function PA(i,t,e){var o=Math.abs(i[t]/i[1-t]),a=Math.ceil(Math.sqrt(o*e)),s=Math.floor(e/a);0===s&&(s=1,a=e);for(var l=[],u=0;u<a;u++)l.push(s);var h=e-a*s;if(h>0)for(u=0;u<h;u++)l[u%a]+=1;return l}function OA(i,t,e){for(var n=i.r0,r=i.r,o=i.startAngle,s=Math.abs(i.endAngle-o),l=s*r,u=r-n,h=l>Math.abs(u),c=PA([l,u],h?0:1,t),p=(h?s:u)/c.length,f=0;f<c.length;f++)for(var m=(h?u:s)/c[f],y=0;y<c[f];y++){var v={};h?(v.startAngle=o+p*f,v.endAngle=o+p*(f+1),v.r0=n+m*y,v.r=n+m*(y+1)):(v.startAngle=o+m*y,v.endAngle=o+m*(y+1),v.r0=n+p*f,v.r=n+p*(f+1)),v.clockwise=i.clockwise,v.cx=i.cx,v.cy=i.cy,e.push(v)}}function RA(i,t,e,n){return i*n-e*t}function fB(i,t,e,n,r,o,a,s){var l=e-i,u=n-t,h=a-r,c=s-o,p=RA(h,c,l,u);if(Math.abs(p)<1e-6)return null;var f=RA(i-r,t-o,h,c)/p;return f<0||f>1?null:new nt(f*l+i,f*u+t)}function gB(i,t,e){var n=new nt;nt.sub(n,e,t),n.normalize();var r=new nt;return nt.sub(r,i,t),r.dot(n)}function Dh(i,t){var e=i[i.length-1];e&&e[0]===t[0]&&e[1]===t[1]||i.push(t)}function EA(i){var t=i.points,e=[],n=[];k(t,e,n);var r=new st(e[0],e[1],n[0]-e[0],n[1]-e[1]),o=r.width,a=r.height,s=r.x,l=r.y,u=new nt,h=new nt;return o>a?(u.x=h.x=s+o/2,u.y=l,h.y=l+a):(u.y=h.y=l+a/2,u.x=s,h.x=s+o),function(c,p,f){for(var m=c.length,y=[],v=0;v<m;v++){var b=c[v],S=c[(v+1)%m],I=fB(b[0],b[1],S[0],S[1],p.x,p.y,f.x,f.y);I&&y.push({projPt:gB(I,p,f),pt:I,idx:v})}if(y.length<2)return[{points:c},{points:c}];y.sort(function(z,B){return z.projPt-B.projPt});var T=y[0],D=y[y.length-1];if(D.idx<T.idx){var A=T;T=D,D=A}var L=[T.pt.x,T.pt.y],P=[D.pt.x,D.pt.y],E=[L],N=[P];for(v=T.idx+1;v<=D.idx;v++)Dh(E,c[v].slice());for(Dh(E,P),Dh(E,L),v=D.idx+1;v<=T.idx+m;v++)Dh(N,c[v%m].slice());return Dh(N,L),Dh(N,P),[{points:E},{points:N}]}(t,u,h)}function em(i,t,e,n){if(1===e)n.push(t);else{var r=Math.floor(e/2),o=i(t);em(i,o[0],r,n),em(i,o[1],e-r,n)}return n}function mB(i,t){t.setStyle(i.style),t.z=i.z,t.z2=i.z2,t.zlevel=i.zlevel}function vB(i,t){var e=i.length,n=t.length;if(e===n)return[i,t];for(var r=[],o=[],a=e<n?i:t,s=Math.min(e,n),l=Math.abs(n-e)/6,h=Math.ceil(l/((s-2)/6))+1,c=[a[0],a[1]],p=l,f=2;f<s;){var m=a[f-2],y=a[f-1],v=a[f++],b=a[f++],S=a[f++],I=a[f++],T=a[f++],D=a[f++];if(p<=0)c.push(v,b,S,I,T,D);else{for(var A=Math.min(p,h-1)+1,L=1;L<=A;L++){var P=L/A;ln(m,v,S,T,P,r),ln(y,b,I,D,P,o),c.push(r[1],o[1],r[2],o[2],m=r[3],y=o[3]),v=r[5],b=o[5],S=r[6],I=o[6]}p-=A-1}}return a===i?[c,t]:[i,c]}function NA(i,t){for(var e=i.length,n=i[e-2],r=i[e-1],o=[],a=0;a<t.length;)o[a++]=n,o[a++]=r;return o}function zA(i){for(var t=0,e=0,n=0,r=i.length,o=0,a=r-2;o<r;a=o,o+=2){var s=i[a],l=i[a+1],u=i[o],h=i[o+1],c=s*h-u*l;t+=c,e+=(s+u)*c,n+=(l+h)*c}return 0===t?[i[0]||0,i[1]||0]:[e/t/3,n/t/3,t]}function xB(i,t,e,n){for(var r=(i.length-2)/6,o=1/0,a=0,s=i.length,l=s-2,u=0;u<r;u++){for(var h=6*u,c=0,p=0;p<s;p+=2){var f=0===p?h:(h+p-2)%l+2,v=t[p]-n[0]-(i[f]-e[0]),b=t[p+1]-n[1]-(i[f+1]-e[1]);c+=v*v+b*b}c<o&&(o=c,a=u)}return a}function _B(i){for(var t=[],e=i.length,n=0;n<e;n+=2)t[n]=i[e-n-2],t[n+1]=i[e-n-1];return t}function tm(i){return i.__isCombineMorphing}var VA="__mOriginal_";function im(i,t,e){var n=VA+t,r=i[n]||i[t];i[n]||(i[n]=i[t]);var o=e.replace,a=e.after,s=e.before;i[t]=function(){var l,u=arguments;return s&&s.apply(this,u),l=o?o.apply(this,u):r.apply(this,u),a&&a.apply(this,u),l}}function Zd(i,t){var e=VA+t;i[e]&&(i[t]=i[e],i[e]=null)}function BA(i,t){for(var e=0;e<i.length;e++)for(var n=i[e],r=0;r<n.length;){var o=n[r],a=n[r+1];n[r++]=t[0]*o+t[2]*a+t[4],n[r++]=t[1]*o+t[3]*a+t[5]}}function FA(i,t){var e=i.getUpdatedPathProxy(),n=t.getUpdatedPathProxy(),r=function(c,p){for(var f,m,y,v=[],b=[],S=0;S<Math.max(c.length,p.length);S++){var I=c[S],T=p[S],D=void 0,A=void 0;I?T?(m=D=(f=vB(I,T))[0],y=A=f[1]):(A=NA(y||I,I),D=I):(D=NA(m||T,T),A=T),v.push(D),b.push(A)}return[v,b]}(c1(e),c1(n)),o=r[0],a=r[1],s=i.getComputedTransform(),l=t.getComputedTransform();s&&BA(o,s),l&&BA(a,l),im(t,"updateTransform",{replace:function(){this.transform=null}}),t.transform=null;var u=function(c,p,f,m){for(var y,v=[],b=0;b<c.length;b++){var S=c[b],I=p[b],T=zA(S),D=zA(I);null==y&&(y=T[2]<0!=D[2]<0);var A=[],L=[],P=0,E=1/0,N=[],z=S.length;y&&(S=_B(S));for(var B=6*xB(S,I,T,D),W=z-2,Y=0;Y<W;Y+=2){var j=(B+Y)%W+2;A[Y+2]=S[j]-T[0],A[Y+3]=S[j+1]-T[1]}A[0]=S[B]-T[0],A[1]=S[B+1]-T[1];for(var Z=m/10,q=-m/2;q<=m/2;q+=Z){var K=Math.sin(q),Q=Math.cos(q),te=0;for(Y=0;Y<S.length;Y+=2){var ne=A[Y],ce=A[Y+1],ye=I[Y]-D[0],re=I[Y+1]-D[1],pe=ye*Q-re*K,ve=ye*K+re*Q;N[Y]=pe,N[Y+1]=ve;var be=pe-ne,xe=ve-ce;te+=be*be+xe*xe}if(te<E){E=te,P=q;for(var we=0;we<N.length;we++)L[we]=N[we]}}v.push({from:A,to:L,fromCp:T,toCp:D,rotation:-P})}return v}(o,a,0,Math.PI),h=[];im(t,"buildPath",{replace:function(c){for(var p=t.__morphT,f=1-p,m=[],y=0;y<u.length;y++){var v=u[y],b=v.from,S=v.to,I=v.rotation*p,T=v.fromCp,D=v.toCp,A=Math.sin(I),L=Math.cos(I);hs(m,T,D,p);for(var P=0;P<b.length;P+=2){var z=b[P]*f+(j=S[P])*p,B=b[P+1]*f+(Z=S[P+1])*p;h[P]=z*L-B*A+m[0],h[P+1]=z*A+B*L+m[1]}var W=h[0],Y=h[1];for(c.moveTo(W,Y),P=2;P<b.length;){var j=h[P++],Z=h[P++],q=h[P++],K=h[P++],Q=h[P++],te=h[P++];W===j&&Y===Z&&q===Q&&K===te?c.lineTo(Q,te):c.bezierCurveTo(j,Z,q,K,Q,te),W=Q,Y=te}}}})}function p1(i,t,e){if(!i||!t)return t;var n=e.done,r=e.during;return FA(i,t),t.__morphT=0,t.animateTo({__morphT:1},Ve({during:function(o){t.dirtyShape(),r&&r(o)},done:function(){Zd(t,"buildPath"),Zd(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape(),n&&n()}},e)),t}function bB(i,t,e,n,r,o){i=r===e?0:Math.round(32767*(i-e)/(r-e)),t=o===n?0:Math.round(32767*(t-n)/(o-n));for(var a,s=0,l=32768;l>0;l/=2){var u=0,h=0;(i&l)>0&&(u=1),(t&l)>0&&(h=1),s+=l*l*(3*u^h),0===h&&(1===u&&(i=l-1-i,t=l-1-t),a=i,i=t,t=a)}return s}function nm(i){var t=1/0,e=1/0,n=-1/0,r=-1/0,o=ge(i,function(a){var s=a.getBoundingRect(),l=a.getComputedTransform(),u=s.x+s.width/2+(l?l[4]:0),h=s.y+s.height/2+(l?l[5]:0);return t=Math.min(u,t),e=Math.min(h,e),n=Math.max(u,n),r=Math.max(h,r),[u,h]});return ge(o,function(a,s){return{cp:a,z:bB(a[0],a[1],t,e,n,r),path:i[s]}}).sort(function(a,s){return a.z-s.z}).map(function(a){return a.path})}function GA(i){return function yB(i,t){var e,n=[],r=i.shape;switch(i.type){case"rect":(function(b,S,I){for(var T=b.width,D=b.height,A=T>D,L=PA([T,D],A?0:1,S),P=A?"width":"height",E=A?"height":"width",N=A?"x":"y",z=A?"y":"x",B=b[P]/L.length,W=0;W<L.length;W++)for(var Y=b[E]/L[W],j=0;j<L[W];j++){var Z={};Z[N]=W*B,Z[z]=j*Y,Z[P]=B,Z[E]=Y,Z.x+=b.x,Z.y+=b.y,I.push(Z)}})(r,t,n),e=St;break;case"sector":OA(r,t,n),e=pn;break;case"circle":OA({r0:0,r:r.r,startAngle:0,endAngle:2*Math.PI,cx:r.cx,cy:r.cy},t,n),e=pn;break;default:var o=i.getComputedTransform(),a=o?Math.sqrt(Math.max(o[0]*o[0]+o[1]*o[1],o[2]*o[2]+o[3]*o[3])):1,s=ge(function(b,S){var I=c1(b),T=[];S=S||1;for(var D=0;D<I.length;D++){var A=I[D],L=[],P=A[0],E=A[1];L.push(P,E);for(var N=2;N<A.length;){var z=A[N++],B=A[N++],W=A[N++],Y=A[N++],j=A[N++],Z=A[N++];d1(P,E,z,B,W,Y,j,Z,L,S),P=j,E=Z}T.push(L)}return T}(i.getUpdatedPathProxy(),a),function(b){return function(S){for(var I=[],T=0;T<S.length;)I.push([S[T++],S[T++]]);return I}(b)}),l=s.length;if(0===l)em(EA,{points:s[0]},t,n);else if(l===t)for(var u=0;u<l;u++)n.push({points:s[u]});else{var h=0,c=ge(s,function(b){var S=[],I=[];k(b,S,I);var T=(I[1]-S[1])*(I[0]-S[0]);return h+=T,{poly:b,area:T}});c.sort(function(b,S){return S.area-b.area});var p=t;for(u=0;u<l;u++){var f=c[u];if(p<=0)break;var m=u===l-1?p:Math.ceil(f.area/h*t);m<0||(em(EA,{points:f.poly},m,n),p-=m)}}e=fn}if(!e)return function(b,S){for(var I=[],T=0;T<S;T++)I.push(Am(b));return I}(i,t);var y=[];for(u=0;u<n.length;u++){var v=new e;v.setShape(n[u]),mB(i,v),y.push(v)}return y}(i.path,i.count)}function WA(i){return fe(i[0])}function HA(i,t){for(var e=[],n=i.length,r=0;r<n;r++)e.push({one:i[r],many:[]});for(r=0;r<t.length;r++){var o=t[r].length,a=void 0;for(a=0;a<o;a++)e[a%n].many.push(t[r][a])}var s=0;for(r=n-1;r>=0;r--)if(!e[r].many.length){var l=e[s].many;if(l.length<=1){if(!s)return e;s=0}o=l.length;var u=Math.ceil(o/2);e[r].many=l.slice(u,o),e[s].many=l.slice(0,u),s++}return e}var wB={clone:function(i){for(var t=[],e=1-Math.pow(1-i.path.style.opacity,1/i.count),n=0;n<i.count;n++){var r=Am(i.path);r.setStyle("opacity",e),t.push(r)}return t},split:null};function f1(i,t,e,n,r,o){if(i.length&&t.length){var a=Eu("update",n,r);if(a&&a.duration>0){var s,l,u=n.getModel("universalTransition").get("delay"),h=Object.assign({setToFinal:!0},a);WA(i)&&(s=i,l=t),WA(t)&&(s=t,l=i);for(var c=s?s===i:i.length>t.length,p=s?HA(l,s):HA(c?t:i,[c?i:t]),f=0,m=0;m<p.length;m++)f+=p[m].many.length;var y=0;for(m=0;m<p.length;m++)v(p[m],c,y,f),y+=p[m].many.length}}function v(b,S,I,T,D){var A=b.many,L=b.one;if(1!==A.length||D)for(var P=Ve({dividePath:wB[e],individualDelay:u&&function(q,K,Q,te){return u(q+I,T)}},h),E=S?function(q,K,Q){var te=[];!function ct(vt){for(var Yt=0;Yt<vt.length;Yt++){var $t=vt[Yt];tm($t)?ct($t.childrenRef()):$t instanceof gt&&te.push($t)}}(q);var ne=te.length;if(!ne)return{fromIndividuals:[],toIndividuals:[],count:0};var ce=(Q.dividePath||GA)({path:K,count:ne});if(ce.length!==ne)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};te=nm(te),ce=nm(ce);for(var ye=Q.done,re=Q.during,pe=Q.individualDelay,ve=new zn,be=0;be<ne;be++){var xe=te[be],we=ce[be];we.parent=K,we.copyTransform(ve),pe||FA(xe,we)}function _e(ct){for(var vt=0;vt<ce.length;vt++)ce[vt].addSelfToZr(ct)}function Ce(){K.__isCombineMorphing=!1,K.__morphT=-1,K.childrenRef=null,Zd(K,"addSelfToZr"),Zd(K,"removeSelfFromZr")}K.__isCombineMorphing=!0,K.childrenRef=function(){return ce},im(K,"addSelfToZr",{after:function(ct){_e(ct)}}),im(K,"removeSelfFromZr",{after:function(ct){for(var vt=0;vt<ce.length;vt++)ce[vt].removeSelfFromZr(ct)}});var Ne=ce.length;if(pe){var et=Ne,ot=function(){0==--et&&(Ce(),ye&&ye())};for(be=0;be<Ne;be++){var Bt=pe?Ve({delay:(Q.delay||0)+pe(be,Ne,te[be],ce[be]),done:ot},Q):Q;p1(te[be],ce[be],Bt)}}else K.__morphT=0,K.animateTo({__morphT:1},Ve({during:function(ct){for(var vt=0;vt<Ne;vt++){var Yt=ce[vt];Yt.__morphT=K.__morphT,Yt.dirtyShape()}re&&re(ct)},done:function(){Ce();for(var ct=0;ct<q.length;ct++)Zd(q[ct],"updateTransform");ye&&ye()}},Q));return K.__zr&&_e(K.__zr),{fromIndividuals:te,toIndividuals:ce,count:Ne}}(A,L,P):function(q,K,Q){var te=K.length,ne=[],ce=Q.dividePath||GA;if(tm(q)){!function we(_e){for(var Ce=0;Ce<_e.length;Ce++){var Ne=_e[Ce];tm(Ne)?we(Ne.childrenRef()):Ne instanceof gt&&ne.push(Ne)}}(q.childrenRef());var ye=ne.length;if(ye<te)for(var re=0,pe=ye;pe<te;pe++)ne.push(Am(ne[re++%ye]));ne.length=te}else{ne=ce({path:q,count:te});var ve=q.getComputedTransform();for(pe=0;pe<ne.length;pe++)ne[pe].setLocalTransform(ve);if(ne.length!==te)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}ne=nm(ne),K=nm(K);var be=Q.individualDelay;for(pe=0;pe<te;pe++){var xe=be?Ve({delay:(Q.delay||0)+be(pe,te,ne[pe],K[pe])},Q):Q;p1(ne[pe],K[pe],xe)}return{fromIndividuals:ne,toIndividuals:K,count:K.length}}(L,A,P),N=E.fromIndividuals,z=E.toIndividuals,B=N.length,W=0;W<B;W++)Y=u?Ve({delay:u(W,B)},h):h,o(N[W],z[W],S?A[W]:b.one,S?b.one:A[W],Y);else{var Y,j=S?A[0]:L,Z=S?L:A[0];tm(j)?v({many:[j],one:Z},!0,I,T,!0):(p1(j,Z,Y=u?Ve({delay:u(I,T)},h):h),o(j,Z,j,Z,Y))}}}function Ll(i){if(!i)return[];if(fe(i)){for(var t=[],e=0;e<i.length;e++)t.push(Ll(i[e]));return t}var n=[];return i.traverse(function(r){r instanceof gt&&!r.disableMorphing&&!r.invisible&&!r.ignore&&n.push(r)}),n}var SB=_t();function YA(i){var t=[];return G(i,function(e){var n=e.data;if(!(n.count()>1e4))for(var r=n.getIndices(),o=function(s){for(var l=s.dimensions,u=0;u<l.length;u++){var h=s.getDimensionInfo(l[u]);if(h&&0===h.otherDims.itemGroupId)return l[u]}}(n),a=0;a<r.length;a++)t.push({dataGroupId:e.dataGroupId,data:n,dim:e.dim||o,divide:e.divide,dataIndex:a})}),t}function g1(i,t,e){i.traverse(function(n){n instanceof gt&&ni(n,{style:{opacity:0}},t,{dataIndex:e,isFrom:!0})})}function m1(i){if(i.parent){var t=i.getComputedTransform();i.setLocalTransform(t),i.parent.remove(i)}}function Ah(i){i.stopAnimation(),i.isGroup&&i.traverse(function(t){t.stopAnimation()})}function XA(i,t,e){var n=YA(i),r=YA(t);function o(b,S,I,T,D){(I||b)&&S.animateFrom({style:I&&I!==b?de(de({},I.style),b.style):b.style},D)}function a(b){for(var S=0;S<b.length;S++)if(b[S].dim)return b[S].dim}var s=a(n),l=a(r),u=!1;function h(b,S){return function(I){var T=I.data,D=I.dataIndex;if(S)return T.getId(D);var A=I.dataGroupId,L=b?s||l:l||s,P=L&&T.getDimensionInfo(L),E=P&&P.ordinalMeta;if(P){var N=T.get(P.name,D);return E&&E.categories[N]||N+""}var z=T.getRawDataItem(D);return z&&z.groupId?z.groupId+"":A||T.getId(D)}}var c=function(b,S){var I=b.length;if(I!==S.length)return!1;for(var T=0;T<I;T++){var D=b[T],A=S[T];if(D.data.getId(D.dataIndex)!==A.data.getId(A.dataIndex))return!1}return!0}(n,r),p={};if(!c)for(var f=0;f<r.length;f++){var m=r[f],y=m.data.getItemGraphicEl(m.dataIndex);y&&(p[y.id]=!0)}function v(b,S){var I=n[S],T=r[b],D=T.data.hostModel,A=I.data.getItemGraphicEl(I.dataIndex),L=T.data.getItemGraphicEl(T.dataIndex);A!==L?A&&p[A.id]||L&&(Ah(L),A?(Ah(A),m1(A),u=!0,f1(Ll(A),Ll(L),T.divide,D,b,o)):g1(L,D,b)):L&&function MB(i,t,e){var n=Eu("update",e,t);n&&i.traverse(function(r){if(r instanceof Yi){var o=h_(r).oldStyle;o&&r.animateFrom({style:o},n)}})}(L,T.dataIndex,D)}new ra(n,r,h(!0,c),h(!1,c),null,"multiple").update(v).updateManyToOne(function(b,S){var I=r[b],T=I.data,D=T.hostModel,A=T.getItemGraphicEl(I.dataIndex),L=xt(ge(S,function(P){return n[P].data.getItemGraphicEl(n[P].dataIndex)}),function(P){return P&&P!==A&&!p[P.id]});A&&(Ah(A),L.length?(G(L,function(P){Ah(P),m1(P)}),u=!0,f1(Ll(L),Ll(A),I.divide,D,b,o)):g1(A,D,I.dataIndex))}).updateOneToMany(function(b,S){var I=n[S],T=I.data.getItemGraphicEl(I.dataIndex);if(!T||!p[T.id]){var D=xt(ge(b,function(L){return r[L].data.getItemGraphicEl(r[L].dataIndex)}),function(L){return L&&L!==T}),A=r[b[0]].data.hostModel;D.length&&(G(D,function(L){return Ah(L)}),T?(Ah(T),m1(T),u=!0,f1(Ll(T),Ll(D),I.divide,A,b[0],o)):G(D,function(L){return g1(L,A,b[0])}))}}).updateManyToMany(function(b,S){new ra(S,b,function(I){return n[I].data.getId(n[I].dataIndex)},function(I){return r[I].data.getId(r[I].dataIndex)}).update(function(I,T){v(b[I],S[T])}).execute()}).execute(),u&&G(t,function(b){var S=b.data.hostModel,I=S&&e.getViewOfSeriesModel(S),T=Eu("update",S,0);I&&S.isAnimationEnabled()&&T&&T.duration>0&&I.group.traverse(function(D){D instanceof gt&&!D.animators.length&&D.animateFrom({style:{opacity:0}},T)})})}function UA(i){return i.getModel("universalTransition").get("seriesKey")||i.id}function jA(i){return fe(i)?i.sort().join(","):i}function rs(i){if(i.hostModel)return i.hostModel.getModel("universalTransition").get("divideShape")}function ZA(i,t){for(var e=0;e<i.length;e++)if(null!=t.seriesIndex&&t.seriesIndex===i[e].seriesIndex||null!=t.seriesId&&t.seriesId===i[e].id)return e}pt([function(i){i.registerPainter("canvas",fO)}]),pt([function(i){i.registerPainter("svg",pO)}]),pt([function(i){i.registerChartView(bO),i.registerSeriesModel(gO),i.registerLayout(yd("line",!0)),i.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),n=t.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",n)}}),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,BM("line"))},function(i){i.registerChartView(TO),i.registerSeriesModel(MO),i.registerLayout(i.PRIORITY.VISUAL.LAYOUT,Xe(gS,"bar")),i.registerLayout(i.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,mS("bar")),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,BM("bar")),i.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){e.eachComponent({mainType:t.componentType||"series",query:t},function(r){t.sortInfo&&r.axis.setCategorySortInfo(t.sortInfo)})})},function(i){i.registerChartView(RO),i.registerSeriesModel(NO),mw("pie",i.registerAction),i.registerLayout(Xe(kO,"pie")),i.registerProcessor(xd("pie")),i.registerProcessor({seriesType:"pie",reset:function(e,n){var r=e.getData();r.filterSelf(function(o){var a=r.mapDimension("value"),s=r.get(a,o);return!(oe(s)&&!isNaN(s)&&s<0)})}})},function(i){pt(bI),i.registerSeriesModel(zO),i.registerChartView(GO),i.registerLayout(yd("scatter"))},function(i){pt(cR),i.registerChartView(rR),i.registerSeriesModel(oR),i.registerLayout(iR),i.registerProcessor(xd("radar")),i.registerPreprocessor(nR)},function(i){pt(t2),i.registerChartView(DR),i.registerSeriesModel(AR),i.registerLayout(LR),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,kR),mw("map",i.registerAction)},function(i){i.registerChartView(YR),i.registerSeriesModel(KR),i.registerLayout(JR),i.registerVisual(QR),function(t){t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,n){n.eachComponent({mainType:"series",subType:"tree",query:e},function(r){var o=e.dataIndex,a=r.getData().tree.getNodeByDataIndex(o);a.isExpand=!a.isExpand})}),t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,n,r){n.eachComponent({mainType:"series",subType:"tree",query:e},function(o){var a=Qv(o.coordinateSystem,e,void 0,r);o.setCenter&&o.setCenter(a.center),o.setZoom&&o.setZoom(a.zoom)})})}(i)},function(i){i.registerSeriesModel(eE),i.registerChartView(oE),i.registerVisual(lE),i.registerLayout(dE),function(t){for(var e=0;e<c2.length;e++)t.registerAction({type:c2[e],update:"updateView"},jt);t.registerAction({type:"treemapRootToNode",update:"updateView"},function(n,r){r.eachComponent({mainType:"series",subType:"treemap",query:n},function(o,a){var s=Cd(n,["treemapZoomToNode","treemapRootToNode"],o);if(s){var l=o.getViewRoot();l&&(n.direction=o0(l,s.node)?"rollUp":"drillDown"),o.resetViewRoot(s.node)}})})}(i)},function(i){i.registerChartView(SE),i.registerSeriesModel(IE),i.registerProcessor(fE),i.registerVisual(gE),i.registerVisual(mE),i.registerLayout(yE),i.registerLayout(i.PRIORITY.VISUAL.POST_CHART_LAYOUT,xE),i.registerLayout(_E),i.registerCoordinateSystem("graphView",{dimensions:Id.dimensions,create:bE}),i.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},jt),i.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},jt),i.registerAction(TE,function(t,e,n){e.eachComponent({mainType:"series",query:t},function(r){var o=Qv(r.coordinateSystem,t,void 0,n);r.setCenter&&r.setCenter(o.center),r.setZoom&&r.setZoom(o.zoom)})})},function(i){i.registerChartView(AE),i.registerSeriesModel(kE)},function(i){i.registerChartView(OE),i.registerSeriesModel(RE),i.registerLayout(EE),i.registerProcessor(xd("funnel"))},function(i){pt(xT),i.registerChartView(NE),i.registerSeriesModel(zE),i.registerVisual(i.PRIORITY.VISUAL.BRUSH,FE)},function(i){i.registerChartView(hN),i.registerSeriesModel(cN),i.registerLayout(dN),i.registerVisual(xN),i.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(n){n.setNodePosition(t.dataIndex,[t.localX,t.localY])})})},function(i){i.registerSeriesModel(wT),i.registerChartView(_N),i.registerLayout(MN),i.registerTransform(IN)},function(i){i.registerChartView(CN),i.registerSeriesModel(CT),i.registerPreprocessor(PN),i.registerVisual(VN),i.registerLayout(BN)},function(i){i.registerChartView(GN),i.registerSeriesModel(WN),i.registerLayout(yd("effectScatter"))},function(i){i.registerChartView(jN),i.registerSeriesModel($N),i.registerLayout(PT),i.registerVisual(KN)},function(i){i.registerChartView(QN),i.registerSeriesModel(ez)},function(i){i.registerChartView(iz),i.registerSeriesModel(oz),i.registerLayout(i.PRIORITY.VISUAL.LAYOUT,Xe(gS,"pictorialBar")),i.registerLayout(i.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,mS("pictorialBar"))},function(i){i.registerChartView(az),i.registerSeriesModel(sz),i.registerLayout(lz),i.registerProcessor(xd("themeRiver"))},function(i){i.registerChartView(uz),i.registerSeriesModel(hz),i.registerLayout(Xe(cz,"sunburst")),i.registerProcessor(Xe(xd,"sunburst")),i.registerVisual(dz),function(t){t.registerAction({type:nx,update:"updateView"},function(e,n){n.eachComponent({mainType:"series",subType:"sunburst",query:e},function(r,o){var a=Cd(e,[nx],r);if(a){var s=r.getViewRoot();s&&(e.direction=o0(s,a.node)?"rollUp":"drillDown"),r.resetViewRoot(a.node)}})}),t.registerAction({type:$T,update:"none"},function(e,n,r){e=de({},e),n.eachComponent({mainType:"series",subType:"sunburst",query:e},function(o){var a=Cd(e,[$T],o);a&&(e.dataIndex=a.node.dataIndex)}),r.dispatchAction(de(e,{type:"highlight"}))}),t.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(e,n,r){e=de({},e),r.dispatchAction(de(e,{type:"downplay"}))})}(i)},function(i){i.registerChartView(Iz),i.registerSeriesModel(fz)}]),pt(function(i){pt(bI),pt(Vd)}),pt(function(i){pt(Vd),xl.registerAxisPointerClass("PolarAxisPointer",Bz),i.registerCoordinateSystem("polar",jz),i.registerComponentModel(Gz),i.registerComponentView(r5),fh(i,"angle",Wz,i5),fh(i,"radius",Hz,n5),i.registerComponentView(qz),i.registerComponentView(Qz),i.registerLayout(Xe(t5,"bar"))}),pt(t2),pt(function(i){pt(Vd),xl.registerAxisPointerClass("SingleAxisPointer",p5),i.registerComponentView(g5),i.registerComponentView(s5),i.registerComponentModel(Vg),fh(i,"single",Vg,Vg.defaultOption),i.registerCoordinateSystem("single",c5)}),pt(xT),pt(function(i){i.registerComponentModel(m5),i.registerComponentView(y5),i.registerCoordinateSystem("calendar",v5)}),pt(function(i){i.registerComponentModel(_5),i.registerComponentView(b5),i.registerPreprocessor(function(t){var e=t.graphic;fe(e)?t.graphic=e[0]&&e[0].elements?[t.graphic[0]]:[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])})}),pt(function(i){i.registerComponentModel(A5),i.registerComponentView(k5),Mh("saveAsImage",L5),Mh("magicType",O5),Mh("dataView",E5),Mh("dataZoom",G5),Mh("restore",z5),pt(D5)}),pt(function(i){pt(Vd),i.registerComponentModel(H5),i.registerComponentView($5),i.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},jt),i.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},jt)}),pt(Vd),pt(function(i){i.registerComponentView(nV),i.registerComponentModel(rV),i.registerPreprocessor(J5),i.registerVisual(i.PRIORITY.VISUAL.BRUSH,eV),i.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(n){n.setAreas(t.areas)})}),i.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},jt),i.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},jt),Mh("brush",aV)}),pt(function(i){i.registerComponentModel(sV),i.registerComponentView(lV)}),pt(function(i){i.registerComponentModel(FD),i.registerComponentView(cV),i.registerSubTypeDefaulter("timeline",function(){return"slider"}),function(t){t.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,n,r){var o=n.getComponent("timeline");return o&&null!=e.currentIndex&&(o.setCurrentIndex(e.currentIndex),!o.get("loop",!0)&&o.isIndexMax()&&o.getPlayState()&&(o.setPlayState(!1),r.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),n.resetOption("timeline",{replaceMerge:o.get("replaceMerge",!0)}),Ve({currentIndex:o.option.currentIndex},e)}),t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,n){var r=n.getComponent("timeline");r&&null!=e.playState&&r.setPlayState(e.playState)})}(i),i.registerPreprocessor(dV)}),pt(function(i){i.registerComponentModel(pV),i.registerComponentView(fV),i.registerPreprocessor(function(t){jx(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}),pt(function(i){i.registerComponentModel(gV),i.registerComponentView(vV),i.registerPreprocessor(function(t){jx(t.series,"markLine")&&(t.markLine=t.markLine||{})})}),pt(function(i){i.registerComponentModel(xV),i.registerComponentView(wV),i.registerPreprocessor(function(t){jx(t.series,"markArea")&&(t.markArea=t.markArea||{})})}),pt(function(i){pt(tA),pt(TV)}),pt(function(i){pt(aA),pt(uA)}),pt(aA),pt(uA),pt(function(i){pt(IA),pt(CA)}),pt(IA),pt(CA),pt(function(i){i.registerPreprocessor(iB),i.registerVisual(i.PRIORITY.VISUAL.ARIA,tB)}),pt(function(i){i.registerTransform(hB),i.registerTransform(cB)}),pt(function(i){i.registerComponentModel(dB),i.registerComponentView(pB)}),pt(function(i){i.registerUpdateLifecycle("series:beforeupdate",function(t,e,n){G(Gt(n.seriesTransition),function(r){G(Gt(r.to),function(o){for(var a=n.updatedSeries,s=0;s<a.length;s++)(null!=o.seriesIndex&&o.seriesIndex===a[s].seriesIndex||null!=o.seriesId&&o.seriesId===a[s].id)&&(a[s].__universalTransitionEnabled=!0)})})}),i.registerUpdateLifecycle("series:transition",function(t,e,n){var f,m,y,v,b,r=SB(e);if(r.oldSeries&&n.updatedSeries&&n.optionChanged){var o=n.seriesTransition;if(o)G(Gt(o),function(f){var m,y,v,b,S,I;y=r,v=n,b=e,S=[],I=[],G(Gt((m=f).from),function(T){var D=ZA(y.oldSeries,T);D>=0&&S.push({dataGroupId:y.oldDataGroupIds[D],data:y.oldData[D],divide:rs(y.oldData[D]),dim:T.dimension})}),G(Gt(m.to),function(T){var D=ZA(v.updatedSeries,T);if(D>=0){var A=v.updatedSeries[D].getData();I.push({dataGroupId:y.oldDataGroupIds[D],data:A,divide:rs(A),dim:T.dimension})}}),S.length>0&&I.length>0&&XA(S,I,b)});else{var a=(f=r,m=n,y=ze(),v=ze(),b=ze(),G(f.oldSeries,function(S,I){var T=f.oldDataGroupIds[I],D=f.oldData[I],A=UA(S),L=jA(A);v.set(L,{dataGroupId:T,data:D}),fe(A)&&G(A,function(P){b.set(P,{key:L,dataGroupId:T,data:D})})}),G(m.updatedSeries,function(S){if(S.isUniversalTransitionEnabled()&&S.isAnimationEnabled()){var I=S.get("dataGroupId"),T=S.getData(),D=UA(S),A=jA(D),L=v.get(A);if(L)y.set(A,{oldSeries:[{dataGroupId:L.dataGroupId,divide:rs(L.data),data:L.data}],newSeries:[{dataGroupId:I,divide:rs(T),data:T}]});else if(fe(D)){var P=[];G(D,function(z){var B=v.get(z);B.data&&P.push({dataGroupId:B.dataGroupId,divide:rs(B.data),data:B.data})}),P.length&&y.set(A,{oldSeries:P,newSeries:[{dataGroupId:I,data:T,divide:rs(T)}]})}else{var E=b.get(D);if(E){var N=y.get(E.key);N||(N={oldSeries:[{dataGroupId:E.dataGroupId,data:E.data,divide:rs(E.data)}],newSeries:[]},y.set(E.key,N)),N.newSeries.push({dataGroupId:I,data:T,divide:rs(T)})}}}}),y);G(a.keys(),function(f){var m=a.get(f);XA(m.oldSeries,m.newSeries,e)})}G(n.updatedSeries,function(f){f.__universalTransitionEnabled&&(f.__universalTransitionEnabled=!1)})}for(var s=t.getSeries(),l=r.oldSeries=[],u=r.oldDataGroupIds=[],h=r.oldData=[],c=0;c<s.length;c++){var p=s[c].getData();p.count()<1e4&&(l.push(s[c]),u.push(s[c].get("dataGroupId")),h.push(p))}})}),pt(function(i){i.registerUpdateLifecycle("series:beforeupdate",function(t,e,n){var r=fv(e).labelManager;r||(r=fv(e).labelManager=new eO),r.clearLabels()}),i.registerUpdateLifecycle("series:layoutlabels",function(t,e,n){var r=fv(e).labelManager;n.updatedSeries.forEach(function(o){r.addLabelsOfSeries(e.getViewOfSeriesModel(o))}),r.updateLayoutConfig(e),r.layout(e),r.processLabelsOverall()})}),Re.Axis=Sr,Re.ChartView=Ht,Re.ComponentModel=mt,Re.ComponentView=ei,Re.List=yn,Re.Model=Rt,Re.PRIORITY=Pw,Re.SeriesModel=qt,Re.color=eu,Re.connect=function(i){if(fe(i)){var t=i;i=null,G(t,function(e){null!=e.group&&(i=e.group)}),i=i||"g_"+oP++,G(t,function(e){e.group=i})}return Ef[i]=!0,i},Re.dataTool={},Re.dependencies={zrender:"5.4.1"},Re.disConnect=Uw,Re.disconnect=aP,Re.dispose=function(i){De(i)?i=hl[i]:i instanceof Pf||(i=Hy(i)),i instanceof Pf&&!i.isDisposed()&&i.dispose()},Re.env=Ee,Re.extendChartView=function(i){var t=Ht.extend(i);return Ht.registerClass(t),t},Re.extendComponentModel=function(i){var t=mt.extend(i);return mt.registerClass(t),t},Re.extendComponentView=function(i){var t=ei.extend(i);return ei.registerClass(t),t},Re.extendSeriesModel=function(i){var t=qt.extend(i);return qt.registerClass(t),t},Re.format=FP,Re.getCoordinateSystemDimensions=function(i){var t=Zu.get(i);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()},Re.getInstanceByDom=Hy,Re.getInstanceById=function(i){return hl[i]},Re.getMap=function(i){var t=Lw("getMap");return t&&t(i)},Re.graphic=BP,Re.helper=RP,Re.init=function(i,t,e){var n=!(e&&e.ssr);if(n){var r=Hy(i);if(r)return r}var o=new Pf(i,t,e);return o.id="ec_"+rP++,hl[o.id]=o,n&&ka(i,Wy,o.id),Gw(o),Zr.trigger("afterinit",o),o},Re.innerDrawElementOnCanvas=Ay,Re.matrix=gs,Re.number=zP,Re.parseGeoJSON=hv,Re.parseGeoJson=hv,Re.registerAction=qr,Re.registerCoordinateSystem=qw,Re.registerLayout=$w,Re.registerLoading=Zy,Re.registerLocale=Xm,Re.registerMap=Jw,Re.registerPostInit=jw,Re.registerPostUpdate=Zw,Re.registerPreprocessor=Xy,Re.registerProcessor=Uy,Re.registerTheme=Yy,Re.registerTransform=Qw,Re.registerUpdateLifecycle=Nf,Re.registerVisual=Ua,Re.setCanvasCreator=function(i){it({createCanvas:i})},Re.setPlatformAPI=it,Re.throttle=bf,Re.time=VP,Re.use=pt,Re.util=GP,Re.vector=Nl,Re.version="5.4.1",Re.zrUtil=An,Re.zrender=Ia,Object.defineProperty(Re,"__esModule",{value:!0})}),function(Re,Ii){"object"==typeof exports&&typeof module<"u"?module.exports=Ii():"function"==typeof define&&define.amd?define(Ii):(Re=typeof globalThis<"u"?globalThis:Re||self).Chart=Ii()}(this,function(){"use strict";function Re(){}const Ii=function(){let x=0;return function(){return x++}}();function ie(x){return null==x}function At(x){if(Array.isArray&&Array.isArray(x))return!0;const d=Object.prototype.toString.call(x);return"[object"===d.slice(0,7)&&"Array]"===d.slice(-6)}function Ee(x){return null!==x&&"[object Object]"===Object.prototype.toString.call(x)}const Lt=x=>("number"==typeof x||x instanceof Number)&&isFinite(+x);function ut(x,d){return Lt(x)?x:d}function $e(x,d){return void 0===x?d:x}const Pt=(x,d)=>"string"==typeof x&&x.endsWith("%")?parseFloat(x)/100:x/d,Zt=(x,d)=>"string"==typeof x&&x.endsWith("%")?parseFloat(x)/100*d:+x;function Qe(x,d,g){if(x&&"function"==typeof x.call)return x.apply(g,d)}function it(x,d,g,_){let w,M,C;if(At(x))if(M=x.length,_)for(w=M-1;w>=0;w--)d.call(g,x[w],w);else for(w=0;w<M;w++)d.call(g,x[w],w);else if(Ee(x))for(C=Object.keys(x),M=C.length,w=0;w<M;w++)d.call(g,x[C[w]],C[w])}function si(x,d){let g,_,w,M;if(!x||!d||x.length!==d.length)return!1;for(g=0,_=x.length;g<_;++g)if(w=x[g],M=d[g],w.datasetIndex!==M.datasetIndex||w.index!==M.index)return!1;return!0}function Bi(x){if(At(x))return x.map(Bi);if(Ee(x)){const d=Object.create(null),g=Object.keys(x),_=g.length;let w=0;for(;w<_;++w)d[g[w]]=Bi(x[g[w]]);return d}return x}function Cn(x){return-1===["__proto__","prototype","constructor"].indexOf(x)}function Xn(x,d,g,_){if(!Cn(x))return;const w=d[x],M=g[x];Ee(w)&&Ee(M)?kr(w,M,_):d[x]=Bi(M)}function kr(x,d,g){const _=At(d)?d:[d],w=_.length;if(!Ee(x))return x;const M=(g=g||{}).merger||Xn;for(let C=0;C<w;++C){if(!Ee(d=_[C]))continue;const k=Object.keys(d);for(let O=0,R=k.length;O<R;++O)M(k[O],x,d,g)}return x}function Lr(x,d){return kr(x,d,{merger:on})}function on(x,d,g){if(!Cn(x))return;const _=d[x],w=g[x];Ee(_)&&Ee(w)?Lr(_,w):Object.prototype.hasOwnProperty.call(d,x)||(d[x]=Bi(w))}const os={"":x=>x,x:x=>x.x,y:x=>x.y};function Ot(x,d){return(os[d]||(os[d]=function(_){const w=Io(_);return M=>{for(const C of w){if(""===C)break;M=M&&M[C]}return M}}(d)))(x)}function Io(x){const d=x.split("."),g=[];let _="";for(const w of d)_+=w,_.endsWith("\\")?_=_.slice(0,-1)+".":(g.push(_),_="");return g}function vn(x){return x.charAt(0).toUpperCase()+x.slice(1)}const Li=x=>void 0!==x,ji=x=>"function"==typeof x,Pr=(x,d)=>{if(x.size!==d.size)return!1;for(const g of x)if(!d.has(g))return!1;return!0};function Ue(x){return"mouseup"===x.type||"click"===x.type||"contextmenu"===x.type}const Be=Math.PI,Et=2*Be,de=Et+Be,Ve=Number.POSITIVE_INFINITY,as=Be/180,We=Be/2,nr=Be/4,Qt=2*Be/3,Ft=Math.log10,G=Math.sign;function ge(x){const d=Math.round(x);x=rr(x,d,x/1e3)?d:x;const g=Math.pow(10,Math.floor(Ft(x))),_=x/g;return(_<=1?1:_<=2?2:_<=5?5:10)*g}function Zi(x){const d=[],g=Math.sqrt(x);let _;for(_=1;_<g;_++)x%_==0&&(d.push(_),d.push(x/_));return g===(0|g)&&d.push(g),d.sort((w,M)=>w-M).pop(),d}function xt(x){return!isNaN(parseFloat(x))&&isFinite(x)}function rr(x,d,g){return Math.abs(x-d)<g}function dt(x,d){const g=Math.round(x);return g-d<=x&&g+d>=x}function ke(x,d,g){let _,w,M;for(_=0,w=x.length;_<w;_++)M=x[_][g],isNaN(M)||(d.min=Math.min(d.min,M),d.max=Math.max(d.max,M))}function Xe(x){return x*(Be/180)}function fe(x){return x*(180/Be)}function Ge(x){if(!Lt(x))return;let d=1,g=0;for(;Math.round(x*d)/d!==x;)d*=10,g++;return g}function De(x,d){const g=d.x-x.x,_=d.y-x.y,w=Math.sqrt(g*g+_*_);let M=Math.atan2(_,g);return M<-.5*Be&&(M+=Et),{angle:M,distance:w}}function se(x,d){return Math.sqrt(Math.pow(d.x-x.x,2)+Math.pow(d.y-x.y,2))}function oe(x,d){return(x-d+de)%Et-Be}function le(x){return(x%Et+Et)%Et}function Ie(x,d,g,_){const w=le(x),M=le(d),C=le(g),k=le(M-w),O=le(C-w),R=le(w-M),V=le(w-C);return w===M||w===C||_&&M===C||k>O&&R<V}function Se(x,d,g){return Math.max(d,Math.min(g,x))}function at(x){return Se(x,-32768,32767)}function bt(x,d,g,_=1e-6){return x>=Math.min(d,g)-_&&x<=Math.max(d,g)+_}function yt(x,d,g){g=g||(C=>x[C]<d);let _,w=x.length-1,M=0;for(;w-M>1;)_=M+w>>1,g(_)?M=_:w=_;return{lo:M,hi:w}}const wt=(x,d,g,_)=>yt(x,g,_?w=>x[w][d]<=g:w=>x[w][d]<g),Ti=(x,d,g)=>yt(x,g,_=>x[_][d]>=g);function kt(x,d,g){let _=0,w=x.length;for(;_<w&&x[_]<d;)_++;for(;w>_&&x[w-1]>g;)w--;return _>0||w<x.length?x.slice(_,w):x}const He=["push","pop","shift","splice","unshift"];function ft(x,d){x._chartjs?x._chartjs.listeners.push(d):(Object.defineProperty(x,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[d]}}),He.forEach(g=>{const _="_onData"+vn(g),w=x[g];Object.defineProperty(x,g,{configurable:!0,enumerable:!1,value(...M){const C=w.apply(this,M);return x._chartjs.listeners.forEach(k=>{"function"==typeof k[_]&&k[_](...M)}),C}})}))}function Xt(x,d){const g=x._chartjs;if(!g)return;const _=g.listeners,w=_.indexOf(d);-1!==w&&_.splice(w,1),_.length>0||(He.forEach(M=>{delete x[M]}),delete x._chartjs)}function ri(x){const d=new Set;let g,_;for(g=0,_=x.length;g<_;++g)d.add(x[g]);return d.size===_?x:Array.from(d)}const Vt=typeof window>"u"?function(x){return x()}:window.requestAnimationFrame;function Ut(x,d,g){const _=g||(C=>Array.prototype.slice.call(C));let w=!1,M=[];return function(...C){M=_(C),w||(w=!0,Vt.call(window,()=>{w=!1,x.apply(d,M)}))}}function Lh(x,d){let g;return function(..._){return d?(clearTimeout(g),g=setTimeout(x,d,_)):x.apply(this,_),d}}const eo=x=>"start"===x?"left":"end"===x?"right":"center",li=(x,d,g)=>"start"===x?d:"end"===x?g:(d+g)/2,qd=(x,d,g,_)=>x===(_?"left":"right")?g:"center"===x?(d+g)/2:d;function Pl(x,d,g){const _=d.length;let w=0,M=_;if(x._sorted){const{iScale:C,_parsed:k}=x,O=C.axis,{min:R,max:V,minDefined:F,maxDefined:H}=C.getUserBounds();F&&(w=Se(Math.min(wt(k,C.axis,R).lo,g?_:wt(d,O,C.getPixelForValue(R)).lo),0,_-1)),M=H?Se(Math.max(wt(k,C.axis,V,!0).hi+1,g?0:wt(d,O,C.getPixelForValue(V),!0).hi+1),w,_)-w:_-w}return{start:w,count:M}}function Ol(x){const{xScale:d,yScale:g,_scaleRanges:_}=x,w={xmin:d.min,xmax:d.max,ymin:g.min,ymax:g.max};if(!_)return x._scaleRanges=w,!0;const M=_.xmin!==d.min||_.xmax!==d.max||_.ymin!==g.min||_.ymax!==g.max;return Object.assign(_,w),M}var ze=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(x,d,g,_){const M=d.duration;d.listeners[_].forEach(C=>C({chart:x,initial:d.initial,numSteps:M,currentStep:Math.min(g-d.start,M)}))}_refresh(){this._request||(this._running=!0,this._request=Vt.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(x=Date.now()){let d=0;this._charts.forEach((g,_)=>{if(!g.running||!g.items.length)return;const w=g.items;let M,C=w.length-1,k=!1;for(;C>=0;--C)M=w[C],M._active?(M._total>g.duration&&(g.duration=M._total),M.tick(x),k=!0):(w[C]=w[w.length-1],w.pop());k&&(_.draw(),this._notify(_,g,x,"progress")),w.length||(g.running=!1,this._notify(_,g,x,"complete"),g.initial=!1),d+=w.length}),this._lastDate=x,0===d&&(this._running=!1)}_getAnims(x){const d=this._charts;let g=d.get(x);return g||(g={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},d.set(x,g)),g}listen(x,d,g){this._getAnims(x).listeners[d].push(g)}add(x,d){d&&d.length&&this._getAnims(x).items.push(...d)}has(x){return this._getAnims(x).items.length>0}start(x){const d=this._charts.get(x);d&&(d.running=!0,d.start=Date.now(),d.duration=d.items.reduce((g,_)=>Math.max(g,_._duration),0),this._refresh())}running(x){if(!this._running)return!1;const d=this._charts.get(x);return!!(d&&d.running&&d.items.length)}stop(x){const d=this._charts.get(x);if(!d||!d.items.length)return;const g=d.items;let _=g.length-1;for(;_>=0;--_)g[_].cancel();d.items=[],this._notify(x,d,Date.now(),"complete")}remove(x){return this._charts.delete(x)}};function Or(x){return x+.5|0}const Dn=(x,d,g)=>Math.max(Math.min(x,g),d);function To(x){return Dn(Or(2.55*x),0,255)}function Le(x){return Dn(Or(255*x),0,255)}function jt(x){return Dn(Or(x/2.55)/100,0,1)}function pa(x){return Dn(Or(100*x),0,100)}const An={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},or=[..."0123456789ABCDEF"],Fi=x=>or[15&x],ar=x=>or[(240&x)>>4]+or[15&x],ss=x=>(240&x)>>4==(15&x),Rl=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Rr(x,d,g){const _=d*Math.min(g,1-g),w=(M,C=(M+x/30)%12)=>g-_*Math.max(Math.min(C-3,9-C,1),-1);return[w(0),w(8),w(4)]}function ls(x,d,g){const _=(w,M=(w+x/60)%6)=>g-g*d*Math.max(Math.min(M,4-M,1),0);return[_(5),_(3),_(1)]}function rm(x,d,g){const _=Rr(x,1,.5);let w;for(d+g>1&&(w=1/(d+g),d*=w,g*=w),w=0;w<3;w++)_[w]*=1-d-g,_[w]+=d;return _}function us(x){const d=x.r/255,g=x.g/255,_=x.b/255,w=Math.max(d,g,_),M=Math.min(d,g,_),C=(w+M)/2;let k,O,R;return w!==M&&(R=w-M,O=C>.5?R/(2-w-M):R/(w+M),F=g,H=_,U=R,k=(V=d)===(X=w)?(F-H)/U+(F<H?6:0):F===X?(H-V)/U+2:(V-F)/U+4,k=60*k+.5),[0|k,O||0,C];var V,F,H,U,X}function Oh(x,d,g,_){return(Array.isArray(d)?x(d[0],d[1],d[2]):x(d,g,_)).map(Le)}function Co(x,d,g){return Oh(Rr,x,d,g)}function to(x){return(x%360+360)%360}const sr={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Rh={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Un;const Ci=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,jn=x=>x<=.0031308?12.92*x:1.055*Math.pow(x,1/2.4)-.055,an=x=>x<=.04045?x/12.92:Math.pow((x+.055)/1.055,2.4);function Nl(x,d,g){if(x){let _=us(x);_[d]=Math.max(0,Math.min(_[d]+_[d]*g,0===d?360:1)),_=Co(_),x.r=_[0],x.g=_[1],x.b=_[2]}}function Do(x,d){return x&&Object.assign(d||{},x)}function $d(x){var d={r:0,g:0,b:0,a:255};return Array.isArray(x)?x.length>=3&&(d={r:x[0],g:x[1],b:x[2],a:255},x.length>3&&(d.a=Le(x[3]))):(d=Do(x,{r:0,g:0,b:0,a:1})).a=Le(d.a),d}class zl{constructor(d){if(d instanceof zl)return d;const g=typeof d;let _;var w,M,C;"object"===g?_=$d(d):"string"===g&&(C=(w=d).length,"#"===w[0]&&(4===C||5===C?M={r:255&17*An[w[1]],g:255&17*An[w[2]],b:255&17*An[w[3]],a:5===C?17*An[w[4]]:255}:7!==C&&9!==C||(M={r:An[w[1]]<<4|An[w[2]],g:An[w[3]]<<4|An[w[4]],b:An[w[5]]<<4|An[w[6]],a:9===C?An[w[7]]<<4|An[w[8]]:255})),_=M||function hs(x){Un||(Un=function(){const g={},_=Object.keys(Rh),w=Object.keys(sr);let M,C,k,O,R;for(M=0;M<_.length;M++){for(O=R=_[M],C=0;C<w.length;C++)k=w[C],R=R.replace(k,sr[k]);k=parseInt(Rh[O],16),g[R]=[k>>16&255,k>>8&255,255&k]}return g}(),Un.transparent=[0,0,0,0]);const d=Un[x.toLowerCase()];return d&&{r:d[0],g:d[1],b:d[2],a:4===d.length?d[3]:255}}(d)||function kn(x){return"r"===x.charAt(0)?function(d){const g=Ci.exec(d);let _,w,M,C=255;if(g){if(g[7]!==_){const k=+g[7];C=g[8]?To(k):Dn(255*k,0,255)}return _=+g[1],w=+g[3],M=+g[5],_=255&(g[2]?To(_):Dn(_,0,255)),w=255&(g[4]?To(w):Dn(w,0,255)),M=255&(g[6]?To(M):Dn(M,0,255)),{r:_,g:w,b:M,a:C}}}(x):function El(x){const d=Rl.exec(x);let g,_=255;if(!d)return;d[5]!==g&&(_=d[6]?To(+d[5]):Le(+d[5]));const w=to(+d[2]),M=+d[3]/100,C=+d[4]/100;return g="hwb"===d[1]?Oh(rm,w,M,C):"hsv"===d[1]?Oh(ls,w,M,C):Co(w,M,C),{r:g[0],g:g[1],b:g[2],a:_}}(x)}(d)),this._rgb=_,this._valid=!!_}get valid(){return this._valid}get rgb(){var d=Do(this._rgb);return d&&(d.a=jt(d.a)),d}set rgb(d){this._rgb=$d(d)}rgbString(){return this._valid?(d=this._rgb)&&(d.a<255?`rgba(${d.r}, ${d.g}, ${d.b}, ${jt(d.a)})`:`rgb(${d.r}, ${d.g}, ${d.b})`):void 0;var d}hexString(){return this._valid?function Ph(x){var g,d=ss((g=x).r)&&ss(g.g)&&ss(g.b)&&ss(g.a)?Fi:ar;return x?"#"+d(x.r)+d(x.g)+d(x.b)+((g,_)=>g<255?_(g):"")(x.a,d):void 0}(this._rgb):void 0}hslString(){return this._valid?function(d){if(!d)return;const g=us(d),_=g[0],w=pa(g[1]),M=pa(g[2]);return d.a<255?`hsla(${_}, ${w}%, ${M}%, ${jt(d.a)})`:`hsl(${_}, ${w}%, ${M}%)`}(this._rgb):void 0}mix(d,g){if(d){const _=this.rgb,w=d.rgb;let M;const C=g===M?.5:g,k=2*C-1,O=_.a-w.a,R=((k*O==-1?k:(k+O)/(1+k*O))+1)/2;M=1-R,_.r=255&R*_.r+M*w.r+.5,_.g=255&R*_.g+M*w.g+.5,_.b=255&R*_.b+M*w.b+.5,_.a=C*_.a+(1-C)*w.a,this.rgb=_}return this}interpolate(d,g){return d&&(this._rgb=function(_,w,M){const C=an(jt(_.r)),k=an(jt(_.g)),O=an(jt(_.b));return{r:Le(jn(C+M*(an(jt(w.r))-C))),g:Le(jn(k+M*(an(jt(w.g))-k))),b:Le(jn(O+M*(an(jt(w.b))-O))),a:_.a+M*(w.a-_.a)}}(this._rgb,d._rgb,g)),this}clone(){return new zl(this.rgb)}alpha(d){return this._rgb.a=Le(d),this}clearer(d){return this._rgb.a*=1-d,this}greyscale(){const d=this._rgb,g=Or(.3*d.r+.59*d.g+.11*d.b);return d.r=d.g=d.b=g,this}opaquer(d){return this._rgb.a*=1+d,this}negate(){const d=this._rgb;return d.r=255-d.r,d.g=255-d.g,d.b=255-d.b,this}lighten(d){return Nl(this._rgb,2,d),this}darken(d){return Nl(this._rgb,2,-d),this}saturate(d){return Nl(this._rgb,1,d),this}desaturate(d){return Nl(this._rgb,1,-d),this}rotate(d){return _=d,(w=us(g=this._rgb))[0]=to(w[0]+_),w=Co(w),g.r=w[0],g.g=w[1],g.b=w[2],this;var g,_,w}}function Vl(x){return new zl(x)}function Bl(x){if(x&&"object"==typeof x){const d=x.toString();return"[object CanvasPattern]"===d||"[object CanvasGradient]"===d}return!1}function cs(x){return Bl(x)?x:Vl(x)}function fa(x){return Bl(x)?x:Vl(x).saturate(.5).darken(.1).hexString()}const io=Object.create(null),Eh=Object.create(null);function ds(x,d){if(!d)return x;const g=d.split(".");for(let _=0,w=g.length;_<w;++_){const M=g[_];x=x[M]||(x[M]=Object.create(null))}return x}function Pi(x,d,g){return"string"==typeof d?kr(ds(x,d),g):kr(ds(x,""),d)}var Nt=new class{constructor(x){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=d=>d.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(d,g)=>fa(g.backgroundColor),this.hoverBorderColor=(d,g)=>fa(g.borderColor),this.hoverColor=(d,g)=>fa(g.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(x)}set(x,d){return Pi(this,x,d)}get(x){return ds(this,x)}describe(x,d){return Pi(Eh,x,d)}override(x,d){return Pi(io,x,d)}route(x,d,g,_){const w=ds(this,x),M=ds(this,g),C="_"+d;Object.defineProperties(w,{[C]:{value:w[d],writable:!0},[d]:{enumerable:!0,get(){const k=this[C],O=M[_];return Ee(k)?Object.assign({},O,k):$e(k,O)},set(k){this[C]=k}}})}}({_scriptable:x=>!x.startsWith("on"),_indexable:x=>"events"!==x,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function ps(){return typeof window<"u"&&typeof document<"u"}function Fl(x){let d=x.parentNode;return d&&"[object ShadowRoot]"===d.toString()&&(d=d.host),d}function ga(x,d,g){let _;return"string"==typeof x?(_=parseInt(x,10),-1!==x.indexOf("%")&&(_=_/100*d.parentNode[g])):_=x,_}const fs=x=>window.getComputedStyle(x,null);function Gl(x,d){return fs(x).getPropertyValue(d)}const Ln=["top","right","bottom","left"];function Er(x,d,g){const _={};g=g?"-"+g:"";for(let w=0;w<4;w++){const M=Ln[w];_[M]=parseFloat(x[d+"-"+M+g])||0}return _.width=_.left+_.right,_.height=_.top+_.bottom,_}function Gi(x,d){if("native"in x)return x;const{canvas:g,currentDevicePixelRatio:_}=d,w=fs(g),M="border-box"===w.boxSizing,C=Er(w,"padding"),k=Er(w,"border","width"),{x:O,y:R,box:V}=function($,J){const ee=$.touches,ae=ee&&ee.length?ee[0]:$,{offsetX:ue,offsetY:he}=ae;let me,Me,Ae=!1;if(Oe=$.target,!(ue>0||he>0)||Oe&&Oe.shadowRoot){const Ye=J.getBoundingClientRect();me=ae.clientX-Ye.left,Me=ae.clientY-Ye.top,Ae=!0}else me=ue,Me=he;var Oe;return{x:me,y:Me,box:Ae}}(x,g),F=C.left+(V&&k.left),H=C.top+(V&&k.top);let{width:U,height:X}=d;return M&&(U-=C.width+k.width,X-=C.height+k.height),{x:Math.round((O-F)/U*g.width/_),y:Math.round((R-H)/X*g.height/_)}}const Wl=x=>Math.round(10*x)/10;function Kd(x,d,g,_){const w=fs(x),M=Er(w,"margin"),C=ga(w.maxWidth,x,"clientWidth")||Ve,k=ga(w.maxHeight,x,"clientHeight")||Ve,O=function(F,H,U){let X,$;if(void 0===H||void 0===U){const J=Fl(F);if(J){const ee=J.getBoundingClientRect(),ae=fs(J),ue=Er(ae,"border","width"),he=Er(ae,"padding");H=ee.width-he.width-ue.width,U=ee.height-he.height-ue.height,X=ga(ae.maxWidth,J,"clientWidth"),$=ga(ae.maxHeight,J,"clientHeight")}else H=F.clientWidth,U=F.clientHeight}return{width:H,height:U,maxWidth:X||Ve,maxHeight:$||Ve}}(x,d,g);let{width:R,height:V}=O;if("content-box"===w.boxSizing){const F=Er(w,"border","width"),H=Er(w,"padding");R-=H.width+F.width,V-=H.height+F.height}return R=Math.max(0,R-M.width),V=Math.max(0,_?Math.floor(R/_):V-M.height),R=Wl(Math.min(R,C,O.maxWidth)),V=Wl(Math.min(V,k,O.maxHeight)),R&&!V&&(V=Wl(R/2)),{width:R,height:V}}function Hl(x,d,g){const _=d||1,w=Math.floor(x.height*_),M=Math.floor(x.width*_);x.height=w/_,x.width=M/_;const C=x.canvas;return C.style&&(g||!C.style.height&&!C.style.width)&&(C.style.height=`${x.height}px`,C.style.width=`${x.width}px`),(x.currentDevicePixelRatio!==_||C.height!==w||C.width!==M)&&(x.currentDevicePixelRatio=_,C.height=w,C.width=M,x.ctx.setTransform(_,0,0,_,0,0),!0)}const Yl=function(){let x=!1;try{const d={get passive(){return x=!0,!1}};window.addEventListener("test",null,d),window.removeEventListener("test",null,d)}catch{}return x}();function Nh(x,d){const g=Gl(x,d),_=g&&g.match(/^(\d+)(\.\d+)?px$/);return _?+_[1]:void 0}function ma(x){return!x||ie(x.size)||ie(x.family)?null:(x.style?x.style+" ":"")+(x.weight?x.weight+" ":"")+x.size+"px "+x.family}function no(x,d,g,_,w){let M=d[w];return M||(M=d[w]=x.measureText(w).width,g.push(w)),M>_&&(_=M),_}function Zn(x,d,g,_){let w=(_=_||{}).data=_.data||{},M=_.garbageCollect=_.garbageCollect||[];_.font!==d&&(w=_.data={},M=_.garbageCollect=[],_.font=d),x.save(),x.font=d;let C=0;const k=g.length;let O,R,V,F,H;for(O=0;O<k;O++)if(F=g[O],null!=F&&!0!==At(F))C=no(x,w,M,C,F);else if(At(F))for(R=0,V=F.length;R<V;R++)H=F[R],null==H||At(H)||(C=no(x,w,M,C,H));x.restore();const U=M.length/2;if(U>g.length){for(O=0;O<U;O++)delete w[M[O]];M.splice(0,U)}return C}function Di(x,d,g){const _=x.currentDevicePixelRatio,w=0!==g?Math.max(g/2,.5):0;return Math.round((d-w)*_)/_+w}function lr(x,d){(d=d||x.getContext("2d")).save(),d.resetTransform(),d.clearRect(0,0,x.width,x.height),d.restore()}function Ao(x,d,g,_){Nr(x,d,g,_,null)}function Nr(x,d,g,_,w){let M,C,k,O,R,V;const F=d.pointStyle,H=d.rotation,U=d.radius;let X=(H||0)*as;if(F&&"object"==typeof F&&(M=F.toString(),"[object HTMLImageElement]"===M||"[object HTMLCanvasElement]"===M))return x.save(),x.translate(g,_),x.rotate(X),x.drawImage(F,-F.width/2,-F.height/2,F.width,F.height),void x.restore();if(!(isNaN(U)||U<=0)){switch(x.beginPath(),F){default:w?x.ellipse(g,_,w/2,U,0,0,Et):x.arc(g,_,U,0,Et),x.closePath();break;case"triangle":x.moveTo(g+Math.sin(X)*U,_-Math.cos(X)*U),X+=Qt,x.lineTo(g+Math.sin(X)*U,_-Math.cos(X)*U),X+=Qt,x.lineTo(g+Math.sin(X)*U,_-Math.cos(X)*U),x.closePath();break;case"rectRounded":R=.516*U,O=U-R,C=Math.cos(X+nr)*O,k=Math.sin(X+nr)*O,x.arc(g-C,_-k,R,X-Be,X-We),x.arc(g+k,_-C,R,X-We,X),x.arc(g+C,_+k,R,X,X+We),x.arc(g-k,_+C,R,X+We,X+Be),x.closePath();break;case"rect":if(!H){O=Math.SQRT1_2*U,V=w?w/2:O,x.rect(g-V,_-O,2*V,2*O);break}X+=nr;case"rectRot":C=Math.cos(X)*U,k=Math.sin(X)*U,x.moveTo(g-C,_-k),x.lineTo(g+k,_-C),x.lineTo(g+C,_+k),x.lineTo(g-k,_+C),x.closePath();break;case"crossRot":X+=nr;case"cross":C=Math.cos(X)*U,k=Math.sin(X)*U,x.moveTo(g-C,_-k),x.lineTo(g+C,_+k),x.moveTo(g+k,_-C),x.lineTo(g-k,_+C);break;case"star":C=Math.cos(X)*U,k=Math.sin(X)*U,x.moveTo(g-C,_-k),x.lineTo(g+C,_+k),x.moveTo(g+k,_-C),x.lineTo(g-k,_+C),X+=nr,C=Math.cos(X)*U,k=Math.sin(X)*U,x.moveTo(g-C,_-k),x.lineTo(g+C,_+k),x.moveTo(g+k,_-C),x.lineTo(g-k,_+C);break;case"line":C=w?w/2:Math.cos(X)*U,k=Math.sin(X)*U,x.moveTo(g-C,_-k),x.lineTo(g+C,_+k);break;case"dash":x.moveTo(g,_),x.lineTo(g+Math.cos(X)*U,_+Math.sin(X)*U)}x.fill(),d.borderWidth>0&&x.stroke()}}function ko(x,d,g){return g=g||.5,!d||x&&x.x>d.left-g&&x.x<d.right+g&&x.y>d.top-g&&x.y<d.bottom+g}function gs(x,d){x.save(),x.beginPath(),x.rect(d.left,d.top,d.right-d.left,d.bottom-d.top),x.clip()}function nt(x){x.restore()}function ms(x,d,g,_,w){if(!d)return x.lineTo(g.x,g.y);if("middle"===w){const M=(d.x+g.x)/2;x.lineTo(M,d.y),x.lineTo(M,g.y)}else"after"===w!=!!_?x.lineTo(d.x,g.y):x.lineTo(g.x,d.y);x.lineTo(g.x,g.y)}function ys(x,d,g,_){if(!d)return x.lineTo(g.x,g.y);x.bezierCurveTo(_?d.cp1x:d.cp2x,_?d.cp1y:d.cp2y,_?g.cp2x:g.cp1x,_?g.cp2y:g.cp1y,g.x,g.y)}function sn(x,d,g,_,w,M={}){const C=At(d)?d:[d],k=M.strokeWidth>0&&""!==M.strokeColor;let O,R;for(x.save(),x.font=w.string,V=x,(F=M).translation&&V.translate(F.translation[0],F.translation[1]),ie(F.rotation)||V.rotate(F.rotation),F.color&&(V.fillStyle=F.color),F.textAlign&&(V.textAlign=F.textAlign),F.textBaseline&&(V.textBaseline=F.textBaseline),O=0;O<C.length;++O)R=C[O],k&&(M.strokeColor&&(x.strokeStyle=M.strokeColor),ie(M.strokeWidth)||(x.lineWidth=M.strokeWidth),x.strokeText(R,g,_,M.maxWidth)),x.fillText(R,g,_,M.maxWidth),Lo(x,g,_,R,M),_+=w.lineHeight;var V,F;x.restore()}function Lo(x,d,g,_,w){if(w.strikethrough||w.underline){const M=x.measureText(_),C=d-M.actualBoundingBoxLeft,k=d+M.actualBoundingBoxRight,O=g-M.actualBoundingBoxAscent,R=g+M.actualBoundingBoxDescent,V=w.strikethrough?(O+R)/2:R;x.strokeStyle=x.fillStyle,x.beginPath(),x.lineWidth=w.decorationWidth||2,x.moveTo(C,V),x.lineTo(k,V),x.stroke()}}function Pn(x,d){const{x:g,y:_,w,h:M,radius:C}=d;x.arc(g+C.topLeft,_+C.topLeft,C.topLeft,-We,Be,!0),x.lineTo(g,_+M-C.bottomLeft),x.arc(g+C.bottomLeft,_+M-C.bottomLeft,C.bottomLeft,Be,We,!0),x.lineTo(g+w-C.bottomRight,_+M),x.arc(g+w-C.bottomRight,_+M-C.bottomRight,C.bottomRight,We,0,!0),x.lineTo(g+w,_+C.topRight),x.arc(g+w-C.topRight,_+C.topRight,C.topRight,0,-We,!0),x.lineTo(g+C.topLeft,_)}function ur(x,d=[""],g=x,_,w=(()=>x[0])){Li(_)||(_=ep("_fallback",x));const M={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:x,_rootScopes:g,_fallback:_,_getTarget:w,override:C=>ur([C,...x],d,g,_)};return new Proxy(M,{deleteProperty:(C,k)=>(delete C[k],delete C._keys,delete x[0][k],!0),get:(C,k)=>Jd(C,k,()=>function(O,R,V,F){let H;for(const U of R)if(H=ep(st(U,O),V),Li(H))return Xl(O,H)?xs(V,F,O,H):H}(k,d,x,C)),getOwnPropertyDescriptor:(C,k)=>Reflect.getOwnPropertyDescriptor(C._scopes[0],k),getPrototypeOf:()=>Reflect.getPrototypeOf(x[0]),has:(C,k)=>Vh(C).includes(k),ownKeys:C=>Vh(C),set(C,k,O){const R=C._storage||(C._storage=w());return C[k]=R[k]=O,delete C._keys,!0}})}function qn(x,d,g,_){const w={_cacheable:!1,_proxy:x,_context:d,_subProxy:g,_stack:new Set,_descriptors:Po(x,_),setContext:M=>qn(x,M,g,_),override:M=>qn(x.override(M),d,g,_)};return new Proxy(w,{deleteProperty:(M,C)=>(delete M[C],delete x[C],!0),get:(M,C,k)=>Jd(M,C,()=>function(O,R,V){const{_proxy:F,_context:H,_subProxy:U,_descriptors:X}=O;let $=F[R];return ji($)&&X.isScriptable(R)&&($=function(J,ee,ae,ue){const{_proxy:he,_context:me,_subProxy:Me,_stack:Ae}=ae;if(Ae.has(J))throw new Error("Recursion detected: "+Array.from(Ae).join("->")+"->"+J);return Ae.add(J),ee=ee(me,Me||ue),Ae.delete(J),Xl(J,ee)&&(ee=xs(he._scopes,he,J,ee)),ee}(R,$,O,V)),At($)&&$.length&&($=function(J,ee,ae,ue){const{_proxy:he,_context:me,_subProxy:Me,_descriptors:Ae}=ae;if(Li(me.index)&&ue(J))ee=ee[me.index%ee.length];else if(Ee(ee[0])){const Ye=ee,Fe=he._scopes.filter(Oe=>Oe!==Ye);ee=[];for(const Oe of Ye){const je=xs(Fe,he,J,Oe);ee.push(qn(je,me,Me&&Me[J],Ae))}}return ee}(R,$,O,X.isIndexable)),Xl(R,$)&&($=qn($,H,U&&U[R],X)),$}(M,C,k)),getOwnPropertyDescriptor:(M,C)=>M._descriptors.allKeys?Reflect.has(x,C)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(x,C),getPrototypeOf:()=>Reflect.getPrototypeOf(x),has:(M,C)=>Reflect.has(x,C),ownKeys:()=>Reflect.ownKeys(x),set:(M,C,k)=>(x[C]=k,delete M[C],!0)})}function Po(x,d={scriptable:!0,indexable:!0}){const{_scriptable:g=d.scriptable,_indexable:_=d.indexable,_allKeys:w=d.allKeys}=x;return{allKeys:w,scriptable:g,indexable:_,isScriptable:ji(g)?g:()=>g,isIndexable:ji(_)?_:()=>_}}const st=(x,d)=>x?x+vn(d):d,Xl=(x,d)=>Ee(d)&&"adapters"!==x&&(null===Object.getPrototypeOf(d)||d.constructor===Object);function Jd(x,d,g){if(Object.prototype.hasOwnProperty.call(x,d))return x[d];const _=g();return x[d]=_,_}function Qd(x,d,g){return ji(x)?x(d,g):x}const vs=(x,d)=>!0===x?d:"string"==typeof x?Ot(d,x):void 0;function om(x,d,g,_,w){for(const M of d){const C=vs(g,M);if(C){x.add(C);const k=Qd(C._fallback,g,w);if(Li(k)&&k!==g&&k!==_)return k}else if(!1===C&&Li(_)&&g!==_)return null}return!1}function xs(x,d,g,_){const w=d._rootScopes,M=Qd(d._fallback,g,_),C=[...x,...w],k=new Set;k.add(_);let O=zh(k,C,g,M||g,_);return null!==O&&(!Li(M)||M===g||(O=zh(k,C,M,O,_),null!==O))&&ur(Array.from(k),[""],w,M,()=>function(R,V,F){const H=R._getTarget();V in H||(H[V]={});const U=H[V];return At(U)&&Ee(F)?F:U}(d,g,_))}function zh(x,d,g,_,w){for(;g;)g=om(x,d,g,_,w);return g}function ep(x,d){for(const g of d){if(!g)continue;const _=g[x];if(Li(_))return _}}function Vh(x){let d=x._keys;return d||(d=x._keys=function(g){const _=new Set;for(const w of g)for(const M of Object.keys(w).filter(C=>!C.startsWith("_")))_.add(M);return Array.from(_)}(x._scopes)),d}function Ul(x,d,g,_){const{iScale:w}=x,{key:M="r"}=this._parsing,C=new Array(_);let k,O,R,V;for(k=0,O=_;k<O;++k)R=k+g,V=d[R],C[k]={r:w.parse(Ot(V,M),R)};return C}const tp=Number.EPSILON||1e-14,Oo=(x,d)=>d<x.length&&!x[d].skip&&x[d],jl=x=>"x"===x?"y":"x";function Zl(x,d,g,_){const w=x.skip?d:x,M=d,C=g.skip?d:g,k=se(M,w),O=se(C,M);let R=k/(k+O),V=O/(k+O);R=isNaN(R)?0:R,V=isNaN(V)?0:V;const F=_*R,H=_*V;return{previous:{x:M.x-F*(C.x-w.x),y:M.y-F*(C.y-w.y)},next:{x:M.x+H*(C.x-w.x),y:M.y+H*(C.y-w.y)}}}function ip(x,d="x"){const g=jl(d),_=x.length,w=Array(_).fill(0),M=Array(_);let C,k,O,R=Oo(x,0);for(C=0;C<_;++C)if(k=O,O=R,R=Oo(x,C+1),O){if(R){const V=R[d]-O[d];w[C]=0!==V?(R[g]-O[g])/V:0}M[C]=k?R?G(w[C-1])!==G(w[C])?0:(w[C-1]+w[C])/2:w[C-1]:w[C]}(function(V,F,H){const U=V.length;let X,$,J,ee,ae,ue=Oo(V,0);for(let he=0;he<U-1;++he)ae=ue,ue=Oo(V,he+1),ae&&ue&&(rr(F[he],0,tp)?H[he]=H[he+1]=0:(X=H[he]/F[he],$=H[he+1]/F[he],ee=Math.pow(X,2)+Math.pow($,2),ee<=9||(J=3/Math.sqrt(ee),H[he]=X*J*F[he],H[he+1]=$*J*F[he])))})(x,w,M),function(V,F,H="x"){const U=jl(H),X=V.length;let $,J,ee,ae=Oo(V,0);for(let ue=0;ue<X;++ue){if(J=ee,ee=ae,ae=Oo(V,ue+1),!ee)continue;const he=ee[H],me=ee[U];J&&($=(he-J[H])/3,ee[`cp1${H}`]=he-$,ee[`cp1${U}`]=me-$*F[ue]),ae&&($=(ae[H]-he)/3,ee[`cp2${H}`]=he+$,ee[`cp2${U}`]=me+$*F[ue])}}(x,M,d)}function Ro(x,d,g){return Math.max(Math.min(x,g),d)}function Bh(x,d,g,_,w){let M,C,k,O;if(d.spanGaps&&(x=x.filter(R=>!R.skip)),"monotone"===d.cubicInterpolationMode)ip(x,w);else{let R=_?x[x.length-1]:x[0];for(M=0,C=x.length;M<C;++M)k=x[M],O=Zl(R,k,x[Math.min(M+1,C-(_?0:1))%C],d.tension),k.cp1x=O.previous.x,k.cp1y=O.previous.y,k.cp2x=O.next.x,k.cp2y=O.next.y,R=k}d.capBezierPoints&&function(R,V){let F,H,U,X,$,J=ko(R[0],V);for(F=0,H=R.length;F<H;++F)$=X,X=J,J=F<H-1&&ko(R[F+1],V),X&&(U=R[F],$&&(U.cp1x=Ro(U.cp1x,V.left,V.right),U.cp1y=Ro(U.cp1y,V.top,V.bottom)),J&&(U.cp2x=Ro(U.cp2x,V.left,V.right),U.cp2y=Ro(U.cp2y,V.top,V.bottom)))}(x,g)}const ya=x=>0===x||1===x,Fh=(x,d,g)=>-Math.pow(2,10*(x-=1))*Math.sin((x-d)*Et/g),np=(x,d,g)=>Math.pow(2,-10*x)*Math.sin((x-d)*Et/g)+1,ro={linear:x=>x,easeInQuad:x=>x*x,easeOutQuad:x=>-x*(x-2),easeInOutQuad:x=>(x/=.5)<1?.5*x*x:-.5*(--x*(x-2)-1),easeInCubic:x=>x*x*x,easeOutCubic:x=>(x-=1)*x*x+1,easeInOutCubic:x=>(x/=.5)<1?.5*x*x*x:.5*((x-=2)*x*x+2),easeInQuart:x=>x*x*x*x,easeOutQuart:x=>-((x-=1)*x*x*x-1),easeInOutQuart:x=>(x/=.5)<1?.5*x*x*x*x:-.5*((x-=2)*x*x*x-2),easeInQuint:x=>x*x*x*x*x,easeOutQuint:x=>(x-=1)*x*x*x*x+1,easeInOutQuint:x=>(x/=.5)<1?.5*x*x*x*x*x:.5*((x-=2)*x*x*x*x+2),easeInSine:x=>1-Math.cos(x*We),easeOutSine:x=>Math.sin(x*We),easeInOutSine:x=>-.5*(Math.cos(Be*x)-1),easeInExpo:x=>0===x?0:Math.pow(2,10*(x-1)),easeOutExpo:x=>1===x?1:1-Math.pow(2,-10*x),easeInOutExpo:x=>ya(x)?x:x<.5?.5*Math.pow(2,10*(2*x-1)):.5*(2-Math.pow(2,-10*(2*x-1))),easeInCirc:x=>x>=1?x:-(Math.sqrt(1-x*x)-1),easeOutCirc:x=>Math.sqrt(1-(x-=1)*x),easeInOutCirc:x=>(x/=.5)<1?-.5*(Math.sqrt(1-x*x)-1):.5*(Math.sqrt(1-(x-=2)*x)+1),easeInElastic:x=>ya(x)?x:Fh(x,.075,.3),easeOutElastic:x=>ya(x)?x:np(x,.075,.3),easeInOutElastic:x=>ya(x)?x:x<.5?.5*Fh(2*x,.1125,.45):.5+.5*np(2*x-1,.1125,.45),easeInBack:x=>x*x*(2.70158*x-1.70158),easeOutBack:x=>(x-=1)*x*(2.70158*x+1.70158)+1,easeInOutBack(x){let d=1.70158;return(x/=.5)<1?x*x*((1+(d*=1.525))*x-d)*.5:.5*((x-=2)*x*((1+(d*=1.525))*x+d)+2)},easeInBounce:x=>1-ro.easeOutBounce(1-x),easeOutBounce:x=>x<1/2.75?7.5625*x*x:x<2/2.75?7.5625*(x-=1.5/2.75)*x+.75:x<2.5/2.75?7.5625*(x-=2.25/2.75)*x+.9375:7.5625*(x-=2.625/2.75)*x+.984375,easeInOutBounce:x=>x<.5?.5*ro.easeInBounce(2*x):.5*ro.easeOutBounce(2*x-1)+.5};function On(x,d,g,_){return{x:x.x+g*(d.x-x.x),y:x.y+g*(d.y-x.y)}}function _s(x,d,g,_){return{x:x.x+g*(d.x-x.x),y:"middle"===_?g<.5?x.y:d.y:"after"===_?g<1?x.y:d.y:g>0?d.y:x.y}}function zr(x,d,g,_){const w={x:x.cp2x,y:x.cp2y},M={x:d.cp1x,y:d.cp1y},C=On(x,w,g),k=On(w,M,g),O=On(M,d,g),R=On(C,k,g),V=On(k,O,g);return On(R,V,g)}const Gh=new Map;function Eo(x,d,g){return function(_,w){w=w||{};const M=_+JSON.stringify(w);let C=Gh.get(M);return C||(C=new Intl.NumberFormat(_,w),Gh.set(M,C)),C}(d,g).format(x)}const rp=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),ql=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function $n(x,d){const g=(""+x).match(rp);if(!g||"normal"===g[1])return 1.2*d;switch(x=+g[2],g[3]){case"px":return x;case"%":x/=100}return d*x}function qi(x,d){const g={},_=Ee(d),w=_?Object.keys(d):d,M=Ee(x)?_?C=>$e(x[C],x[d[C]]):C=>x[C]:()=>x;for(const C of w)g[C]=+M(C)||0;return g}function oo(x){return qi(x,{top:"y",right:"x",bottom:"y",left:"x"})}function $i(x){return qi(x,["topLeft","topRight","bottomLeft","bottomRight"])}function Ai(x){const d=oo(x);return d.width=d.left+d.right,d.height=d.top+d.bottom,d}function Tt(x,d){let g=$e((x=x||{}).size,(d=d||Nt.font).size);"string"==typeof g&&(g=parseInt(g,10));let _=$e(x.style,d.style);_&&!(""+_).match(ql)&&(console.warn('Invalid font style specified: "'+_+'"'),_="");const w={family:$e(x.family,d.family),lineHeight:$n($e(x.lineHeight,d.lineHeight),g),size:g,style:_,weight:$e(x.weight,d.weight),string:""};return w.string=ma(w),w}function No(x,d,g,_){let w,M,C,k=!0;for(w=0,M=x.length;w<M;++w)if(C=x[w],void 0!==C&&(void 0!==d&&"function"==typeof C&&(C=C(d),k=!1),void 0!==g&&At(C)&&(C=C[g%C.length],k=!1),void 0!==C))return _&&!k&&(_.cacheable=!1),C}function bs(x,d,g){const{min:_,max:w}=x,M=Zt(d,(w-_)/2),C=(k,O)=>g&&0===k?0:k+O;return{min:C(_,-Math.abs(M)),max:C(w,M)}}function hr(x,d){return Object.assign(Object.create(x),d)}function ln(x,d,g){return x?(_=d,w=g,{x:M=>_+_+w-M,setWidth(M){w=M},textAlign:M=>"center"===M?M:"right"===M?"left":"right",xPlus:(M,C)=>M-C,leftForLtr:(M,C)=>M-C}):{x:_=>_,setWidth(_){},textAlign:_=>_,xPlus:(_,w)=>_+w,leftForLtr:(_,w)=>_};var _,w}function $l(x,d){let g,_;"ltr"!==d&&"rtl"!==d||(g=x.canvas.style,_=[g.getPropertyValue("direction"),g.getPropertyPriority("direction")],g.setProperty("direction",d,"important"),x.prevTextDirection=_)}function Wh(x,d){void 0!==d&&(delete x.prevTextDirection,x.canvas.style.setProperty("direction",d[0],d[1]))}function bi(x){return"angle"===x?{between:Ie,compare:oe,normalize:le}:{between:bt,compare:(d,g)=>d-g,normalize:d=>d}}function Kl({start:x,end:d,count:g,loop:_,style:w}){return{start:x%g,end:d%g,loop:_&&(d-x+1)%g==0,style:w}}function Jl(x,d,g){if(!g)return[x];const{property:_,start:w,end:M}=g,C=d.length,{compare:k,between:O,normalize:R}=bi(_),{start:V,end:F,loop:H,style:U}=function(Me,Ae,Ye){const{property:Fe,start:Oe,end:je}=Ye,{between:qe,normalize:Ke}=bi(Fe),Pe=Ae.length;let Je,ht,{start:Wt,end:ui,loop:pi}=Me;if(pi){for(Wt+=Pe,ui+=Pe,Je=0,ht=Pe;Je<ht&&qe(Ke(Ae[Wt%Pe][Fe]),Oe,je);++Je)Wt--,ui--;Wt%=Pe,ui%=Pe}return ui<Wt&&(ui+=Pe),{start:Wt,end:ui,loop:pi,style:Me.style}}(x,d,g),X=[];let $,J,ee,ae=!1,ue=null;for(let Me=V,Ae=V;Me<=F;++Me)J=d[Me%C],J.skip||($=R(J[_]),$!==ee&&(ae=O($,w,M),null===ue&&(ae||O(w,ee,$)&&0!==k(w,ee))&&(ue=0===k($,w)?Me:Ae),null!==ue&&(!ae||0===k(M,$)||O(M,ee,$))&&(X.push(Kl({start:ue,end:Me,loop:H,count:C,style:U})),ue=null),Ae=Me,ee=$));return null!==ue&&X.push(Kl({start:ue,end:F,loop:H,count:C,style:U})),X}function zo(x,d){const g=[],_=x.segments;for(let w=0;w<_.length;w++){const M=Jl(_[w],x.points,d);M.length&&g.push(...M)}return g}function Hh(x,d){const g=x.points,_=x.options.spanGaps,w=g.length;if(!w)return[];const M=!!x._loop,{start:C,end:k}=function(O,R,V,F){let H=0,U=R-1;if(V&&!F)for(;H<R&&!O[H].skip;)H++;for(;H<R&&O[H].skip;)H++;for(H%=R,V&&(U+=H);U>H&&O[U%R].skip;)U--;return U%=R,{start:H,end:U}}(g,w,M,_);return function op(x,d,g,_){return _&&_.setContext&&g?function(w,M,C,k){const O=w._chart.getContext(),R=ap(w.options),{_datasetIndex:V,options:{spanGaps:F}}=w,H=C.length,U=[];let X=R,$=M[0].start,J=$;function ee(ae,ue,he,me){const Me=F?-1:1;if(ae!==ue){for(ae+=H;C[ae%H].skip;)ae-=Me;for(;C[ue%H].skip;)ue+=Me;ae%H!=ue%H&&(U.push({start:ae%H,end:ue%H,loop:he,style:me}),X=me,$=ue%H)}}for(const ae of M){$=F?$:ae.start;let ue,he=C[$%H];for(J=$+1;J<=ae.end;J++){const me=C[J%H];ue=ap(k.setContext(hr(O,{type:"segment",p0:he,p1:me,p0DataIndex:(J-1)%H,p1DataIndex:J%H,datasetIndex:V}))),Yh(ue,X)&&ee($,J-1,ae.loop,X),he=me,X=ue}$<J-1&&ee($,J-1,ae.loop,X)}return U}(x,d,g,_):d}(x,!0===_?[{start:C,end:k,loop:M}]:function(O,R,V,F){const H=O.length,U=[];let X,$=R,J=O[R];for(X=R+1;X<=V;++X){const ee=O[X%H];ee.skip||ee.stop?J.skip||(U.push({start:R%H,end:(X-1)%H,loop:F=!1}),R=$=ee.stop?X:null):($=X,J.skip&&(R=X)),J=ee}return null!==$&&U.push({start:R%H,end:$%H,loop:F}),U}(g,C,k<C?k+w:k,!!x._fullLoop&&0===C&&k===w-1),g,d)}function ap(x){return{backgroundColor:x.backgroundColor,borderCapStyle:x.borderCapStyle,borderDash:x.borderDash,borderDashOffset:x.borderDashOffset,borderJoinStyle:x.borderJoinStyle,borderWidth:x.borderWidth,borderColor:x.borderColor}}function Yh(x,d){return d&&JSON.stringify(x)!==JSON.stringify(d)}var am=Object.freeze({__proto__:null,easingEffects:ro,isPatternOrGradient:Bl,color:cs,getHoverColor:fa,noop:Re,uid:Ii,isNullOrUndef:ie,isArray:At,isObject:Ee,isFinite:Lt,finiteOrDefault:ut,valueOrDefault:$e,toPercentage:Pt,toDimension:Zt,callback:Qe,each:it,_elementsEqual:si,clone:Bi,_merger:Xn,merge:kr,mergeIf:Lr,_mergerIf:on,_deprecated:function(x,d,g,_){void 0!==d&&console.warn(x+': "'+g+'" is deprecated. Please use "'+_+'" instead')},resolveObjectKey:Ot,_splitKey:Io,_capitalize:vn,defined:Li,isFunction:ji,setsEqual:Pr,_isClickEvent:Ue,toFontString:ma,_measureText:no,_longestText:Zn,_alignPixel:Di,clearCanvas:lr,drawPoint:Ao,drawPointLegend:Nr,_isPointInArea:ko,clipArea:gs,unclipArea:nt,_steppedLineTo:ms,_bezierCurveTo:ys,renderText:sn,addRoundedRectPath:Pn,_lookup:yt,_lookupByKey:wt,_rlookupByKey:Ti,_filterBetween:kt,listenArrayEvents:ft,unlistenArrayEvents:Xt,_arrayUnique:ri,_createResolver:ur,_attachContext:qn,_descriptors:Po,_parseObjectDataRadialScale:Ul,splineCurve:Zl,splineCurveMonotone:ip,_updateBezierControlPoints:Bh,_isDomSupported:ps,_getParentNode:Fl,getStyle:Gl,getRelativePosition:Gi,getMaximumSize:Kd,retinaScale:Hl,supportsEventListenerOptions:Yl,readUsedSize:Nh,fontString:function(x,d,g){return d+" "+x+"px "+g},requestAnimFrame:Vt,throttled:Ut,debounce:Lh,_toLeftRightCenter:eo,_alignStartEnd:li,_textX:qd,_getStartAndCountOfVisiblePoints:Pl,_scaleRangesChanged:Ol,_pointInLine:On,_steppedInterpolation:_s,_bezierInterpolation:zr,formatNumber:Eo,toLineHeight:$n,_readValueToProps:qi,toTRBL:oo,toTRBLCorners:$i,toPadding:Ai,toFont:Tt,resolve:No,_addGrace:bs,createContext:hr,PI:Be,TAU:Et,PITAU:de,INFINITY:Ve,RAD_PER_DEG:as,HALF_PI:We,QUARTER_PI:nr,TWO_THIRDS_PI:Qt,log10:Ft,sign:G,niceNum:ge,_factorize:Zi,isNumber:xt,almostEquals:rr,almostWhole:dt,_setMinAndMaxByKey:ke,toRadians:Xe,toDegrees:fe,_decimalPlaces:Ge,getAngleFromPoint:De,distanceBetweenPoints:se,_angleDiff:oe,_normalizeAngle:le,_angleBetween:Ie,_limitValue:Se,_int16Range:at,_isBetween:bt,getRtlAdapter:ln,overrideTextDirection:$l,restoreTextDirection:Wh,_boundSegment:Jl,_boundSegments:zo,_computeSegments:Hh});function sp(x,d,g,_){const{controller:w,data:M,_sorted:C}=x,k=w._cachedMeta.iScale;if(k&&d===k.axis&&"r"!==d&&C&&M.length){const O=k._reversePixels?Ti:wt;if(!_)return O(M,d,g);if(w._sharedOptions){const R=M[0],V="function"==typeof R.getRange&&R.getRange(d);if(V){const F=O(M,d,g-V),H=O(M,d,g+V);return{lo:F.lo,hi:H.hi}}}}return{lo:0,hi:M.length-1}}function ws(x,d,g,_,w){const M=x.getSortedVisibleDatasetMetas(),C=g[d];for(let k=0,O=M.length;k<O;++k){const{index:R,data:V}=M[k],{lo:F,hi:H}=sp(M[k],d,C,w);for(let U=F;U<=H;++U){const X=V[U];X.skip||_(X,R,U)}}}function Vo(x,d,g,_,w){const M=[];return!w&&!x.isPointInArea(d)||ws(x,g,d,function(C,k,O){(w||ko(C,x.chartArea,0))&&C.inRange(d.x,d.y,_)&&M.push({element:C,datasetIndex:k,index:O})},!0),M}function xn(x,d,g,_,w,M){return M||x.isPointInArea(d)?"r"!==g||_?function lp(x,d,g,_,w,M){let C=[];const k=function(R){const V=-1!==R.indexOf("x"),F=-1!==R.indexOf("y");return function(H,U){const X=V?Math.abs(H.x-U.x):0,$=F?Math.abs(H.y-U.y):0;return Math.sqrt(Math.pow(X,2)+Math.pow($,2))}}(g);let O=Number.POSITIVE_INFINITY;return ws(x,g,d,function(R,V,F){const H=R.inRange(d.x,d.y,w);if(_&&!H)return;const U=R.getCenterPoint(w);if(!M&&!x.isPointInArea(U)&&!H)return;const X=k(d,U);X<O?(C=[{element:R,datasetIndex:V,index:F}],O=X):X===O&&C.push({element:R,datasetIndex:V,index:F})}),C}(x,d,g,_,w,M):function(C,k,O,R){let V=[];return ws(C,O,k,function(F,H,U){const{startAngle:X,endAngle:$}=F.getProps(["startAngle","endAngle"],R),{angle:J}=De(F,{x:k.x,y:k.y});Ie(J,X,$)&&V.push({element:F,datasetIndex:H,index:U})}),V}(x,d,g,w):[]}function va(x,d,g,_,w){const M=[],C="x"===g?"inXRange":"inYRange";let k=!1;return ws(x,g,d,(O,R,V)=>{O[C](d[g],w)&&(M.push({element:O,datasetIndex:R,index:V}),k=k||O.inRange(d.x,d.y,w))}),_&&!k?[]:M}var Ql={evaluateInteractionItems:ws,modes:{index(x,d,g,_){const w=Gi(d,x),M=g.axis||"x",C=g.includeInvisible||!1,k=g.intersect?Vo(x,w,M,_,C):xn(x,w,M,!1,_,C),O=[];return k.length?(x.getSortedVisibleDatasetMetas().forEach(R=>{const V=k[0].index,F=R.data[V];F&&!F.skip&&O.push({element:F,datasetIndex:R.index,index:V})}),O):[]},dataset(x,d,g,_){const w=Gi(d,x),M=g.axis||"xy",C=g.includeInvisible||!1;let k=g.intersect?Vo(x,w,M,_,C):xn(x,w,M,!1,_,C);if(k.length>0){const O=k[0].datasetIndex,R=x.getDatasetMeta(O).data;k=[];for(let V=0;V<R.length;++V)k.push({element:R[V],datasetIndex:O,index:V})}return k},point:(x,d,g,_)=>Vo(x,Gi(d,x),g.axis||"xy",_,g.includeInvisible||!1),nearest:(x,d,g,_)=>xn(x,Gi(d,x),g.axis||"xy",g.intersect,_,g.includeInvisible||!1),x:(x,d,g,_)=>va(x,Gi(d,x),"x",g.intersect,_),y:(x,d,g,_)=>va(x,Gi(d,x),"y",g.intersect,_)}};const ao=["left","top","right","bottom"];function Bo(x,d){return x.filter(g=>g.pos===d)}function Vr(x,d){return x.filter(g=>-1===ao.indexOf(g.pos)&&g.box.axis===d)}function Wi(x,d){return x.sort((g,_)=>{const w=d?_:g,M=d?g:_;return w.weight===M.weight?w.index-M.index:w.weight-M.weight})}function Uh(x,d,g,_){return Math.max(x[g],d[g])+Math.max(x[_],d[_])}function Ss(x,d){x.top=Math.max(x.top,d.top),x.left=Math.max(x.left,d.left),x.bottom=Math.max(x.bottom,d.bottom),x.right=Math.max(x.right,d.right)}function xa(x,d,g,_){const{pos:w,box:M}=g,C=x.maxPadding;if(!Ee(w)){g.size&&(x[w]-=g.size);const F=_[g.stack]||{size:0,count:1};F.size=Math.max(F.size,g.horizontal?M.height:M.width),g.size=F.size/F.count,x[w]+=g.size}M.getPadding&&Ss(C,M.getPadding());const k=Math.max(0,d.outerWidth-Uh(C,x,"left","right")),O=Math.max(0,d.outerHeight-Uh(C,x,"top","bottom")),R=k!==x.w,V=O!==x.h;return x.w=k,x.h=O,g.horizontal?{same:R,other:V}:{same:V,other:R}}function Ki(x,d){const g=d.maxPadding;return function _(w){const M={left:0,top:0,right:0,bottom:0};return w.forEach(C=>{M[C]=Math.max(d[C],g[C])}),M}(x?["left","right"]:["top","bottom"])}function Fo(x,d,g,_){const w=[];let M,C,k,O,R,V;for(M=0,C=x.length,R=0;M<C;++M){k=x[M],O=k.box,O.update(k.width||d.w,k.height||d.h,Ki(k.horizontal,d));const{same:F,other:H}=xa(d,g,k,_);R|=F&&w.length,V=V||H,O.fullSize||w.push(k)}return R&&Fo(w,d,g,_)||V}function Go(x,d,g,_,w){x.top=g,x.left=d,x.right=d+_,x.bottom=g+w,x.width=_,x.height=w}function _a(x,d,g,_){const w=g.padding;let{x:M,y:C}=d;for(const k of x){const O=k.box,R=_[k.stack]||{count:1,placed:0,weight:1},V=k.stackWeight/R.weight||1;if(k.horizontal){const F=d.w*V,H=R.size||O.height;Li(R.start)&&(C=R.start),O.fullSize?Go(O,w.left,C,g.outerWidth-w.right-w.left,H):Go(O,d.left+R.placed,C,F,H),R.start=C,R.placed+=F,C=O.bottom}else{const F=d.h*V,H=R.size||O.width;Li(R.start)&&(M=R.start),O.fullSize?Go(O,M,w.top,H,g.outerHeight-w.bottom-w.top):Go(O,M,d.top+R.placed,H,F),R.start=M,R.placed+=F,M=O.right}}d.x=M,d.y=C}Nt.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Oi={addBox(x,d){x.boxes||(x.boxes=[]),d.fullSize=d.fullSize||!1,d.position=d.position||"top",d.weight=d.weight||0,d._layers=d._layers||function(){return[{z:0,draw(g){d.draw(g)}}]},x.boxes.push(d)},removeBox(x,d){const g=x.boxes?x.boxes.indexOf(d):-1;-1!==g&&x.boxes.splice(g,1)},configure(x,d,g){d.fullSize=g.fullSize,d.position=g.position,d.weight=g.weight},update(x,d,g,_){if(!x)return;const w=Ai(x.options.layout.padding),M=Math.max(d-w.width,0),C=Math.max(g-w.height,0),k=function($){const J=function(Ye){const Fe=[];let Oe,je,qe,Ke,Pe,Je;for(Oe=0,je=(Ye||[]).length;Oe<je;++Oe)qe=Ye[Oe],({position:Ke,options:{stack:Pe,stackWeight:Je=1}}=qe),Fe.push({index:Oe,box:qe,pos:Ke,horizontal:qe.isHorizontal(),weight:qe.weight,stack:Pe&&Ke+Pe,stackWeight:Je});return Fe}($),ee=Wi(J.filter(Ye=>Ye.box.fullSize),!0),ae=Wi(Bo(J,"left"),!0),ue=Wi(Bo(J,"right")),he=Wi(Bo(J,"top"),!0),me=Wi(Bo(J,"bottom")),Me=Vr(J,"x"),Ae=Vr(J,"y");return{fullSize:ee,leftAndTop:ae.concat(he),rightAndBottom:ue.concat(Ae).concat(me).concat(Me),chartArea:Bo(J,"chartArea"),vertical:ae.concat(ue).concat(Ae),horizontal:he.concat(me).concat(Me)}}(x.boxes),O=k.vertical,R=k.horizontal;it(x.boxes,$=>{"function"==typeof $.beforeLayout&&$.beforeLayout()});const V=O.reduce(($,J)=>J.box.options&&!1===J.box.options.display?$:$+1,0)||1,F=Object.freeze({outerWidth:d,outerHeight:g,padding:w,availableWidth:M,availableHeight:C,vBoxMaxWidth:M/2/V,hBoxMaxHeight:C/2}),H=Object.assign({},w);Ss(H,Ai(_));const U=Object.assign({maxPadding:H,w:M,h:C,x:w.left,y:w.top},w),X=function Xh(x,d){const g=function(O){const R={};for(const V of O){const{stack:F,pos:H,stackWeight:U}=V;if(!F||!ao.includes(H))continue;const X=R[F]||(R[F]={count:0,placed:0,weight:0,size:0});X.count++,X.weight+=U}return R}(x),{vBoxMaxWidth:_,hBoxMaxHeight:w}=d;let M,C,k;for(M=0,C=x.length;M<C;++M){k=x[M];const{fullSize:O}=k.box,R=g[k.stack],V=R&&k.stackWeight/R.weight;k.horizontal?(k.width=V?V*_:O&&d.availableWidth,k.height=w):(k.width=_,k.height=V?V*w:O&&d.availableHeight)}return g}(O.concat(R),F);Fo(k.fullSize,U,F,X),Fo(O,U,F,X),Fo(R,U,F,X)&&Fo(O,U,F,X),function($){const J=$.maxPadding;function ee(ae){const ue=Math.max(J[ae]-$[ae],0);return $[ae]+=ue,ue}$.y+=ee("top"),$.x+=ee("left"),ee("right"),ee("bottom")}(U),_a(k.leftAndTop,U,F,X),U.x+=U.w,U.y+=U.h,_a(k.rightAndBottom,U,F,X),x.chartArea={left:U.left,top:U.top,right:U.left+U.w,bottom:U.top+U.h,height:U.h,width:U.w},it(k.chartArea,$=>{const J=$.box;Object.assign(J,x.chartArea),J.update(U.w,U.h,{left:0,top:0,right:0,bottom:0})})}};class Ms{acquireContext(d,g){}releaseContext(d){return!1}addEventListener(d,g,_){}removeEventListener(d,g,_){}getDevicePixelRatio(){return 1}getMaximumSize(d,g,_,w){return g=Math.max(0,g||d.width),_=_||d.height,{width:g,height:Math.max(0,w?Math.floor(g/w):_)}}isAttached(d){return!0}updateConfig(d){}}class up extends Ms{acquireContext(d){return d&&d.getContext&&d.getContext("2d")||null}updateConfig(d){d.options.animation=!1}}const ba={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},wa=x=>null===x||""===x,Rn=!!Yl&&{passive:!0};function Is(x,d,g){x.canvas.removeEventListener(d,g,Rn)}function eu(x,d){for(const g of x)if(g===d||g.contains(d))return!0}function tu(x,d,g){const _=x.canvas,w=new MutationObserver(M=>{let C=!1;for(const k of M)C=C||eu(k.addedNodes,_),C=C&&!eu(k.removedNodes,_);C&&g()});return w.observe(document,{childList:!0,subtree:!0}),w}function Ts(x,d,g){const _=x.canvas,w=new MutationObserver(M=>{let C=!1;for(const k of M)C=C||eu(k.removedNodes,_),C=C&&!eu(k.addedNodes,_);C&&g()});return w.observe(document,{childList:!0,subtree:!0}),w}const Cs=new Map;let Br=0;function Ds(){const x=window.devicePixelRatio;x!==Br&&(Br=x,Cs.forEach((d,g)=>{g.currentDevicePixelRatio!==x&&d()}))}function jh(x,d,g){const _=x.canvas,w=_&&Fl(_);if(!w)return;const M=Ut((k,O)=>{const R=w.clientWidth;g(k,O),R<w.clientWidth&&g()},window),C=new ResizeObserver(k=>{const O=k[0],R=O.contentRect.width,V=O.contentRect.height;0===R&&0===V||M(R,V)});return C.observe(w),k=x,O=M,Cs.size||window.addEventListener("resize",Ds),Cs.set(k,O),C;var k,O}function Zh(x,d,g){g&&g.disconnect(),"resize"===d&&(Cs.delete(x),Cs.size||window.removeEventListener("resize",Ds))}function hp(x,d,g){const _=x.canvas,w=Ut(M=>{null!==x.ctx&&g(function(C,k){const O=ba[C.type]||C.type,{x:R,y:V}=Gi(C,k);return{type:O,chart:k,native:C,x:void 0!==R?R:null,y:void 0!==V?V:null}}(M,x))},x,M=>{const C=M[0];return[C,C.offsetX,C.offsetY]});return _.addEventListener(d,w,Rn),w}class iu extends Ms{acquireContext(d,g){const _=d&&d.getContext&&d.getContext("2d");return _&&_.canvas===d?(function(w,M){const C=w.style,k=w.getAttribute("height"),O=w.getAttribute("width");if(w.$chartjs={initial:{height:k,width:O,style:{display:C.display,height:C.height,width:C.width}}},C.display=C.display||"block",C.boxSizing=C.boxSizing||"border-box",wa(O)){const R=Nh(w,"width");void 0!==R&&(w.width=R)}if(wa(k))if(""===w.style.height)w.height=w.width/(M||2);else{const R=Nh(w,"height");void 0!==R&&(w.height=R)}}(d,g),_):null}releaseContext(d){const g=d.canvas;if(!g.$chartjs)return!1;const _=g.$chartjs.initial;["height","width"].forEach(M=>{const C=_[M];ie(C)?g.removeAttribute(M):g.setAttribute(M,C)});const w=_.style||{};return Object.keys(w).forEach(M=>{g.style[M]=w[M]}),g.width=g.width,delete g.$chartjs,!0}addEventListener(d,g,_){this.removeEventListener(d,g),(d.$proxies||(d.$proxies={}))[g]=({attach:tu,detach:Ts,resize:jh}[g]||hp)(d,g,_)}removeEventListener(d,g){const _=d.$proxies||(d.$proxies={}),w=_[g];!w||(({attach:Zh,detach:Zh,resize:Zh}[g]||Is)(d,g,w),_[g]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(d,g,_,w){return Kd(d,g,_,w)}isAttached(d){const g=Fl(d);return!(!g||!g.isConnected)}}function qh(x){return!ps()||typeof OffscreenCanvas<"u"&&x instanceof OffscreenCanvas?up:iu}var $h=Object.freeze({__proto__:null,_detectPlatform:qh,BasePlatform:Ms,BasicPlatform:up,DomPlatform:iu});const Kh="transparent",nu={boolean:(x,d,g)=>g>.5?d:x,color(x,d,g){const _=cs(x||Kh),w=_.valid&&cs(d||Kh);return w&&w.valid?w.mix(_,g).hexString():d},number:(x,d,g)=>x+(d-x)*g};class Jh{constructor(d,g,_,w){const M=g[_];w=No([d.to,w,M,d.from]);const C=No([d.from,M,w]);this._active=!0,this._fn=d.fn||nu[d.type||typeof C],this._easing=ro[d.easing]||ro.linear,this._start=Math.floor(Date.now()+(d.delay||0)),this._duration=this._total=Math.floor(d.duration),this._loop=!!d.loop,this._target=g,this._prop=_,this._from=C,this._to=w,this._promises=void 0}active(){return this._active}update(d,g,_){if(this._active){this._notify(!1);const w=this._target[this._prop],M=_-this._start,C=this._duration-M;this._start=_,this._duration=Math.floor(Math.max(C,d.duration)),this._total+=M,this._loop=!!d.loop,this._to=No([d.to,g,w,d.from]),this._from=No([d.from,w,g])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(d){const g=d-this._start,_=this._duration,w=this._prop,M=this._from,C=this._loop,k=this._to;let O;if(this._active=M!==k&&(C||g<_),!this._active)return this._target[w]=k,void this._notify(!0);g<0?this._target[w]=M:(O=g/_%2,O=C&&O>1?2-O:O,O=this._easing(Math.min(1,Math.max(0,O))),this._target[w]=this._fn(M,k,O))}wait(){const d=this._promises||(this._promises=[]);return new Promise((g,_)=>{d.push({res:g,rej:_})})}_notify(d){const g=d?"res":"rej",_=this._promises||[];for(let w=0;w<_.length;w++)_[w][g]()}}Nt.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const cp=Object.keys(Nt.animation);Nt.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:x=>"onProgress"!==x&&"onComplete"!==x&&"fn"!==x}),Nt.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),Nt.describe("animations",{_fallback:"animation"}),Nt.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:x=>0|x}}}});class Qh{constructor(d,g){this._chart=d,this._properties=new Map,this.configure(g)}configure(d){if(!Ee(d))return;const g=this._properties;Object.getOwnPropertyNames(d).forEach(_=>{const w=d[_];if(!Ee(w))return;const M={};for(const C of cp)M[C]=w[C];(At(w.properties)&&w.properties||[_]).forEach(C=>{C!==_&&g.has(C)||g.set(C,M)})})}_animateOptions(d,g){const _=g.options,w=function(C,k){if(!k)return;let O=C.options;return O?(O.$shared&&(C.options=O=Object.assign({},O,{$shared:!1,$animations:{}})),O):void(C.options=k)}(d,_);if(!w)return[];const M=this._createAnimations(w,_);return _.$shared&&function(C,k){const O=[],R=Object.keys(k);for(let V=0;V<R.length;V++){const F=C[R[V]];F&&F.active()&&O.push(F.wait())}return Promise.all(O)}(d.options.$animations,_).then(()=>{d.options=_},()=>{}),M}_createAnimations(d,g){const _=this._properties,w=[],M=d.$animations||(d.$animations={}),C=Object.keys(g),k=Date.now();let O;for(O=C.length-1;O>=0;--O){const R=C[O];if("$"===R.charAt(0))continue;if("options"===R){w.push(...this._animateOptions(d,g));continue}const V=g[R];let F=M[R];const H=_.get(R);if(F){if(H&&F.active()){F.update(H,V,k);continue}F.cancel()}H&&H.duration?(M[R]=F=new Jh(H,d,R,V),w.push(F)):d[R]=V}return w}update(d,g){if(0===this._properties.size)return void Object.assign(d,g);const _=this._createAnimations(d,g);return _.length?(ze.add(this._chart,_),!0):void 0}}function ru(x,d){const g=x&&x.options||{},_=g.reverse,w=void 0===g.min?d:0,M=void 0===g.max?d:0;return{start:_?M:w,end:_?w:M}}function cr(x,d){const g=[],_=x._getSortedDatasetMetas(d);let w,M;for(w=0,M=_.length;w<M;++w)g.push(_[w].index);return g}function ou(x,d,g,_={}){const w=x.keys,M="single"===_.mode;let C,k,O,R;if(null!==d){for(C=0,k=w.length;C<k;++C){if(O=+w[C],O===g){if(_.all)continue;break}R=x.values[O],Lt(R)&&(M||0===d||G(d)===G(R))&&(d+=R)}return d}}function As(x,d){const g=x&&x.options.stacked;return g||void 0===g&&void 0!==d.stack}function dp(x,d,g){const _=x[d]||(x[d]={});return _[g]||(_[g]={})}function pp(x,d,g,_){for(const w of d.getMatchingVisibleMetas(_).reverse()){const M=x[w.index];if(g&&M>0||!g&&M<0)return w.index}return null}function fp(x,d){const{chart:g,_cachedMeta:_}=x,w=g._stacks||(g._stacks={}),{iScale:M,vScale:C,index:k}=_,O=M.axis,R=C.axis,V=`${M.id}.${C.id}.${($=_).stack||$.type}`,F=d.length;var $;let H;for(let U=0;U<F;++U){const X=d[U],{[O]:$,[R]:J}=X;H=(X._stacks||(X._stacks={}))[R]=dp(w,V,$),H[k]=J,H._top=pp(H,C,!0,_.type),H._bottom=pp(H,C,!1,_.type)}}function Wo(x,d){const g=x.scales;return Object.keys(g).filter(_=>g[_].axis===d).shift()}function so(x,d){const g=x.controller.index,_=x.vScale&&x.vScale.axis;if(_){d=d||x._parsed;for(const w of d){const M=w._stacks;if(!M||void 0===M[_]||void 0===M[_][g])return;delete M[_][g]}}}const au=x=>"reset"===x||"none"===x,ks=(x,d)=>d?x:Object.assign({},x);class Hi{constructor(d,g){this.chart=d,this._ctx=d.ctx,this.index=g,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const d=this._cachedMeta;this.configure(),this.linkScales(),d._stacked=As(d.vScale,d),this.addElements()}updateIndex(d){this.index!==d&&so(this._cachedMeta),this.index=d}linkScales(){const d=this.chart,g=this._cachedMeta,_=this.getDataset(),w=(F,H,U,X)=>"x"===F?H:"r"===F?X:U,M=g.xAxisID=$e(_.xAxisID,Wo(d,"x")),C=g.yAxisID=$e(_.yAxisID,Wo(d,"y")),k=g.rAxisID=$e(_.rAxisID,Wo(d,"r")),O=g.indexAxis,R=g.iAxisID=w(O,M,C,k),V=g.vAxisID=w(O,C,M,k);g.xScale=this.getScaleForId(M),g.yScale=this.getScaleForId(C),g.rScale=this.getScaleForId(k),g.iScale=this.getScaleForId(R),g.vScale=this.getScaleForId(V)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(d){return this.chart.scales[d]}_getOtherScale(d){const g=this._cachedMeta;return d===g.iScale?g.vScale:g.iScale}reset(){this._update("reset")}_destroy(){const d=this._cachedMeta;this._data&&Xt(this._data,this),d._stacked&&so(d)}_dataCheck(){const d=this.getDataset(),g=d.data||(d.data=[]),_=this._data;if(Ee(g))this._data=function(w){const M=Object.keys(w),C=new Array(M.length);let k,O,R;for(k=0,O=M.length;k<O;++k)R=M[k],C[k]={x:R,y:w[R]};return C}(g);else if(_!==g){if(_){Xt(_,this);const w=this._cachedMeta;so(w),w._parsed=[]}g&&Object.isExtensible(g)&&ft(g,this),this._syncList=[],this._data=g}}addElements(){const d=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(d.dataset=new this.datasetElementType)}buildOrUpdateElements(d){const g=this._cachedMeta,_=this.getDataset();let w=!1;this._dataCheck();const M=g._stacked;g._stacked=As(g.vScale,g),g.stack!==_.stack&&(w=!0,so(g),g.stack=_.stack),this._resyncElements(d),(w||M!==g._stacked)&&fp(this,g._parsed)}configure(){const d=this.chart.config,g=d.datasetScopeKeys(this._type),_=d.getOptionScopes(this.getDataset(),g,!0);this.options=d.createResolver(_,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(d,g){const{_cachedMeta:_,_data:w}=this,{iScale:M,_stacked:C}=_,k=M.axis;let O,R,V,F=0===d&&g===w.length||_._sorted,H=d>0&&_._parsed[d-1];if(!1===this._parsing)_._parsed=w,_._sorted=!0,V=w;else{V=At(w[d])?this.parseArrayData(_,w,d,g):Ee(w[d])?this.parseObjectData(_,w,d,g):this.parsePrimitiveData(_,w,d,g);const U=()=>null===R[k]||H&&R[k]<H[k];for(O=0;O<g;++O)_._parsed[O+d]=R=V[O],F&&(U()&&(F=!1),H=R);_._sorted=F}C&&fp(this,V)}parsePrimitiveData(d,g,_,w){const{iScale:M,vScale:C}=d,k=M.axis,O=C.axis,R=M.getLabels(),V=M===C,F=new Array(w);let H,U,X;for(H=0,U=w;H<U;++H)X=H+_,F[H]={[k]:V||M.parse(R[X],X),[O]:C.parse(g[X],X)};return F}parseArrayData(d,g,_,w){const{xScale:M,yScale:C}=d,k=new Array(w);let O,R,V,F;for(O=0,R=w;O<R;++O)V=O+_,F=g[V],k[O]={x:M.parse(F[0],V),y:C.parse(F[1],V)};return k}parseObjectData(d,g,_,w){const{xScale:M,yScale:C}=d,{xAxisKey:k="x",yAxisKey:O="y"}=this._parsing,R=new Array(w);let V,F,H,U;for(V=0,F=w;V<F;++V)H=V+_,U=g[H],R[V]={x:M.parse(Ot(U,k),H),y:C.parse(Ot(U,O),H)};return R}getParsed(d){return this._cachedMeta._parsed[d]}getDataElement(d){return this._cachedMeta.data[d]}applyStack(d,g,_){const M=this._cachedMeta,C=g[d.axis];return ou({keys:cr(this.chart,!0),values:g._stacks[d.axis]},C,M.index,{mode:_})}updateRangeFromParsed(d,g,_,w){const M=_[g.axis];let C=null===M?NaN:M;const k=w&&_._stacks[g.axis];w&&k&&(w.values=k,C=ou(w,M,this._cachedMeta.index)),d.min=Math.min(d.min,C),d.max=Math.max(d.max,C)}getMinMax(d,g){const _=this._cachedMeta,w=_._parsed,M=_._sorted&&d===_.iScale,C=w.length,k=this._getOtherScale(d),O=(($,J,ee)=>$&&!J.hidden&&J._stacked&&{keys:cr(this.chart,!0),values:null})(g,_),R={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:V,max:F}=function($){const{min:J,max:ee,minDefined:ae,maxDefined:ue}=$.getUserBounds();return{min:ae?J:Number.NEGATIVE_INFINITY,max:ue?ee:Number.POSITIVE_INFINITY}}(k);let H,U;function X(){U=w[H];const $=U[k.axis];return!Lt(U[d.axis])||V>$||F<$}for(H=0;H<C&&(X()||(this.updateRangeFromParsed(R,d,U,O),!M));++H);if(M)for(H=C-1;H>=0;--H)if(!X()){this.updateRangeFromParsed(R,d,U,O);break}return R}getAllParsedValues(d){const g=this._cachedMeta._parsed,_=[];let w,M,C;for(w=0,M=g.length;w<M;++w)C=g[w][d.axis],Lt(C)&&_.push(C);return _}getMaxOverflow(){return!1}getLabelAndValue(d){const g=this._cachedMeta,_=g.iScale,w=g.vScale,M=this.getParsed(d);return{label:_?""+_.getLabelForValue(M[_.axis]):"",value:w?""+w.getLabelForValue(M[w.axis]):""}}_update(d){const g=this._cachedMeta;this.update(d||"default"),g._clip=function(_){let w,M,C,k;return Ee(_)?(w=_.top,M=_.right,C=_.bottom,k=_.left):w=M=C=k=_,{top:w,right:M,bottom:C,left:k,disabled:!1===_}}($e(this.options.clip,function(_,w,M){if(!1===M)return!1;const C=ru(_,M),k=ru(w,M);return{top:k.end,right:C.end,bottom:k.start,left:C.start}}(g.xScale,g.yScale,this.getMaxOverflow())))}update(d){}draw(){const d=this._ctx,_=this._cachedMeta,w=_.data||[],M=this.chart.chartArea,C=[],k=this._drawStart||0,O=this._drawCount||w.length-k,R=this.options.drawActiveElementsOnTop;let V;for(_.dataset&&_.dataset.draw(d,M,k,O),V=k;V<k+O;++V){const F=w[V];F.hidden||(F.active&&R?C.push(F):F.draw(d,M))}for(V=0;V<C.length;++V)C[V].draw(d,M)}getStyle(d,g){const _=g?"active":"default";return void 0===d&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(_):this.resolveDataElementOptions(d||0,_)}getContext(d,g,_){const w=this.getDataset();let M;if(d>=0&&d<this._cachedMeta.data.length){const C=this._cachedMeta.data[d];M=C.$context||(C.$context=hr(this.getContext(),{active:!1,dataIndex:O=d,parsed:void 0,raw:void 0,element:C,index:O,mode:"default",type:"data"})),M.parsed=this.getParsed(d),M.raw=w.data[d],M.index=M.dataIndex=d}else M=this.$context||(this.$context=hr(this.chart.getContext(),{active:!1,dataset:void 0,datasetIndex:k=this.index,index:k,mode:"default",type:"dataset"})),M.dataset=w,M.index=M.datasetIndex=this.index;var k,O;return M.active=!!g,M.mode=_,M}resolveDatasetElementOptions(d){return this._resolveElementOptions(this.datasetElementType.id,d)}resolveDataElementOptions(d,g){return this._resolveElementOptions(this.dataElementType.id,g,d)}_resolveElementOptions(d,g="default",_){const w="active"===g,M=this._cachedDataOpts,C=d+"-"+g,k=M[C],O=this.enableOptionSharing&&Li(_);if(k)return ks(k,O);const R=this.chart.config,V=R.datasetElementScopeKeys(this._type,d),F=w?[`${d}Hover`,"hover",d,""]:[d,""],H=R.getOptionScopes(this.getDataset(),V),U=Object.keys(Nt.elements[d]),X=R.resolveNamedOptions(H,U,()=>this.getContext(_,w),F);return X.$shared&&(X.$shared=O,M[C]=Object.freeze(ks(X,O))),X}_resolveAnimations(d,g,_){const w=this.chart,M=this._cachedDataOpts,C=`animation-${g}`,k=M[C];if(k)return k;let O;if(!1!==w.options.animation){const V=this.chart.config,F=V.datasetAnimationScopeKeys(this._type,g),H=V.getOptionScopes(this.getDataset(),F);O=V.createResolver(H,this.getContext(d,_,g))}const R=new Qh(w,O&&O.animations);return O&&O._cacheable&&(M[C]=Object.freeze(R)),R}getSharedOptions(d){if(d.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},d))}includeOptions(d,g){return!g||au(d)||this.chart._animationsDisabled}_getSharedOptions(d,g){const _=this.resolveDataElementOptions(d,g),w=this._sharedOptions,M=this.getSharedOptions(_),C=this.includeOptions(g,M)||M!==w;return this.updateSharedOptions(M,g,_),{sharedOptions:M,includeOptions:C}}updateElement(d,g,_,w){au(w)?Object.assign(d,_):this._resolveAnimations(g,w).update(d,_)}updateSharedOptions(d,g,_){d&&!au(g)&&this._resolveAnimations(void 0,g).update(d,_)}_setStyle(d,g,_,w){d.active=w;const M=this.getStyle(g,w);this._resolveAnimations(g,_,w).update(d,{options:!w&&this.getSharedOptions(M)||M})}removeHoverStyle(d,g,_){this._setStyle(d,_,"active",!1)}setHoverStyle(d,g,_){this._setStyle(d,_,"active",!0)}_removeDatasetHoverStyle(){const d=this._cachedMeta.dataset;d&&this._setStyle(d,void 0,"active",!1)}_setDatasetHoverStyle(){const d=this._cachedMeta.dataset;d&&this._setStyle(d,void 0,"active",!0)}_resyncElements(d){const g=this._data,_=this._cachedMeta.data;for(const[k,O,R]of this._syncList)this[k](O,R);this._syncList=[];const w=_.length,M=g.length,C=Math.min(M,w);C&&this.parse(0,C),M>w?this._insertElements(w,M-w,d):M<w&&this._removeElements(M,w-M)}_insertElements(d,g,_=!0){const w=this._cachedMeta,M=w.data,C=d+g;let k;const O=R=>{for(R.length+=g,k=R.length-1;k>=C;k--)R[k]=R[k-g]};for(O(M),k=d;k<C;++k)M[k]=new this.dataElementType;this._parsing&&O(w._parsed),this.parse(d,g),_&&this.updateElements(M,d,g,"reset")}updateElements(d,g,_,w){}_removeElements(d,g){const _=this._cachedMeta;if(this._parsing){const w=_._parsed.splice(d,g);_._stacked&&so(_,w)}_.data.splice(d,g)}_sync(d){if(this._parsing)this._syncList.push(d);else{const[g,_,w]=d;this[g](_,w)}this.chart._dataChanges.push([this.index,...d])}_onDataPush(){const d=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-d,d])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(d,g){g&&this._sync(["_removeElements",d,g]);const _=arguments.length-2;_&&this._sync(["_insertElements",d,_])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Hi.defaults={},Hi.prototype.datasetElementType=null,Hi.prototype.dataElementType=null;class En{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(d){const{x:g,y:_}=this.getProps(["x","y"],d);return{x:g,y:_}}hasValue(){return xt(this.x)&&xt(this.y)}getProps(d,g){const _=this.$animations;if(!g||!_)return this;const w={};return d.forEach(M=>{w[M]=_[M]&&_[M].active()?_[M]._to:this[M]}),w}}En.defaults={},En.defaultRoutes=void 0;const su={values:x=>At(x)?x:""+x,numeric(x,d,g){if(0===x)return"0";const _=this.chart.options.locale;let w,M=x;if(g.length>1){const R=Math.max(Math.abs(g[0].value),Math.abs(g[g.length-1].value));(R<1e-4||R>1e15)&&(w="scientific"),M=function(V,F){let H=F.length>3?F[2].value-F[1].value:F[1].value-F[0].value;return Math.abs(H)>=1&&V!==Math.floor(V)&&(H=V-Math.floor(V)),H}(x,g)}const C=Ft(Math.abs(M)),k=Math.max(Math.min(-1*Math.floor(C),20),0),O={notation:w,minimumFractionDigits:k,maximumFractionDigits:k};return Object.assign(O,this.options.ticks.format),Eo(x,_,O)},logarithmic(x,d,g){if(0===x)return"0";const _=x/Math.pow(10,Math.floor(Ft(x)));return 1===_||2===_||5===_?su.numeric.call(this,x,d,g):""}};var dr={formatters:su};function Ls(x,d,g,_,w){const M=$e(_,0),C=Math.min($e(w,x.length),x.length);let k,O,R,V=0;for(g=Math.ceil(g),w&&(k=w-_,g=k/Math.floor(k/g)),R=M;R<0;)V++,R=Math.round(M+V*g);for(O=Math.max(M,0);O<C;O++)O===R&&(d.push(x[O]),V++,R=Math.round(M+V*g))}Nt.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(x,d)=>d.lineWidth,tickColor:(x,d)=>d.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:dr.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Nt.route("scale.ticks","color","","color"),Nt.route("scale.grid","color","","borderColor"),Nt.route("scale.grid","borderColor","","borderColor"),Nt.route("scale.title","color","","color"),Nt.describe("scale",{_fallback:!1,_scriptable:x=>!x.startsWith("before")&&!x.startsWith("after")&&"callback"!==x&&"parser"!==x,_indexable:x=>"borderDash"!==x&&"tickBorderDash"!==x}),Nt.describe("scales",{_fallback:"scale"}),Nt.describe("scale.ticks",{_scriptable:x=>"backdropPadding"!==x&&"callback"!==x,_indexable:x=>"backdropPadding"!==x});const mp=(x,d,g)=>"top"===d||"left"===d?x[d]+g:x[d]-g;function lu(x,d){const g=[],_=x.length/d,w=x.length;let M=0;for(;M<w;M+=_)g.push(x[Math.floor(M)]);return g}function ec(x,d,g){const _=x.ticks.length,w=Math.min(d,_-1),M=x._startPixel,C=x._endPixel,k=1e-6;let O,R=x.getPixelForTick(w);if(!(g&&(O=1===_?Math.max(R-M,C-R):0===d?(x.getPixelForTick(1)-R)/2:(R-x.getPixelForTick(w-1))/2,R+=w<d?O:-O,R<M-k||R>C+k)))return R}function Ps(x){return x.drawTicks?x.tickLength:0}function yp(x,d){if(!x.display)return 0;const g=Tt(x.font,d),_=Ai(x.padding);return(At(x.text)?x.text.length:1)*g.lineHeight+_.height}function vp(x,d,g){let _=eo(x);return(g&&"right"!==d||!g&&"right"===d)&&(_="left"===(w=_)?"right":"right"===w?"left":w),_;var w}class pr extends En{constructor(d){super(),this.id=d.id,this.type=d.type,this.options=void 0,this.ctx=d.ctx,this.chart=d.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(d){this.options=d.setContext(this.getContext()),this.axis=d.axis,this._userMin=this.parse(d.min),this._userMax=this.parse(d.max),this._suggestedMin=this.parse(d.suggestedMin),this._suggestedMax=this.parse(d.suggestedMax)}parse(d,g){return d}getUserBounds(){let{_userMin:d,_userMax:g,_suggestedMin:_,_suggestedMax:w}=this;return d=ut(d,Number.POSITIVE_INFINITY),g=ut(g,Number.NEGATIVE_INFINITY),_=ut(_,Number.POSITIVE_INFINITY),w=ut(w,Number.NEGATIVE_INFINITY),{min:ut(d,_),max:ut(g,w),minDefined:Lt(d),maxDefined:Lt(g)}}getMinMax(d){let g,{min:_,max:w,minDefined:M,maxDefined:C}=this.getUserBounds();if(M&&C)return{min:_,max:w};const k=this.getMatchingVisibleMetas();for(let O=0,R=k.length;O<R;++O)g=k[O].controller.getMinMax(this,d),M||(_=Math.min(_,g.min)),C||(w=Math.max(w,g.max));return _=C&&_>w?w:_,w=M&&_>w?_:w,{min:ut(_,ut(w,_)),max:ut(w,ut(_,w))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const d=this.chart.data;return this.options.labels||(this.isHorizontal()?d.xLabels:d.yLabels)||d.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Qe(this.options.beforeUpdate,[this])}update(d,g,_){const{beginAtZero:w,grace:M,ticks:C}=this.options,k=C.sampleSize;this.beforeUpdate(),this.maxWidth=d,this.maxHeight=g,this._margins=_=Object.assign({left:0,right:0,top:0,bottom:0},_),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+_.left+_.right:this.height+_.top+_.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=bs(this,M,w),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const O=k<this.ticks.length;this._convertTicksToLabels(O?lu(this.ticks,k):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),C.display&&(C.autoSkip||"auto"===C.source)&&(this.ticks=function gp(x,d){const g=x.options.ticks,_=g.maxTicksLimit||function(V){const F=V.options.offset,H=V._tickSize();return Math.floor(Math.min(V._length/H+(F?0:1),V._maxLength/H))}(x),w=g.major.enabled?function(V){const F=[];let H,U;for(H=0,U=V.length;H<U;H++)V[H].major&&F.push(H);return F}(d):[],M=w.length,C=w[0],k=w[M-1],O=[];if(M>_)return function(V,F,H,U){let X,$=0,J=H[0];for(U=Math.ceil(U),X=0;X<V.length;X++)X===J&&(F.push(V[X]),$++,J=H[$*U])}(d,O,w,M/_),O;const R=function(V,F,H){const U=function(J){const ee=J.length;let ae,ue;if(ee<2)return!1;for(ue=J[0],ae=1;ae<ee;++ae)if(J[ae]-J[ae-1]!==ue)return!1;return ue}(V),X=F.length/H;if(!U)return Math.max(X,1);const $=Zi(U);for(let J=0,ee=$.length-1;J<ee;J++){const ae=$[J];if(ae>X)return ae}return Math.max(X,1)}(w,d,_);if(M>0){let V,F;const H=M>1?Math.round((k-C)/(M-1)):null;for(Ls(d,O,R,ie(H)?0:C-H,C),V=0,F=M-1;V<F;V++)Ls(d,O,R,w[V],w[V+1]);return Ls(d,O,R,k,ie(H)?d.length:k+H),O}return Ls(d,O,R),O}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),O&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let d,g,_=this.options.reverse;this.isHorizontal()?(d=this.left,g=this.right):(d=this.top,g=this.bottom,_=!_),this._startPixel=d,this._endPixel=g,this._reversePixels=_,this._length=g-d,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Qe(this.options.afterUpdate,[this])}beforeSetDimensions(){Qe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Qe(this.options.afterSetDimensions,[this])}_callHooks(d){this.chart.notifyPlugins(d,this.getContext()),Qe(this.options[d],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Qe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(d){const g=this.options.ticks;let _,w,M;for(_=0,w=d.length;_<w;_++)M=d[_],M.label=Qe(g.callback,[M.value,_,d],this)}afterTickToLabelConversion(){Qe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Qe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const d=this.options,g=d.ticks,_=this.ticks.length,w=g.minRotation||0,M=g.maxRotation;let C,k,O,R=w;if(!this._isVisible()||!g.display||w>=M||_<=1||!this.isHorizontal())return void(this.labelRotation=w);const V=this._getLabelSizes(),F=V.widest.width,H=V.highest.height,U=Se(this.chart.width-F,0,this.maxWidth);C=d.offset?this.maxWidth/_:U/(_-1),F+6>C&&(C=U/(_-(d.offset?.5:1)),k=this.maxHeight-Ps(d.grid)-g.padding-yp(d.title,this.chart.options.font),O=Math.sqrt(F*F+H*H),R=fe(Math.min(Math.asin(Se((V.highest.height+6)/C,-1,1)),Math.asin(Se(k/O,-1,1))-Math.asin(Se(H/O,-1,1)))),R=Math.max(w,Math.min(M,R))),this.labelRotation=R}afterCalculateLabelRotation(){Qe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Qe(this.options.beforeFit,[this])}fit(){const d={width:0,height:0},{chart:g,options:{ticks:_,title:w,grid:M}}=this,C=this._isVisible(),k=this.isHorizontal();if(C){const O=yp(w,g.options.font);if(k?(d.width=this.maxWidth,d.height=Ps(M)+O):(d.height=this.maxHeight,d.width=Ps(M)+O),_.display&&this.ticks.length){const{first:R,last:V,widest:F,highest:H}=this._getLabelSizes(),U=2*_.padding,X=Xe(this.labelRotation),$=Math.cos(X),J=Math.sin(X);k?d.height=Math.min(this.maxHeight,d.height+(_.mirror?0:J*F.width+$*H.height)+U):d.width=Math.min(this.maxWidth,d.width+(_.mirror?0:$*F.width+J*H.height)+U),this._calculatePadding(R,V,J,$)}}this._handleMargins(),k?(this.width=this._length=g.width-this._margins.left-this._margins.right,this.height=d.height):(this.width=d.width,this.height=this._length=g.height-this._margins.top-this._margins.bottom)}_calculatePadding(d,g,_,w){const{ticks:{align:M,padding:C},position:k}=this.options,O=0!==this.labelRotation,R="top"!==k&&"x"===this.axis;if(this.isHorizontal()){const V=this.getPixelForTick(0)-this.left,F=this.right-this.getPixelForTick(this.ticks.length-1);let H=0,U=0;O?R?(H=w*d.width,U=_*g.height):(H=_*d.height,U=w*g.width):"start"===M?U=g.width:"end"===M?H=d.width:"inner"!==M&&(H=d.width/2,U=g.width/2),this.paddingLeft=Math.max((H-V+C)*this.width/(this.width-V),0),this.paddingRight=Math.max((U-F+C)*this.width/(this.width-F),0)}else{let V=g.height/2,F=d.height/2;"start"===M?(V=0,F=d.height):"end"===M&&(V=g.height,F=0),this.paddingTop=V+C,this.paddingBottom=F+C}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Qe(this.options.afterFit,[this])}isHorizontal(){const{axis:d,position:g}=this.options;return"top"===g||"bottom"===g||"x"===d}isFullSize(){return this.options.fullSize}_convertTicksToLabels(d){let g,_;for(this.beforeTickToLabelConversion(),this.generateTickLabels(d),g=0,_=d.length;g<_;g++)ie(d[g].label)&&(d.splice(g,1),_--,g--);this.afterTickToLabelConversion()}_getLabelSizes(){let d=this._labelSizes;if(!d){const g=this.options.ticks.sampleSize;let _=this.ticks;g<_.length&&(_=lu(_,g)),this._labelSizes=d=this._computeLabelSizes(_,_.length)}return d}_computeLabelSizes(d,g){const{ctx:_,_longestTextCache:w}=this,M=[],C=[];let k,O,R,V,F,H,U,X,$,J,ee,ae=0,ue=0;for(k=0;k<g;++k){if(V=d[k].label,F=this._resolveTickFontOptions(k),_.font=H=F.string,U=w[H]=w[H]||{data:{},gc:[]},X=F.lineHeight,$=J=0,ie(V)||At(V)){if(At(V))for(O=0,R=V.length;O<R;++O)ee=V[O],ie(ee)||At(ee)||($=no(_,U.data,U.gc,$,ee),J+=X)}else $=no(_,U.data,U.gc,$,V),J=X;M.push($),C.push(J),ae=Math.max($,ae),ue=Math.max(J,ue)}var Ye;Ye=g,it(w,Fe=>{const Oe=Fe.gc,je=Oe.length/2;let qe;if(je>Ye){for(qe=0;qe<je;++qe)delete Fe.data[Oe[qe]];Oe.splice(0,je)}});const he=M.indexOf(ae),me=C.indexOf(ue),Me=Ae=>({width:M[Ae]||0,height:C[Ae]||0});return{first:Me(0),last:Me(g-1),widest:Me(he),highest:Me(me),widths:M,heights:C}}getLabelForValue(d){return d}getPixelForValue(d,g){return NaN}getValueForPixel(d){}getPixelForTick(d){const g=this.ticks;return d<0||d>g.length-1?null:this.getPixelForValue(g[d].value)}getPixelForDecimal(d){this._reversePixels&&(d=1-d);const g=this._startPixel+d*this._length;return at(this._alignToPixels?Di(this.chart,g,0):g)}getDecimalForPixel(d){const g=(d-this._startPixel)/this._length;return this._reversePixels?1-g:g}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:d,max:g}=this;return d<0&&g<0?g:d>0&&g>0?d:0}getContext(d){const g=this.ticks||[];if(d>=0&&d<g.length){const _=g[d];return _.$context||(_.$context=hr(this.getContext(),{tick:_,index:d,type:"tick"}))}return this.$context||(this.$context=hr(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const d=this.options.ticks,g=Xe(this.labelRotation),_=Math.abs(Math.cos(g)),w=Math.abs(Math.sin(g)),M=this._getLabelSizes(),C=d.autoSkipPadding||0,k=M?M.widest.width+C:0,O=M?M.highest.height+C:0;return this.isHorizontal()?O*_>k*w?k/_:O/w:O*w<k*_?O/_:k/w}_isVisible(){const d=this.options.display;return"auto"!==d?!!d:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(d){const g=this.axis,_=this.chart,w=this.options,{grid:M,position:C}=w,k=M.offset,O=this.isHorizontal(),R=this.ticks.length+(k?1:0),V=Ps(M),F=[],H=M.setContext(this.getContext()),U=H.drawBorder?H.borderWidth:0,X=U/2,$=function(Pe){return Di(_,Pe,U)};let J,ee,ae,ue,he,me,Me,Ae,Ye,Fe,Oe,je;if("top"===C)J=$(this.bottom),me=this.bottom-V,Ae=J-X,Fe=$(d.top)+X,je=d.bottom;else if("bottom"===C)J=$(this.top),Fe=d.top,je=$(d.bottom)-X,me=J+X,Ae=this.top+V;else if("left"===C)J=$(this.right),he=this.right-V,Me=J-X,Ye=$(d.left)+X,Oe=d.right;else if("right"===C)J=$(this.left),Ye=d.left,Oe=$(d.right)-X,he=J+X,Me=this.left+V;else if("x"===g){if("center"===C)J=$((d.top+d.bottom)/2+.5);else if(Ee(C)){const Pe=Object.keys(C)[0];J=$(this.chart.scales[Pe].getPixelForValue(C[Pe]))}Fe=d.top,je=d.bottom,me=J+X,Ae=me+V}else if("y"===g){if("center"===C)J=$((d.left+d.right)/2);else if(Ee(C)){const Pe=Object.keys(C)[0];J=$(this.chart.scales[Pe].getPixelForValue(C[Pe]))}he=J-X,Me=he-V,Ye=d.left,Oe=d.right}const qe=$e(w.ticks.maxTicksLimit,R),Ke=Math.max(1,Math.ceil(R/qe));for(ee=0;ee<R;ee+=Ke){const Pe=M.setContext(this.getContext(ee)),Je=Pe.lineWidth,ht=Pe.color,Wt=Pe.borderDash||[],ui=Pe.borderDashOffset,pi=Pe.tickWidth,cn=Pe.tickColor,fi=Pe.tickBorderDash||[],Xi=Pe.tickBorderDashOffset;ae=ec(this,ee,k),void 0!==ae&&(ue=Di(_,ae,Je),O?he=Me=Ye=Oe=ue:me=Ae=Fe=je=ue,F.push({tx1:he,ty1:me,tx2:Me,ty2:Ae,x1:Ye,y1:Fe,x2:Oe,y2:je,width:Je,color:ht,borderDash:Wt,borderDashOffset:ui,tickWidth:pi,tickColor:cn,tickBorderDash:fi,tickBorderDashOffset:Xi}))}return this._ticksLength=R,this._borderValue=J,F}_computeLabelItems(d){const g=this.axis,_=this.options,{position:w,ticks:M}=_,C=this.isHorizontal(),k=this.ticks,{align:O,crossAlign:R,padding:V,mirror:F}=M,H=Ps(_.grid),U=H+V,X=F?-V:U,$=-Xe(this.labelRotation),J=[];let ee,ae,ue,he,me,Me,Ae,Ye,Fe,Oe,je,qe,Ke="middle";if("top"===w)Me=this.bottom-X,Ae=this._getXAxisLabelAlignment();else if("bottom"===w)Me=this.top+X,Ae=this._getXAxisLabelAlignment();else if("left"===w){const Je=this._getYAxisLabelAlignment(H);Ae=Je.textAlign,me=Je.x}else if("right"===w){const Je=this._getYAxisLabelAlignment(H);Ae=Je.textAlign,me=Je.x}else if("x"===g){if("center"===w)Me=(d.top+d.bottom)/2+U;else if(Ee(w)){const Je=Object.keys(w)[0];Me=this.chart.scales[Je].getPixelForValue(w[Je])+U}Ae=this._getXAxisLabelAlignment()}else if("y"===g){if("center"===w)me=(d.left+d.right)/2-U;else if(Ee(w)){const Je=Object.keys(w)[0];me=this.chart.scales[Je].getPixelForValue(w[Je])}Ae=this._getYAxisLabelAlignment(H).textAlign}"y"===g&&("start"===O?Ke="top":"end"===O&&(Ke="bottom"));const Pe=this._getLabelSizes();for(ee=0,ae=k.length;ee<ae;++ee){ue=k[ee],he=ue.label;const Je=M.setContext(this.getContext(ee));Ye=this.getPixelForTick(ee)+M.labelOffset,Fe=this._resolveTickFontOptions(ee),Oe=Fe.lineHeight,je=At(he)?he.length:1;const ht=je/2,Wt=Je.color,ui=Je.textStrokeColor,pi=Je.textStrokeWidth;let cn,fi=Ae;if(C?(me=Ye,"inner"===Ae&&(fi=ee===ae-1?this.options.reverse?"left":"right":0===ee?this.options.reverse?"right":"left":"center"),qe="top"===w?"near"===R||0!==$?-je*Oe+Oe/2:"center"===R?-Pe.highest.height/2-ht*Oe+Oe:Oe/2-Pe.highest.height:"near"===R||0!==$?Oe/2:"center"===R?Pe.highest.height/2-ht*Oe:Pe.highest.height-je*Oe,F&&(qe*=-1)):(Me=Ye,qe=(1-je)*Oe/2),Je.showLabelBackdrop){const Xi=Ai(Je.backdropPadding),Wr=Pe.heights[ee],en=Pe.widths[ee];let Ui=Me+qe-Xi.top,tn=me-Xi.left;switch(Ke){case"middle":Ui-=Wr/2;break;case"bottom":Ui-=Wr}switch(Ae){case"center":tn-=en/2;break;case"right":tn-=en}cn={left:tn,top:Ui,width:en+Xi.width,height:Wr+Xi.height,color:Je.backdropColor}}J.push({rotation:$,label:he,font:Fe,color:Wt,strokeColor:ui,strokeWidth:pi,textOffset:qe,textAlign:fi,textBaseline:Ke,translation:[me,Me],backdrop:cn})}return J}_getXAxisLabelAlignment(){const{position:d,ticks:g}=this.options;if(-Xe(this.labelRotation))return"top"===d?"left":"right";let _="center";return"start"===g.align?_="left":"end"===g.align?_="right":"inner"===g.align&&(_="inner"),_}_getYAxisLabelAlignment(d){const{position:g,ticks:{crossAlign:_,mirror:w,padding:M}}=this.options,C=d+M,k=this._getLabelSizes().widest.width;let O,R;return"left"===g?w?(R=this.right+M,"near"===_?O="left":"center"===_?(O="center",R+=k/2):(O="right",R+=k)):(R=this.right-C,"near"===_?O="right":"center"===_?(O="center",R-=k/2):(O="left",R=this.left)):"right"===g?w?(R=this.left+M,"near"===_?O="right":"center"===_?(O="center",R-=k/2):(O="left",R-=k)):(R=this.left+C,"near"===_?O="left":"center"===_?(O="center",R+=k/2):(O="right",R=this.right)):O="right",{textAlign:O,x:R}}_computeLabelArea(){if(this.options.ticks.mirror)return;const d=this.chart,g=this.options.position;return"left"===g||"right"===g?{top:0,left:this.left,bottom:d.height,right:this.right}:"top"===g||"bottom"===g?{top:this.top,left:0,bottom:this.bottom,right:d.width}:void 0}drawBackground(){const{ctx:d,options:{backgroundColor:g},left:_,top:w,width:M,height:C}=this;g&&(d.save(),d.fillStyle=g,d.fillRect(_,w,M,C),d.restore())}getLineWidthForValue(d){const g=this.options.grid;if(!this._isVisible()||!g.display)return 0;const _=this.ticks.findIndex(w=>w.value===d);return _>=0?g.setContext(this.getContext(_)).lineWidth:0}drawGrid(d){const g=this.options.grid,_=this.ctx,w=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(d));let M,C;const k=(O,R,V)=>{V.width&&V.color&&(_.save(),_.lineWidth=V.width,_.strokeStyle=V.color,_.setLineDash(V.borderDash||[]),_.lineDashOffset=V.borderDashOffset,_.beginPath(),_.moveTo(O.x,O.y),_.lineTo(R.x,R.y),_.stroke(),_.restore())};if(g.display)for(M=0,C=w.length;M<C;++M){const O=w[M];g.drawOnChartArea&&k({x:O.x1,y:O.y1},{x:O.x2,y:O.y2},O),g.drawTicks&&k({x:O.tx1,y:O.ty1},{x:O.tx2,y:O.ty2},{color:O.tickColor,width:O.tickWidth,borderDash:O.tickBorderDash,borderDashOffset:O.tickBorderDashOffset})}}drawBorder(){const{chart:d,ctx:g,options:{grid:_}}=this,w=_.setContext(this.getContext()),M=_.drawBorder?w.borderWidth:0;if(!M)return;const C=_.setContext(this.getContext(0)).lineWidth,k=this._borderValue;let O,R,V,F;this.isHorizontal()?(O=Di(d,this.left,M)-M/2,R=Di(d,this.right,C)+C/2,V=F=k):(V=Di(d,this.top,M)-M/2,F=Di(d,this.bottom,C)+C/2,O=R=k),g.save(),g.lineWidth=w.borderWidth,g.strokeStyle=w.borderColor,g.beginPath(),g.moveTo(O,V),g.lineTo(R,F),g.stroke(),g.restore()}drawLabels(d){if(!this.options.ticks.display)return;const g=this.ctx,_=this._computeLabelArea();_&&gs(g,_);const w=this._labelItems||(this._labelItems=this._computeLabelItems(d));let M,C;for(M=0,C=w.length;M<C;++M){const k=w[M],O=k.font,R=k.label;k.backdrop&&(g.fillStyle=k.backdrop.color,g.fillRect(k.backdrop.left,k.backdrop.top,k.backdrop.width,k.backdrop.height)),sn(g,R,0,k.textOffset,O,k)}_&&nt(g)}drawTitle(){const{ctx:d,options:{position:g,title:_,reverse:w}}=this;if(!_.display)return;const M=Tt(_.font),C=Ai(_.padding),k=_.align;let O=M.lineHeight/2;"bottom"===g||"center"===g||Ee(g)?(O+=C.bottom,At(_.text)&&(O+=M.lineHeight*(_.text.length-1))):O+=C.top;const{titleX:R,titleY:V,maxWidth:F,rotation:H}=function(U,X,$,J){const{top:ee,left:ae,bottom:ue,right:he,chart:me}=U,{chartArea:Me,scales:Ae}=me;let Ye,Fe,Oe,je=0;const qe=ue-ee,Ke=he-ae;if(U.isHorizontal()){if(Fe=li(J,ae,he),Ee($)){const Pe=Object.keys($)[0];Oe=Ae[Pe].getPixelForValue($[Pe])+qe-X}else Oe="center"===$?(Me.bottom+Me.top)/2+qe-X:mp(U,$,X);Ye=he-ae}else{if(Ee($)){const Pe=Object.keys($)[0];Fe=Ae[Pe].getPixelForValue($[Pe])-Ke+X}else Fe="center"===$?(Me.left+Me.right)/2-Ke+X:mp(U,$,X);Oe=li(J,ue,ee),je="left"===$?-We:We}return{titleX:Fe,titleY:Oe,maxWidth:Ye,rotation:je}}(this,O,g,k);sn(d,_.text,0,0,M,{color:_.color,maxWidth:F,rotation:H,textAlign:vp(k,g,w),textBaseline:"middle",translation:[R,V]})}draw(d){this._isVisible()&&(this.drawBackground(),this.drawGrid(d),this.drawBorder(),this.drawTitle(),this.drawLabels(d))}_layers(){const d=this.options,g=d.ticks&&d.ticks.z||0,_=$e(d.grid&&d.grid.z,-1);return this._isVisible()&&this.draw===pr.prototype.draw?[{z:_,draw:w=>{this.drawBackground(),this.drawGrid(w),this.drawTitle()}},{z:_+1,draw:()=>{this.drawBorder()}},{z:g,draw:w=>{this.drawLabels(w)}}]:[{z:g,draw:w=>{this.draw(w)}}]}getMatchingVisibleMetas(d){const g=this.chart.getSortedVisibleDatasetMetas(),_=this.axis+"AxisID",w=[];let M,C;for(M=0,C=g.length;M<C;++M){const k=g[M];k[_]!==this.id||d&&k.type!==d||w.push(k)}return w}_resolveTickFontOptions(d){return Tt(this.options.ticks.setContext(this.getContext(d)).font)}_maxDigits(){const d=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/d}}class Sa{constructor(d,g,_){this.type=d,this.scope=g,this.override=_,this.items=Object.create(null)}isForType(d){return Object.prototype.isPrototypeOf.call(this.type.prototype,d.prototype)}register(d){const g=Object.getPrototypeOf(d);let _;var k;"id"in(k=g)&&"defaults"in k&&(_=this.register(g));const w=this.items,M=d.id,C=this.scope+"."+M;if(!M)throw new Error("class does not have id: "+d);return M in w||(w[M]=d,function(k,O,R){const V=kr(Object.create(null),[R?Nt.get(R):{},Nt.get(O),k.defaults]);var F,H;Nt.set(O,V),k.defaultRoutes&&(F=O,H=k.defaultRoutes,Object.keys(H).forEach(U=>{const X=U.split("."),$=X.pop(),J=[F].concat(X).join("."),ee=H[U].split("."),ae=ee.pop(),ue=ee.join(".");Nt.route(J,$,ue,ae)})),k.descriptors&&Nt.describe(O,k.descriptors)}(d,C,_),this.override&&Nt.override(d.id,d.overrides)),C}get(d){return this.items[d]}unregister(d){const g=this.items,_=d.id,w=this.scope;_ in g&&delete g[_],w&&_ in Nt[w]&&(delete Nt[w][_],this.override&&delete io[_])}}var Nn=new class{constructor(){this.controllers=new Sa(Hi,"datasets",!0),this.elements=new Sa(En,"elements"),this.plugins=new Sa(Object,"plugins"),this.scales=new Sa(pr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...x){this._each("register",x)}remove(...x){this._each("unregister",x)}addControllers(...x){this._each("register",x,this.controllers)}addElements(...x){this._each("register",x,this.elements)}addPlugins(...x){this._each("register",x,this.plugins)}addScales(...x){this._each("register",x,this.scales)}getController(x){return this._get(x,this.controllers,"controller")}getElement(x){return this._get(x,this.elements,"element")}getPlugin(x){return this._get(x,this.plugins,"plugin")}getScale(x){return this._get(x,this.scales,"scale")}removeControllers(...x){this._each("unregister",x,this.controllers)}removeElements(...x){this._each("unregister",x,this.elements)}removePlugins(...x){this._each("unregister",x,this.plugins)}removeScales(...x){this._each("unregister",x,this.scales)}_each(x,d,g){[...d].forEach(_=>{const w=g||this._getRegistryForType(_);g||w.isForType(_)||w===this.plugins&&_.id?this._exec(x,w,_):it(_,M=>{const C=g||this._getRegistryForType(M);this._exec(x,C,M)})})}_exec(x,d,g){const _=vn(x);Qe(g["before"+_],[],g),d[x](g),Qe(g["after"+_],[],g)}_getRegistryForType(x){for(let d=0;d<this._typedRegistries.length;d++){const g=this._typedRegistries[d];if(g.isForType(x))return g}return this.plugins}_get(x,d,g){const _=d.get(x);if(void 0===_)throw new Error('"'+x+'" is not a registered '+g+".");return _}};class sm{constructor(){this._init=[]}notify(d,g,_,w){"beforeInit"===g&&(this._init=this._createDescriptors(d,!0),this._notify(this._init,d,"install"));const M=w?this._descriptors(d).filter(w):this._descriptors(d),C=this._notify(M,d,g,_);return"afterDestroy"===g&&(this._notify(M,d,"stop"),this._notify(this._init,d,"uninstall")),C}_notify(d,g,_,w){w=w||{};for(const M of d){const C=M.plugin;if(!1===Qe(C[_],[g,w,M.options],C)&&w.cancelable)return!1}return!0}invalidate(){ie(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(d){if(this._cache)return this._cache;const g=this._cache=this._createDescriptors(d);return this._notifyStateChanges(d),g}_createDescriptors(d,g){const _=d&&d.config,w=$e(_.options&&_.options.plugins,{}),M=function(C){const k={},O=[],R=Object.keys(Nn.plugins.items);for(let F=0;F<R.length;F++)O.push(Nn.getPlugin(R[F]));const V=C.plugins||[];for(let F=0;F<V.length;F++){const H=V[F];-1===O.indexOf(H)&&(O.push(H),k[H.id]=!0)}return{plugins:O,localIds:k}}(_);return!1!==w||g?function(C,{plugins:k,localIds:O},R,V){const F=[],H=C.getContext();for(const U of k){const X=U.id,$=Kn(R[X],V);null!==$&&F.push({plugin:U,options:tc(C.config,{plugin:U,local:O[X]},$,H)})}return F}(d,M,w,g):[]}_notifyStateChanges(d){const g=this._oldCache||[],_=this._cache,w=(M,C)=>M.filter(k=>!C.some(O=>k.plugin.id===O.plugin.id));this._notify(w(g,_),d,"stop"),this._notify(w(_,g),d,"start")}}function Kn(x,d){return d||!1!==x?!0===x?{}:x:null}function tc(x,{plugin:d,local:g},_,w){const M=x.pluginScopeKeys(d),C=x.getOptionScopes(_,M);return g&&d.defaults&&C.push(d.defaults),x.createResolver(C,w,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ic(x,d){return((d.datasets||{})[x]||{}).indexAxis||d.indexAxis||(Nt.datasets[x]||{}).indexAxis||"x"}function nc(x,d){return"x"===x||"y"===x?x:d.axis||("top"===(g=d.position)||"bottom"===g?"x":"left"===g||"right"===g?"y":void 0)||x.charAt(0).toLowerCase();var g}function Os(x){const d=x.options||(x.options={});d.plugins=$e(d.plugins,{}),d.scales=function(g,_){const w=io[g.type]||{scales:{}},M=_.scales||{},C=ic(g.type,_),k=Object.create(null),O=Object.create(null);return Object.keys(M).forEach(R=>{const V=M[R];if(!Ee(V))return console.error(`Invalid scale configuration for scale: ${R}`);if(V._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${R}`);const F=nc(R,V),H=F===C?"_index_":"_value_",U=w.scales||{};k[F]=k[F]||R,O[R]=Lr(Object.create(null),[{axis:F},V,U[F],U[H]])}),g.data.datasets.forEach(R=>{const V=R.type||g.type,F=R.indexAxis||ic(V,_),H=(io[V]||{}).scales||{};Object.keys(H).forEach(U=>{const X=function(J,ee){let ae=J;return"_index_"===J?ae=ee:"_value_"===J&&(ae="x"===ee?"y":"x"),ae}(U,F),$=R[X+"AxisID"]||k[X]||X;O[$]=O[$]||Object.create(null),Lr(O[$],[{axis:X},M[$],H[U]])})}),Object.keys(O).forEach(R=>{const V=O[R];Lr(V,[Nt.scales[V.type],Nt.scale])}),O}(x,d)}function uu(x){return(x=x||{}).datasets=x.datasets||[],x.labels=x.labels||[],x}const rc=new Map,xp=new Set;function Rs(x,d){let g=rc.get(x);return g||(g=d(),rc.set(x,g),xp.add(g)),g}const lo=(x,d,g)=>{const _=Ot(d,g);void 0!==_&&x.add(_)};class oc{constructor(d){var g;this._config=((g=(g=d)||{}).data=uu(g.data),Os(g),g),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(d){this._config.type=d}get data(){return this._config.data}set data(d){this._config.data=uu(d)}get options(){return this._config.options}set options(d){this._config.options=d}get plugins(){return this._config.plugins}update(){const d=this._config;this.clearCache(),Os(d)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(d){return Rs(d,()=>[[`datasets.${d}`,""]])}datasetAnimationScopeKeys(d,g){return Rs(`${d}.transition.${g}`,()=>[[`datasets.${d}.transitions.${g}`,`transitions.${g}`],[`datasets.${d}`,""]])}datasetElementScopeKeys(d,g){return Rs(`${d}-${g}`,()=>[[`datasets.${d}.elements.${g}`,`datasets.${d}`,`elements.${g}`,""]])}pluginScopeKeys(d){const g=d.id;return Rs(`${this.type}-plugin-${g}`,()=>[[`plugins.${g}`,...d.additionalOptionScopes||[]]])}_cachedScopes(d,g){const _=this._scopeCache;let w=_.get(d);return w&&!g||(w=new Map,_.set(d,w)),w}getOptionScopes(d,g,_){const{options:w,type:M}=this,C=this._cachedScopes(d,_),k=C.get(g);if(k)return k;const O=new Set;g.forEach(V=>{d&&(O.add(d),V.forEach(F=>lo(O,d,F))),V.forEach(F=>lo(O,w,F)),V.forEach(F=>lo(O,io[M]||{},F)),V.forEach(F=>lo(O,Nt,F)),V.forEach(F=>lo(O,Eh,F))});const R=Array.from(O);return 0===R.length&&R.push(Object.create(null)),xp.has(g)&&C.set(g,R),R}chartOptionScopes(){const{options:d,type:g}=this;return[d,io[g]||{},Nt.datasets[g]||{},{type:g},Nt,Eh]}resolveNamedOptions(d,g,_,w=[""]){const M={$shared:!0},{resolver:C,subPrefixes:k}=hu(this._resolverCache,d,w);let O=C;(function(R,V){const{isScriptable:F,isIndexable:H}=Po(R);for(const U of V){const X=F(U),$=H(U),J=($||X)&&R[U];if(X&&(ji(J)||_p(J))||$&&At(J))return!0}return!1})(C,g)&&(M.$shared=!1,O=qn(C,_=ji(_)?_():_,this.createResolver(d,_,k)));for(const R of g)M[R]=O[R];return M}createResolver(d,g,_=[""],w){const{resolver:M}=hu(this._resolverCache,d,_);return Ee(g)?qn(M,g,void 0,w):M}}function hu(x,d,g){let _=x.get(d);_||(_=new Map,x.set(d,_));const w=g.join();let M=_.get(w);return M||(M={resolver:ur(d,g),subPrefixes:g.filter(C=>!C.toLowerCase().includes("hover"))},_.set(w,M)),M}const _p=x=>Ee(x)&&Object.getOwnPropertyNames(x).reduce((d,g)=>d||ji(x[g]),!1),lm=["top","bottom","left","right","chartArea"];function uo(x,d){return"top"===x||"bottom"===x||-1===lm.indexOf(x)&&"x"===d}function ho(x,d){return function(g,_){return g[x]===_[x]?g[d]-_[d]:g[x]-_[x]}}function Ho(x){const d=x.chart,g=d.options.animation;d.notifyPlugins("afterRender"),Qe(g&&g.onComplete,[x],d)}function ac(x){const d=x.chart,g=d.options.animation;Qe(g&&g.onProgress,[x],d)}function cu(x){return ps()&&"string"==typeof x?x=document.getElementById(x):x&&x.length&&(x=x[0]),x&&x.canvas&&(x=x.canvas),x}const zn={},Jn=x=>{const d=cu(x);return Object.values(zn).filter(g=>g.canvas===d).pop()};function bp(x,d,g){const _=Object.keys(x);for(const w of _){const M=+w;if(M>=d){const C=x[w];delete x[w],(g>0||M>d)&&(x[M+g]=C)}}}class ai{constructor(d,g){const _=this.config=new oc(g),w=cu(d),M=Jn(w);if(M)throw new Error("Canvas is already in use. Chart with ID '"+M.id+"' must be destroyed before the canvas with ID '"+M.canvas.id+"' can be reused.");const C=_.createResolver(_.chartOptionScopes(),this.getContext());this.platform=new(_.platform||qh(w)),this.platform.updateConfig(_);const k=this.platform.acquireContext(w,C.aspectRatio),O=k&&k.canvas,R=O&&O.height,V=O&&O.width;this.id=Ii(),this.ctx=k,this.canvas=O,this.width=V,this.height=R,this._options=C,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sm,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Lh(F=>this.update(F),C.resizeDelay||0),this._dataChanges=[],zn[this.id]=this,k&&O?(ze.listen(this,"complete",Ho),ze.listen(this,"progress",ac),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:d,maintainAspectRatio:g},width:_,height:w,_aspectRatio:M}=this;return ie(d)?g&&M?M:w?_/w:null:d}get data(){return this.config.data}set data(d){this.config.data=d}get options(){return this._options}set options(d){this.config.options=d}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Hl(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return lr(this.canvas,this.ctx),this}stop(){return ze.stop(this),this}resize(d,g){ze.running(this)?this._resizeBeforeDraw={width:d,height:g}:this._resize(d,g)}_resize(d,g){const _=this.options,C=this.platform.getMaximumSize(this.canvas,d,g,_.maintainAspectRatio&&this.aspectRatio),k=_.devicePixelRatio||this.platform.getDevicePixelRatio(),O=this.width?"resize":"attach";this.width=C.width,this.height=C.height,this._aspectRatio=this.aspectRatio,Hl(this,k,!0)&&(this.notifyPlugins("resize",{size:C}),Qe(_.onResize,[this,C],this),this.attached&&this._doResize(O)&&this.render())}ensureScalesHaveIDs(){it(this.options.scales||{},(d,g)=>{d.id=g})}buildOrUpdateScales(){const d=this.options,g=d.scales,_=this.scales,w=Object.keys(_).reduce((C,k)=>(C[k]=!1,C),{});let M=[];g&&(M=M.concat(Object.keys(g).map(C=>{const k=g[C],O=nc(C,k),R="r"===O,V="x"===O;return{options:k,dposition:R?"chartArea":V?"bottom":"left",dtype:R?"radialLinear":V?"category":"linear"}}))),it(M,C=>{const k=C.options,O=k.id,R=nc(O,k),V=$e(k.type,C.dtype);void 0!==k.position&&uo(k.position,R)===uo(C.dposition)||(k.position=C.dposition),w[O]=!0;let F=null;O in _&&_[O].type===V?F=_[O]:(F=new(Nn.getScale(V))({id:O,type:V,ctx:this.ctx,chart:this}),_[F.id]=F),F.init(k,d)}),it(w,(C,k)=>{C||delete _[k]}),it(_,C=>{Oi.configure(this,C,C.options),Oi.addBox(this,C)})}_updateMetasets(){const d=this._metasets,g=this.data.datasets.length,_=d.length;if(d.sort((w,M)=>w.index-M.index),_>g){for(let w=g;w<_;++w)this._destroyDatasetMeta(w);d.splice(g,_-g)}this._sortedMetasets=d.slice(0).sort(ho("order","index"))}_removeUnreferencedMetasets(){const{_metasets:d,data:{datasets:g}}=this;d.length>g.length&&delete this._stacks,d.forEach((_,w)=>{0===g.filter(M=>M===_._dataset).length&&this._destroyDatasetMeta(w)})}buildOrUpdateControllers(){const d=[],g=this.data.datasets;let _,w;for(this._removeUnreferencedMetasets(),_=0,w=g.length;_<w;_++){const M=g[_];let C=this.getDatasetMeta(_);const k=M.type||this.config.type;if(C.type&&C.type!==k&&(this._destroyDatasetMeta(_),C=this.getDatasetMeta(_)),C.type=k,C.indexAxis=M.indexAxis||ic(k,this.options),C.order=M.order||0,C.index=_,C.label=""+M.label,C.visible=this.isDatasetVisible(_),C.controller)C.controller.updateIndex(_),C.controller.linkScales();else{const O=Nn.getController(k),{datasetElementType:R,dataElementType:V}=Nt.datasets[k];Object.assign(O.prototype,{dataElementType:Nn.getElement(V),datasetElementType:R&&Nn.getElement(R)}),C.controller=new O(this,_),d.push(C.controller)}}return this._updateMetasets(),d}_resetElements(){it(this.data.datasets,(d,g)=>{this.getDatasetMeta(g).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(d){const g=this.config;g.update();const _=this._options=g.createResolver(g.chartOptionScopes(),this.getContext()),w=this._animationsDisabled=!_.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:d,cancelable:!0}))return;const M=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let C=0;for(let R=0,V=this.data.datasets.length;R<V;R++){const{controller:F}=this.getDatasetMeta(R),H=!w&&-1===M.indexOf(F);F.buildOrUpdateElements(H),C=Math.max(+F.getMaxOverflow(),C)}C=this._minPadding=_.layout.autoPadding?C:0,this._updateLayout(C),w||it(M,R=>{R.reset()}),this._updateDatasets(d),this.notifyPlugins("afterUpdate",{mode:d}),this._layers.sort(ho("z","_idx"));const{_active:k,_lastEvent:O}=this;O?this._eventHandler(O,!0):k.length&&this._updateHoverStyles(k,k,!0),this.render()}_updateScales(){it(this.scales,d=>{Oi.removeBox(this,d)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const d=this.options,g=new Set(Object.keys(this._listeners)),_=new Set(d.events);Pr(g,_)&&!!this._responsiveListeners===d.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:d}=this,g=this._getUniformDataChanges()||[];for(const{method:_,start:w,count:M}of g)bp(d,w,"_removeElements"===_?-M:M)}_getUniformDataChanges(){const d=this._dataChanges;if(!d||!d.length)return;this._dataChanges=[];const g=this.data.datasets.length,_=M=>new Set(d.filter(C=>C[0]===M).map((C,k)=>k+","+C.splice(1).join(","))),w=_(0);for(let M=1;M<g;M++)if(!Pr(w,_(M)))return;return Array.from(w).map(M=>M.split(",")).map(M=>({method:M[1],start:+M[2],count:+M[3]}))}_updateLayout(d){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Oi.update(this,this.width,this.height,d);const g=this.chartArea,_=g.width<=0||g.height<=0;this._layers=[],it(this.boxes,w=>{_&&"chartArea"===w.position||(w.configure&&w.configure(),this._layers.push(...w._layers()))},this),this._layers.forEach((w,M)=>{w._idx=M}),this.notifyPlugins("afterLayout")}_updateDatasets(d){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:d,cancelable:!0})){for(let g=0,_=this.data.datasets.length;g<_;++g)this.getDatasetMeta(g).controller.configure();for(let g=0,_=this.data.datasets.length;g<_;++g)this._updateDataset(g,ji(d)?d({datasetIndex:g}):d);this.notifyPlugins("afterDatasetsUpdate",{mode:d})}}_updateDataset(d,g){const _=this.getDatasetMeta(d),w={meta:_,index:d,mode:g,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",w)&&(_.controller._update(g),w.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",w))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(ze.has(this)?this.attached&&!ze.running(this)&&ze.start(this):(this.draw(),Ho({chart:this})))}draw(){let d;if(this._resizeBeforeDraw){const{width:_,height:w}=this._resizeBeforeDraw;this._resize(_,w),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const g=this._layers;for(d=0;d<g.length&&g[d].z<=0;++d)g[d].draw(this.chartArea);for(this._drawDatasets();d<g.length;++d)g[d].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(d){const g=this._sortedMetasets,_=[];let w,M;for(w=0,M=g.length;w<M;++w){const C=g[w];d&&!C.visible||_.push(C)}return _}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const d=this.getSortedVisibleDatasetMetas();for(let g=d.length-1;g>=0;--g)this._drawDataset(d[g]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(d){const g=this.ctx,_=d._clip,w=!_.disabled,M=this.chartArea,C={meta:d,index:d.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",C)&&(w&&gs(g,{left:!1===_.left?0:M.left-_.left,right:!1===_.right?this.width:M.right+_.right,top:!1===_.top?0:M.top-_.top,bottom:!1===_.bottom?this.height:M.bottom+_.bottom}),d.controller.draw(),w&&nt(g),C.cancelable=!1,this.notifyPlugins("afterDatasetDraw",C))}isPointInArea(d){return ko(d,this.chartArea,this._minPadding)}getElementsAtEventForMode(d,g,_,w){const M=Ql.modes[g];return"function"==typeof M?M(this,d,_,w):[]}getDatasetMeta(d){const g=this.data.datasets[d],_=this._metasets;let w=_.filter(M=>M&&M._dataset===g).pop();return w||(w={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:g&&g.order||0,index:d,_dataset:g,_parsed:[],_sorted:!1},_.push(w)),w}getContext(){return this.$context||(this.$context=hr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(d){const g=this.data.datasets[d];if(!g)return!1;const _=this.getDatasetMeta(d);return"boolean"==typeof _.hidden?!_.hidden:!g.hidden}setDatasetVisibility(d,g){this.getDatasetMeta(d).hidden=!g}toggleDataVisibility(d){this._hiddenIndices[d]=!this._hiddenIndices[d]}getDataVisibility(d){return!this._hiddenIndices[d]}_updateVisibility(d,g,_){const w=_?"show":"hide",M=this.getDatasetMeta(d),C=M.controller._resolveAnimations(void 0,w);Li(g)?(M.data[g].hidden=!_,this.update()):(this.setDatasetVisibility(d,_),C.update(M,{visible:_}),this.update(k=>k.datasetIndex===d?w:void 0))}hide(d,g){this._updateVisibility(d,g,!1)}show(d,g){this._updateVisibility(d,g,!0)}_destroyDatasetMeta(d){const g=this._metasets[d];g&&g.controller&&g.controller._destroy(),delete this._metasets[d]}_stop(){let d,g;for(this.stop(),ze.remove(this),d=0,g=this.data.datasets.length;d<g;++d)this._destroyDatasetMeta(d)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:d,ctx:g}=this;this._stop(),this.config.clearCache(),d&&(this.unbindEvents(),lr(d,g),this.platform.releaseContext(g),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete zn[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...d){return this.canvas.toDataURL(...d)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const d=this._listeners,g=this.platform,_=(M,C)=>{g.addEventListener(this,M,C),d[M]=C},w=(M,C,k)=>{M.offsetX=C,M.offsetY=k,this._eventHandler(M)};it(this.options.events,M=>_(M,w))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const d=this._responsiveListeners,g=this.platform,_=(O,R)=>{g.addEventListener(this,O,R),d[O]=R},w=(O,R)=>{d[O]&&(g.removeEventListener(this,O,R),delete d[O])},M=(O,R)=>{this.canvas&&this.resize(O,R)};let C;const k=()=>{w("attach",k),this.attached=!0,this.resize(),_("resize",M),_("detach",C)};C=()=>{this.attached=!1,w("resize",M),this._stop(),this._resize(0,0),_("attach",k)},g.isAttached(this.canvas)?k():C()}unbindEvents(){it(this._listeners,(d,g)=>{this.platform.removeEventListener(this,g,d)}),this._listeners={},it(this._responsiveListeners,(d,g)=>{this.platform.removeEventListener(this,g,d)}),this._responsiveListeners=void 0}updateHoverStyle(d,g,_){const w=_?"set":"remove";let M,C,k,O;for("dataset"===g&&(M=this.getDatasetMeta(d[0].datasetIndex),M.controller["_"+w+"DatasetHoverStyle"]()),k=0,O=d.length;k<O;++k){C=d[k];const R=C&&this.getDatasetMeta(C.datasetIndex).controller;R&&R[w+"HoverStyle"](C.element,C.datasetIndex,C.index)}}getActiveElements(){return this._active||[]}setActiveElements(d){const g=this._active||[],_=d.map(({datasetIndex:w,index:M})=>{const C=this.getDatasetMeta(w);if(!C)throw new Error("No dataset found at index "+w);return{datasetIndex:w,element:C.data[M],index:M}});!si(_,g)&&(this._active=_,this._lastEvent=null,this._updateHoverStyles(_,g))}notifyPlugins(d,g,_){return this._plugins.notify(this,d,g,_)}_updateHoverStyles(d,g,_){const w=this.options.hover,M=(O,R)=>O.filter(V=>!R.some(F=>V.datasetIndex===F.datasetIndex&&V.index===F.index)),C=M(g,d),k=_?d:M(d,g);C.length&&this.updateHoverStyle(C,w.mode,!1),k.length&&w.mode&&this.updateHoverStyle(k,w.mode,!0)}_eventHandler(d,g){const _={event:d,replay:g,cancelable:!0,inChartArea:this.isPointInArea(d)},w=C=>(C.options.events||this.options.events).includes(d.native.type);if(!1===this.notifyPlugins("beforeEvent",_,w))return;const M=this._handleEvent(d,g,_.inChartArea);return _.cancelable=!1,this.notifyPlugins("afterEvent",_,w),(M||_.changed)&&this.render(),this}_handleEvent(d,g,_){const{_active:w=[],options:M}=this,k=this._getActiveElements(d,w,_,g),O=Ue(d),R=(F=d,_&&"mouseout"!==F.type?O?this._lastEvent:F:null);var F;_&&(this._lastEvent=null,Qe(M.onHover,[d,k,this],this),O&&Qe(M.onClick,[d,k,this],this));const V=!si(k,w);return(V||g)&&(this._active=k,this._updateHoverStyles(k,w,g)),this._lastEvent=R,V}_getActiveElements(d,g,_,w){if("mouseout"===d.type)return[];if(!_)return g;const M=this.options.hover;return this.getElementsAtEventForMode(d,M.mode,M,w)}}const un=()=>it(ai.instances,x=>x._plugins.invalidate()),Fr=!0;function Qn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}Object.defineProperties(ai,{defaults:{enumerable:Fr,value:Nt},instances:{enumerable:Fr,value:zn},overrides:{enumerable:Fr,value:io},registry:{enumerable:Fr,value:Nn},version:{enumerable:Fr,value:"3.9.1"},getChart:{enumerable:Fr,value:Jn},register:{enumerable:Fr,value:(...x)=>{Nn.add(...x),un()}},unregister:{enumerable:Fr,value:(...x)=>{Nn.remove(...x),un()}}});class Yo{constructor(d){this.options=d||{}}init(d){}formats(){return Qn()}parse(d,g){return Qn()}format(d,g){return Qn()}add(d,g,_){return Qn()}diff(d,g,_){return Qn()}startOf(d,g,_){return Qn()}endOf(d,g){return Qn()}}Yo.override=function(x){Object.assign(Yo.prototype,x)};var Xo={_date:Yo};function du(x){const d=x.iScale,g=function(R,V){if(!R._cache.$bar){const F=R.getMatchingVisibleMetas(V);let H=[];for(let U=0,X=F.length;U<X;U++)H=H.concat(F[U].controller.getAllParsedValues(R));R._cache.$bar=ri(H.sort((U,X)=>U-X))}return R._cache.$bar}(d,x.type);let _,w,M,C,k=d._length;const O=()=>{32767!==M&&-32768!==M&&(Li(C)&&(k=Math.min(k,Math.abs(M-C)||k)),C=M)};for(_=0,w=g.length;_<w;++_)M=d.getPixelForValue(g[_]),O();for(C=void 0,_=0,w=d.ticks.length;_<w;++_)M=d.getPixelForTick(_),O();return k}function Vn(x,d,g,_){return At(x)?function(w,M,C,k){const O=C.parse(w[0],k),R=C.parse(w[1],k),V=Math.min(O,R),F=Math.max(O,R);let H=V,U=F;Math.abs(V)>Math.abs(F)&&(H=F,U=V),M[C.axis]=U,M._custom={barStart:H,barEnd:U,start:O,end:R,min:V,max:F}}(x,d,g,_):d[g.axis]=g.parse(x,_),d}function Es(x,d,g,_){const w=x.iScale,M=x.vScale,C=w.getLabels(),k=w===M,O=[];let R,V,F,H;for(R=g,V=g+_;R<V;++R)H=d[R],F={},F[w.axis]=k||w.parse(C[R],R),O.push(Vn(H,F,M,R));return O}function Ns(x){return x&&void 0!==x.barStart&&void 0!==x.barEnd}function sc(x,d,g,_){let w=d.borderSkipped;const M={};if(!w)return void(x.borderSkipped=M);if(!0===w)return void(x.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:C,end:k,reverse:O,top:R,bottom:V}=function(F){let H,U,X,$,J;return F.horizontal?(H=F.base>F.x,U="left",X="right"):(H=F.base<F.y,U="bottom",X="top"),H?($="end",J="start"):($="start",J="end"),{start:U,end:X,reverse:H,top:$,bottom:J}}(x);"middle"===w&&g&&(x.enableBorderRadius=!0,(g._top||0)===_?w=R:(g._bottom||0)===_?w=V:(M[wp(V,C,k,O)]=!0,w=R)),M[wp(w,C,k,O)]=!0,x.borderSkipped=M}function wp(x,d,g,_){var w,M,C;return _?(C=g,x=Uo(x=(w=x)===(M=d)?C:w===C?M:w,g,d)):x=Uo(x,d,g),x}function Uo(x,d,g){return"start"===x?d:"end"===x?g:x}function um(x,{inflateAmount:d},g){x.inflateAmount="auto"===d?1===g?.33:0:d}class jo extends Hi{parsePrimitiveData(d,g,_,w){return Es(d,g,_,w)}parseArrayData(d,g,_,w){return Es(d,g,_,w)}parseObjectData(d,g,_,w){const{iScale:M,vScale:C}=d,{xAxisKey:k="x",yAxisKey:O="y"}=this._parsing,R="x"===M.axis?k:O,V="x"===C.axis?k:O,F=[];let H,U,X,$;for(H=_,U=_+w;H<U;++H)$=g[H],X={},X[M.axis]=M.parse(Ot($,R),H),F.push(Vn(Ot($,V),X,C,H));return F}updateRangeFromParsed(d,g,_,w){super.updateRangeFromParsed(d,g,_,w);const M=_._custom;M&&g===this._cachedMeta.vScale&&(d.min=Math.min(d.min,M.min),d.max=Math.max(d.max,M.max))}getMaxOverflow(){return 0}getLabelAndValue(d){const g=this._cachedMeta,{iScale:_,vScale:w}=g,M=this.getParsed(d),C=M._custom,k=Ns(C)?"["+C.start+", "+C.end+"]":""+w.getLabelForValue(M[w.axis]);return{label:""+_.getLabelForValue(M[_.axis]),value:k}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(d){const g=this._cachedMeta;this.updateElements(g.data,0,g.data.length,d)}updateElements(d,g,_,w){const M="reset"===w,{index:C,_cachedMeta:{vScale:k}}=this,O=k.getBasePixel(),R=k.isHorizontal(),V=this._getRuler(),{sharedOptions:F,includeOptions:H}=this._getSharedOptions(g,w);for(let U=g;U<g+_;U++){const X=this.getParsed(U),$=M||ie(X[k.axis])?{base:O,head:O}:this._calculateBarValuePixels(U),J=this._calculateBarIndexPixels(U,V),ee=(X._stacks||{})[k.axis],ae={horizontal:R,base:$.base,enableBorderRadius:!ee||Ns(X._custom)||C===ee._top||C===ee._bottom,x:R?$.head:J.center,y:R?J.center:$.head,height:R?J.size:Math.abs($.size),width:R?Math.abs($.size):J.size};H&&(ae.options=F||this.resolveDataElementOptions(U,d[U].active?"active":w));const ue=ae.options||d[U].options;sc(ae,ue,ee,C),um(ae,ue,V.ratio),this.updateElement(d[U],U,ae,w)}}_getStacks(d,g){const{iScale:_}=this._cachedMeta,w=_.getMatchingVisibleMetas(this._type).filter(O=>O.controller.options.grouped),M=_.options.stacked,C=[],k=O=>{const R=O.controller.getParsed(g),V=R&&R[O.vScale.axis];if(ie(V)||isNaN(V))return!0};for(const O of w)if((void 0===g||!k(O))&&((!1===M||-1===C.indexOf(O.stack)||void 0===M&&void 0===O.stack)&&C.push(O.stack),O.index===d))break;return C.length||C.push(void 0),C}_getStackCount(d){return this._getStacks(void 0,d).length}_getStackIndex(d,g,_){const w=this._getStacks(d,_),M=void 0!==g?w.indexOf(g):-1;return-1===M?w.length-1:M}_getRuler(){const d=this.options,g=this._cachedMeta,_=g.iScale,w=[];let M,C;for(M=0,C=g.data.length;M<C;++M)w.push(_.getPixelForValue(this.getParsed(M)[_.axis],M));const k=d.barThickness;return{min:k||du(g),pixels:w,start:_._startPixel,end:_._endPixel,stackCount:this._getStackCount(),scale:_,grouped:d.grouped,ratio:k?1:d.categoryPercentage*d.barPercentage}}_calculateBarValuePixels(d){const{_cachedMeta:{vScale:g,_stacked:_},options:{base:w,minBarLength:M}}=this,C=w||0,k=this.getParsed(d),O=k._custom,R=Ns(O);let V,F,H=k[g.axis],U=0,X=_?this.applyStack(g,k,_):H;X!==H&&(U=X-H,X=H),R&&(H=O.barStart,X=O.barEnd-O.barStart,0!==H&&G(H)!==G(O.barEnd)&&(U=0),U+=H);const $=ie(w)||R?U:w;let J=g.getPixelForValue($);if(V=this.chart.getDataVisibility(d)?g.getPixelForValue(U+X):J,F=V-J,Math.abs(F)<M){Me=g,Ae=C,F=(0!==(me=F)?G(me):(Me.isHorizontal()?1:-1)*(Me.min>=Ae?1:-1))*M,H===C&&(J-=F/2);const ee=g.getPixelForDecimal(0),ae=g.getPixelForDecimal(1),ue=Math.min(ee,ae),he=Math.max(ee,ae);J=Math.max(Math.min(J,he),ue),V=J+F}var me,Me,Ae;if(J===g.getPixelForValue(C)){const ee=G(F)*g.getLineWidthForValue(C)/2;J+=ee,F-=ee}return{size:F,base:J,head:V,center:V+F/2}}_calculateBarIndexPixels(d,g){const _=g.scale,w=this.options,M=w.skipNull,C=$e(w.maxBarThickness,1/0);let k,O;if(g.grouped){const R=M?this._getStackCount(d):g.stackCount,V="flex"===w.barThickness?function(H,U,X,$){const J=U.pixels,ee=J[H];let ae=H>0?J[H-1]:null,ue=H<J.length-1?J[H+1]:null;const he=X.categoryPercentage;null===ae&&(ae=ee-(null===ue?U.end-U.start:ue-ee)),null===ue&&(ue=ee+ee-ae);const me=ee-(ee-Math.min(ae,ue))/2*he;return{chunk:Math.abs(ue-ae)/2*he/$,ratio:X.barPercentage,start:me}}(d,g,w,R):function(H,U,X,$){const J=X.barThickness;let ee,ae;return ie(J)?(ee=U.min*X.categoryPercentage,ae=X.barPercentage):(ee=J*$,ae=1),{chunk:ee/$,ratio:ae,start:U.pixels[H]-ee/2}}(d,g,w,R),F=this._getStackIndex(this.index,this._cachedMeta.stack,M?d:void 0);k=V.start+V.chunk*F+V.chunk/2,O=Math.min(C,V.chunk*V.ratio)}else k=_.getPixelForValue(this.getParsed(d)[_.axis],d),O=Math.min(C,g.min*g.ratio);return{base:k-O/2,head:k+O/2,center:k,size:O}}draw(){const d=this._cachedMeta,g=d.vScale,_=d.data,w=_.length;let M=0;for(;M<w;++M)null!==this.getParsed(M)[g.axis]&&_[M].draw(this._ctx)}}jo.id="bar",jo.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},jo.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Ma extends Hi{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(d,g,_,w){const M=super.parsePrimitiveData(d,g,_,w);for(let C=0;C<M.length;C++)M[C]._custom=this.resolveDataElementOptions(C+_).radius;return M}parseArrayData(d,g,_,w){const M=super.parseArrayData(d,g,_,w);for(let C=0;C<M.length;C++)M[C]._custom=$e(g[_+C][2],this.resolveDataElementOptions(C+_).radius);return M}parseObjectData(d,g,_,w){const M=super.parseObjectData(d,g,_,w);for(let C=0;C<M.length;C++){const k=g[_+C];M[C]._custom=$e(k&&k.r&&+k.r,this.resolveDataElementOptions(C+_).radius)}return M}getMaxOverflow(){const d=this._cachedMeta.data;let g=0;for(let _=d.length-1;_>=0;--_)g=Math.max(g,d[_].size(this.resolveDataElementOptions(_))/2);return g>0&&g}getLabelAndValue(d){const g=this._cachedMeta,{xScale:_,yScale:w}=g,M=this.getParsed(d),C=_.getLabelForValue(M.x),k=w.getLabelForValue(M.y),O=M._custom;return{label:g.label,value:"("+C+", "+k+(O?", "+O:"")+")"}}update(d){const g=this._cachedMeta.data;this.updateElements(g,0,g.length,d)}updateElements(d,g,_,w){const M="reset"===w,{iScale:C,vScale:k}=this._cachedMeta,{sharedOptions:O,includeOptions:R}=this._getSharedOptions(g,w),V=C.axis,F=k.axis;for(let H=g;H<g+_;H++){const U=d[H],X=!M&&this.getParsed(H),$={},J=$[V]=M?C.getPixelForDecimal(.5):C.getPixelForValue(X[V]),ee=$[F]=M?k.getBasePixel():k.getPixelForValue(X[F]);$.skip=isNaN(J)||isNaN(ee),R&&($.options=O||this.resolveDataElementOptions(H,U.active?"active":w),M&&($.options.radius=0)),this.updateElement(U,H,$,w)}}resolveDataElementOptions(d,g){const _=this.getParsed(d);let w=super.resolveDataElementOptions(d,g);w.$shared&&(w=Object.assign({},w,{$shared:!1}));const M=w.radius;return"active"!==g&&(w.radius=0),w.radius+=$e(_&&_._custom,M),w}}Ma.id="bubble",Ma.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},Ma.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}};class co extends Hi{constructor(d,g){super(d,g),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(d,g){const _=this.getDataset().data,w=this._cachedMeta;if(!1===this._parsing)w._parsed=_;else{let M,C,k=O=>+_[O];if(Ee(_[d])){const{key:O="value"}=this._parsing;k=R=>+Ot(_[R],O)}for(M=d,C=d+g;M<C;++M)w._parsed[M]=k(M)}}_getRotation(){return Xe(this.options.rotation-90)}_getCircumference(){return Xe(this.options.circumference)}_getRotationExtents(){let d=Et,g=-Et;for(let _=0;_<this.chart.data.datasets.length;++_)if(this.chart.isDatasetVisible(_)){const w=this.chart.getDatasetMeta(_).controller,M=w._getRotation(),C=w._getCircumference();d=Math.min(d,M),g=Math.max(g,M+C)}return{rotation:d,circumference:g-d}}update(d){const g=this.chart,{chartArea:_}=g,w=this._cachedMeta,M=w.data,C=this.getMaxBorderWidth()+this.getMaxOffset(M)+this.options.spacing,k=Math.max((Math.min(_.width,_.height)-C)/2,0),O=Math.min(Pt(this.options.cutout,k),1),R=this._getRingWeight(this.index),{circumference:V,rotation:F}=this._getRotationExtents(),{ratioX:H,ratioY:U,offsetX:X,offsetY:$}=function(me,Me,Ae){let Ye=1,Fe=1,Oe=0,je=0;if(Me<Et){const qe=me,Ke=qe+Me,Pe=Math.cos(qe),Je=Math.sin(qe),ht=Math.cos(Ke),Wt=Math.sin(Ke),ui=(en,Ui,tn)=>Ie(en,qe,Ke,!0)?1:Math.max(Ui,Ui*Ae,tn,tn*Ae),pi=(en,Ui,tn)=>Ie(en,qe,Ke,!0)?-1:Math.min(Ui,Ui*Ae,tn,tn*Ae),cn=ui(0,Pe,ht),fi=ui(We,Je,Wt),Xi=pi(Be,Pe,ht),Wr=pi(Be+We,Je,Wt);Ye=(cn-Xi)/2,Fe=(fi-Wr)/2,Oe=-(cn+Xi)/2,je=-(fi+Wr)/2}return{ratioX:Ye,ratioY:Fe,offsetX:Oe,offsetY:je}}(F,V,O),ae=Math.max(Math.min((_.width-C)/H,(_.height-C)/U)/2,0),ue=Zt(this.options.radius,ae),he=(ue-Math.max(ue*O,0))/this._getVisibleDatasetWeightTotal();this.offsetX=X*ue,this.offsetY=$*ue,w.total=this.calculateTotal(),this.outerRadius=ue-he*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-he*R,0),this.updateElements(M,0,M.length,d)}_circumference(d,g){const _=this.options,w=this._cachedMeta,M=this._getCircumference();return g&&_.animation.animateRotate||!this.chart.getDataVisibility(d)||null===w._parsed[d]||w.data[d].hidden?0:this.calculateCircumference(w._parsed[d]*M/Et)}updateElements(d,g,_,w){const M="reset"===w,C=this.chart,k=C.chartArea,R=(k.left+k.right)/2,V=(k.top+k.bottom)/2,F=M&&C.options.animation.animateScale,H=F?0:this.innerRadius,U=F?0:this.outerRadius,{sharedOptions:X,includeOptions:$}=this._getSharedOptions(g,w);let J,ee=this._getRotation();for(J=0;J<g;++J)ee+=this._circumference(J,M);for(J=g;J<g+_;++J){const ae=this._circumference(J,M),ue=d[J],he={x:R+this.offsetX,y:V+this.offsetY,startAngle:ee,endAngle:ee+ae,circumference:ae,outerRadius:U,innerRadius:H};$&&(he.options=X||this.resolveDataElementOptions(J,ue.active?"active":w)),ee+=ae,this.updateElement(ue,J,he,w)}}calculateTotal(){const d=this._cachedMeta,g=d.data;let _,w=0;for(_=0;_<g.length;_++){const M=d._parsed[_];null===M||isNaN(M)||!this.chart.getDataVisibility(_)||g[_].hidden||(w+=Math.abs(M))}return w}calculateCircumference(d){const g=this._cachedMeta.total;return g>0&&!isNaN(d)?Et*(Math.abs(d)/g):0}getLabelAndValue(d){const _=this.chart,w=_.data.labels||[],M=Eo(this._cachedMeta._parsed[d],_.options.locale);return{label:w[d]||"",value:M}}getMaxBorderWidth(d){let g=0;const _=this.chart;let w,M,C,k,O;if(!d)for(w=0,M=_.data.datasets.length;w<M;++w)if(_.isDatasetVisible(w)){C=_.getDatasetMeta(w),d=C.data,k=C.controller;break}if(!d)return 0;for(w=0,M=d.length;w<M;++w)O=k.resolveDataElementOptions(w),"inner"!==O.borderAlign&&(g=Math.max(g,O.borderWidth||0,O.hoverBorderWidth||0));return g}getMaxOffset(d){let g=0;for(let _=0,w=d.length;_<w;++_){const M=this.resolveDataElementOptions(_);g=Math.max(g,M.offset||0,M.hoverOffset||0)}return g}_getRingWeightOffset(d){let g=0;for(let _=0;_<d;++_)this.chart.isDatasetVisible(_)&&(g+=this._getRingWeight(_));return g}_getRingWeight(d){return Math.max($e(this.chart.data.datasets[d].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}co.id="doughnut",co.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},co.descriptors={_scriptable:x=>"spacing"!==x,_indexable:x=>"spacing"!==x},co.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(x){const d=x.data;if(d.labels.length&&d.datasets.length){const{labels:{pointStyle:g}}=x.legend.options;return d.labels.map((_,w)=>{const M=x.getDatasetMeta(0).controller.getStyle(w);return{text:_,fillStyle:M.backgroundColor,strokeStyle:M.borderColor,lineWidth:M.borderWidth,pointStyle:g,hidden:!x.getDataVisibility(w),index:w}})}return[]}},onClick(x,d,g){g.chart.toggleDataVisibility(d.index),g.chart.update()}},tooltip:{callbacks:{title:()=>"",label(x){let d=x.label;const g=": "+x.formattedValue;return At(d)?(d=d.slice(),d[0]+=g):d+=g,d}}}}};class pu extends Hi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(d){const g=this._cachedMeta,{dataset:_,data:w=[],_dataset:M}=g,C=this.chart._animationsDisabled;let{start:k,count:O}=Pl(g,w,C);this._drawStart=k,this._drawCount=O,Ol(g)&&(k=0,O=w.length),_._chart=this.chart,_._datasetIndex=this.index,_._decimated=!!M._decimated,_.points=w;const R=this.resolveDatasetElementOptions(d);this.options.showLine||(R.borderWidth=0),R.segment=this.options.segment,this.updateElement(_,void 0,{animated:!C,options:R},d),this.updateElements(w,k,O,d)}updateElements(d,g,_,w){const M="reset"===w,{iScale:C,vScale:k,_stacked:O,_dataset:R}=this._cachedMeta,{sharedOptions:V,includeOptions:F}=this._getSharedOptions(g,w),H=C.axis,U=k.axis,{spanGaps:X,segment:$}=this.options,J=xt(X)?X:Number.POSITIVE_INFINITY,ee=this.chart._animationsDisabled||M||"none"===w;let ae=g>0&&this.getParsed(g-1);for(let ue=g;ue<g+_;++ue){const he=d[ue],me=this.getParsed(ue),Me=ee?he:{},Ae=ie(me[U]),Ye=Me[H]=C.getPixelForValue(me[H],ue),Fe=Me[U]=M||Ae?k.getBasePixel():k.getPixelForValue(O?this.applyStack(k,me,O):me[U],ue);Me.skip=isNaN(Ye)||isNaN(Fe)||Ae,Me.stop=ue>0&&Math.abs(me[H]-ae[H])>J,$&&(Me.parsed=me,Me.raw=R.data[ue]),F&&(Me.options=V||this.resolveDataElementOptions(ue,he.active?"active":w)),ee||this.updateElement(he,ue,Me,w),ae=me}}getMaxOverflow(){const d=this._cachedMeta,g=d.dataset,_=g.options&&g.options.borderWidth||0,w=d.data||[];if(!w.length)return _;const M=w[0].size(this.resolveDataElementOptions(0)),C=w[w.length-1].size(this.resolveDataElementOptions(w.length-1));return Math.max(_,M,C)/2}draw(){const d=this._cachedMeta;d.dataset.updateControlPoints(this.chart.chartArea,d.iScale.axis),super.draw()}}pu.id="line",pu.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},pu.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class zs extends Hi{constructor(d,g){super(d,g),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(d){const _=this.chart,w=_.data.labels||[],M=Eo(this._cachedMeta._parsed[d].r,_.options.locale);return{label:w[d]||"",value:M}}parseObjectData(d,g,_,w){return Ul.bind(this)(d,g,_,w)}update(d){const g=this._cachedMeta.data;this._updateRadius(),this.updateElements(g,0,g.length,d)}getMinMax(){const g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((_,w)=>{const M=this.getParsed(w).r;!isNaN(M)&&this.chart.getDataVisibility(w)&&(M<g.min&&(g.min=M),M>g.max&&(g.max=M))}),g}_updateRadius(){const d=this.chart,g=d.chartArea,_=d.options,w=Math.min(g.right-g.left,g.bottom-g.top),M=Math.max(w/2,0),C=(M-Math.max(_.cutoutPercentage?M/100*_.cutoutPercentage:1,0))/d.getVisibleDatasetCount();this.outerRadius=M-C*this.index,this.innerRadius=this.outerRadius-C}updateElements(d,g,_,w){const M="reset"===w,C=this.chart,k=C.options.animation,O=this._cachedMeta.rScale,R=O.xCenter,V=O.yCenter,F=O.getIndexAngle(0)-.5*Be;let H,U=F;const X=360/this.countVisibleElements();for(H=0;H<g;++H)U+=this._computeAngle(H,w,X);for(H=g;H<g+_;H++){const $=d[H];let J=U,ee=U+this._computeAngle(H,w,X),ae=C.getDataVisibility(H)?O.getDistanceFromCenterForValue(this.getParsed(H).r):0;U=ee,M&&(k.animateScale&&(ae=0),k.animateRotate&&(J=ee=F));const ue={x:R,y:V,innerRadius:0,outerRadius:ae,startAngle:J,endAngle:ee,options:this.resolveDataElementOptions(H,$.active?"active":w)};this.updateElement($,H,ue,w)}}countVisibleElements(){let g=0;return this._cachedMeta.data.forEach((_,w)=>{!isNaN(this.getParsed(w).r)&&this.chart.getDataVisibility(w)&&g++}),g}_computeAngle(d,g,_){return this.chart.getDataVisibility(d)?Xe(this.resolveDataElementOptions(d,g).angle||_):0}}zs.id="polarArea",zs.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},zs.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(x){const d=x.data;if(d.labels.length&&d.datasets.length){const{labels:{pointStyle:g}}=x.legend.options;return d.labels.map((_,w)=>{const M=x.getDatasetMeta(0).controller.getStyle(w);return{text:_,fillStyle:M.backgroundColor,strokeStyle:M.borderColor,lineWidth:M.borderWidth,pointStyle:g,hidden:!x.getDataVisibility(w),index:w}})}return[]}},onClick(x,d,g){g.chart.toggleDataVisibility(d.index),g.chart.update()}},tooltip:{callbacks:{title:()=>"",label:x=>x.chart.data.labels[x.dataIndex]+": "+x.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class Ze extends co{}Ze.id="pie",Ze.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class Zo extends Hi{getLabelAndValue(d){const g=this._cachedMeta.vScale,_=this.getParsed(d);return{label:g.getLabels()[d],value:""+g.getLabelForValue(_[g.axis])}}parseObjectData(d,g,_,w){return Ul.bind(this)(d,g,_,w)}update(d){const g=this._cachedMeta,_=g.dataset,w=g.data||[],M=g.iScale.getLabels();if(_.points=w,"resize"!==d){const C=this.resolveDatasetElementOptions(d);this.options.showLine||(C.borderWidth=0),this.updateElement(_,void 0,{_loop:!0,_fullLoop:M.length===w.length,options:C},d)}this.updateElements(w,0,w.length,d)}updateElements(d,g,_,w){const M=this._cachedMeta.rScale,C="reset"===w;for(let k=g;k<g+_;k++){const O=d[k],R=this.resolveDataElementOptions(k,O.active?"active":w),V=M.getPointPositionForValue(k,this.getParsed(k).r),F=C?M.xCenter:V.x,H=C?M.yCenter:V.y,U={x:F,y:H,angle:V.angle,skip:isNaN(F)||isNaN(H),options:R};this.updateElement(O,k,U,w)}}}Zo.id="radar",Zo.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},Zo.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class fr extends Hi{update(d){const g=this._cachedMeta,{data:_=[]}=g,w=this.chart._animationsDisabled;let{start:M,count:C}=Pl(g,_,w);if(this._drawStart=M,this._drawCount=C,Ol(g)&&(M=0,C=_.length),this.options.showLine){const{dataset:k,_dataset:O}=g;k._chart=this.chart,k._datasetIndex=this.index,k._decimated=!!O._decimated,k.points=_;const R=this.resolveDatasetElementOptions(d);R.segment=this.options.segment,this.updateElement(k,void 0,{animated:!w,options:R},d)}this.updateElements(_,M,C,d)}addElements(){const{showLine:d}=this.options;!this.datasetElementType&&d&&(this.datasetElementType=Nn.getElement("line")),super.addElements()}updateElements(d,g,_,w){const M="reset"===w,{iScale:C,vScale:k,_stacked:O,_dataset:R}=this._cachedMeta,V=this.resolveDataElementOptions(g,w),F=this.getSharedOptions(V),H=this.includeOptions(w,F),U=C.axis,X=k.axis,{spanGaps:$,segment:J}=this.options,ee=xt($)?$:Number.POSITIVE_INFINITY,ae=this.chart._animationsDisabled||M||"none"===w;let ue=g>0&&this.getParsed(g-1);for(let he=g;he<g+_;++he){const me=d[he],Me=this.getParsed(he),Ae=ae?me:{},Ye=ie(Me[X]),Fe=Ae[U]=C.getPixelForValue(Me[U],he),Oe=Ae[X]=M||Ye?k.getBasePixel():k.getPixelForValue(O?this.applyStack(k,Me,O):Me[X],he);Ae.skip=isNaN(Fe)||isNaN(Oe)||Ye,Ae.stop=he>0&&Math.abs(Me[U]-ue[U])>ee,J&&(Ae.parsed=Me,Ae.raw=R.data[he]),H&&(Ae.options=F||this.resolveDataElementOptions(he,me.active?"active":w)),ae||this.updateElement(me,he,Ae,w),ue=Me}this.updateSharedOptions(F,w,V)}getMaxOverflow(){const d=this._cachedMeta,g=d.data||[];if(!this.options.showLine){let k=0;for(let O=g.length-1;O>=0;--O)k=Math.max(k,g[O].size(this.resolveDataElementOptions(O))/2);return k>0&&k}const _=d.dataset,w=_.options&&_.options.borderWidth||0;if(!g.length)return w;const M=g[0].size(this.resolveDataElementOptions(0)),C=g[g.length-1].size(this.resolveDataElementOptions(g.length-1));return Math.max(w,M,C)/2}}fr.id="scatter",fr.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},fr.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:x=>"("+x.label+", "+x.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var Sp=Object.freeze({__proto__:null,BarController:jo,BubbleController:Ma,DoughnutController:co,LineController:pu,PolarAreaController:zs,PieController:Ze,RadarController:Zo,ScatterController:fr});function fu(x,d,g){const{startAngle:_,pixelMargin:w,x:M,y:C,outerRadius:k,innerRadius:O}=d;let R=w/k;x.beginPath(),x.arc(M,C,k,_-R,g+R),O>w?(R=w/O,x.arc(M,C,O,g+R,_-R,!0)):x.arc(M,C,w,g+We,_-We),x.closePath(),x.clip()}function Ia(x,d,g,_){return{x:g+x*Math.cos(d),y:_+x*Math.sin(d)}}function lc(x,d,g,_,w,M){const{x:C,y:k,startAngle:O,pixelMargin:R,innerRadius:V}=d,F=Math.max(d.outerRadius+_+g-R,0),H=V>0?V+_+g+R:0;let U=0;const X=w-O;if(_){const Pe=((V>0?V-_:0)+(F>0?F-_:0))/2;U=(X-(0!==Pe?X*Pe/(Pe+_):X))/2}const $=(X-Math.max(.001,X*F-g/Be)/F)/2,J=O+$+U,ee=w-$-U,{outerStart:ae,outerEnd:ue,innerStart:he,innerEnd:me}=function Mp(x,d,g,_){const w=qi(x.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),M=(g-d)/2,C=Math.min(M,_*d/2),k=O=>{const R=(g-Math.min(M,O))*_/2;return Se(O,0,Math.min(M,R))};return{outerStart:k(w.outerStart),outerEnd:k(w.outerEnd),innerStart:Se(w.innerStart,0,C),innerEnd:Se(w.innerEnd,0,C)}}(d,H,F,ee-J),Me=F-ae,Ae=F-ue,Ye=J+ae/Me,Fe=ee-ue/Ae,Oe=H+he,je=H+me,qe=J+he/Oe,Ke=ee-me/je;if(x.beginPath(),M){if(x.arc(C,k,F,Ye,Fe),ue>0){const ht=Ia(Ae,Fe,C,k);x.arc(ht.x,ht.y,ue,Fe,ee+We)}const Pe=Ia(je,ee,C,k);if(x.lineTo(Pe.x,Pe.y),me>0){const ht=Ia(je,Ke,C,k);x.arc(ht.x,ht.y,me,ee+We,Ke+Math.PI)}if(x.arc(C,k,H,ee-me/H,J+he/H,!0),he>0){const ht=Ia(Oe,qe,C,k);x.arc(ht.x,ht.y,he,qe+Math.PI,J-We)}const Je=Ia(Me,J,C,k);if(x.lineTo(Je.x,Je.y),ae>0){const ht=Ia(Me,Ye,C,k);x.arc(ht.x,ht.y,ae,J-We,Ye)}}else{x.moveTo(C,k);const Pe=Math.cos(Ye)*F+C,Je=Math.sin(Ye)*F+k;x.lineTo(Pe,Je);const ht=Math.cos(Fe)*F+C,Wt=Math.sin(Fe)*F+k;x.lineTo(ht,Wt)}x.closePath()}class Te extends En{constructor(d){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,d&&Object.assign(this,d)}inRange(d,g,_){const w=this.getProps(["x","y"],_),{angle:M,distance:C}=De(w,{x:d,y:g}),{startAngle:k,endAngle:O,innerRadius:R,outerRadius:V,circumference:F}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],_),H=this.options.spacing/2,U=$e(F,O-k)>=Et||Ie(M,k,O),X=bt(C,R+H,V+H);return U&&X}getCenterPoint(d){const{x:g,y:_,startAngle:w,endAngle:M,innerRadius:C,outerRadius:k}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],d),{offset:O,spacing:R}=this.options,V=(w+M)/2,F=(C+k+R+O)/2;return{x:g+Math.cos(V)*F,y:_+Math.sin(V)*F}}tooltipPosition(d){return this.getCenterPoint(d)}draw(d){const{options:g,circumference:_}=this,w=(g.offset||0)/2,M=(g.spacing||0)/2,C=g.circular;if(this.pixelMargin="inner"===g.borderAlign?.33:0,this.fullCircles=_>Et?Math.floor(_/Et):0,0===_||this.innerRadius<0||this.outerRadius<0)return;d.save();let k=0;if(w){k=w/2;const R=(this.startAngle+this.endAngle)/2;d.translate(Math.cos(R)*k,Math.sin(R)*k),this.circumference>=Be&&(k=w)}d.fillStyle=g.backgroundColor,d.strokeStyle=g.borderColor,function zt(x,d,g,_,w,M){const{options:C}=d,{borderWidth:k,borderJoinStyle:O}=C,R="inner"===C.borderAlign;k&&(R?(x.lineWidth=2*k,x.lineJoin=O||"round"):(x.lineWidth=k,x.lineJoin=O||"bevel"),d.fullCircles&&function(V,F,H){const{x:U,y:X,startAngle:$,pixelMargin:J,fullCircles:ee}=F,ae=Math.max(F.outerRadius-J,0),ue=F.innerRadius+J;let he;for(H&&fu(V,F,$+Et),V.beginPath(),V.arc(U,X,ue,$+Et,$,!0),he=0;he<ee;++he)V.stroke();for(V.beginPath(),V.arc(U,X,ae,$,$+Et),he=0;he<ee;++he)V.stroke()}(x,d,R),R&&fu(x,d,w),lc(x,d,g,_,w,M),x.stroke())}(d,this,k,M,function(R,V,F,H,U){const{fullCircles:X,startAngle:$,circumference:J}=V;let ee=V.endAngle;if(X){lc(R,V,F,H,$+Et,U);for(let ae=0;ae<X;++ae)R.fill();isNaN(J)||(ee=$+J%Et,J%Et==0&&(ee+=Et))}return lc(R,V,F,H,ee,U),R.fill(),ee}(d,this,k,M,C),C),d.restore()}}function ii(x,d,g=d){x.lineCap=$e(g.borderCapStyle,d.borderCapStyle),x.setLineDash($e(g.borderDash,d.borderDash)),x.lineDashOffset=$e(g.borderDashOffset,d.borderDashOffset),x.lineJoin=$e(g.borderJoinStyle,d.borderJoinStyle),x.lineWidth=$e(g.borderWidth,d.borderWidth),x.strokeStyle=$e(g.borderColor,d.borderColor)}function _n(x,d,g){x.lineTo(g.x,g.y)}function Bn(x,d,g={}){const _=x.length,{start:w=0,end:M=_-1}=g,{start:C,end:k}=d,O=Math.max(w,C),R=Math.min(M,k);return{count:_,start:O,loop:d.loop,ilen:R<O&&!(w<C&&M<C||w>k&&M>k)?_+R-O:R-O}}function Ip(x,d,g,_){const{points:w,options:M}=d,{count:C,start:k,loop:O,ilen:R}=Bn(w,g,_),V=(J=M).stepped?ms:J.tension||"monotone"===J.cubicInterpolationMode?ys:_n;var J;let F,H,U,{move:X=!0,reverse:$}=_||{};for(F=0;F<=R;++F)H=w[(k+($?R-F:F))%C],H.skip||(X?(x.moveTo(H.x,H.y),X=!1):V(x,U,H,$,M.stepped),U=H);return O&&(H=w[(k+($?R:0))%C],V(x,U,H,$,M.stepped)),!!O}function uc(x,d,g,_){const w=d.points,{count:M,start:C,ilen:k}=Bn(w,g,_),{move:O=!0,reverse:R}=_||{};let V,F,H,U,X,$,J=0,ee=0;const ae=he=>(C+(R?k-he:he))%M,ue=()=>{U!==X&&(x.lineTo(J,X),x.lineTo(J,U),x.lineTo(J,$))};for(O&&(F=w[ae(0)],x.moveTo(F.x,F.y)),V=0;V<=k;++V){if(F=w[ae(V)],F.skip)continue;const he=F.x,me=F.y,Me=0|he;Me===H?(me<U?U=me:me>X&&(X=me),J=(ee*J+he)/++ee):(ue(),x.lineTo(he,me),H=Me,ee=0,U=X=me),$=me}ue()}function gu(x){const d=x.options;return x._decimated||x._loop||d.tension||"monotone"===d.cubicInterpolationMode||d.stepped||d.borderDash&&d.borderDash.length?Ip:uc}Te.id="arc",Te.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},Te.defaultRoutes={backgroundColor:"backgroundColor"};const hm="function"==typeof Path2D;class gr extends En{constructor(d){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,d&&Object.assign(this,d)}updateControlPoints(d,g){const _=this.options;!_.tension&&"monotone"!==_.cubicInterpolationMode||_.stepped||this._pointsUpdated||(Bh(this._points,_,d,_.spanGaps?this._loop:this._fullLoop,g),this._pointsUpdated=!0)}set points(d){this._points=d,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Hh(this,this.options.segment))}first(){const d=this.segments;return d.length&&this.points[d[0].start]}last(){const d=this.segments,_=d.length;return _&&this.points[d[_-1].end]}interpolate(d,g){const _=this.options,w=d[g],M=this.points,C=zo(this,{property:g,start:w,end:w});if(!C.length)return;const k=[],O=(F=_).stepped?_s:F.tension||"monotone"===F.cubicInterpolationMode?zr:On;var F;let R,V;for(R=0,V=C.length;R<V;++R){const{start:F,end:H}=C[R],U=M[F],X=M[H];if(U===X){k.push(U);continue}const $=O(U,X,Math.abs((w-U[g])/(X[g]-U[g])),_.stepped);$[g]=d[g],k.push($)}return 1===k.length?k[0]:k}pathSegment(d,g,_){return gu(this)(d,this,g,_)}path(d,g,_){const w=this.segments,M=gu(this);let C=this._loop;g=g||0,_=_||this.points.length-g;for(const k of w)C&=M(d,this,k,{start:g,end:g+_-1});return!!C}draw(d,g,_,w){(this.points||[]).length&&(this.options||{}).borderWidth&&(d.save(),function hc(x,d,g,_){hm&&!d.options.segment?function(w,M,C,k){let O=M._path;O||(O=M._path=new Path2D,M.path(O,C,k)&&O.closePath()),ii(w,M.options),w.stroke(O)}(x,d,g,_):function(w,M,C,k){const{segments:O,options:R}=M,V=gu(M);for(const F of O)ii(w,R,F.style),w.beginPath(),V(w,M,F,{start:C,end:C+k-1})&&w.closePath(),w.stroke()}(x,d,g,_)}(d,this,_,w),d.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Ta(x,d,g,_){const w=x.options,{[g]:M}=x.getProps([g],_);return Math.abs(d-M)<w.radius+w.hitRadius}gr.id="line",gr.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},gr.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},gr.descriptors={_scriptable:!0,_indexable:x=>"borderDash"!==x&&"fill"!==x};class mu extends En{constructor(d){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,d&&Object.assign(this,d)}inRange(d,g,_){const w=this.options,{x:M,y:C}=this.getProps(["x","y"],_);return Math.pow(d-M,2)+Math.pow(g-C,2)<Math.pow(w.hitRadius+w.radius,2)}inXRange(d,g){return Ta(this,d,"x",g)}inYRange(d,g){return Ta(this,d,"y",g)}getCenterPoint(d){const{x:g,y:_}=this.getProps(["x","y"],d);return{x:g,y:_}}size(d){let g=(d=d||this.options||{}).radius||0;return g=Math.max(g,g&&d.hoverRadius||0),2*(g+(g&&d.borderWidth||0))}draw(d,g){const _=this.options;this.skip||_.radius<.1||!ko(this,g,this.size(_)/2)||(d.strokeStyle=_.borderColor,d.lineWidth=_.borderWidth,d.fillStyle=_.backgroundColor,Ao(d,_,this.x,this.y))}getRange(){const d=this.options||{};return d.radius+d.hitRadius}}function hn(x,d){const{x:g,y:_,base:w,width:M,height:C}=x.getProps(["x","y","base","width","height"],d);let k,O,R,V,F;return x.horizontal?(F=C/2,k=Math.min(g,w),O=Math.max(g,w),R=_-F,V=_+F):(F=M/2,k=g-F,O=g+F,R=Math.min(_,w),V=Math.max(_,w)),{left:k,top:R,right:O,bottom:V}}function Gr(x,d,g,_){return x?0:Se(d,g,_)}function Vs(x,d,g,_){const w=null===d,M=null===g,C=x&&!(w&&M)&&hn(x,_);return C&&(w||bt(d,C.left,C.right))&&(M||bt(g,C.top,C.bottom))}function vu(x,d){x.rect(d.x,d.y,d.w,d.h)}function Bs(x,d,g={}){const _=x.x!==g.x?-d:0,w=x.y!==g.y?-d:0;return{x:x.x+_,y:x.y+w,w:x.w+((x.x+x.w!==g.x+g.w?d:0)-_),h:x.h+((x.y+x.h!==g.y+g.h?d:0)-w),radius:x.radius}}mu.id="point",mu.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},mu.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class bn extends En{constructor(d){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,d&&Object.assign(this,d)}draw(d){const{inflateAmount:g,options:{borderColor:_,backgroundColor:w}}=this,{inner:M,outer:C}=function yu(x){const d=hn(x),g=d.right-d.left,_=d.bottom-d.top,w=function(C,k,O){const V=C.borderSkipped,F=oo(C.options.borderWidth);return{t:Gr(V.top,F.top,0,O),r:Gr(V.right,F.right,0,k),b:Gr(V.bottom,F.bottom,0,O),l:Gr(V.left,F.left,0,k)}}(x,g/2,_/2),M=function(C,k,O){const{enableBorderRadius:R}=C.getProps(["enableBorderRadius"]),V=C.options.borderRadius,F=$i(V),H=Math.min(k,O),U=C.borderSkipped,X=R||Ee(V);return{topLeft:Gr(!X||U.top||U.left,F.topLeft,0,H),topRight:Gr(!X||U.top||U.right,F.topRight,0,H),bottomLeft:Gr(!X||U.bottom||U.left,F.bottomLeft,0,H),bottomRight:Gr(!X||U.bottom||U.right,F.bottomRight,0,H)}}(x,g/2,_/2);return{outer:{x:d.left,y:d.top,w:g,h:_,radius:M},inner:{x:d.left+w.l,y:d.top+w.t,w:g-w.l-w.r,h:_-w.t-w.b,radius:{topLeft:Math.max(0,M.topLeft-Math.max(w.t,w.l)),topRight:Math.max(0,M.topRight-Math.max(w.t,w.r)),bottomLeft:Math.max(0,M.bottomLeft-Math.max(w.b,w.l)),bottomRight:Math.max(0,M.bottomRight-Math.max(w.b,w.r))}}}}(this),k=(O=C.radius).topLeft||O.topRight||O.bottomLeft||O.bottomRight?Pn:vu;var O;d.save(),C.w===M.w&&C.h===M.h||(d.beginPath(),k(d,Bs(C,g,M)),d.clip(),k(d,Bs(M,-g,C)),d.fillStyle=_,d.fill("evenodd")),d.beginPath(),k(d,Bs(M,g)),d.fillStyle=w,d.fill(),d.restore()}inRange(d,g,_){return Vs(this,d,g,_)}inXRange(d,g){return Vs(this,d,null,g)}inYRange(d,g){return Vs(this,null,d,g)}getCenterPoint(d){const{x:g,y:_,base:w,horizontal:M}=this.getProps(["x","y","base","horizontal"],d);return{x:M?(g+w)/2:g,y:M?_:(_+w)/2}}getRange(d){return"x"===d?this.width/2:this.height/2}}bn.id="bar",bn.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},bn.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var Fs=Object.freeze({__proto__:null,ArcElement:Te,LineElement:gr,PointElement:mu,BarElement:bn});function cc(x){if(x._decimated){const d=x._data;delete x._decimated,delete x._data,Object.defineProperty(x,"data",{value:d})}}function dc(x){x.data.datasets.forEach(d=>{cc(d)})}var Tp={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(x,d,g)=>{if(!g.enabled)return void dc(x);const _=x.width;x.data.datasets.forEach((w,M)=>{const{_data:C,indexAxis:k}=w,O=x.getDatasetMeta(M),R=C||w.data;if("y"===No([k,x.options.indexAxis])||!O.controller.supportsDecimation)return;const V=x.scales[O.xAxisID];if("linear"!==V.type&&"time"!==V.type||x.options.parsing)return;let U,{start:F,count:H}=function(X,$){const J=$.length;let ee,ae=0;const{iScale:ue}=X,{min:he,max:me,minDefined:Me,maxDefined:Ae}=ue.getUserBounds();return Me&&(ae=Se(wt($,ue.axis,he).lo,0,J-1)),ee=Ae?Se(wt($,ue.axis,me).hi+1,ae,J)-ae:J-ae,{start:ae,count:ee}}(O,R);if(H<=(g.threshold||4*_))cc(w);else{switch(ie(C)&&(w._data=R,delete w.data,Object.defineProperty(w,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(X){this._data=X}})),g.algorithm){case"lttb":U=function(X,$,J,ee,ae){const ue=ae.samples||ee;if(ue>=J)return X.slice($,$+J);const he=[],me=(J-2)/(ue-2);let Me=0;const Ae=$+J-1;let Ye,Fe,Oe,je,qe,Ke=$;for(he[Me++]=X[Ke],Ye=0;Ye<ue-2;Ye++){let Pe,Je=0,ht=0;const Wt=Math.floor((Ye+1)*me)+1+$,ui=Math.min(Math.floor((Ye+2)*me)+1,J)+$,pi=ui-Wt;for(Pe=Wt;Pe<ui;Pe++)Je+=X[Pe].x,ht+=X[Pe].y;Je/=pi,ht/=pi;const cn=Math.floor(Ye*me)+1+$,fi=Math.min(Math.floor((Ye+1)*me)+1,J)+$,{x:Xi,y:Wr}=X[Ke];for(Oe=je=-1,Pe=cn;Pe<fi;Pe++)je=.5*Math.abs((Xi-Je)*(X[Pe].y-Wr)-(Xi-X[Pe].x)*(ht-Wr)),je>Oe&&(Oe=je,Fe=X[Pe],qe=Pe);he[Me++]=Fe,Ke=qe}return he[Me++]=X[Ae],he}(R,F,H,_,g);break;case"min-max":U=function(X,$,J,ee){let ae,ue,he,me,Me,Ae,Ye,Fe,Oe,je,qe=0,Ke=0;const Pe=[],ht=X[$].x,Wt=X[$+J-1].x-ht;for(ae=$;ae<$+J;++ae){ue=X[ae],he=(ue.x-ht)/Wt*ee,me=ue.y;const ui=0|he;if(ui===Me)me<Oe?(Oe=me,Ae=ae):me>je&&(je=me,Ye=ae),qe=(Ke*qe+ue.x)/++Ke;else{const pi=ae-1;if(!ie(Ae)&&!ie(Ye)){const cn=Math.min(Ae,Ye),fi=Math.max(Ae,Ye);cn!==Fe&&cn!==pi&&Pe.push({...X[cn],x:qe}),fi!==Fe&&fi!==pi&&Pe.push({...X[fi],x:qe})}ae>0&&pi!==Fe&&Pe.push(X[pi]),Pe.push(ue),Me=ui,Ke=0,Oe=je=me,Ae=Ye=Fe=ae}}return Pe}(R,F,H,_);break;default:throw new Error(`Unsupported decimation algorithm '${g.algorithm}'`)}w._decimated=U}})},destroy(x){dc(x)}};function Cp(x,d,g,_){if(_)return;let w=d[x],M=g[x];return"angle"===x&&(w=le(w),M=le(M)),{property:x,start:w,end:M}}function Ct(x,d,g){for(;d>x;d--){const _=g[d];if(!isNaN(_.x)&&!isNaN(_.y))break}return d}function pc(x,d,g,_){return x&&d?_(x[g],d[g]):x?x[g]:d?d[g]:0}function fc(x,d){let g=[],_=!1;return At(x)?(_=!0,g=x):g=function(w,M){const{x:C=null,y:k=null}=w||{},O=M.points,R=[];return M.segments.forEach(({start:V,end:F})=>{F=Ct(V,F,O);const H=O[V],U=O[F];null!==k?(R.push({x:H.x,y:k}),R.push({x:U.x,y:k})):null!==C&&(R.push({x:C,y:H.y}),R.push({x:C,y:U.y}))}),R}(x,d),g.length?new gr({points:g,options:{tension:0},_loop:_,_fullLoop:_}):null}function gc(x){return x&&!1!==x.fill}function Gt(x,d,g){let _=x[d].fill;const w=[d];let M;if(!g)return _;for(;!1!==_&&-1===w.indexOf(_);){if(!Lt(_))return _;if(M=x[_],!M)return!1;if(M.visible)return _;w.push(_),_=M.fill}return!1}function qo(x,d,g){const _=function(M){const C=M.options,k=C.fill;let O=$e(k&&k.target,k);return void 0===O&&(O=!!C.backgroundColor),!1!==O&&null!==O&&(!0===O?"origin":O)}(x);if(Ee(_))return!isNaN(_.value)&&_;let w=parseFloat(_);return Lt(w)&&Math.floor(w)===w?(C=d,k=w,"-"!==(M=_[0])&&"+"!==M||(k=C+k),!(k===C||k<0||k>=g)&&k):["origin","start","end","stack","shape"].indexOf(_)>=0&&_;var M,C,k}function Dp(x,d,g){const _=[];for(let w=0;w<g.length;w++){const M=g[w],{first:C,last:k,point:O}=Ca(M,d,"x");if(!(!O||C&&k))if(C)_.unshift(O);else if(x.push(O),!k)break}x.push(..._)}function Ca(x,d,g){const _=x.interpolate(d,g);if(!_)return{};const w=_[g],M=x.segments,C=x.points;let k=!1,O=!1;for(let R=0;R<M.length;R++){const V=M[R],F=C[V.start][g],H=C[V.end][g];if(bt(w,F,H)){k=w===F,O=w===H;break}}return{first:k,last:O,point:_}}class Ap{constructor(d){this.x=d.x,this.y=d.y,this.radius=d.radius}pathSegment(d,g,_){const{x:w,y:M,radius:C}=this;return d.arc(w,M,C,(g=g||{start:0,end:Et}).end,g.start,!0),!_.bounds}interpolate(d){const{x:g,y:_,radius:w}=this,M=d.angle;return{x:g+Math.cos(M)*w,y:_+Math.sin(M)*w,angle:M}}}function xu(x,d,g){const _=function kp(x){const{chart:d,fill:g,line:_}=x;if(Lt(g))return function(M,C){const k=M.getDatasetMeta(C);return k&&M.isDatasetVisible(C)?k.dataset:null}(d,g);if("stack"===g)return function(M){const{scale:C,index:k,line:O}=M,R=[],V=O.segments,F=O.points,H=function(U,X){const $=[],J=U.getMatchingVisibleMetas("line");for(let ee=0;ee<J.length;ee++){const ae=J[ee];if(ae.index===X)break;ae.hidden||$.unshift(ae.dataset)}return $}(C,k);H.push(fc({x:null,y:C.bottom},O));for(let U=0;U<V.length;U++){const X=V[U];for(let $=X.start;$<=X.end;$++)Dp(R,F[$],H)}return new gr({points:R,options:{}})}(x);if("shape"===g)return!0;const w=((M=x).scale||{}).getPointPositionForValue?function(C){const{scale:k,fill:O}=C,R=k.options,V=k.getLabels().length,F=R.reverse?k.max:k.min,H=function(X,$,J){let ee;return ee="start"===X?J:"end"===X?$.options.reverse?$.min:$.max:Ee(X)?X.value:$.getBaseValue(),ee}(O,k,F),U=[];if(R.grid.circular){const X=k.getPointPositionForValue(0,F);return new Ap({x:X.x,y:X.y,radius:k.getDistanceFromCenterForValue(H)})}for(let X=0;X<V;++X)U.push(k.getPointPositionForValue(X,H));return U}(M):function(C){const{scale:k={},fill:O}=C,R=function(V,F){let H=null;return"start"===V?H=F.bottom:"end"===V?H=F.top:Ee(V)?H=F.getPixelForValue(V.value):F.getBasePixel&&(H=F.getBasePixel()),H}(O,k);if(Lt(R)){const V=k.isHorizontal();return{x:V?R:null,y:V?null:R}}return null}(M);var M;return w instanceof Ap?w:fc(w,_)}(d),{line:w,scale:M,axis:C}=d,k=w.options,O=k.fill,R=k.backgroundColor,{above:V=R,below:F=R}=O||{};_&&w.points.length&&(gs(x,g),function(H,U){const{line:X,target:$,above:J,below:ee,area:ae,scale:ue}=U,he=X._loop?"angle":U.axis;H.save(),"x"===he&&ee!==J&&(Da(H,$,ae.top),ci(H,{line:X,target:$,color:J,scale:ue,property:he}),H.restore(),H.save(),Da(H,$,ae.bottom)),ci(H,{line:X,target:$,color:ee,scale:ue,property:he}),H.restore()}(x,{line:w,target:_,above:V,below:F,area:g,scale:M,axis:C}),nt(x))}function Da(x,d,g){const{segments:_,points:w}=d;let M=!0,C=!1;x.beginPath();for(const k of _){const{start:O,end:R}=k,V=w[O],F=w[Ct(O,R,w)];M?(x.moveTo(V.x,V.y),M=!1):(x.lineTo(V.x,g),x.lineTo(V.x,V.y)),C=!!d.pathSegment(x,k,{move:C}),C?x.closePath():x.lineTo(F.x,g)}x.lineTo(d.first().x,g),x.closePath(),x.clip()}function ci(x,d){const{line:g,target:_,property:w,color:M,scale:C}=d,k=function(O,R,V){const F=O.segments,H=O.points,U=R.points,X=[];for(const $ of F){let{start:J,end:ee}=$;ee=Ct(J,ee,H);const ae=Cp(V,H[J],H[ee],$.loop);if(!R.segments){X.push({source:$,target:ae,start:H[J],end:H[ee]});continue}const ue=zo(R,ae);for(const he of ue){const me=Cp(V,U[he.start],U[he.end],he.loop),Me=Jl($,H,me);for(const Ae of Me)X.push({source:Ae,target:he,start:{[V]:pc(ae,me,"start",Math.max)},end:{[V]:pc(ae,me,"end",Math.min)}})}}return X}(g,_,w);for(const{source:O,target:R,start:V,end:F}of k){const{style:{backgroundColor:H=M}={}}=O,U=!0!==_;x.save(),x.fillStyle=H,mc(x,C,U&&Cp(w,V,F)),x.beginPath();const X=!!g.pathSegment(x,O);let $;if(U){X?x.closePath():Aa(x,_,F,w);const J=!!_.pathSegment(x,R,{move:X,reverse:!0});$=X&&J,$||Aa(x,_,V,w)}x.closePath(),x.fill($?"evenodd":"nonzero"),x.restore()}}function mc(x,d,g){const{top:_,bottom:w}=d.chart.chartArea,{property:M,start:C,end:k}=g||{};"x"===M&&(x.beginPath(),x.rect(C,_,k-C,w-_),x.clip())}function Aa(x,d,g,_){const w=d.interpolate(g,_);w&&x.lineTo(w.x,w.y)}var $o={id:"filler",afterDatasetsUpdate(x,d,g){const _=(x.data.datasets||[]).length,w=[];let M,C,k,O;for(C=0;C<_;++C)M=x.getDatasetMeta(C),k=M.dataset,O=null,k&&k.options&&k instanceof gr&&(O={visible:x.isDatasetVisible(C),index:C,fill:qo(k,C,_),chart:x,axis:M.controller.options.indexAxis,scale:M.vScale,line:k}),M.$filler=O,w.push(O);for(C=0;C<_;++C)O=w[C],O&&!1!==O.fill&&(O.fill=Gt(w,C,g.propagate))},beforeDraw(x,d,g){const _="beforeDraw"===g.drawTime,w=x.getSortedVisibleDatasetMetas(),M=x.chartArea;for(let C=w.length-1;C>=0;--C){const k=w[C].$filler;k&&(k.line.updateControlPoints(M,k.axis),_&&k.fill&&xu(x.ctx,k,M))}},beforeDatasetsDraw(x,d,g){if("beforeDatasetsDraw"!==g.drawTime)return;const _=x.getSortedVisibleDatasetMetas();for(let w=_.length-1;w>=0;--w){const M=_[w].$filler;gc(M)&&xu(x.ctx,M,x.chartArea)}},beforeDatasetDraw(x,d,g){const _=d.meta.$filler;gc(_)&&"beforeDatasetDraw"===g.drawTime&&xu(x.ctx,_,x.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const _t=(x,d)=>{let{boxHeight:g=d,boxWidth:_=d}=x;return x.usePointStyle&&(g=Math.min(g,d),_=x.pointStyleWidth||Math.min(_,d)),{boxWidth:_,boxHeight:g,itemHeight:Math.max(d,g)}};class Lp extends En{constructor(d){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=d.chart,this.options=d.options,this.ctx=d.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(d,g,_){this.maxWidth=d,this.maxHeight=g,this._margins=_,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const d=this.options.labels||{};let g=Qe(d.generateLabels,[this.chart],this)||[];d.filter&&(g=g.filter(_=>d.filter(_,this.chart.data))),d.sort&&(g=g.sort((_,w)=>d.sort(_,w,this.chart.data))),this.options.reverse&&g.reverse(),this.legendItems=g}fit(){const{options:d,ctx:g}=this;if(!d.display)return void(this.width=this.height=0);const _=d.labels,w=Tt(_.font),M=w.size,C=this._computeTitleHeight(),{boxWidth:k,itemHeight:O}=_t(_,M);let R,V;g.font=w.string,this.isHorizontal()?(R=this.maxWidth,V=this._fitRows(C,M,k,O)+10):(V=this.maxHeight,R=this._fitCols(C,M,k,O)+10),this.width=Math.min(R,d.maxWidth||this.maxWidth),this.height=Math.min(V,d.maxHeight||this.maxHeight)}_fitRows(d,g,_,w){const{ctx:M,maxWidth:C,options:{labels:{padding:k}}}=this,O=this.legendHitBoxes=[],R=this.lineWidths=[0],V=w+k;let F=d;M.textAlign="left",M.textBaseline="middle";let H=-1,U=-V;return this.legendItems.forEach((X,$)=>{const J=_+g/2+M.measureText(X.text).width;(0===$||R[R.length-1]+J+2*k>C)&&(F+=V,R[R.length-($>0?0:1)]=0,U+=V,H++),O[$]={left:0,top:U,row:H,width:J,height:w},R[R.length-1]+=J+k}),F}_fitCols(d,g,_,w){const{ctx:M,maxHeight:C,options:{labels:{padding:k}}}=this,O=this.legendHitBoxes=[],R=this.columnSizes=[],V=C-d;let F=k,H=0,U=0,X=0,$=0;return this.legendItems.forEach((J,ee)=>{const ae=_+g/2+M.measureText(J.text).width;ee>0&&U+w+2*k>V&&(F+=H+k,R.push({width:H,height:U}),X+=H+k,$++,H=U=0),O[ee]={left:X,top:U,col:$,width:ae,height:w},H=Math.max(H,ae),U+=w+k}),F+=H,R.push({width:H,height:U}),F}adjustHitBoxes(){if(!this.options.display)return;const d=this._computeTitleHeight(),{legendHitBoxes:g,options:{align:_,labels:{padding:w},rtl:M}}=this,C=ln(M,this.left,this.width);if(this.isHorizontal()){let k=0,O=li(_,this.left+w,this.right-this.lineWidths[k]);for(const R of g)k!==R.row&&(k=R.row,O=li(_,this.left+w,this.right-this.lineWidths[k])),R.top+=this.top+d+w,R.left=C.leftForLtr(C.x(O),R.width),O+=R.width+w}else{let k=0,O=li(_,this.top+d+w,this.bottom-this.columnSizes[k].height);for(const R of g)R.col!==k&&(k=R.col,O=li(_,this.top+d+w,this.bottom-this.columnSizes[k].height)),R.top=O,R.left+=this.left+w,R.left=C.leftForLtr(C.x(R.left),R.width),O+=R.height+w}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const d=this.ctx;gs(d,this),this._draw(),nt(d)}}_draw(){const{options:d,columnSizes:g,lineWidths:_,ctx:w}=this,{align:M,labels:C}=d,k=Nt.color,O=ln(d.rtl,this.left,this.width),R=Tt(C.font),{color:V,padding:F}=C,H=R.size,U=H/2;let X;this.drawTitle(),w.textAlign=O.textAlign("left"),w.textBaseline="middle",w.lineWidth=.5,w.font=R.string;const{boxWidth:$,boxHeight:J,itemHeight:ee}=_t(C,H),ae=this.isHorizontal(),ue=this._computeTitleHeight();X=ae?{x:li(M,this.left+F,this.right-_[0]),y:this.top+F+ue,line:0}:{x:this.left+F,y:li(M,this.top+ue+F,this.bottom-g[0].height),line:0},$l(this.ctx,d.textDirection);const he=ee+F;this.legendItems.forEach((me,Me)=>{w.strokeStyle=me.fontColor||V,w.fillStyle=me.fontColor||V;const Ae=w.measureText(me.text).width,Ye=O.textAlign(me.textAlign||(me.textAlign=C.textAlign)),Fe=$+U+Ae;let Oe=X.x,je=X.y;var qe,Pe;O.setWidth(this.width),ae?Me>0&&Oe+Fe+F>this.right&&(je=X.y+=he,X.line++,Oe=X.x=li(M,this.left+F,this.right-_[X.line])):Me>0&&je+he>this.bottom&&(Oe=X.x=Oe+g[X.line].width+F,X.line++,je=X.y=li(M,this.top+ue+F,this.bottom-g[X.line].height)),function(qe,Ke,Pe){if(isNaN($)||$<=0||isNaN(J)||J<0)return;w.save();const Je=$e(Pe.lineWidth,1);if(w.fillStyle=$e(Pe.fillStyle,k),w.lineCap=$e(Pe.lineCap,"butt"),w.lineDashOffset=$e(Pe.lineDashOffset,0),w.lineJoin=$e(Pe.lineJoin,"miter"),w.lineWidth=Je,w.strokeStyle=$e(Pe.strokeStyle,k),w.setLineDash($e(Pe.lineDash,[])),C.usePointStyle){const ht={radius:J*Math.SQRT2/2,pointStyle:Pe.pointStyle,rotation:Pe.rotation,borderWidth:Je},Wt=O.xPlus(qe,$/2);Nr(w,ht,Wt,Ke+U,C.pointStyleWidth&&$)}else{const ht=Ke+Math.max((H-J)/2,0),Wt=O.leftForLtr(qe,$),ui=$i(Pe.borderRadius);w.beginPath(),Object.values(ui).some(pi=>0!==pi)?Pn(w,{x:Wt,y:ht,w:$,h:J,radius:ui}):w.rect(Wt,ht,$,J),w.fill(),0!==Je&&w.stroke()}w.restore()}(O.x(Oe),je,me),Oe=qd(Ye,Oe+$+U,ae?Oe+Fe:this.right,d.rtl),qe=O.x(Oe),sn(w,(Pe=me).text,qe,je+ee/2,R,{strikethrough:Pe.hidden,textAlign:O.textAlign(Pe.textAlign)}),ae?X.x+=Fe+F:X.y+=he}),Wh(this.ctx,d.textDirection)}drawTitle(){const d=this.options,g=d.title,_=Tt(g.font),w=Ai(g.padding);if(!g.display)return;const M=ln(d.rtl,this.left,this.width),C=this.ctx,k=g.position,R=w.top+_.size/2;let V,F=this.left,H=this.width;if(this.isHorizontal())H=Math.max(...this.lineWidths),V=this.top+R,F=li(d.align,F,this.right-H);else{const X=this.columnSizes.reduce(($,J)=>Math.max($,J.height),0);V=R+li(d.align,this.top,this.bottom-X-d.labels.padding-this._computeTitleHeight())}const U=li(k,F,F+H);C.textAlign=M.textAlign(eo(k)),C.textBaseline="middle",C.strokeStyle=g.color,C.fillStyle=g.color,C.font=_.string,sn(C,g.text,U,V,_)}_computeTitleHeight(){const d=this.options.title,g=Tt(d.font),_=Ai(d.padding);return d.display?g.lineHeight+_.height:0}_getLegendItemAt(d,g){let _,w,M;if(bt(d,this.left,this.right)&&bt(g,this.top,this.bottom))for(M=this.legendHitBoxes,_=0;_<M.length;++_)if(w=M[_],bt(d,w.left,w.left+w.width)&&bt(g,w.top,w.top+w.height))return this.legendItems[_];return null}handleEvent(d){const g=this.options;if(k=g,("mousemove"!==(C=d.type)&&"mouseout"!==C||!k.onHover&&!k.onLeave)&&(!k.onClick||"click"!==C&&"mouseup"!==C))return;var C,k;const _=this._getLegendItemAt(d.x,d.y);if("mousemove"===d.type||"mouseout"===d.type){const C=this._hoveredItem,k=(M=_,null!==(w=C)&&null!==M&&w.datasetIndex===M.datasetIndex&&w.index===M.index);C&&!k&&Qe(g.onLeave,[d,C,this],this),this._hoveredItem=_,_&&!k&&Qe(g.onHover,[d,_,this],this)}else _&&Qe(g.onClick,[d,_,this],this);var w,M}}var Gs={id:"legend",_element:Lp,start(x,d,g){const _=x.legend=new Lp({ctx:x.ctx,options:g,chart:x});Oi.configure(x,_,g),Oi.addBox(x,_)},stop(x){Oi.removeBox(x,x.legend),delete x.legend},beforeUpdate(x,d,g){const _=x.legend;Oi.configure(x,_,g),_.options=g},afterUpdate(x){const d=x.legend;d.buildLabels(),d.adjustHitBoxes()},afterEvent(x,d){d.replay||x.legend.handleEvent(d.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(x,d,g){const _=d.datasetIndex,w=g.chart;w.isDatasetVisible(_)?(w.hide(_),d.hidden=!0):(w.show(_),d.hidden=!1)},onHover:null,onLeave:null,labels:{color:x=>x.chart.options.color,boxWidth:40,padding:10,generateLabels(x){const d=x.data.datasets,{labels:{usePointStyle:g,pointStyle:_,textAlign:w,color:M}}=x.legend.options;return x._getSortedDatasetMetas().map(C=>{const k=C.controller.getStyle(g?0:void 0),O=Ai(k.borderWidth);return{text:d[C.index].label,fillStyle:k.backgroundColor,fontColor:M,hidden:!C.visible,lineCap:k.borderCapStyle,lineDash:k.borderDash,lineDashOffset:k.borderDashOffset,lineJoin:k.borderJoinStyle,lineWidth:(O.width+O.height)/4,strokeStyle:k.borderColor,pointStyle:_||k.pointStyle,rotation:k.rotation,textAlign:w||k.textAlign,borderRadius:0,datasetIndex:C.index}},this)}},title:{color:x=>x.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:x=>!x.startsWith("on"),labels:{_scriptable:x=>!["generateLabels","filter","sort"].includes(x)}}};class Ws extends En{constructor(d){super(),this.chart=d.chart,this.options=d.options,this.ctx=d.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(d,g){const _=this.options;if(this.left=0,this.top=0,!_.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=d,this.height=this.bottom=g;const w=At(_.text)?_.text.length:1;this._padding=Ai(_.padding);const M=w*Tt(_.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=M:this.width=M}isHorizontal(){const d=this.options.position;return"top"===d||"bottom"===d}_drawArgs(d){const{top:g,left:_,bottom:w,right:M,options:C}=this,k=C.align;let O,R,V,F=0;return this.isHorizontal()?(R=li(k,_,M),V=g+d,O=M-_):("left"===C.position?(R=_+d,V=li(k,w,g),F=-.5*Be):(R=M-d,V=li(k,g,w),F=.5*Be),O=w-g),{titleX:R,titleY:V,maxWidth:O,rotation:F}}draw(){const d=this.ctx,g=this.options;if(!g.display)return;const _=Tt(g.font),w=_.lineHeight/2+this._padding.top,{titleX:M,titleY:C,maxWidth:k,rotation:O}=this._drawArgs(w);sn(d,g.text,0,0,_,{color:g.color,maxWidth:k,rotation:O,textAlign:eo(g.align),textBaseline:"middle",translation:[M,C]})}}var di={id:"title",_element:Ws,start(x,d,g){!function(_,w){const M=new Ws({ctx:_.ctx,options:w,chart:_});Oi.configure(_,M,w),Oi.addBox(_,M),_.titleBlock=M}(x,g)},stop(x){Oi.removeBox(x,x.titleBlock),delete x.titleBlock},beforeUpdate(x,d,g){const _=x.titleBlock;Oi.configure(x,_,g),_.options=g},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const _u=new WeakMap;var Hs={id:"subtitle",start(x,d,g){const _=new Ws({ctx:x.ctx,options:g,chart:x});Oi.configure(x,_,g),Oi.addBox(x,_),_u.set(x,_)},stop(x){Oi.removeBox(x,_u.get(x)),_u.delete(x)},beforeUpdate(x,d,g){const _=_u.get(x);Oi.configure(x,_,g),_.options=g},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ka={average(x){if(!x.length)return!1;let d,g,_=0,w=0,M=0;for(d=0,g=x.length;d<g;++d){const C=x[d].element;if(C&&C.hasValue()){const k=C.tooltipPosition();_+=k.x,w+=k.y,++M}}return{x:_/M,y:w/M}},nearest(x,d){if(!x.length)return!1;let g,_,w,M=d.x,C=d.y,k=Number.POSITIVE_INFINITY;for(g=0,_=x.length;g<_;++g){const O=x[g].element;if(O&&O.hasValue()){const R=se(d,O.getCenterPoint());R<k&&(k=R,w=O)}}if(w){const O=w.tooltipPosition();M=O.x,C=O.y}return{x:M,y:C}}};function Fn(x,d){return d&&(At(d)?Array.prototype.push.apply(x,d):x.push(d)),x}function mr(x){return("string"==typeof x||x instanceof String)&&x.indexOf("\n")>-1?x.split("\n"):x}function Ko(x,d){const{element:g,datasetIndex:_,index:w}=d,M=x.getDatasetMeta(_).controller,{label:C,value:k}=M.getLabelAndValue(w);return{chart:x,label:C,parsed:M.getParsed(w),raw:x.data.datasets[_].data[w],formattedValue:k,dataset:M.getDataset(),dataIndex:w,datasetIndex:_,element:g}}function yc(x,d){const g=x.chart.ctx,{body:_,footer:w,title:M}=x,{boxWidth:C,boxHeight:k}=d,O=Tt(d.bodyFont),R=Tt(d.titleFont),V=Tt(d.footerFont),F=M.length,H=w.length,U=_.length,X=Ai(d.padding);let $=X.height,J=0,ee=_.reduce((he,me)=>he+me.before.length+me.lines.length+me.after.length,0);ee+=x.beforeBody.length+x.afterBody.length,F&&($+=F*R.lineHeight+(F-1)*d.titleSpacing+d.titleMarginBottom),ee&&($+=U*(d.displayColors?Math.max(k,O.lineHeight):O.lineHeight)+(ee-U)*O.lineHeight+(ee-1)*d.bodySpacing),H&&($+=d.footerMarginTop+H*V.lineHeight+(H-1)*d.footerSpacing);let ae=0;const ue=function(he){J=Math.max(J,g.measureText(he).width+ae)};return g.save(),g.font=R.string,it(x.title,ue),g.font=O.string,it(x.beforeBody.concat(x.afterBody),ue),ae=d.displayColors?C+2+d.boxPadding:0,it(_,he=>{it(he.before,ue),it(he.lines,ue),it(he.after,ue)}),ae=0,g.font=V.string,it(x.footer,ue),g.restore(),J+=X.width,{width:J,height:$}}function yr(x,d,g,_){const{x:w,width:M}=g,{width:C,chartArea:{left:k,right:O}}=x;let R="center";return"center"===_?R=w<=(k+O)/2?"left":"right":w<=M/2?R="left":w>=C-M/2&&(R="right"),function(V,F,H,U){const{x:X,width:$}=U,J=H.caretSize+H.caretPadding;return"left"===V&&X+$+J>F.width||"right"===V&&X-$-J<0||void 0}(R,x,d,g)&&(R="center"),R}function bu(x,d,g){const _=g.yAlign||d.yAlign||function(w,M){const{y:C,height:k}=M;return C<k/2?"top":C>w.height-k/2?"bottom":"center"}(x,g);return{xAlign:g.xAlign||d.xAlign||yr(x,d,g,_),yAlign:_}}function vc(x,d,g,_){const{caretSize:w,caretPadding:M,cornerRadius:C}=x,{xAlign:k,yAlign:O}=g,R=w+M,{topLeft:V,topRight:F,bottomLeft:H,bottomRight:U}=$i(C);let X=function(J,ee){let{x:ae,width:ue}=J;return"right"===ee?ae-=ue:"center"===ee&&(ae-=ue/2),ae}(d,k);const $=function(J,ee,ae){let{y:ue,height:he}=J;return"top"===ee?ue+=ae:ue-="bottom"===ee?he+ae:he/2,ue}(d,O,R);return"center"===O?"left"===k?X+=R:"right"===k&&(X-=R):"left"===k?X-=Math.max(V,H)+w:"right"===k&&(X+=Math.max(F,U)+w),{x:Se(X,0,_.width-d.width),y:Se($,0,_.height-d.height)}}function wu(x,d,g){const _=Ai(g.padding);return"center"===d?x.x+x.width/2:"right"===d?x.x+x.width-_.right:x.x+_.left}function Pp(x){return Fn([],mr(x))}function Op(x,d){const g=d&&d.dataset&&d.dataset.tooltip&&d.dataset.tooltip.callbacks;return g?x.override(g):x}class La extends En{constructor(d){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=d.chart||d._chart,this._chart=this.chart,this.options=d.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(d){this.options=d,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const d=this._cachedAnimations;if(d)return d;const g=this.chart,_=this.options.setContext(this.getContext()),w=_.enabled&&g.options.animation&&_.animations,M=new Qh(this.chart,w);return w._cacheable&&(this._cachedAnimations=Object.freeze(M)),M}getContext(){return this.$context||(this.$context=hr(this.chart.getContext(),{tooltip:this,tooltipItems:this._tooltipItems,type:"tooltip"}))}getTitle(d,g){const{callbacks:_}=g,w=_.beforeTitle.apply(this,[d]),M=_.title.apply(this,[d]),C=_.afterTitle.apply(this,[d]);let k=[];return k=Fn(k,mr(w)),k=Fn(k,mr(M)),k=Fn(k,mr(C)),k}getBeforeBody(d,g){return Pp(g.callbacks.beforeBody.apply(this,[d]))}getBody(d,g){const{callbacks:_}=g,w=[];return it(d,M=>{const C={before:[],lines:[],after:[]},k=Op(_,M);Fn(C.before,mr(k.beforeLabel.call(this,M))),Fn(C.lines,k.label.call(this,M)),Fn(C.after,mr(k.afterLabel.call(this,M))),w.push(C)}),w}getAfterBody(d,g){return Pp(g.callbacks.afterBody.apply(this,[d]))}getFooter(d,g){const{callbacks:_}=g,w=_.beforeFooter.apply(this,[d]),M=_.footer.apply(this,[d]),C=_.afterFooter.apply(this,[d]);let k=[];return k=Fn(k,mr(w)),k=Fn(k,mr(M)),k=Fn(k,mr(C)),k}_createItems(d){const g=this._active,_=this.chart.data,w=[],M=[],C=[];let k,O,R=[];for(k=0,O=g.length;k<O;++k)R.push(Ko(this.chart,g[k]));return d.filter&&(R=R.filter((V,F,H)=>d.filter(V,F,H,_))),d.itemSort&&(R=R.sort((V,F)=>d.itemSort(V,F,_))),it(R,V=>{const F=Op(d.callbacks,V);w.push(F.labelColor.call(this,V)),M.push(F.labelPointStyle.call(this,V)),C.push(F.labelTextColor.call(this,V))}),this.labelColors=w,this.labelPointStyles=M,this.labelTextColors=C,this.dataPoints=R,R}update(d,g){const _=this.options.setContext(this.getContext()),w=this._active;let M,C=[];if(w.length){const k=ka[_.position].call(this,w,this._eventPosition);C=this._createItems(_),this.title=this.getTitle(C,_),this.beforeBody=this.getBeforeBody(C,_),this.body=this.getBody(C,_),this.afterBody=this.getAfterBody(C,_),this.footer=this.getFooter(C,_);const O=this._size=yc(this,_),R=Object.assign({},k,O),V=bu(this.chart,_,R),F=vc(_,R,V,this.chart);this.xAlign=V.xAlign,this.yAlign=V.yAlign,M={opacity:1,x:F.x,y:F.y,width:O.width,height:O.height,caretX:k.x,caretY:k.y}}else 0!==this.opacity&&(M={opacity:0});this._tooltipItems=C,this.$context=void 0,M&&this._resolveAnimations().update(this,M),d&&_.external&&_.external.call(this,{chart:this.chart,tooltip:this,replay:g})}drawCaret(d,g,_,w){const M=this.getCaretPosition(d,_,w);g.lineTo(M.x1,M.y1),g.lineTo(M.x2,M.y2),g.lineTo(M.x3,M.y3)}getCaretPosition(d,g,_){const{xAlign:w,yAlign:M}=this,{caretSize:C,cornerRadius:k}=_,{topLeft:O,topRight:R,bottomLeft:V,bottomRight:F}=$i(k),{x:H,y:U}=d,{width:X,height:$}=g;let J,ee,ae,ue,he,me;return"center"===M?(he=U+$/2,"left"===w?(J=H,ee=J-C,ue=he+C,me=he-C):(J=H+X,ee=J+C,ue=he-C,me=he+C),ae=J):(ee="left"===w?H+Math.max(O,V)+C:"right"===w?H+X-Math.max(R,F)-C:this.caretX,"top"===M?(ue=U,he=ue-C,J=ee-C,ae=ee+C):(ue=U+$,he=ue+C,J=ee+C,ae=ee-C),me=ue),{x1:J,x2:ee,x3:ae,y1:ue,y2:he,y3:me}}drawTitle(d,g,_){const w=this.title,M=w.length;let C,k,O;if(M){const R=ln(_.rtl,this.x,this.width);for(d.x=wu(this,_.titleAlign,_),g.textAlign=R.textAlign(_.titleAlign),g.textBaseline="middle",C=Tt(_.titleFont),k=_.titleSpacing,g.fillStyle=_.titleColor,g.font=C.string,O=0;O<M;++O)g.fillText(w[O],R.x(d.x),d.y+C.lineHeight/2),d.y+=C.lineHeight+k,O+1===M&&(d.y+=_.titleMarginBottom-k)}}_drawColorBox(d,g,_,w,M){const C=this.labelColors[_],k=this.labelPointStyles[_],{boxHeight:O,boxWidth:R,boxPadding:V}=M,F=Tt(M.bodyFont),H=wu(this,"left",M),U=w.x(H),$=g.y+(O<F.lineHeight?(F.lineHeight-O)/2:0);if(M.usePointStyle){const J={radius:Math.min(R,O)/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:1},ee=w.leftForLtr(U,R)+R/2,ae=$+O/2;d.strokeStyle=M.multiKeyBackground,d.fillStyle=M.multiKeyBackground,Ao(d,J,ee,ae),d.strokeStyle=C.borderColor,d.fillStyle=C.backgroundColor,Ao(d,J,ee,ae)}else{d.lineWidth=Ee(C.borderWidth)?Math.max(...Object.values(C.borderWidth)):C.borderWidth||1,d.strokeStyle=C.borderColor,d.setLineDash(C.borderDash||[]),d.lineDashOffset=C.borderDashOffset||0;const J=w.leftForLtr(U,R-V),ee=w.leftForLtr(w.xPlus(U,1),R-V-2),ae=$i(C.borderRadius);Object.values(ae).some(ue=>0!==ue)?(d.beginPath(),d.fillStyle=M.multiKeyBackground,Pn(d,{x:J,y:$,w:R,h:O,radius:ae}),d.fill(),d.stroke(),d.fillStyle=C.backgroundColor,d.beginPath(),Pn(d,{x:ee,y:$+1,w:R-2,h:O-2,radius:ae}),d.fill()):(d.fillStyle=M.multiKeyBackground,d.fillRect(J,$,R,O),d.strokeRect(J,$,R,O),d.fillStyle=C.backgroundColor,d.fillRect(ee,$+1,R-2,O-2))}d.fillStyle=this.labelTextColors[_]}drawBody(d,g,_){const{body:w}=this,{bodySpacing:M,bodyAlign:C,displayColors:k,boxHeight:O,boxWidth:R,boxPadding:V}=_,F=Tt(_.bodyFont);let H=F.lineHeight,U=0;const X=ln(_.rtl,this.x,this.width),$=function(Ye){g.fillText(Ye,X.x(d.x+U),d.y+H/2),d.y+=H+M},J=X.textAlign(C);let ee,ae,ue,he,me,Me,Ae;for(g.textAlign=C,g.textBaseline="middle",g.font=F.string,d.x=wu(this,J,_),g.fillStyle=_.bodyColor,it(this.beforeBody,$),U=k&&"right"!==J?"center"===C?R/2+V:R+2+V:0,he=0,Me=w.length;he<Me;++he){for(ee=w[he],ae=this.labelTextColors[he],g.fillStyle=ae,it(ee.before,$),ue=ee.lines,k&&ue.length&&(this._drawColorBox(g,d,he,X,_),H=Math.max(F.lineHeight,O)),me=0,Ae=ue.length;me<Ae;++me)$(ue[me]),H=F.lineHeight;it(ee.after,$)}U=0,H=F.lineHeight,it(this.afterBody,$),d.y-=M}drawFooter(d,g,_){const w=this.footer,M=w.length;let C,k;if(M){const O=ln(_.rtl,this.x,this.width);for(d.x=wu(this,_.footerAlign,_),d.y+=_.footerMarginTop,g.textAlign=O.textAlign(_.footerAlign),g.textBaseline="middle",C=Tt(_.footerFont),g.fillStyle=_.footerColor,g.font=C.string,k=0;k<M;++k)g.fillText(w[k],O.x(d.x),d.y+C.lineHeight/2),d.y+=C.lineHeight+_.footerSpacing}}drawBackground(d,g,_,w){const{xAlign:M,yAlign:C}=this,{x:k,y:O}=d,{width:R,height:V}=_,{topLeft:F,topRight:H,bottomLeft:U,bottomRight:X}=$i(w.cornerRadius);g.fillStyle=w.backgroundColor,g.strokeStyle=w.borderColor,g.lineWidth=w.borderWidth,g.beginPath(),g.moveTo(k+F,O),"top"===C&&this.drawCaret(d,g,_,w),g.lineTo(k+R-H,O),g.quadraticCurveTo(k+R,O,k+R,O+H),"center"===C&&"right"===M&&this.drawCaret(d,g,_,w),g.lineTo(k+R,O+V-X),g.quadraticCurveTo(k+R,O+V,k+R-X,O+V),"bottom"===C&&this.drawCaret(d,g,_,w),g.lineTo(k+U,O+V),g.quadraticCurveTo(k,O+V,k,O+V-U),"center"===C&&"left"===M&&this.drawCaret(d,g,_,w),g.lineTo(k,O+F),g.quadraticCurveTo(k,O,k+F,O),g.closePath(),g.fill(),w.borderWidth>0&&g.stroke()}_updateAnimationTarget(d){const g=this.chart,_=this.$animations,w=_&&_.x,M=_&&_.y;if(w||M){const C=ka[d.position].call(this,this._active,this._eventPosition);if(!C)return;const k=this._size=yc(this,d),O=Object.assign({},C,this._size),R=bu(g,d,O),V=vc(d,O,R,g);w._to===V.x&&M._to===V.y||(this.xAlign=R.xAlign,this.yAlign=R.yAlign,this.width=k.width,this.height=k.height,this.caretX=C.x,this.caretY=C.y,this._resolveAnimations().update(this,V))}}_willRender(){return!!this.opacity}draw(d){const g=this.options.setContext(this.getContext());let _=this.opacity;if(!_)return;this._updateAnimationTarget(g);const w={width:this.width,height:this.height},M={x:this.x,y:this.y};_=Math.abs(_)<.001?0:_;const C=Ai(g.padding);g.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(d.save(),d.globalAlpha=_,this.drawBackground(M,d,w,g),$l(d,g.textDirection),M.y+=C.top,this.drawTitle(M,d,g),this.drawBody(M,d,g),this.drawFooter(M,d,g),Wh(d,g.textDirection),d.restore())}getActiveElements(){return this._active||[]}setActiveElements(d,g){const _=this._active,w=d.map(({datasetIndex:k,index:O})=>{const R=this.chart.getDatasetMeta(k);if(!R)throw new Error("Cannot find a dataset at index "+k);return{datasetIndex:k,element:R.data[O],index:O}}),M=!si(_,w),C=this._positionChanged(w,g);(M||C)&&(this._active=w,this._eventPosition=g,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(d,g,_=!0){if(g&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const w=this.options,M=this._active||[],C=this._getActiveElements(d,M,g,_),k=this._positionChanged(C,d),O=g||!si(C,M)||k;return O&&(this._active=C,(w.enabled||w.external)&&(this._eventPosition={x:d.x,y:d.y},this.update(!0,g))),O}_getActiveElements(d,g,_,w){const M=this.options;if("mouseout"===d.type)return[];if(!w)return g;const C=this.chart.getElementsAtEventForMode(d,M.mode,M,_);return M.reverse&&C.reverse(),C}_positionChanged(d,g){const{caretX:_,caretY:w,options:M}=this,C=ka[M.position].call(this,d,g);return!1!==C&&(_!==C.x||w!==C.y)}}La.positioners=ka;var Rp=Object.freeze({__proto__:null,Decimation:Tp,Filler:$o,Legend:Gs,SubTitle:Hs,Title:di,Tooltip:{id:"tooltip",_element:La,positioners:ka,afterInit(x,d,g){g&&(x.tooltip=new La({chart:x,options:g}))},beforeUpdate(x,d,g){x.tooltip&&x.tooltip.initialize(g)},reset(x,d,g){x.tooltip&&x.tooltip.initialize(g)},afterDraw(x){const d=x.tooltip;if(d&&d._willRender()){const g={tooltip:d};if(!1===x.notifyPlugins("beforeTooltipDraw",g))return;d.draw(x.ctx),x.notifyPlugins("afterTooltipDraw",g)}},afterEvent(x,d){x.tooltip&&x.tooltip.handleEvent(d.event,d.replay,d.inChartArea)&&(d.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(x,d)=>d.bodyFont.size,boxWidth:(x,d)=>d.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Re,title(x){if(x.length>0){const d=x[0],g=d.chart.data.labels,_=g?g.length:0;if(this&&this.options&&"dataset"===this.options.mode)return d.dataset.label||"";if(d.label)return d.label;if(_>0&&d.dataIndex<_)return g[d.dataIndex]}return""},afterTitle:Re,beforeBody:Re,beforeLabel:Re,label(x){if(this&&this.options&&"dataset"===this.options.mode)return x.label+": "+x.formattedValue||x.formattedValue;let d=x.dataset.label||"";d&&(d+=": ");const g=x.formattedValue;return ie(g)||(d+=g),d},labelColor(x){const d=x.chart.getDatasetMeta(x.datasetIndex).controller.getStyle(x.dataIndex);return{borderColor:d.borderColor,backgroundColor:d.backgroundColor,borderWidth:d.borderWidth,borderDash:d.borderDash,borderDashOffset:d.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(x){const d=x.chart.getDatasetMeta(x.datasetIndex).controller.getStyle(x.dataIndex);return{pointStyle:d.pointStyle,rotation:d.rotation}},afterLabel:Re,afterBody:Re,beforeFooter:Re,footer:Re,afterFooter:Re}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:x=>"filter"!==x&&"itemSort"!==x&&"external"!==x,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});class Pa extends pr{constructor(d){super(d),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(d){const g=this._addedLabels;if(g.length){const _=this.getLabels();for(const{index:w,label:M}of g)_[w]===M&&_.splice(w,1);this._addedLabels=[]}super.init(d)}parse(d,g){if(ie(d))return null;const _=this.getLabels();return w=g=isFinite(g)&&_[g]===d?g:function cm(x,d,g,_){const w=x.indexOf(d);return-1===w?(k=g,O=_,"string"==typeof(C=d)?(k=x.push(C)-1,O.unshift({index:k,label:C})):isNaN(C)&&(k=null),k):w!==x.lastIndexOf(d)?g:w;var C,k,O}(_,d,$e(g,d),this._addedLabels),M=_.length-1,null===w?null:Se(Math.round(w),0,M);var w,M}determineDataLimits(){const{minDefined:d,maxDefined:g}=this.getUserBounds();let{min:_,max:w}=this.getMinMax(!0);"ticks"===this.options.bounds&&(d||(_=0),g||(w=this.getLabels().length-1)),this.min=_,this.max=w}buildTicks(){const d=this.min,g=this.max,_=this.options.offset,w=[];let M=this.getLabels();M=0===d&&g===M.length-1?M:M.slice(d,g+1),this._valueRange=Math.max(M.length-(_?0:1),1),this._startValue=this.min-(_?.5:0);for(let C=d;C<=g;C++)w.push({value:C});return w}getLabelForValue(d){const g=this.getLabels();return d>=0&&d<g.length?g[d]:d}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(d){return"number"!=typeof d&&(d=this.parse(d)),null===d?NaN:this.getPixelForDecimal((d-this._startValue)/this._valueRange)}getPixelForTick(d){const g=this.ticks;return d<0||d>g.length-1?null:this.getPixelForValue(g[d].value)}getValueForPixel(d){return Math.round(this._startValue+this.getDecimalForPixel(d)*this._valueRange)}getBasePixel(){return this.bottom}}function Ep(x,d,{horizontal:g,minRotation:_}){const w=Xe(_),M=(g?Math.sin(w):Math.cos(w))||.001;return Math.min(d/M,.75*d*(""+x).length)}Pa.id="category",Pa.defaults={ticks:{callback:Pa.prototype.getLabelForValue}};class Oa extends pr{constructor(d){super(d),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(d,g){return ie(d)||("number"==typeof d||d instanceof Number)&&!isFinite(+d)?null:+d}handleTickRangeOptions(){const{beginAtZero:d}=this.options,{minDefined:g,maxDefined:_}=this.getUserBounds();let{min:w,max:M}=this;const C=O=>w=g?w:O,k=O=>M=_?M:O;if(d){const O=G(w),R=G(M);O<0&&R<0?k(0):O>0&&R>0&&C(0)}if(w===M){let O=1;(M>=Number.MAX_SAFE_INTEGER||w<=Number.MIN_SAFE_INTEGER)&&(O=Math.abs(.05*M)),k(M+O),d||C(w-O)}this.min=w,this.max=M}getTickLimit(){const d=this.options.ticks;let g,{maxTicksLimit:_,stepSize:w}=d;return w?(g=Math.ceil(this.max/w)-Math.floor(this.min/w)+1,g>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${w} would result generating up to ${g} ticks. Limiting to 1000.`),g=1e3)):(g=this.computeTickLimit(),_=_||11),_&&(g=Math.min(_,g)),g}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const d=this.options,g=d.ticks;let _=this.getTickLimit();_=Math.max(2,_);const w=function(M,C){const k=[],{bounds:O,step:R,min:V,max:F,precision:H,count:U,maxTicks:X,maxDigits:$,includeBounds:J}=M,ee=R||1,ae=X-1,{min:ue,max:he}=C,me=!ie(V),Me=!ie(F),Ae=!ie(U),Ye=(he-ue)/($+1);let Fe,Oe,je,qe,Ke=ge((he-ue)/ae/ee)*ee;if(Ke<1e-14&&!me&&!Me)return[{value:ue},{value:he}];qe=Math.ceil(he/Ke)-Math.floor(ue/Ke),qe>ae&&(Ke=ge(qe*Ke/ae/ee)*ee),ie(H)||(Fe=Math.pow(10,H),Ke=Math.ceil(Ke*Fe)/Fe),"ticks"===O?(Oe=Math.floor(ue/Ke)*Ke,je=Math.ceil(he/Ke)*Ke):(Oe=ue,je=he),me&&Me&&R&&dt((F-V)/R,Ke/1e3)?(qe=Math.round(Math.min((F-V)/Ke,X)),Ke=(F-V)/qe,Oe=V,je=F):Ae?(Oe=me?V:Oe,je=Me?F:je,qe=U-1,Ke=(je-Oe)/qe):(qe=(je-Oe)/Ke,qe=rr(qe,Math.round(qe),Ke/1e3)?Math.round(qe):Math.ceil(qe));const Pe=Math.max(Ge(Ke),Ge(Oe));Fe=Math.pow(10,ie(H)?Pe:H),Oe=Math.round(Oe*Fe)/Fe,je=Math.round(je*Fe)/Fe;let Je=0;for(me&&(J&&Oe!==V?(k.push({value:V}),Oe<V&&Je++,rr(Math.round((Oe+Je*Ke)*Fe)/Fe,V,Ep(V,Ye,M))&&Je++):Oe<V&&Je++);Je<qe;++Je)k.push({value:Math.round((Oe+Je*Ke)*Fe)/Fe});return Me&&J&&je!==F?k.length&&rr(k[k.length-1].value,F,Ep(F,Ye,M))?k[k.length-1].value=F:k.push({value:F}):Me&&je!==F||k.push({value:je}),k}({maxTicks:_,bounds:d.bounds,min:d.min,max:d.max,precision:g.precision,step:g.stepSize,count:g.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:g.minRotation||0,includeBounds:!1!==g.includeBounds},this._range||this);return"ticks"===d.bounds&&ke(w,this,"value"),d.reverse?(w.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),w}configure(){const d=this.ticks;let g=this.min,_=this.max;if(super.configure(),this.options.offset&&d.length){const w=(_-g)/Math.max(d.length-1,1)/2;g-=w,_+=w}this._startValue=g,this._endValue=_,this._valueRange=_-g}getLabelForValue(d){return Eo(d,this.chart.options.locale,this.options.ticks.format)}}class Su extends Oa{determineDataLimits(){const{min:d,max:g}=this.getMinMax(!0);this.min=Lt(d)?d:0,this.max=Lt(g)?g:1,this.handleTickRangeOptions()}computeTickLimit(){const d=this.isHorizontal(),g=d?this.width:this.height,_=Xe(this.options.ticks.minRotation),w=(d?Math.sin(_):Math.cos(_))||.001,M=this._resolveTickFontOptions(0);return Math.ceil(g/Math.min(40,M.lineHeight/w))}getPixelForValue(d){return null===d?NaN:this.getPixelForDecimal((d-this._startValue)/this._valueRange)}getValueForPixel(d){return this._startValue+this.getDecimalForPixel(d)*this._valueRange}}function Ys(x){return x/Math.pow(10,Math.floor(Ft(x)))==1}Su.id="linear",Su.defaults={ticks:{callback:dr.formatters.numeric}};class Xs extends pr{constructor(d){super(d),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(d,g){const _=Oa.prototype.parse.apply(this,[d,g]);if(0!==_)return Lt(_)&&_>0?_:null;this._zero=!0}determineDataLimits(){const{min:d,max:g}=this.getMinMax(!0);this.min=Lt(d)?Math.max(0,d):null,this.max=Lt(g)?Math.max(0,g):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:d,maxDefined:g}=this.getUserBounds();let _=this.min,w=this.max;const M=O=>_=d?_:O,C=O=>w=g?w:O,k=(O,R)=>Math.pow(10,Math.floor(Ft(O))+R);_===w&&(_<=0?(M(1),C(10)):(M(k(_,-1)),C(k(w,1)))),_<=0&&M(k(w,-1)),w<=0&&C(k(_,1)),this._zero&&this.min!==this._suggestedMin&&_===k(this.min,0)&&M(k(_,-1)),this.min=_,this.max=w}buildTicks(){const d=this.options,g=function(_,w){const M=Math.floor(Ft(w.max)),C=Math.ceil(w.max/Math.pow(10,M)),k=[];let O=ut(_.min,Math.pow(10,Math.floor(Ft(w.min)))),R=Math.floor(Ft(O)),V=Math.floor(O/Math.pow(10,R)),F=R<0?Math.pow(10,Math.abs(R)):1;do{k.push({value:O,major:Ys(O)}),++V,10===V&&(V=1,++R,F=R>=0?1:F),O=Math.round(V*Math.pow(10,R)*F)/F}while(R<M||R===M&&V<C);const H=ut(_.max,O);return k.push({value:H,major:Ys(O)}),k}({min:this._userMin,max:this._userMax},this);return"ticks"===d.bounds&&ke(g,this,"value"),d.reverse?(g.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),g}getLabelForValue(d){return void 0===d?"0":Eo(d,this.chart.options.locale,this.options.ticks.format)}configure(){const d=this.min;super.configure(),this._startValue=Ft(d),this._valueRange=Ft(this.max)-Ft(d)}getPixelForValue(d){return void 0!==d&&0!==d||(d=this.min),null===d||isNaN(d)?NaN:this.getPixelForDecimal(d===this.min?0:(Ft(d)-this._startValue)/this._valueRange)}getValueForPixel(d){const g=this.getDecimalForPixel(d);return Math.pow(10,this._startValue+g*this._valueRange)}}function Mu(x){const d=x.ticks;if(d.display&&x.display){const g=Ai(d.backdropPadding);return $e(d.font&&d.font.size,Nt.font.size)+g.height}return 0}function xc(x,d,g,_,w){return x===_||x===w?{start:d-g/2,end:d+g/2}:x<_||x>w?{start:d-g,end:d}:{start:d,end:d+g}}function dm(x,d,g,_,w){const M=Math.abs(Math.sin(g)),C=Math.abs(Math.cos(g));let k=0,O=0;_.start<d.l?(k=(d.l-_.start)/M,x.l=Math.min(x.l,d.l-k)):_.end>d.r&&(k=(_.end-d.r)/M,x.r=Math.max(x.r,d.r+k)),w.start<d.t?(O=(d.t-w.start)/C,x.t=Math.min(x.t,d.t-O)):w.end>d.b&&(O=(w.end-d.b)/C,x.b=Math.max(x.b,d.b+O))}function pm(x){return 0===x||180===x?"center":x<180?"left":"right"}function zp(x,d,g){return"right"===g?x-=d:"center"===g&&(x-=d/2),x}function fm(x,d,g){return 90===g||270===g?x-=d/2:(g>270||g<90)&&(x-=d),x}function Iu(x,d,g,_){const{ctx:w}=x;if(g)w.arc(x.xCenter,x.yCenter,d,0,Et);else{let M=x.getPointPosition(0,d);w.moveTo(M.x,M.y);for(let C=1;C<_;C++)M=x.getPointPosition(C,d),w.lineTo(M.x,M.y)}}Xs.id="logarithmic",Xs.defaults={ticks:{callback:dr.formatters.logarithmic,major:{enabled:!0}}};class Us extends Oa{constructor(d){super(d),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const d=this._padding=Ai(Mu(this.options)/2),g=this.width=this.maxWidth-d.width,_=this.height=this.maxHeight-d.height;this.xCenter=Math.floor(this.left+g/2+d.left),this.yCenter=Math.floor(this.top+_/2+d.top),this.drawingArea=Math.floor(Math.min(g,_)/2)}determineDataLimits(){const{min:d,max:g}=this.getMinMax(!1);this.min=Lt(d)&&!isNaN(d)?d:0,this.max=Lt(g)&&!isNaN(g)?g:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Mu(this.options))}generateTickLabels(d){Oa.prototype.generateTickLabels.call(this,d),this._pointLabels=this.getLabels().map((g,_)=>{const w=Qe(this.options.pointLabels.callback,[g,_],this);return w||0===w?w:""}).filter((g,_)=>this.chart.getDataVisibility(_))}fit(){const d=this.options;d.display&&d.pointLabels.display?function Np(x){const d={l:x.left+x._padding.left,r:x.right-x._padding.right,t:x.top+x._padding.top,b:x.bottom-x._padding.bottom},g=Object.assign({},d),_=[],w=[],M=x._pointLabels.length,C=x.options.pointLabels,k=C.centerPointLabels?Be/M:0;for(let F=0;F<M;F++){const H=C.setContext(x.getPointLabelContext(F));w[F]=H.padding;const U=x.getPointPosition(F,x.drawingArea+w[F],k),X=Tt(H.font),$=(O=x.ctx,R=X,V=At(V=x._pointLabels[F])?V:[V],{w:Zn(O,R.string,V),h:V.length*R.lineHeight});_[F]=$;const J=le(x.getIndexAngle(F)+k),ee=Math.round(fe(J));dm(g,d,J,xc(ee,U.x,$.w,0,180),xc(ee,U.y,$.h,90,270))}var O,R,V;x.setCenterPoint(d.l-g.l,g.r-d.r,d.t-g.t,g.b-d.b),x._pointLabelItems=function(F,H,U){const X=[],$=F._pointLabels.length,J=F.options,ee=Mu(J)/2,ae=F.drawingArea,ue=J.pointLabels.centerPointLabels?Be/$:0;for(let he=0;he<$;he++){const me=F.getPointPosition(he,ae+ee+U[he],ue),Me=Math.round(fe(le(me.angle+We))),Ae=H[he],Ye=fm(me.y,Ae.h,Me),Fe=pm(Me),Oe=zp(me.x,Ae.w,Fe);X.push({x:me.x,y:Ye,textAlign:Fe,left:Oe,top:Ye,right:Oe+Ae.w,bottom:Ye+Ae.h})}return X}(x,_,w)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(d,g,_,w){this.xCenter+=Math.floor((d-g)/2),this.yCenter+=Math.floor((_-w)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(d,g,_,w))}getIndexAngle(d){return le(d*(Et/(this._pointLabels.length||1))+Xe(this.options.startAngle||0))}getDistanceFromCenterForValue(d){if(ie(d))return NaN;const g=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-d)*g:(d-this.min)*g}getValueForDistanceFromCenter(d){if(ie(d))return NaN;const g=d/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-g:this.min+g}getPointLabelContext(d){const g=this._pointLabels||[];if(d>=0&&d<g.length){const _=g[d];return hr(this.getContext(),{label:_,index:d,type:"pointLabel"})}}getPointPosition(d,g,_=0){const w=this.getIndexAngle(d)-We+_;return{x:Math.cos(w)*g+this.xCenter,y:Math.sin(w)*g+this.yCenter,angle:w}}getPointPositionForValue(d,g){return this.getPointPosition(d,this.getDistanceFromCenterForValue(g))}getBasePosition(d){return this.getPointPositionForValue(d||0,this.getBaseValue())}getPointLabelPosition(d){const{left:g,top:_,right:w,bottom:M}=this._pointLabelItems[d];return{left:g,top:_,right:w,bottom:M}}drawBackground(){const{backgroundColor:d,grid:{circular:g}}=this.options;if(d){const _=this.ctx;_.save(),_.beginPath(),Iu(this,this.getDistanceFromCenterForValue(this._endValue),g,this._pointLabels.length),_.closePath(),_.fillStyle=d,_.fill(),_.restore()}}drawGrid(){const d=this.ctx,g=this.options,{angleLines:_,grid:w}=g,M=this._pointLabels.length;let C,k,O;if(g.pointLabels.display&&function(R,V){const{ctx:F,options:{pointLabels:H}}=R;for(let U=V-1;U>=0;U--){const X=H.setContext(R.getPointLabelContext(U)),$=Tt(X.font),{x:J,y:ee,textAlign:ae,left:ue,top:he,right:me,bottom:Me}=R._pointLabelItems[U],{backdropColor:Ae}=X;if(!ie(Ae)){const Ye=$i(X.borderRadius),Fe=Ai(X.backdropPadding);F.fillStyle=Ae;const Oe=ue-Fe.left,je=he-Fe.top,qe=me-ue+Fe.width,Ke=Me-he+Fe.height;Object.values(Ye).some(Pe=>0!==Pe)?(F.beginPath(),Pn(F,{x:Oe,y:je,w:qe,h:Ke,radius:Ye}),F.fill()):F.fillRect(Oe,je,qe,Ke)}sn(F,R._pointLabels[U],J,ee+$.lineHeight/2,$,{color:X.color,textAlign:ae,textBaseline:"middle"})}}(this,M),w.display&&this.ticks.forEach((R,V)=>{0!==V&&(k=this.getDistanceFromCenterForValue(R.value),function(F,H,U,X){const $=F.ctx,J=H.circular,{color:ee,lineWidth:ae}=H;!J&&!X||!ee||!ae||U<0||($.save(),$.strokeStyle=ee,$.lineWidth=ae,$.setLineDash(H.borderDash),$.lineDashOffset=H.borderDashOffset,$.beginPath(),Iu(F,U,J,X),$.closePath(),$.stroke(),$.restore())}(this,w.setContext(this.getContext(V-1)),k,M))}),_.display){for(d.save(),C=M-1;C>=0;C--){const R=_.setContext(this.getPointLabelContext(C)),{color:V,lineWidth:F}=R;F&&V&&(d.lineWidth=F,d.strokeStyle=V,d.setLineDash(R.borderDash),d.lineDashOffset=R.borderDashOffset,k=this.getDistanceFromCenterForValue(g.ticks.reverse?this.min:this.max),O=this.getPointPosition(C,k),d.beginPath(),d.moveTo(this.xCenter,this.yCenter),d.lineTo(O.x,O.y),d.stroke())}d.restore()}}drawBorder(){}drawLabels(){const d=this.ctx,g=this.options,_=g.ticks;if(!_.display)return;const w=this.getIndexAngle(0);let M,C;d.save(),d.translate(this.xCenter,this.yCenter),d.rotate(w),d.textAlign="center",d.textBaseline="middle",this.ticks.forEach((k,O)=>{if(0===O&&!g.reverse)return;const R=_.setContext(this.getContext(O)),V=Tt(R.font);if(M=this.getDistanceFromCenterForValue(this.ticks[O].value),R.showLabelBackdrop){d.font=V.string,C=d.measureText(k.label).width,d.fillStyle=R.backdropColor;const F=Ai(R.backdropPadding);d.fillRect(-C/2-F.left,-M-V.size/2-F.top,C+F.width,V.size+F.height)}sn(d,k.label,0,-M,V,{color:R.color})}),d.restore()}drawTitle(){}}Us.id="radialLinear",Us.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:dr.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:x=>x,padding:5,centerPointLabels:!1}},Us.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},Us.descriptors={angleLines:{_fallback:"grid"}};const Tu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ji=Object.keys(Tu);function _c(x,d){return x-d}function po(x,d){if(ie(d))return null;const g=x._adapter,{parser:_,round:w,isoWeekday:M}=x._parseOpts;let C=d;return"function"==typeof _&&(C=_(C)),Lt(C)||(C="string"==typeof _?g.parse(C,_):g.parse(C)),null===C?null:(w&&(C="week"!==w||!xt(M)&&!0!==M?g.startOf(C,w):g.startOf(C,"isoWeek",M)),+C)}function js(x,d,g,_){const w=Ji.length;for(let M=Ji.indexOf(x);M<w-1;++M){const C=Tu[Ji[M]],k=C.steps?C.steps:Number.MAX_SAFE_INTEGER;if(C.common&&Math.ceil((g-d)/(k*C.size))<=_)return Ji[M]}return Ji[w-1]}function bc(x,d,g){if(g){if(g.length){const{lo:_,hi:w}=yt(g,d);x[g[_]>=d?g[_]:g[w]]=!0}}else x[d]=!0}function Vp(x,d,g){const _=[],w={},M=d.length;let C,k;for(C=0;C<M;++C)k=d[C],w[k]=C,_.push({value:k,major:!1});return 0!==M&&g?function(O,R,V,F){const H=O._adapter,U=+H.startOf(R[0].value,F),X=R[R.length-1].value;let $,J;for($=U;$<=X;$=+H.add($,1,F))J=V[$],J>=0&&(R[J].major=!0);return R}(x,_,w,g):_}class Yi extends pr{constructor(d){super(d),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(d,g){const _=d.time||(d.time={}),w=this._adapter=new Xo._date(d.adapters.date);w.init(g),Lr(_.displayFormats,w.formats()),this._parseOpts={parser:_.parser,round:_.round,isoWeekday:_.isoWeekday},super.init(d),this._normalized=g.normalized}parse(d,g){return void 0===d?null:po(this,d)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const d=this.options,g=this._adapter,_=d.time.unit||"day";let{min:w,max:M,minDefined:C,maxDefined:k}=this.getUserBounds();function O(R){C||isNaN(R.min)||(w=Math.min(w,R.min)),k||isNaN(R.max)||(M=Math.max(M,R.max))}C&&k||(O(this._getLabelBounds()),"ticks"===d.bounds&&"labels"===d.ticks.source||O(this.getMinMax(!1))),w=Lt(w)&&!isNaN(w)?w:+g.startOf(Date.now(),_),M=Lt(M)&&!isNaN(M)?M:+g.endOf(Date.now(),_)+1,this.min=Math.min(w,M-1),this.max=Math.max(w+1,M)}_getLabelBounds(){const d=this.getLabelTimestamps();let g=Number.POSITIVE_INFINITY,_=Number.NEGATIVE_INFINITY;return d.length&&(g=d[0],_=d[d.length-1]),{min:g,max:_}}buildTicks(){const d=this.options,g=d.time,_=d.ticks,w="labels"===_.source?this.getLabelTimestamps():this._generate();"ticks"===d.bounds&&w.length&&(this.min=this._userMin||w[0],this.max=this._userMax||w[w.length-1]);const M=this.min,C=kt(w,M,this.max);return this._unit=g.unit||(_.autoSkip?js(g.minUnit,this.min,this.max,this._getLabelCapacity(M)):function(k,O,R,V,F){for(let H=Ji.length-1;H>=Ji.indexOf(R);H--){const U=Ji[H];if(Tu[U].common&&k._adapter.diff(F,V,U)>=O-1)return U}return Ji[R?Ji.indexOf(R):0]}(this,C.length,g.minUnit,this.min,this.max)),this._majorUnit=_.major.enabled&&"year"!==this._unit?function(k){for(let O=Ji.indexOf(k)+1,R=Ji.length;O<R;++O)if(Tu[Ji[O]].common)return Ji[O]}(this._unit):void 0,this.initOffsets(w),d.reverse&&C.reverse(),Vp(this,C,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(d=>+d.value))}initOffsets(d){let g,_,w=0,M=0;this.options.offset&&d.length&&(g=this.getDecimalForValue(d[0]),w=1===d.length?1-g:(this.getDecimalForValue(d[1])-g)/2,_=this.getDecimalForValue(d[d.length-1]),M=1===d.length?_:(_-this.getDecimalForValue(d[d.length-2]))/2);const C=d.length<3?.5:.25;w=Se(w,0,C),M=Se(M,0,C),this._offsets={start:w,end:M,factor:1/(w+1+M)}}_generate(){const d=this._adapter,g=this.min,_=this.max,w=this.options,M=w.time,C=M.unit||js(M.minUnit,g,_,this._getLabelCapacity(g)),k=$e(M.stepSize,1),O="week"===C&&M.isoWeekday,R=xt(O)||!0===O,V={};let F,H,U=g;if(R&&(U=+d.startOf(U,"isoWeek",O)),U=+d.startOf(U,R?"day":C),d.diff(_,g,C)>1e5*k)throw new Error(g+" and "+_+" are too far apart with stepSize of "+k+" "+C);const X="data"===w.ticks.source&&this.getDataTimestamps();for(F=U,H=0;F<_;F=+d.add(F,k,C),H++)bc(V,F,X);return F!==_&&"ticks"!==w.bounds&&1!==H||bc(V,F,X),Object.keys(V).sort(($,J)=>$-J).map($=>+$)}getLabelForValue(d){const _=this.options.time;return this._adapter.format(d,_.tooltipFormat?_.tooltipFormat:_.displayFormats.datetime)}_tickFormatFunction(d,g,_,w){const M=this.options,C=M.time.displayFormats,k=this._unit,O=this._majorUnit,V=O&&C[O],F=_[g],U=this._adapter.format(d,w||(O&&V&&F&&F.major?V:k&&C[k])),X=M.ticks.callback;return X?Qe(X,[U,g,_],this):U}generateTickLabels(d){let g,_,w;for(g=0,_=d.length;g<_;++g)w=d[g],w.label=this._tickFormatFunction(w.value,g,d)}getDecimalForValue(d){return null===d?NaN:(d-this.min)/(this.max-this.min)}getPixelForValue(d){const g=this._offsets,_=this.getDecimalForValue(d);return this.getPixelForDecimal((g.start+_)*g.factor)}getValueForPixel(d){const g=this._offsets,_=this.getDecimalForPixel(d)/g.factor-g.end;return this.min+_*(this.max-this.min)}_getLabelSize(d){const g=this.options.ticks,_=this.ctx.measureText(d).width,w=Xe(this.isHorizontal()?g.maxRotation:g.minRotation),M=Math.cos(w),C=Math.sin(w),k=this._resolveTickFontOptions(0).size;return{w:_*M+k*C,h:_*C+k*M}}_getLabelCapacity(d){const g=this.options.time,_=g.displayFormats,w=_[g.unit]||_.millisecond,M=this._tickFormatFunction(d,0,Vp(this,[d],this._majorUnit),w),C=this._getLabelSize(M),k=Math.floor(this.isHorizontal()?this.width/C.w:this.height/C.h)-1;return k>0?k:1}getDataTimestamps(){let d,g,_=this._cache.data||[];if(_.length)return _;const w=this.getMatchingVisibleMetas();if(this._normalized&&w.length)return this._cache.data=w[0].controller.getAllParsedValues(this);for(d=0,g=w.length;d<g;++d)_=_.concat(w[d].controller.getAllParsedValues(this));return this._cache.data=this.normalize(_)}getLabelTimestamps(){const d=this._cache.labels||[];let g,_;if(d.length)return d;const w=this.getLabels();for(g=0,_=w.length;g<_;++g)d.push(po(this,w[g]));return this._cache.labels=this._normalized?d:this.normalize(d)}normalize(d){return ri(d.sort(_c))}}function Ra(x,d,g){let _,w,M,C,k=0,O=x.length-1;g?(d>=x[k].pos&&d<=x[O].pos&&({lo:k,hi:O}=wt(x,"pos",d)),({pos:_,time:M}=x[k]),({pos:w,time:C}=x[O])):(d>=x[k].time&&d<=x[O].time&&({lo:k,hi:O}=wt(x,"time",d)),({time:_,pos:M}=x[k]),({time:w,pos:C}=x[O]));const R=w-_;return R?M+(C-M)*(d-_)/R:M}Yi.id="time",Yi.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class Zs extends Yi{constructor(d){super(d),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const d=this._getTimestampsForTable(),g=this._table=this.buildLookupTable(d);this._minPos=Ra(g,this.min),this._tableRange=Ra(g,this.max)-this._minPos,super.initOffsets(d)}buildLookupTable(d){const{min:g,max:_}=this,w=[],M=[];let C,k,O,R,V;for(C=0,k=d.length;C<k;++C)R=d[C],R>=g&&R<=_&&w.push(R);if(w.length<2)return[{time:g,pos:0},{time:_,pos:1}];for(C=0,k=w.length;C<k;++C)V=w[C+1],O=w[C-1],R=w[C],Math.round((V+O)/2)!==R&&M.push({time:R,pos:C/(k-1)});return M}_getTimestampsForTable(){let d=this._cache.all||[];if(d.length)return d;const g=this.getDataTimestamps(),_=this.getLabelTimestamps();return d=g.length&&_.length?this.normalize(g.concat(_)):g.length?g:_,d=this._cache.all=d,d}getDecimalForValue(d){return(Ra(this._table,d)-this._minPos)/this._tableRange}getValueForPixel(d){const g=this._offsets,_=this.getDecimalForPixel(d)/g.factor-g.end;return Ra(this._table,_*this._tableRange+this._minPos,!0)}}Zs.id="timeseries",Zs.defaults=Yi.defaults;var Qi=Object.freeze({__proto__:null,CategoryScale:Pa,LinearScale:Su,LogarithmicScale:Xs,RadialLinearScale:Us,TimeScale:Yi,TimeSeriesScale:Zs});return ai.register(Sp,Qi,Fs,Rp),ai.helpers={...am},ai._adapters=Xo,ai.Animation=Jh,ai.Animations=Qh,ai.animator=ze,ai.controllers=Nn.controllers.items,ai.DatasetController=Hi,ai.Element=En,ai.elements=Fs,ai.Interaction=Ql,ai.layouts=Oi,ai.platforms=$h,ai.Scale=pr,ai.Ticks=dr,Object.assign(ai,Sp,Qi,Fs,Rp,$h),ai.Chart=ai,typeof window<"u"&&(window.Chart=ai),ai}),function(){if(!(typeof Prism>"u"||typeof document>"u")){var Re="line-numbers",Ii=/\n(?!$)/g,ie=Prism.plugins.lineNumbers={getLine:function(ut,$e){if("PRE"===ut.tagName&&ut.classList.contains(Re)){var Pt=ut.querySelector(".line-numbers-rows");if(Pt){var Zt=parseInt(ut.getAttribute("data-start"),10)||1,Qe=Zt+(Pt.children.length-1);return $e<Zt&&($e=Zt),$e>Qe&&($e=Qe),Pt.children[$e-Zt]}}},resize:function(ut){At([ut])},assumeViewportIndependence:!0},Lt=void 0;window.addEventListener("resize",function(){ie.assumeViewportIndependence&&Lt===window.innerWidth||(Lt=window.innerWidth,At(Array.prototype.slice.call(document.querySelectorAll("pre."+Re))))}),Prism.hooks.add("complete",function(ut){if(ut.code){var $e=ut.element,Pt=$e.parentNode;if(Pt&&/pre/i.test(Pt.nodeName)&&!$e.querySelector(".line-numbers-rows")&&Prism.util.isActive($e,Re)){$e.classList.remove(Re),Pt.classList.add(Re);var it,Zt=ut.code.match(Ii),si=new Array((Zt?Zt.length+1:1)+1).join("<span></span>");(it=document.createElement("span")).setAttribute("aria-hidden","true"),it.className="line-numbers-rows",it.innerHTML=si,Pt.hasAttribute("data-start")&&(Pt.style.counterReset="linenumber "+(parseInt(Pt.getAttribute("data-start"),10)-1)),ut.element.appendChild(it),At([Pt]),Prism.hooks.run("line-numbers",ut)}}}),Prism.hooks.add("line-numbers",function(ut){ut.plugins=ut.plugins||{},ut.plugins.lineNumbers=!0})}function At(ut){if(0!=(ut=ut.filter(function(Pt){var Zt=function Ee(ut){return ut?window.getComputedStyle?getComputedStyle(ut):ut.currentStyle||null:null}(Pt),Qe=Zt["white-space"];return"pre-wrap"===Qe||"pre-line"===Qe})).length){var $e=ut.map(function(Pt){var Zt=Pt.querySelector("code"),Qe=Pt.querySelector(".line-numbers-rows");if(Zt&&Qe){var it=Pt.querySelector(".line-numbers-sizer"),si=Zt.textContent.split(Ii);it||((it=document.createElement("span")).className="line-numbers-sizer",Zt.appendChild(it)),it.innerHTML="0",it.style.display="block";var Bi=it.getBoundingClientRect().height;return it.innerHTML="",{element:Pt,lines:si,lineHeights:[],oneLinerHeight:Bi,sizer:it}}}).filter(Boolean);$e.forEach(function(Pt){var Zt=Pt.sizer,Qe=Pt.lines,it=Pt.lineHeights,si=Pt.oneLinerHeight;it[Qe.length-1]=void 0,Qe.forEach(function(Bi,Cn){if(Bi&&Bi.length>1){var Xn=Zt.appendChild(document.createElement("span"));Xn.style.display="block",Xn.textContent=Bi}else it[Cn]=si})}),$e.forEach(function(Pt){for(var Zt=Pt.sizer,Qe=Pt.lineHeights,it=0,si=0;si<Qe.length;si++)void 0===Qe[si]&&(Qe[si]=Zt.children[it++].getBoundingClientRect().height)}),$e.forEach(function(Pt){var Zt=Pt.sizer,Qe=Pt.element.querySelector(".line-numbers-rows");Zt.style.display="none",Zt.innerHTML="",Pt.lineHeights.forEach(function(it,si){Qe.children[si].style.height=it+"px"})})}}}(),function(){function Re(se,oe){return(oe||"")+" (SystemJS Error#"+se+" https://github.com/systemjs/systemjs/blob/main/docs/errors.md#"+se+")"}var Lt,Ii=typeof Symbol<"u",ie=typeof self<"u",At=typeof document<"u",Ee=ie?self:global;if(At){var ut=document.querySelector("base[href]");ut&&(Lt=ut.href)}if(!Lt&&typeof location<"u"){var $e=(Lt=location.href.split("#")[0].split("?")[0]).lastIndexOf("/");-1!==$e&&(Lt=Lt.slice(0,$e+1))}var Pt=/\\/g;function Zt(se,oe){if(-1!==se.indexOf("\\")&&(se=se.replace(Pt,"/")),"/"===se[0]&&"/"===se[1])return oe.slice(0,oe.indexOf(":")+1)+se;if("."===se[0]&&("/"===se[1]||"."===se[1]&&("/"===se[2]||2===se.length&&(se+="/"))||1===se.length&&(se+="/"))||"/"===se[0]){var Ie,le=oe.slice(0,oe.indexOf(":")+1);if(Ie="/"===oe[le.length+1]?"file:"!==le?(Ie=oe.slice(le.length+2)).slice(Ie.indexOf("/")+1):oe.slice(8):oe.slice(le.length+("/"===oe[le.length])),"/"===se[0])return oe.slice(0,oe.length-Ie.length-1)+se;for(var Se=Ie.slice(0,Ie.lastIndexOf("/")+1)+se,at=[],bt=-1,yt=0;yt<Se.length;yt++)-1!==bt?"/"===Se[yt]&&(at.push(Se.slice(bt,yt+1)),bt=-1):"."===Se[yt]?"."!==Se[yt+1]||"/"!==Se[yt+2]&&yt+2!==Se.length?"/"===Se[yt+1]||yt+1===Se.length?yt+=1:bt=yt:(at.pop(),yt+=2):bt=yt;return-1!==bt&&at.push(Se.slice(bt)),oe.slice(0,oe.length-Ie.length)+at.join("")}}function Qe(se,oe){return Zt(se,oe)||(-1!==se.indexOf(":")?se:Zt("./"+se,oe))}function it(se,oe,le,Ie,Se){for(var at in se){var bt=Zt(at,le)||at,yt=se[at];if("string"==typeof yt){var wt=kr(Ie,Zt(yt,le)||yt,Se);wt?oe[bt]=wt:Xn("W1",at,yt,"bare specifier did not resolve")}}}function si(se,oe,le){var Ie;for(Ie in se.imports&&it(se.imports,le.imports,oe,le,null),se.scopes||{}){var Se=Qe(Ie,oe);it(se.scopes[Ie],le.scopes[Se]||(le.scopes[Se]={}),oe,le,Se)}for(Ie in se.depcache||{})le.depcache[Qe(Ie,oe)]=se.depcache[Ie];for(Ie in se.integrity||{})le.integrity[Qe(Ie,oe)]=se.integrity[Ie]}function Bi(se,oe){if(oe[se])return se;var le=se.length;do{var Ie=se.slice(0,le+1);if(Ie in oe)return Ie}while(-1!==(le=se.lastIndexOf("/",le-1)))}function Cn(se,oe){var le=Bi(se,oe);if(le){var Ie=oe[le];if(null===Ie)return;if(!(se.length>le.length&&"/"!==Ie[Ie.length-1]))return Ie+se.slice(le.length);Xn("W2",le,Ie,"should have a trailing '/'")}}function Xn(se,oe,le,Ie){console.warn(Re(se,"Package target "+Ie+", resolving target '"+le+"' for "+oe))}function kr(se,oe,le){for(var Ie=se.scopes,Se=le&&Bi(le,Ie);Se;){var at=Cn(oe,Ie[Se]);if(at)return at;Se=Bi(Se.slice(0,Se.lastIndexOf("/")),Ie)}return Cn(oe,se.imports)||-1!==oe.indexOf(":")&&oe}var Lr=Ii&&Symbol.toStringTag,on=Ii?Symbol():"@";function os(){this[on]={}}var Li,Ot=os.prototype;function Io(se){return se.id}function vn(se,oe,le,Ie){if(se.onload(le,oe.id,oe.d&&oe.d.map(Io),!!Ie),le)throw le}function ji(se,oe,le){var Ie=se[on][oe];if(Ie)return Ie;var Se=[],at=Object.create(null);Lr&&Object.defineProperty(at,Lr,{value:"Module"});var bt=Promise.resolve().then(function(){return se.instantiate(oe,le)}).then(function(wt){if(!wt)throw Error(Re(2,"Module "+oe+" did not instantiate"));var kt=wt[1](function Ti(He,ft){Ie.h=!0;var Xt=!1;if("string"==typeof He)(!(He in at)||at[He]!==ft)&&(at[He]=ft,Xt=!0);else{for(var ri in He)ft=He[ri],(!(ri in at)||at[ri]!==ft)&&(at[ri]=ft,Xt=!0);He&&He.__esModule&&(at.__esModule=He.__esModule)}if(Xt)for(var Vt=0;Vt<Se.length;Vt++){var Ut=Se[Vt];Ut&&Ut(at)}return ft},2===wt[1].length?{import:function(He){return se.import(He,oe)},meta:se.createContext(oe)}:void 0);return Ie.e=kt.execute||function(){},[wt[0],kt.setters||[]]},function(wt){throw Ie.e=null,Ie.er=wt,vn(se,Ie,wt,!0),wt}),yt=bt.then(function(wt){return Promise.all(wt[0].map(function(Ti,kt){var He=wt[1][kt];return Promise.resolve(se.resolve(Ti,oe)).then(function(ft){var Xt=ji(se,ft,oe);return Promise.resolve(Xt.I).then(function(){return He&&(Xt.i.push(He),(Xt.h||!Xt.I)&&He(Xt.n)),Xt})})})).then(function(Ti){Ie.d=Ti})});return Ie=se[on][oe]={id:oe,i:Se,n:at,I:bt,L:yt,h:!1,d:void 0,e:void 0,er:void 0,E:void 0,C:void 0,p:void 0}}function Pr(se,oe,le,Ie){if(!Ie[oe.id])return Ie[oe.id]=!0,Promise.resolve(oe.L).then(function(){return(!oe.p||null===oe.p.e)&&(oe.p=le),Promise.all(oe.d.map(function(Se){return Pr(se,Se,le,Ie)}))}).catch(function(Se){throw oe.er||(oe.e=null,vn(se,oe,Se,!1)),Se})}Ot.import=function(se,oe){var le=this;return Promise.resolve(le.prepareImport()).then(function(){return le.resolve(se,oe)}).then(function(Ie){var Se=ji(le,Ie);return Se.C||function Ue(se,oe){return oe.C=Pr(se,oe,oe,{}).then(function(){return Et(se,oe,{})}).then(function(){return oe.n})}(le,Se)})},Ot.createContext=function(se){var oe=this;return{url:se,resolve:function(le,Ie){return Promise.resolve(oe.resolve(le,Ie||se))}}},Ot.onload=function(){},Ot.register=function(se,oe){Li=[se,oe]},Ot.getRegister=function(){var se=Li;return Li=void 0,se};var Be=Object.freeze(Object.create(null));function Et(se,oe,le){if(!le[oe.id]){if(le[oe.id]=!0,!oe.e){if(oe.er)throw oe.er;return oe.E?oe.E:void 0}var Se,Ie=oe.e;return oe.e=null,oe.d.forEach(function(bt){try{var yt=Et(se,bt,le);yt&&(Se=Se||[]).push(yt)}catch(wt){throw oe.er=wt,vn(se,oe,wt,!1),wt}}),Se?Promise.all(Se).then(at):at()}function at(){try{var bt=Ie.call(Be);if(bt)return bt=bt.then(function(){oe.C=oe.n,oe.E=null,vn(se,oe,null,!0)},function(yt){throw oe.er=yt,oe.E=null,vn(se,oe,yt,!0),yt}),oe.E=bt;oe.C=oe.n,oe.L=oe.I=void 0}catch(yt){throw oe.er=yt,yt}finally{vn(se,oe,oe.er,!0)}}}Ee.System=new os;var de=Promise.resolve(),Ve={imports:{},scopes:{},depcache:{},integrity:{}},as=At;function We(){[].forEach.call(document.querySelectorAll("script"),function(se){if(!se.sp)if("systemjs-module"===se.type){if(se.sp=!0,!se.src)return;System.import("import:"===se.src.slice(0,7)?se.src.slice(7):Qe(se.src,Lt)).catch(function(le){if(le.message.indexOf("https://github.com/systemjs/systemjs/blob/main/docs/errors.md#3")>-1){var Ie=document.createEvent("Event");Ie.initEvent("error",!1,!1),se.dispatchEvent(Ie)}return Promise.reject(le)})}else if("systemjs-importmap"===se.type){se.sp=!0;var oe=se.src?(System.fetch||fetch)(se.src,{integrity:se.integrity,passThrough:!0}).then(function(le){if(!le.ok)throw Error("Invalid status code: "+le.status);return le.text()}).catch(function(le){return le.message=Re("W4","Error fetching systemjs-import map "+se.src)+"\n"+le.message,console.warn(le),"function"==typeof se.onerror&&se.onerror(),"{}"}):se.innerHTML;de=de.then(function(){return oe}).then(function(le){!function nr(se,oe,le){var Ie={};try{Ie=JSON.parse(oe)}catch{console.warn(Error(Re("W5","systemjs-importmap contains invalid JSON")+"\n\n"+oe+"\n"))}si(Ie,le,se)}(Ve,le,se.src||Lt)})}})}if(Ot.prepareImport=function(se){return(as||se)&&(We(),as=!1),de},At&&(We(),window.addEventListener("DOMContentLoaded",We)),Ot.addImportMap=function(se,oe){si(se,oe||Lt,Ve)},At){window.addEventListener("error",function(se){xt=se.filename,rr=se.error});var Qt=location.origin}Ot.createScript=function(se){var oe=document.createElement("script");oe.async=!0,se.indexOf(Qt+"/")&&(oe.crossOrigin="anonymous");var le=Ve.integrity[se];return le&&(oe.integrity=le),oe.src=se,oe};var Ft,G,xt,rr,ge={},Zi=Ot.register;Ot.register=function(se,oe){if(At&&"loading"===document.readyState&&"string"!=typeof se){var le=document.querySelectorAll("script[src]"),Ie=le[le.length-1];if(Ie){Ft=se;var Se=this;G=setTimeout(function(){ge[Ie.src]=[se,oe],Se.import(Ie.src)})}}else Ft=void 0;return Zi.call(this,se,oe)},Ot.instantiate=function(se,oe){var le=ge[se];if(le)return delete ge[se],le;var Ie=this;return Promise.resolve(Ot.createScript(se)).then(function(Se){return new Promise(function(at,bt){Se.addEventListener("error",function(){bt(Error(Re(3,"Error loading "+se+(oe?" from "+oe:""))))}),Se.addEventListener("load",function(){if(document.head.removeChild(Se),xt===se)bt(rr);else{var yt=Ie.getRegister(se);yt&&yt[0]===Ft&&clearTimeout(G),at(yt)}}),document.head.appendChild(Se)})})},Ot.shouldFetch=function(){return!1},typeof fetch<"u"&&(Ot.fetch=fetch);var dt=Ot.instantiate,ke=/^(text|application)\/(x-)?javascript(;|$)/;Ot.instantiate=function(se,oe){var le=this;return this.shouldFetch(se)?this.fetch(se,{credentials:"same-origin",integrity:Ve.integrity[se]}).then(function(Ie){if(!Ie.ok)throw Error(Re(7,Ie.status+" "+Ie.statusText+", loading "+se+(oe?" from "+oe:"")));var Se=Ie.headers.get("content-type");if(!Se||!ke.test(Se))throw Error(Re(4,'Unknown Content-Type "'+Se+'", loading '+se+(oe?" from "+oe:"")));return Ie.text().then(function(at){return at.indexOf("//# sourceURL=")<0&&(at+="\n//# sourceURL="+se),(0,eval)(at),le.getRegister(se)})}):dt.apply(this,arguments)},Ot.resolve=function(se,oe){return kr(Ve,Zt(se,oe=oe||Lt)||se,oe)||function Xe(se,oe){throw Error(Re(8,"Unable to resolve bare specifier '"+se+(oe?"' from "+oe:"'")))}(se,oe)};var fe=Ot.instantiate;Ot.instantiate=function(se,oe){var le=Ve.depcache[se];if(le)for(var Ie=0;Ie<le.length;Ie++)ji(this,this.resolve(le[Ie],se),se);return fe.call(this,se,oe)},ie&&"function"==typeof importScripts&&(Ot.instantiate=function(se){var oe=this;return Promise.resolve().then(function(){return importScripts(se),oe.getRegister(se)})}),function(se){var le,Ie,Se,oe=se.System.constructor.prototype,yt=oe.import;oe.import=function(ft,Xt){return function bt(){for(var ft in le=Ie=void 0,se)He(ft)||(le?Ie||(Ie=ft):le=ft,Se=ft)}(),yt.call(this,ft,Xt)};var wt=[[],function(){return{}}],Ti=oe.getRegister;oe.getRegister=function(){var ft=Ti.call(this);if(ft)return ft;var ri,Xt=function at(ft){var ri,Vt,Xt=0;for(var Ut in se)if(!He(Ut)){if(0===Xt&&Ut!==le||1===Xt&&Ut!==Ie)return Ut;ri?(Se=Ut,Vt=ft&&Vt||Ut):ri=Ut===Se,Xt++}return Vt}(this.firstGlobalProp);if(!Xt)return wt;try{ri=se[Xt]}catch{return wt}return[[],function(Vt){return{execute:function(){Vt(ri),Vt({default:ri,__useDefault:!0})}}}]};var kt=typeof navigator<"u"&&-1!==navigator.userAgent.indexOf("Trident");function He(ft){return!se.hasOwnProperty(ft)||!isNaN(ft)&&ft<se.length||kt&&se[ft]&&typeof window<"u"&&se[ft].parent===window}}(typeof self<"u"?self:global),function(se){var oe=se.System.constructor.prototype,le=/^[^#?]+\.(css|html|json|wasm)([?#].*)?$/,Ie=oe.shouldFetch.bind(oe);oe.shouldFetch=function(wt){return Ie(wt)||le.test(wt)};var Se=/^application\/json(;|$)/,at=/^text\/css(;|$)/,bt=/^application\/wasm(;|$)/,yt=oe.fetch;oe.fetch=function(wt,Ti){return yt(wt,Ti).then(function(kt){if(Ti.passThrough||!kt.ok)return kt;var He=kt.headers.get("content-type");return Se.test(He)?kt.json().then(function(ft){return new Response(new Blob(['System.register([],function(e){return{execute:function(){e("default",'+JSON.stringify(ft)+")}}})"],{type:"application/javascript"}))}):at.test(He)?kt.text().then(function(ft){return ft=ft.replace(/url\(\s*(?:(["'])((?:\\.|[^\n\\"'])+)\1|((?:\\.|[^\s,"'()\\])+))\s*\)/g,function(Xt,ri,Vt,Ut){return"url("+ri+Qe(Vt||Ut,wt)+ri+")"}),new Response(new Blob(["System.register([],function(e){return{execute:function(){var s=new CSSStyleSheet();s.replaceSync("+JSON.stringify(ft)+');e("default",s)}}})'],{type:"application/javascript"}))}):bt.test(He)?(WebAssembly.compileStreaming?WebAssembly.compileStreaming(kt):kt.arrayBuffer().then(WebAssembly.compile)).then(function(ft){se.System.wasmModules||(se.System.wasmModules=Object.create(null)),se.System.wasmModules[wt]=ft;var Xt=[],ri=[];return WebAssembly.Module.imports&&WebAssembly.Module.imports(ft).forEach(function(Vt){var Ut=JSON.stringify(Vt.module);-1===Xt.indexOf(Ut)&&(Xt.push(Ut),ri.push("function(m){i["+Ut+"]=m}"))}),new Response(new Blob(["System.register(["+Xt.join(",")+"],function(e){var i={};return{setters:["+ri.join(",")+"],execute:function(){return WebAssembly.instantiate(System.wasmModules["+JSON.stringify(wt)+"],i).then(function(m){e(m.exports)})}}})"],{type:"application/javascript"}))}):kt})}}(typeof self<"u"?self:global);var Ge=typeof Symbol<"u"&&Symbol.toStringTag;Ot.get=function(se){var oe=this[on][se];if(oe&&null===oe.e&&!oe.E)return oe.er?null:oe.n},Ot.set=function(se,oe){try{new URL(se)}catch{console.warn(Error(Re("W3",'"'+se+'" is not a valid URL to set in the module registry')))}var le;Ge&&"Module"===oe[Ge]?le=oe:(le=Object.assign(Object.create(null),oe),Ge&&Object.defineProperty(le,Ge,{value:"Module"}));var Ie=Promise.resolve(le),Se=this[on][se]||(this[on][se]={id:se,i:[],h:!1,d:[],e:null,er:void 0,E:void 0});return!Se.e&&!Se.E&&(Object.assign(Se,{n:le,I:void 0,L:void 0,C:Ie}),le)},Ot.has=function(se){return!!this[on][se]},Ot.delete=function(se){var oe=this[on],le=oe[se];if(!le||le.p&&null!==le.p.e||le.E)return!1;var Ie=le.i;return le.d&&le.d.forEach(function(Se){var at=Se.i.indexOf(le);-1!==at&&Se.i.splice(at,1)}),delete oe[se],function(){var Se=oe[se];if(!Se||!Ie||null!==Se.e||Se.E)return!1;Ie.forEach(function(at){Se.i.push(at),at(Se.n)}),Ie=null}};var De=typeof Symbol<"u"&&Symbol.iterator;Ot.entries=function(){var Ie,Se,se=this,oe=Object.keys(se[on]),le=0,at={next:function(){for(;void 0!==(Se=oe[le++])&&void 0===(Ie=se.get(Se)););return{done:void 0===Se,value:void 0!==Se&&[Se,Ie]}}};return at[De]=function(){return this},at}}();